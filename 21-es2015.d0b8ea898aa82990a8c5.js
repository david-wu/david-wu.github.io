(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"4hvn":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const s={imageClassifiersListVisible:!1,imageClassifiersList:[],selectedImageClassifierId:void 0,imagesByClassifierId:{},imageClassifierViewTab:void 0,isGeneratingTokenByImageClassifier:{},imageClassifierTokensByImageClassifier:{}}},"648H":function(e,t,n){"use strict";var s=n("8Y7J"),o=n("nPNc"),i=n("6TI7"),r=n("+J3Q"),l=n("LvDl"),c=n("5tJd");class a{constructor(){this.filterStr="",this.selectedResourceIdChange=new s.m,this.selectedResourceIdsChange=new s.m,this.resourceIds=new Set,this.fileGroup=c.a.createWithRoot("ROOT"),this.rootFileId="ROOT"}ngOnChanges(e){e.resources&&this.onResourcesChanges(this.resources),e.selectedResourceId&&!this.selectedResourceIds&&(this.resourceIds=this.selectedResourceId?new Set([this.selectedResourceId]):new Set),e.selectedResourceIds&&this.selectedResourceIds&&(this.resourceIds=new Set(this.selectedResourceIds))}onResourcesChanges(e){const t=Object(l.map)(e,e=>({id:e.id,label:e.label||e.id}));this.fileGroup.setRootChildren(t)}onSelectedFileIdsChange(e){this.isMultiSelect&&this.selectedResourceIdsChange.emit(e);const t=Array.from(e||[])[0];this.selectedResourceIdChange.emit(t)}}var u=s.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   dwu-file-explorer[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}"]],data:{}});function d(e){return s.Nb(0,[(e()(),s.sb(0,0,null,null,2,"dwu-file-explorer",[],null,[[null,"filesByIdChange"],[null,"closedFileIdsChange"],[null,"selectedFileIdsChange"]],(function(e,t,n){var s=!0,o=e.component;return"filesByIdChange"===t&&(s=!1!==(o.fileGroup.filesById=n)&&s),"closedFileIdsChange"===t&&(s=!1!==o.fileGroup.setClosedFileIds(n)&&s),"selectedFileIdsChange"===t&&(s=!1!==o.onSelectedFileIdsChange(n)&&s),s}),o.b,o.a)),s.Ib(512,null,i.c,i.c,[[2,i.d]]),s.rb(2,4898816,null,0,r.a,[i.c,s.k],{rootFileId:[0,"rootFileId"],fuzzFilterString:[1,"fuzzFilterString"],filesById:[2,"filesById"],closedFileIds:[3,"closedFileIds"],selectedFileIds:[4,"selectedFileIds"],perfMode:[5,"perfMode"],multiFileSelect:[6,"multiFileSelect"]},{filesByIdChange:"filesByIdChange",closedFileIdsChange:"closedFileIdsChange",selectedFileIdsChange:"selectedFileIdsChange"})],(function(e,t){var n=t.component;e(t,2,0,n.fileGroup.rootFileId,n.filterStr,n.fileGroup.filesById,n.fileGroup.closedFileIds,n.resourceIds,!0,n.isMultiSelect)}),null)}var g=n("SVse");n("Jtcz"),n("DQLy"),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return f}));var C=s.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%}"]],data:{}});function f(e){return s.Nb(0,[(e()(),s.sb(0,0,null,null,2,"dwu-resource-selector",[["class","file-explorer"]],null,[[null,"selectedResourceIdChange"],[null,"selectedResourceIdsChange"]],(function(e,t,n){var s=!0,o=e.component;return"selectedResourceIdChange"===t&&(s=!1!==o.onSelectedImageSourceIdChange(n)&&s),"selectedResourceIdsChange"===t&&(s=!1!==o.onSelectedResourceIdsChange(n)&&s),s}),d,u)),s.rb(1,573440,null,0,a,[],{resources:[0,"resources"],filterStr:[1,"filterStr"],selectedResourceId:[2,"selectedResourceId"],isMultiSelect:[3,"isMultiSelect"],selectedResourceIds:[4,"selectedResourceIds"]},{selectedResourceIdChange:"selectedResourceIdChange",selectedResourceIdsChange:"selectedResourceIdsChange"}),s.Fb(131072,g.b,[s.h])],(function(e,t){var n=t.component;e(t,1,0,s.Mb(t,1,0,s.Db(t,2).transform(n.resourceList$)),n.filterStr,n.selectedResourceId,n.isMultiSelect,n.selectedResourceIds)}),null)}},Jl1S:function(e,t,n){"use strict";n.r(t);var s=n("8Y7J");class o{}var i=n("Vxrp"),r=n("pMnS"),l=n("l0ih"),c=n("iUGO"),a=n("DQLy"),u=n("iInd"),d=n("6+7j"),g=n("sjqh"),C=n("648H"),f=n("Jtcz"),b=n("SVse"),h=n("YZbJ"),O=n("f7YR");class p{constructor(e,t,n){this.store=e,this.router=t,this.activatedRoute=n,this.filterStr="",this.leftSideExpanded=!1,this.imageClassifiersConfig={path:"imageClassifiers"},this.user$=this.store.pipe(Object(a.B)(h.d)),this.selectedImageClassifierId$=this.store.pipe(Object(a.B)(O.c))}ngOnInit(){this.loadInUrlState(this.router.url),this.sub=this.router.events.subscribe(e=>{e instanceof u.d&&this.loadInUrlState(e.url)})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onSelectedImageClassifierIdChange(e){const t=this.router.createUrlTree([e],{relativeTo:this.activatedRoute});this.store.dispatch(O.a.navigateToImageClassifierView({payload:t.toString()}))}loadInUrlState(e){const t=e.split("/"),n=t.indexOf("image-classifiers"),s=n+1,o=t[n+2];this.store.dispatch(O.a.setSelectedImageClassifierId({payload:"intro"===t[s]?void 0:t[s]})),this.store.dispatch(O.a.setImageClassifierViewTab({payload:o}))}}var _=s.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:100%;width:100%}@media screen and (max-width:750px){[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{box-shadow:2px 2px 4px 0 #9d9b99;flex:0 0 auto;height:13.25rem;width:100%;max-width:none;transition:height 50ms}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side.expanded[_ngcontent-%COMP%]{height:75%}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{background-color:#3f4038;color:#fcfcf9;position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:3.5rem;height:1rem;border:1px solid #8a9a5b;border-radius:5px 5px 0 0;text-align:center;display:flex;justify-content:center;cursor:pointer}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon.flipped[_ngcontent-%COMP%]{transform:rotate(180deg)}}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]{flex-direction:column}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{box-shadow:2px 2px 4px 0 #9d9b99;flex:0 0 auto;height:13.25rem;width:100%;max-width:none;transition:height 50ms}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side.expanded[_ngcontent-%COMP%]{height:75%}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{background-color:#3f4038;color:#fcfcf9;position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:3.5rem;height:1rem;border:1px solid #8a9a5b;border-radius:5px 5px 0 0;text-align:center;display:flex;justify-content:center;cursor:pointer}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon[_ngcontent-%COMP%]{font-size:16px}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon.flipped[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{position:relative;flex:1 1 0;overflow:hidden;max-width:27.5%;min-width:20rem}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;position:relative}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]{background-color:#ddd9cf;display:flex;flex-direction:column}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .explorer-title[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;padding-top:.5rem}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .wide-button-container[_ngcontent-%COMP%]{flex:1 1 0}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{background-color:#eae6da;min-width:2rem;padding:.25rem .5rem;font-size:1rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .wide-button[_ngcontent-%COMP%]{flex:1 1 0;background-color:#eae6da;min-width:2rem;padding:.25rem .5rem;font-size:1rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .wide-button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .wide-button.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .wide-button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{flex:0 0 auto;background-color:#eae6da;min-width:2rem;padding:.25rem .5rem;font-size:1rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;height:26px;display:flex;align-items:center}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .icon-button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .file-explorer[_ngcontent-%COMP%]{flex:1 1 0}"]],data:{}});function I(e){return s.Nb(0,[(e()(),s.sb(0,0,null,null,21,"div",[["class","page-container"]],null,null,null,null,null)),(e()(),s.sb(1,0,null,null,17,"div",[["class","left-side"]],[[2,"expanded",null]],null,null,null,null)),(e()(),s.sb(2,0,null,null,11,"div",[["class","control-buttons"]],null,null,null,null,null)),(e()(),s.sb(3,0,null,null,1,"dwu-resource-create-button",[["class","wide-button-container"]],null,null,null,l.b,l.a)),s.rb(4,49152,null,0,c.a,[a.n],{resourceConfig:[0,"resourceConfig"],buttonLabel:[1,"buttonLabel"]},null),(e()(),s.sb(5,0,null,null,8,"div",[["class","icon-button"]],null,[[null,"click"]],(function(e,t,n){var o=!0;return"click"===t&&(o=!1!==s.Db(e,6).onClick()&&o),o}),null,null)),s.rb(6,16384,[[1,4]],0,u.m,[u.l,u.a,[8,null],s.C,s.k],{routerLink:[0,"routerLink"]},null),s.Eb(7,1),s.rb(8,1720320,null,2,u.n,[u.l,s.k,s.C,[2,u.m],[2,u.o]],{routerLinkActive:[0,"routerLinkActive"]},null),s.Jb(603979776,1,{links:1}),s.Jb(603979776,2,{linksWithHrefs:1}),s.Eb(11,1),(e()(),s.sb(12,0,null,null,1,"span",[["class","material-icons"]],null,null,null,null,null)),(e()(),s.Lb(-1,null,["help"])),(e()(),s.sb(14,0,null,null,1,"dwu-search-input",[],null,[[null,"searchTextChange"]],(function(e,t,n){var s=!0;return"searchTextChange"===t&&(s=!1!==(e.component.filterStr=n)&&s),s}),d.b,d.a)),s.rb(15,49152,null,0,g.a,[],{searchText:[0,"searchText"],placeholder:[1,"placeholder"]},{searchTextChange:"searchTextChange"}),(e()(),s.sb(16,0,null,null,2,"dwu-resource-list-view",[],null,[[null,"selectedResourceIdChange"]],(function(e,t,n){var s=!0;return"selectedResourceIdChange"===t&&(s=!1!==e.component.onSelectedImageClassifierIdChange(n)&&s),s}),C.b,C.a)),s.rb(17,704512,null,0,f.a,[a.n],{resourceConfig:[0,"resourceConfig"],filterStr:[1,"filterStr"],selectedResourceId:[2,"selectedResourceId"]},{selectedResourceIdChange:"selectedResourceIdChange"}),s.Fb(131072,b.b,[s.h]),(e()(),s.sb(19,0,null,null,2,"div",[["class","right-side"]],null,null,null,null,null)),(e()(),s.sb(20,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),s.rb(21,212992,null,0,u.q,[u.b,s.O,s.j,[8,null],s.h],null,null)],(function(e,t){var n=t.component;e(t,4,0,n.imageClassifiersConfig,"+ New Classifier");var o=e(t,7,0,"intro");e(t,6,0,o);var i=e(t,11,0,"active");e(t,8,0,i),e(t,15,0,n.filterStr,"search.."),e(t,17,0,n.imageClassifiersConfig,n.filterStr,s.Mb(t,17,2,s.Db(t,18).transform(n.selectedImageClassifierId$))),e(t,21,0)}),(function(e,t){e(t,1,0,t.component.leftSideExpanded)}))}function m(e){return s.Nb(0,[(e()(),s.Lb(-1,null,[" login\n"]))],null,null)}function M(e){return s.Nb(0,[(e()(),s.hb(16777216,null,null,2,null,I)),s.rb(1,16384,null,0,b.m,[s.O,s.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),s.Fb(131072,b.b,[s.h]),(e()(),s.hb(0,[["loginTemplate",2]],null,0,null,m))],(function(e,t){var n=t.component;e(t,1,0,s.Mb(t,1,0,s.Db(t,2).transform(n.user$)),s.Db(t,3))}),null)}function P(e){return s.Nb(0,[(e()(),s.sb(0,0,null,null,1,"dwu-image-classifiers",[],null,null,null,M,_)),s.rb(1,245760,null,0,p,[a.n,u.l,u.a],null,null)],(function(e,t){e(t,1,0)}),null)}var v=s.ob("dwu-image-classifiers",p,P,{},{},[]),S=n("PTyj"),R=n("s7LF"),w=n("0gVX"),j=n("trGy"),x=n("Z2Br"),A=n("xpxz"),E=n("mrSG");class y{constructor(e,t,n,s){this.firestore=e,this.storage=t,this.imageProcessing=n,this.exifService=s}deleteFile(e){return E.a(this,void 0,void 0,(function*(){return yield this.storage.deleteFile(e),yield this.firestore.unregisterFile(e)}))}uploadImageClassifierFile(e,t,n){return E.a(this,void 0,void 0,(function*(){const s=yield this.exifService.getExifData(e),o=this.exifService.getLocationData(s),i={userId:t.uid,fileName:e.name,isUploaded:!1,sourceId:n,locationData:Object.assign({},o)},r=yield this.firestore.insertUploadDoc(i),l=Object.assign({},i,{id:r.id}),c=yield this.imageProcessing.processImageFile(e,s),a=yield this.storage.uploadFile(c,l.id),u={downloadUrl:yield a.ref.getDownloadURL()};return yield this.firestore.registerFileUploaded(l.id,u)}))}updateImageClassifier(e,t){return this.firestore.db.collection("imageClassifiers").doc(e).update(t)}}var F=n("GrFz"),L=n("cxyc"),B=n("YDhq"),T=n("aLj4"),k=n("7bNT"),G=n("5a0h"),D=n("ntSj"),U=n("O0RR"),Y=n("FE7n"),z=n("Rkte"),V=n("mRcA"),N=n("R7F0"),J=n("a6Df"),$=n("6TI7"),Q=n("IP0z"),q=n("/HVE"),W=n("hOhj"),X=n("FdjG"),H=n("mzR0"),K=n("Wu5v"),Z=n("R3e+");const ee=()=>n.e(28).then(n.bind(null,"1dPW")).then(e=>e.ImageClassifiersIntroModuleNgFactory),te=()=>n.e(34).then(n.bind(null,"xGFz")).then(e=>e.ImageClassifierViewModuleNgFactory);class ne{}var se=n("3A+F"),oe=n("jG/M"),ie=n("cJmQ"),re=n("W61y");n.d(t,"ImageClassifiersModuleNgFactory",(function(){return le}));var le=s.pb(o,[],(function(e){return s.Ab([s.Bb(512,s.j,s.ab,[[8,[i.a,r.a,v,S.b]],[3,s.j],s.v]),s.Bb(4608,b.o,b.n,[s.s,[2,b.A]]),s.Bb(4608,R.r,R.r,[]),s.Bb(135680,w.a,w.a,[s.j,s.g,s.p]),s.Bb(4608,j.a,j.a,[x.a]),s.Bb(4608,A.a,A.a,[x.a]),s.Bb(4608,y,y,[A.a,F.a,L.a,B.a]),s.Bb(4608,T.a,T.a,[a.n,k.a,A.a,y,u.l,G.a]),s.Bb(1073742336,b.c,b.c,[]),s.Bb(1073742336,R.q,R.q,[]),s.Bb(1073742336,R.h,R.h,[]),s.Bb(1073742336,D.a,D.a,[]),s.Bb(1073742336,U.a,U.a,[]),s.Bb(1073742336,Y.a,Y.a,[]),s.Bb(1073742336,z.a,z.a,[]),s.Bb(1073742336,V.a,V.a,[]),s.Bb(1073742336,N.a,N.a,[]),s.Bb(1073742336,J.a,J.a,[]),s.Bb(1073742336,$.b,$.b,[]),s.Bb(1073742336,Q.a,Q.a,[]),s.Bb(1073742336,q.b,q.b,[]),s.Bb(1073742336,W.h,W.h,[]),s.Bb(1073742336,X.a,X.a,[]),s.Bb(1073742336,H.a,H.a,[]),s.Bb(1073742336,K.a,K.a,[]),s.Bb(1073742336,Z.a,Z.a,[]),s.Bb(1073742336,u.p,u.p,[[2,u.u],[2,u.l]]),s.Bb(1073742336,ne,ne,[]),s.Bb(1073742336,se.a,se.a,[]),s.Bb(1073742336,oe.a,oe.a,[]),s.Bb(1024,a.O,(function(){return[{}]}),[]),s.Bb(1024,a.j,(function(){return[{key:"imageClassifiers",reducerFactory:a.s,metaReducers:[],initialState:void 0}]}),[]),s.Bb(1024,a.P,a.W,[s.p,a.O,a.j]),s.Bb(1024,a.N,(function(){return[ie.a]}),[]),s.Bb(1024,a.Q,(function(e){return[e]}),[a.N]),s.Bb(1024,a.b,(function(e,t,n){return[a.X(e,t,n)]}),[s.p,a.N,a.Q]),s.Bb(1024,a.U,(function(e){return[a.H(e)]}),[a.T]),s.Bb(1073873408,a.o,a.o,[a.P,a.b,a.g,a.p,[2,a.U]]),s.Bb(1024,k.p,(function(){return[[T.a]]}),[]),s.Bb(1024,k.g,(function(){return[[]]}),[]),s.Bb(1024,k.q,(function(e,t,n){return[k.k(e,t,n)]}),[s.p,k.p,k.g]),s.Bb(1073742336,k.d,k.d,[k.e,k.q,[2,a.p],[2,a.o]]),s.Bb(1073742336,o,o,[]),s.Bb(1024,u.j,(function(){return[[{path:"",component:p,children:[{path:"intro",loadChildren:ee},{path:":imageClassifierId",loadChildren:te},{path:"",pathMatch:"full",redirectTo:"intro"}]}],[{path:"auth",component:re.a},{path:"auth-success",component:re.a}]]}),[])])}))},Jtcz:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("8Y7J"),o=n("2Vo4"),i=n("eIep"),r=n("lJxs"),l=n("DQLy"),c=n("RrDs");class a{constructor(e){this.store=e,this.filterStr="",this.selectedResourceIdChange=new s.m,this.selectedResourceIdsChange=new s.m,this.resourceConfig$=new o.a(void 0),this.resourceList$=this.resourceConfig$.pipe(Object(i.a)(e=>this.store.pipe(Object(l.B)(c.b),Object(r.a)(t=>t&&t[e.path]))))}ngOnChanges(e){if(e.resourceConfig){this.resourceConfig$.next(this.resourceConfig);const{currentValue:t,previousValue:n}=e.resourceConfig;t&&this.store.dispatch(c.a.addVisibleResourceList({resource:t})),n&&this.store.dispatch(c.a.removeVisibleResourceList({resource:n}))}}ngOnDestroy(){this.resourceConfig&&this.store.dispatch(c.a.removeVisibleResourceList({resource:this.resourceConfig}))}onSelectedImageSourceIdChange(e){this.selectedResourceIdChange.emit(e)}onSelectedResourceIdsChange(e){this.selectedResourceIdsChange.emit(e)}}},"R3e+":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{}},RrDs:function(e,t,n){"use strict";var s=n("yLDM");n.d(t,"a",(function(){return s.a})),n("dW0t"),n("dYoV");var o=n("rUW/");n.d(t,"b",(function(){return o.a})),n("iKuT")},Wu5v:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{}},YXSf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("DQLy");let o=(()=>{class e{}return e.CATEGORY="[IMAGE_CLASSIFIERS]",e.setSelectedImageClassifierId=Object(s.u)(e.CATEGORY+" SET_SELECTED_IMAGE_CLASSIFIER_ID",Object(s.A)()),e.loadImagesByClassifierId=Object(s.u)(e.CATEGORY+" LOAD_IMAGES_BY_CLASSIFIER_ID",Object(s.A)()),e.addImagesByClassifierId=Object(s.u)(e.CATEGORY+" ADD_IMAGES_BY_CLASSIFIER_ID",Object(s.A)()),e.uploadImageClassifierFile=Object(s.u)(e.CATEGORY+" UPLOAD_IMAGE_CLASSIFIER_FILE",Object(s.A)()),e.uploadImageClassifierFileSuccess=Object(s.u)(e.CATEGORY+" UPLOAD_IMAGE_CLASSIFIER_FILE_SUCCESS",Object(s.A)()),e.uploadImageClassifierFileFailure=Object(s.u)(e.CATEGORY+" UPLOAD_IMAGE_CLASSIFIER_FILE_FAILURE",Object(s.A)()),e.deleteUpload=Object(s.u)(e.CATEGORY+" DELETE_UPLOAD",Object(s.A)()),e.deleteUploadSuccess=Object(s.u)(e.CATEGORY+" DELETE_UPLOAD_SUCCESS",Object(s.A)()),e.deleteUploadFailure=Object(s.u)(e.CATEGORY+" DELETE_UPLOAD_FAILURE",Object(s.A)()),e.setImageClassifierViewTab=Object(s.u)(e.CATEGORY+" SET_IMAGE_CLASSIFIER_VIEW_TAB",Object(s.A)()),e.navigateToImageClassifierView=Object(s.u)(e.CATEGORY+" NAVIGATE_TO_IMAGE_CLASSIFIER_VIEW",Object(s.A)()),e.updateImageClassifier=Object(s.u)(e.CATEGORY+" UPDATE_IMAGE_CLASSIFIER",Object(s.A)()),e.updateImageClassifierSuccess=Object(s.u)(e.CATEGORY+" UPDATE_IMAGE_CLASSIFIER_SUCCESS",Object(s.A)()),e.updateImageClassifierFailure=Object(s.u)(e.CATEGORY+" UPDATE_IMAGE_CLASSIFIER_FAILURE",Object(s.A)()),e.loadImageClassifierTokens=Object(s.u)(e.CATEGORY+" LOAD_IMAGE_CLASSIFIER_TOKENS",Object(s.A)()),e.loadImageClassifierTokensSuccess=Object(s.u)(e.CATEGORY+" LOAD_IMAGE_CLASSIFIER_TOKENS_SUCCESS",Object(s.A)()),e.loadImageClassifierTokensFailure=Object(s.u)(e.CATEGORY+" LOAD_IMAGE_CLASSIFIER_TOKENS_FAILURE",Object(s.A)()),e})()},aLj4:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n("7bNT"),o=n("DQLy"),i=n("Cfvw"),r=n("zp1y"),l=n("lJxs"),c=n("eIep"),a=n("YXSf"),u=n("uw3G");class d{constructor(e,t,n,d,g,C){this.store$=e,this.actions$=t,this.firestore=n,this.imageClassifiersService=d,this.router=g,this.ppService=C,this.navigateToImageClassifierView$=Object(s.h)(()=>this.actions$.pipe(Object(s.j)(a.a.navigateToImageClassifierView),Object(r.a)(this.store$.pipe(Object(o.B)(u.a))),Object(l.a)(([e,t])=>this.router.navigate([e.payload,...t?[t]:[]]))),{dispatch:!1}),this.updateImageClassifier$=Object(s.h)(()=>this.actions$.pipe(Object(s.j)(a.a.updateImageClassifier),Object(c.a)(e=>{const{imageClassifierId:t,patch:n}=e;return Object(i.a)(this.imageClassifiersService.updateImageClassifier(t,n)).pipe(Object(l.a)(e=>a.a.updateImageClassifierSuccess({imageClassifierId:t,patch:n})))})))}}},cJmQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var s=n("DQLy"),o=n("YXSf"),i=n("4hvn");const r=Object(s.w)(i.a,Object(s.z)(o.a.setSelectedImageClassifierId,(e,t)=>Object.assign({},e,{selectedImageClassifierId:t.payload})),Object(s.z)(o.a.addImagesByClassifierId,(e,t)=>Object.assign({},e,{imagesByClassifierId:Object.assign({},e,t.payload)})),Object(s.z)(o.a.setImageClassifierViewTab,(e,t)=>Object.assign({},e,{imageClassifierViewTab:t.payload})),Object(s.z)(o.a.loadImageClassifierTokensSuccess,(e,t)=>Object.assign({},e,{imageClassifierTokensByImageClassifier:Object.assign({},e.imageClassifierTokensByImageClassifier,{[t.imageClassifierId]:t.imageClassifierTokens})})));function l(e,t){return r(e,t)}},f7YR:function(e,t,n){"use strict";var s=n("YXSf");n.d(t,"a",(function(){return s.a})),n("aLj4"),n("cJmQ");var o=n("uw3G");n.d(t,"b",(function(){return o.b})),n.d(t,"c",(function(){return o.c})),n("4hvn")},iUGO:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("RrDs");class o{constructor(e){this.store=e,this.buttonLabel="++"}onCreateResource(){this.store.dispatch(s.a.createResourceDoc({resource:this.resourceConfig,patch:{}}))}}},l0ih:function(e,t,n){"use strict";var s=n("8Y7J");n("iUGO"),n("DQLy"),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o=s.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .wide-button[_ngcontent-%COMP%]{background-color:#eae6da;min-width:2rem;padding:.25rem .5rem;font-size:1rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none}[_nghost-%COMP%]   .wide-button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .wide-button.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .wide-button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}"]],data:{}});function i(e){return s.Nb(0,[(e()(),s.sb(0,0,null,null,1,"div",[["class","wide-button"]],null,[[null,"click"]],(function(e,t,n){var s=!0;return"click"===t&&(s=!1!==e.component.onCreateResource()&&s),s}),null,null)),(e()(),s.Lb(1,null,[" ","\n"]))],null,(function(e,t){e(t,1,0,t.component.buttonLabel)}))}},mzR0:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));class s{}},uw3G:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var s=n("DQLy"),o=n("LvDl"),i=n("RrDs");const r=Object(s.v)("imageClassifiers"),l=(Object(s.y)(r,e=>e.imageClassifiersListVisible),Object(s.y)(r,e=>e.imageClassifiersList),Object(s.y)(i.b,e=>Object(o.keyBy)(e.imageClassifiers,"id"))),c=Object(s.y)(r,e=>e.selectedImageClassifierId),a=Object(s.y)(l,c,(e,t)=>e[t]),u=(Object(s.y)(r,e=>e.imagesByClassifierId),Object(s.y)(r,e=>e.imageClassifierViewTab)),d=Object(s.y)(r,e=>e.isGeneratingTokenByImageClassifier);Object(s.y)(c,d,(e,t)=>t[e]),Object(s.y)(r,e=>e.imageClassifierTokensByImageClassifier)}}]);