(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{d1UT:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),i=function(){return function(){}}(),u=e("Vxrp"),o=e("pMnS"),c=e("Ip0R"),r=e("mrSG"),a=e("LvDl"),s=function(){function n(){this.state=[]}return n.createBlank=function(){return Object.assign(new n,{state:Object(a.cloneDeep)(n.initial)})},n.createFromState=function(l){return Object.assign(new n,{state:l})},n.checkBoardState=function(l){for(var e=0;e<n.winStates.length;e++)for(var t=n.winStates[e],i=l[t[0][0]][t[0][1]],u=(Object(a.last)(i),1);u<t.length;u++){var o=l[t[u][0]][t[u][1]],c=Object(a.last)(o);if(!c||c.player!==o.player)break;if(2===u)return c.player}},n.prototype.checkBoardState=function(){for(var l=0;l<n.winStates.length;l++)for(var e=n.winStates[l],t=this.state[e[0][0]][e[0][1]],i=(Object(a.last)(t),1);i<e.length;i++){var u=this.state[e[i][0]][e[i][1]],o=Object(a.last)(u);if(!o||o.player!==u.player)break;if(2===i)return o.player}},n.initial=[[[],[],[],[]],[[],[],[],[]],[[],[],[],[]],[[],[],[],[]]],n.winStates=[[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]],n}(),p=function(){function n(){this.player=void 0,this.value=0}return n.createEmpty=function(){return Object.assign(new n,{player:void 0,value:0})},n}(),d=function(){function n(){this.isP1Turn=!0,this.resetGame()}return n.prototype.resetGame=function(){var n=[3,3,2,2,2,1,1,1];this.board=s.createBlank(),this.p1Pieces=this.getPlayerPieces("p1",n),this.p2Pieces=this.getPlayerPieces("p2",n),this.isP1Turn=!0},n.prototype.makeMove=function(n,l,e){this.removePiece(e),this.board.state[n][l].push(e),this.isP1Turn=!this.isP1Turn},n.prototype.removePiece=function(n){for(var l=0;l<this.p1Pieces.length;l++)if(this.p1Pieces[l]===n)return void(this.p1Pieces=this.p1Pieces.filter((function(l){return l!==n})));for(l=0;l<this.p2Pieces.length;l++)if(this.p2Pieces[l]===n)return void(this.p2Pieces=this.p2Pieces.filter((function(l){return l!==n})))},n.prototype.checkNextMove=function(n,l,e,t,i){void 0===i&&(i=0);var u=s.checkBoardState(n);if("p1"===u)return[{}];if("p2"===u)return[];if(i>3)return[];for(var o=l?e:t,c=[],p=0;p<n.length;p++)for(var d=n[p],b=0;b<d.length;b++)for(var g=d[b],h=Object(a.last)(g),f=0;f<o.length;f++){var P=o[f];if(!h||P.value>h.value){var v=r.__spread(o.slice(0,f),o.slice(f+1)),m=r.__spread(n);m[p]=r.__spread(n[p]),m[p][b]=P,l?this.checkNextMove(m,!1,v,t,i+1).length&&c.push([p,b,P]):this.checkNextMove(m,!0,e,v,i+1)}}return c},n.prototype.getPlayerPieces=function(n,l){return l.map((function(l){return Object.assign(new p,{player:n,value:l})}))},n.prototype.getValidMoves=function(n){for(var l={},e=0;e<this.board.state.length;e++)for(var t=this.board.state[e],i=0;i<t.length;i++){var u=t[i],o=Object(a.last)(u);(!o||n.value>o.value)&&(l[e]=l[e]||[],l[e][i]=!0)}return l},n}(),b=function(){return function(){}}(),g=t.qb({encapsulation:0,styles:[[".piece-container[_ngcontent-%COMP%]{width:50px;height:50px;position:relative}.piece-container[_ngcontent-%COMP%]   .piece[_ngcontent-%COMP%]{border-radius:50%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);opacity:.8}.piece-container[_ngcontent-%COMP%]   .piece.held[_ngcontent-%COMP%]{border:2px solid #000}.piece-container[_ngcontent-%COMP%]   .piece.size-1[_ngcontent-%COMP%]{height:35%;width:35%}.piece-container[_ngcontent-%COMP%]   .piece.size-2[_ngcontent-%COMP%]{height:50%;width:50%}.piece-container[_ngcontent-%COMP%]   .piece.size-3[_ngcontent-%COMP%]{height:65%;width:65%}.piece-container[_ngcontent-%COMP%]   .piece.size-4[_ngcontent-%COMP%]{height:80%;width:80%}.piece-container[_ngcontent-%COMP%]   .piece.p1[_ngcontent-%COMP%]{background-color:#00f}.piece-container[_ngcontent-%COMP%]   .piece.p2[_ngcontent-%COMP%]{background-color:red}"]],data:{}});function h(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,3,"div",[["class","piece-container"]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,2,"div",[["class","piece"]],[[2,"held",null],[2,"p1",null],[2,"p2",null]],null,null,null,null)),t.Ib(512,null,c.x,c.y,[t.r,t.s,t.k,t.D]),t.rb(3,278528,null,0,c.k,[c.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(n,l){n(l,3,0,"piece","size-"+l.component.piece.value)}),(function(n,l){var e=l.component;n(l,1,0,e.heldPiece===e.piece,"p1"===e.piece.player,"p2"===e.piece.player)}))}var f=function(){function n(){this.validMoves={},this.gblGame=new d}return n.prototype.resetGame=function(){this.holdPiece(void 0),this.gblGame.resetGame()},n.prototype.makeMove=function(n,l){this.heldPiece&&(this.validMoves[n]&&this.validMoves[n][l]?(this.gblGame.makeMove(n,l,this.heldPiece),this.holdPiece(void 0)):this.holdPiece(void 0))},n.prototype.holdPiece=function(n){n&&n.player!==(this.gblGame.isP1Turn?"p1":"p2")||(this.heldPiece=n===this.heldPiece?void 0:n,this.validMoves=this.heldPiece?this.gblGame.getValidMoves(n):{})},n}(),P=t.qb({encapsulation:0,styles:[[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.game-container[_ngcontent-%COMP%]   .game-body[_ngcontent-%COMP%], .game-container[_ngcontent-%COMP%]   .game-body[_ngcontent-%COMP%]   .side-bar[_ngcontent-%COMP%]{display:flex}.board-container[_ngcontent-%COMP%]{height:400px;width:400px}.board-container[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;border:1px solid #eae6da}.board-container[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex:1 0 0}.board-container[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{flex:1 0 0;border:1px solid #eae6da;position:relative}.board-container[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell.valid-move[_ngcontent-%COMP%]{background-color:rgba(138,154,91,.35)}.board-container[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]   dwu-gbl-piece[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.pieces-container[_ngcontent-%COMP%]   .pieces[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}"]],data:{}});function v(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-gbl-piece",[],null,null,null,h,g)),t.rb(1,49152,null,0,b,[],{piece:[0,"piece"],heldPiece:[1,"heldPiece"]},null)],(function(n,l){n(l,1,0,l.context.$implicit,l.component.heldPiece)}),null)}function m(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"div",[["class","cell"]],[[2,"valid-move",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.makeMove(n.parent.context.index,n.context.index)&&t),t}),null,null)),(n()(),t.hb(16777216,null,null,1,null,v)),t.rb(2,278528,null,0,c.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.context.$implicit)}),(function(n,l){var e=l.component;n(l,0,0,e.validMoves[l.parent.context.index]&&e.validMoves[l.parent.context.index][l.context.index])}))}function O(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,m)),t.rb(2,278528,null,0,c.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.context.$implicit)}),null)}function M(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"div",[["class","board"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,O)),t.rb(2,278528,null,0,c.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.context.ngIf.state)}),null)}function _(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-gbl-piece",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.holdPiece(n.context.$implicit)&&t),t}),h,g)),t.rb(1,49152,null,0,b,[],{piece:[0,"piece"],heldPiece:[1,"heldPiece"]},null)],(function(n,l){n(l,1,0,l.context.$implicit,l.component.heldPiece)}),null)}function C(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"div",[["class","pieces"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,_)),t.rb(2,278528,null,0,c.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.context.ngIf)}),null)}function x(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-gbl-piece",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.holdPiece(n.context.$implicit)&&t),t}),h,g)),t.rb(1,49152,null,0,b,[],{piece:[0,"piece"],heldPiece:[1,"heldPiece"]},null)],(function(n,l){n(l,1,0,l.context.$implicit,l.component.heldPiece)}),null)}function w(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"div",[["class","pieces"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,x)),t.rb(2,278528,null,0,c.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.context.ngIf)}),null)}function y(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,18,"div",[["class","game-container"]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,6,"div",[["class","game-menu"]],null,null,null,null,null)),(n()(),t.sb(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Lb(3,null,["",""])),(n()(),t.sb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Lb(-1,null,["'s turn"])),(n()(),t.sb(6,0,null,null,1,"button",[],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.resetGame()&&t),t}),null,null)),(n()(),t.Lb(-1,null,["Reset"])),(n()(),t.sb(8,0,null,null,10,"div",[["class","game-body"]],null,null,null,null,null)),(n()(),t.sb(9,0,null,null,2,"div",[["class","board-container"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,M)),t.rb(11,16384,null,0,c.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.sb(12,0,null,null,6,"div",[["class","side-bar"]],null,null,null,null,null)),(n()(),t.sb(13,0,null,null,2,"div",[["class","pieces-container"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,C)),t.rb(15,16384,null,0,c.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.sb(16,0,null,null,2,"div",[["class","pieces-container"]],null,null,null,null,null)),(n()(),t.hb(16777216,null,null,1,null,w)),t.rb(18,16384,null,0,c.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,11,0,e.gblGame.board),n(l,15,0,e.gblGame.p1Pieces),n(l,18,0,e.gblGame.p2Pieces)}),(function(n,l){n(l,3,0,l.component.gblGame.isP1Turn?"p1":"p2")}))}var k=function(){return function(){}}(),G=t.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;padding:1rem 1.25rem}[_nghost-%COMP%]   .demo-container[_ngcontent-%COMP%]{flex:1 1 0;padding-bottom:5rem}[_nghost-%COMP%]   .demo-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .demo-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .demo-container[_ngcontent-%COMP%]   dwu-code-snippet[_ngcontent-%COMP%]{margin:.5rem 1rem;max-width:40rem}[_nghost-%COMP%]   .demo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}"]],data:{}});function B(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t.Lb(-1,null,["Gobbler"])),(n()(),t.sb(2,0,null,null,2,"div",[["class","demo-container"]],null,null,null,null,null)),(n()(),t.sb(3,0,null,null,1,"dwu-gobbler",[],null,null,null,y,P)),t.rb(4,49152,null,0,f,[],null,null)],null,null)}function N(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-gobbler-demo",[],null,null,null,B,G)),t.rb(1,49152,null,0,k,[],null,null)],null,null)}var j=t.ob("dwu-gobbler-demo",k,N,{},{},[]),L=e("0gVX"),F=e("mRcA"),I=e("ZYCi"),S=function(){return function(){}}(),T=e("kxb1"),$=function(){return function(){}}();e.d(l,"GobblerDemoModuleNgFactory",(function(){return z}));var z=t.pb(i,[],(function(n){return t.Ab([t.Bb(512,t.j,t.ab,[[8,[u.a,o.a,j]],[3,t.j],t.w]),t.Bb(4608,c.o,c.n,[t.t,[2,c.A]]),t.Bb(135680,L.a,L.a,[t.j,t.g,t.q]),t.Bb(1073742336,c.c,c.c,[]),t.Bb(1073742336,F.a,F.a,[]),t.Bb(1073742336,I.p,I.p,[[2,I.u],[2,I.l]]),t.Bb(1073742336,S,S,[]),t.Bb(1073742336,T.a,T.a,[]),t.Bb(1073742336,$,$,[]),t.Bb(1073742336,i,i,[]),t.Bb(1024,I.j,(function(){return[[{path:"",component:k},{path:"**",redirectTo:""}]]}),[])])}))}}]);