(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5a0h":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("0/uQ"),o=function(){function t(t,e,n,r){this.firestore=t,this.storage=e,this.imageProcessing=n,this.exifService=r}return t.prototype.getFilesForSource$=function(t){return this.firestore.query((function(e){return e.collection("ppUploads").where("sourceId","==",t).orderBy("updatedAt","desc")}))},t.prototype.getResourceList$=function(t,e){return this.firestore.query((function(n){return n.collection(e.path).where("userId","==",t.uid).orderBy("updatedAt","desc")}))},t.prototype.getResourceDoc$=function(t,e){return this.firestore.queryDoc((function(t){return t.doc(e.path)}))},t.prototype.patchResourceDoc=function(t,e,n){return Object(r.a)(this.firestore.db.doc(e.path).update(n))},t.prototype.createResourceDoc=function(t,e,n){var o=this.firestore.firestoreTimestamp(),i={userId:t.uid,createdAt:o,updatedAt:o};return Object(r.a)(this.firestore.db.collection(e.path).add(i))},t.prototype.getImageSources$=function(t){return this.firestore.query((function(e){return e.collection("imageSources").where("userId","==",t.uid).orderBy("updatedAt","desc")}))},t.prototype.getImageStreams$=function(t){return this.firestore.query((function(e){return e.collection("imageStreams").where("userId","==",t.uid).orderBy("updatedAt","desc")}))},t}()},ISaB:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("CcnG"),o=function(){function t(){this.str="",this.strChange=new r.n,this.placeholder="Enter Text..",this.isEditing=!1,this.editStr=""}return t.prototype.ngOnInit=function(){var t=this;this.stringInput.nativeElement.addEventListener("keydown",(function(e){e&&13===e.keyCode&&t.onSaveEdit()})),this.stringInput.nativeElement.addEventListener("blur",(function(){t.str===t.editStr&&t.onCancelEdit()}))},t.prototype.onEdit=function(){var t=this;this.editStr=this.str||"",this.isEditing=!0,setTimeout((function(){return t.stringInput.nativeElement.select()}))},t.prototype.onCancelEdit=function(){this.isEditing=!1},t.prototype.onSaveEdit=function(){this.str!==this.editStr&&(this.str=this.editStr,this.strChange.emit(this.editStr)),this.isEditing=!1},t.prototype.onStrChange=function(t){this.editStr=t},t.prototype.preventBlur=function(t){t.preventDefault()},t}()},J0zk:function(t,e,n){"use strict";var r=n("qfsr");n.d(e,"a",(function(){return r.a})),n("dNPo"),n("NSPv");var o=n("qDRf");n.d(e,"b",(function(){return o.a})),n.d(e,"c",(function(){return o.c})),n.d(e,"d",(function(){return o.e})),n("S9X5")},UnLV:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return function(){}}()},dW0t:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var r=n("mrSG"),o=n("7bNT"),i=n("yGQT"),c=n("F/XL"),u=n("15JJ"),s=n("9Z1F"),l=n("/PH2"),a=n("psW0"),d=n("67Y/"),p=n("yLDM"),b=n("rUW/"),g=n("YZbJ"),O=function(){return function(t,e,n){var O=this;this.store$=t,this.actions$=e,this.ppService=n,this.addVisibleResourceList$=Object(o.h)((function(){return O.actions$.pipe(Object(o.j)(p.a.addVisibleResourceList),Object(l.a)(O.store$.pipe(Object(i.B)(g.d)),O.store$.pipe(Object(i.B)(b.c))),Object(a.a)((function(t){var e=r.__read(t,3),n=e[0].resource;return 1===e[2][n.path]?O.ppService.getResourceList$(e[1],n).pipe(Object(d.a)((function(t){return p.a.setResourceList({resource:n,list:t})}))):Object(c.a)(p.a.setResourceList({resource:"null",list:[]}))})))})),this.addVisibleResourceDoc$=Object(o.h)((function(){return O.actions$.pipe(Object(o.j)(p.a.addVisibleResourceDoc),Object(l.a)(O.store$.pipe(Object(i.B)(g.d)),O.store$.pipe(Object(i.B)(b.b))),Object(a.a)((function(t){var e=r.__read(t,3),n=e[0].resource;return 1===e[2][n.path]?O.ppService.getResourceDoc$(e[1],n).pipe(Object(d.a)((function(t){return p.a.setResourceDoc({resource:n,doc:t})}))):Object(c.a)(p.a.setResourceDoc({resource:"null",doc:void 0}))})))})),this.patchResourceDoc$=Object(o.h)((function(){return O.actions$.pipe(Object(o.j)(p.a.patchResourceDoc),Object(l.a)(O.store$.pipe(Object(i.B)(g.d))),Object(a.a)((function(t){var e=r.__read(t,2),n=e[0],o=n.resource;return O.ppService.patchResourceDoc(e[1],o,n.patch).pipe(Object(d.a)((function(t){return p.a.patchResourceSuccess({resource:o})})))})))})),this.createResourceDoc$=Object(o.h)((function(){return O.actions$.pipe(Object(o.j)(p.a.createResourceDoc),Object(l.a)(O.store$.pipe(Object(i.B)(g.d))),Object(u.a)((function(t){var e=r.__read(t,2),n=e[0],o=e[1],i=n.resource;return o?O.ppService.createResourceDoc(o,i,n.patch).pipe(Object(d.a)((function(t){return p.a.createResourceDocSuccess({resource:i.path})})),Object(s.a)((function(t){return Object(c.a)(p.a.createResourceDocFailure({resource:i.path}))}))):Object(c.a)(p.a.createResourceDocFailure({resource:i.path}))})))}))}}()},dYoV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("mrSG"),o=n("yGQT"),i=n("yLDM"),c=n("iKuT"),u=Object(o.w)(c.a,Object(o.z)(i.a.addVisibleResourceList,(function(t,e){var n,o=t.visibleResourceListCounts[e.resource.path];return r.__assign({},t,{visibleResourceListCounts:r.__assign({},t.visibleResourceListCounts,(n={},n[e.resource.path]=o?o+1:1,n))})})),Object(o.z)(i.a.removeVisibleResourceList,(function(t,e){var n,o=t.visibleResourceListCounts[e.resource.path];return r.__assign({},t,{visibleResourceListCounts:r.__assign({},t.visibleResourceListCounts,(n={},n[e.resource.path]=o?o-1:0,n))})})),Object(o.z)(i.a.setResourceList,(function(t,e){var n;return r.__assign({},t,{resourceLists:r.__assign({},t.resourceLists,(n={},n[e.resource.path]=e.list,n))})})),Object(o.z)(i.a.addVisibleResourceDoc,(function(t,e){var n,o=t.visibleResourceDocCounts[e.resource.path];return r.__assign({},t,{visibleResourceDocCounts:r.__assign({},t.visibleResourceDocCounts,(n={},n[e.resource.path]=o?o+1:1,n))})})),Object(o.z)(i.a.removeVisibleResourceDoc,(function(t,e){var n,o=t.visibleResourceDocCounts[e.resource.path];return r.__assign({},t,{visibleResourceDocCounts:r.__assign({},t.visibleResourceDocCounts,(n={},n[e.resource.path]=o?o-1:0,n))})})),Object(o.z)(i.a.setResourceDoc,(function(t,e){var n;return r.__assign({},t,{resourceDocs:r.__assign({},t.resourceLists,(n={},n[e.resource.path]=e.doc,n))})})));function s(t,e){return u(t,e)}},iKuT:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={visibleResourceListCounts:{},resourceLists:{},resourceListsLoading:{},visibleResourceDocCounts:{},resourceDocs:{},resourceDocsLoading:{}}},ma4j:function(t,e,n){"use strict";var r=n("CcnG"),o=n("gIcY");n("ISaB"),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var i=r.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-block;margin-left:-.625rem;margin-top:-.25rem}.string-container[_ngcontent-%COMP%]{height:auto;padding:.25rem 0 .25rem .5rem;display:flex;align-items:center;border-radius:.25rem;border:.125rem solid transparent;cursor:pointer}.string-container.editing[_ngcontent-%COMP%], .string-container[_ngcontent-%COMP%]:hover{border-radius:.25rem;border:.125rem solid #8a9a5b}.string-container.editing[_ngcontent-%COMP%]{cursor:default}.string-container[_ngcontent-%COMP%]   .string-text-input-container[_ngcontent-%COMP%]{position:relative;height:100%;flex:0 1 auto}.string-container[_ngcontent-%COMP%]   .string-text-input-container[_ngcontent-%COMP%]   .string-text.space-maker[_ngcontent-%COMP%]{visibility:hidden}.string-container[_ngcontent-%COMP%]   .string-text-input-container[_ngcontent-%COMP%]   .string-text-input[_ngcontent-%COMP%]{border:none;outline:0;font-size:100%;padding:0;overflow:hidden;position:absolute;width:100%;height:100%}.string-container[_ngcontent-%COMP%]   .string-text[_ngcontent-%COMP%]{flex:0 1 auto;text-overflow:ellipsis;overflow:hidden}.string-container[_ngcontent-%COMP%]   .string-text.is-placeholder[_ngcontent-%COMP%]{opacity:.5}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;padding-left:.5rem;padding-right:.25rem}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{height:auto;border:none;padding:.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button.pale[_ngcontent-%COMP%]{opacity:.5}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{font-size:calc(100% - 3px)}.hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function c(t){return r.Nb(0,[r.Jb(402653184,1,{stringInput:0}),r.Jb(402653184,2,{editEl:0}),(t()(),r.sb(2,0,null,null,16,"div",[["class","string-container editing"]],[[2,"hidden",null]],null,null,null,null)),(t()(),r.sb(3,0,null,null,8,"div",[["class","string-text-input-container"]],null,null,null,null,null)),(t()(),r.sb(4,0,[[1,0],["stringInput",1]],null,5,"input",[["autofocus",""],["class","string-text-input"],["spellcheck","false"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var o=!0,i=t.component;return"input"===e&&(o=!1!==r.Db(t,5)._handleInput(n.target.value)&&o),"blur"===e&&(o=!1!==r.Db(t,5).onTouched()&&o),"compositionstart"===e&&(o=!1!==r.Db(t,5)._compositionStart()&&o),"compositionend"===e&&(o=!1!==r.Db(t,5)._compositionEnd(n.target.value)&&o),"ngModelChange"===e&&(o=!1!==i.onStrChange(n)&&o),o}),null,null)),r.rb(5,16384,null,0,o.d,[r.D,r.k,[2,o.a]],null,null),r.Ib(1024,null,o.i,(function(t){return[t]}),[o.d]),r.rb(7,671744,null,0,o.m,[[8,null],[8,null],[8,null],[6,o.i]],{model:[0,"model"]},{update:"ngModelChange"}),r.Ib(2048,null,o.j,null,[o.m]),r.rb(9,16384,null,0,o.k,[[4,o.j]],null,null),(t()(),r.sb(10,0,null,null,1,"div",[["class","string-text space-maker"]],null,null,null,null,null)),(t()(),r.Lb(11,null,["",""])),(t()(),r.sb(12,0,null,null,6,"div",[["class","control-buttons"]],null,null,null,null,null)),(t()(),r.sb(13,0,null,null,2,"div",[["class","control-button"]],null,[[null,"click"],[null,"mousedown"]],(function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.onSaveEdit()&&r),"mousedown"===e&&(r=!1!==o.preventBlur(n)&&r),r}),null,null)),(t()(),r.sb(14,0,null,null,1,"span",[["class","material-icons control-icon"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,[" save "])),(t()(),r.sb(16,0,null,null,2,"div",[["class","control-button"]],null,[[null,"click"],[null,"mousedown"]],(function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.onCancelEdit()&&r),"mousedown"===e&&(r=!1!==o.preventBlur(n)&&r),r}),null,null)),(t()(),r.sb(17,0,null,null,1,"span",[["class","material-icons control-icon"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,[" cancel "])),(t()(),r.sb(19,0,null,null,6,"div",[["class","string-container"]],[[2,"hidden",null]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onEdit()&&r),r}),null,null)),(t()(),r.sb(20,0,null,null,1,"div",[["class","string-text"]],[[2,"is-placeholder",null]],null,null,null,null)),(t()(),r.Lb(21,null,["",""])),(t()(),r.sb(22,0,null,null,3,"div",[["class","control-buttons"]],null,null,null,null,null)),(t()(),r.sb(23,0,null,null,2,"div",[["class","control-button pale"]],null,null,null,null,null)),(t()(),r.sb(24,0,null,null,1,"span",[["class","material-icons control-icon"]],null,null,null,null,null)),(t()(),r.Lb(-1,null,[" create "]))],(function(t,e){t(e,7,0,e.component.editStr)}),(function(t,e){var n=e.component;t(e,2,0,!n.isEditing),t(e,4,0,n.placeholder,r.Db(e,9).ngClassUntouched,r.Db(e,9).ngClassTouched,r.Db(e,9).ngClassPristine,r.Db(e,9).ngClassDirty,r.Db(e,9).ngClassValid,r.Db(e,9).ngClassInvalid,r.Db(e,9).ngClassPending),t(e,11,0,n.editStr||n.placeholder),t(e,19,0,n.isEditing),t(e,20,0,!n.str),t(e,21,0,n.str||n.placeholder)}))}},"rUW/":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n("yGQT"),o=Object(r.v)("picturePiper"),i=Object(r.y)(o,(function(t){return t.visibleResourceListCounts})),c=Object(r.y)(o,(function(t){return t.resourceLists})),u=(Object(r.y)(o,(function(t){return t.resourceListsLoading})),Object(r.y)(o,(function(t){return t.visibleResourceDocCounts})));Object(r.y)(o,(function(t){return t.resourceDocs})),Object(r.y)(o,(function(t){return t.resourceDocsLoading}))},yLDM:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("yGQT"),o=function(){function t(){}return t.CATEGORY="[PICTURE_PIPER]",t.addVisibleResourceList=Object(r.u)(t.CATEGORY+" ADD_VISIBLE_RESOURCE_LIST",Object(r.A)()),t.removeVisibleResourceList=Object(r.u)(t.CATEGORY+" REMOVE_VISIBLE_RESOURCE_LIST",Object(r.A)()),t.setResourceList=Object(r.u)(t.CATEGORY+" SET_RESOURCE_LIST",Object(r.A)()),t.addVisibleResourceDoc=Object(r.u)(t.CATEGORY+" ADD_VISIBLE_RESOURCE_DOC",Object(r.A)()),t.removeVisibleResourceDoc=Object(r.u)(t.CATEGORY+" REMOVE_VISIBLE_RESOURCE_DOC",Object(r.A)()),t.setResourceDoc=Object(r.u)(t.CATEGORY+" SET_RESOURCE_DOC",Object(r.A)()),t.createResourceDoc=Object(r.u)(t.CATEGORY+" CREATE_RESOURCE_DOC",Object(r.A)()),t.createResourceDocSuccess=Object(r.u)(t.CATEGORY+" CREATE_RESOURCE_DOC_SUCCESS",Object(r.A)()),t.createResourceDocFailure=Object(r.u)(t.CATEGORY+" CREATE_RESOURCE_DOC_FAILURE",Object(r.A)()),t.patchResourceDoc=Object(r.u)(t.CATEGORY+" PATCH_RESOURCE_DOC",Object(r.A)()),t.patchResourceSuccess=Object(r.u)(t.CATEGORY+" PATCH_RESOURCE_SUCCESS",Object(r.A)()),t}()}}]);