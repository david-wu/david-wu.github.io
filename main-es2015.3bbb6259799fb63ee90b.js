/*! For license information please see main-es2015.3bbb6259799fb63ee90b.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+OzK":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(t){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkFocus=t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkValidity=t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkDirty=t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.disable=t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.enable=t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.change=t.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},"/6Yf":function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var s=n("qOnz");n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var a=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new s.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=i(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,void 0,n=function(){var t;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=r(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=i(l.value,2),f=h[1];a===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=r(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"0/m4":function(t,e,n){!function(t){"use strict";var e=t.S2={L:{}};e.L.LatLng=function(t,e,n){var r=parseFloat(t,10),i=parseFloat(e,10);if(isNaN(r)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+e+")");return!0!==n&&(r=Math.max(Math.min(r,90),-90),i=(i+180)%360+(i<-180||180===i?180:-180)),{lat:r,lng:i}},e.L.LatLng.DEG_TO_RAD=Math.PI/180,e.L.LatLng.RAD_TO_DEG=180/Math.PI,e.LatLngToXYZ=function(t){var n=e.L.LatLng.DEG_TO_RAD,r=t.lat*n,i=t.lng*n,o=Math.cos(r);return[Math.cos(i)*o,Math.sin(i)*o,Math.sin(r)]},e.XYZToLatLng=function(t){var n=e.L.LatLng.RAD_TO_DEG,r=Math.atan2(t[2],Math.sqrt(t[0]*t[0]+t[1]*t[1])),i=Math.atan2(t[1],t[0]);return e.L.LatLng(r*n,i*n)},e.XYZToFaceUV=function(t){var e=function(t){var e=[Math.abs(t[0]),Math.abs(t[1]),Math.abs(t[2])];return e[0]>e[1]?e[0]>e[2]?0:2:e[1]>e[2]?1:2}(t);return t[e]<0&&(e+=3),[e,function(t,e){var n,r;switch(t){case 0:n=e[1]/e[0],r=e[2]/e[0];break;case 1:n=-e[0]/e[1],r=e[2]/e[1];break;case 2:n=-e[0]/e[2],r=-e[1]/e[2];break;case 3:n=e[2]/e[0],r=e[1]/e[0];break;case 4:n=e[2]/e[1],r=-e[0]/e[1];break;case 5:n=-e[1]/e[2],r=-e[0]/e[2];break;default:throw{error:"Invalid face"}}return[n,r]}(e,t)]},e.FaceUVToXYZ=function(t,e){var n=e[0],r=e[1];switch(t){case 0:return[1,n,r];case 1:return[-n,1,r];case 2:return[-n,-r,1];case 3:return[-1,-r,-n];case 4:return[r,-1,-n];case 5:return[r,n,-1];default:throw{error:"Invalid face"}}};var r=function(t){return t>=.5?1/3*(4*t*t-1):1/3*(1-4*(1-t)*(1-t))};e.STToUV=function(t){return[r(t[0]),r(t[1])]};var i=function(t){return t>=0?.5*Math.sqrt(1+3*t):1-.5*Math.sqrt(1-3*t)};e.UVToST=function(t){return[i(t[0]),i(t[1])]},e.STToIJ=function(t,e){var n=1<<e,r=function(t){var e=Math.floor(t*n);return Math.max(0,Math.min(n-1,e))};return[r(t[0]),r(t[1])]},e.IJToST=function(t,e,n){var r=1<<e;return[(t[0]+n[0])/r,(t[1]+n[1])/r]};var o=function(t,e,n,r){if(0==r){1==n&&(e.x=t-1-e.x,e.y=t-1-e.y);var i=e.x;e.x=e.y,e.y=i}},s=function(t,e,n,r){var i={a:[[0,"d"],[1,"a"],[3,"b"],[2,"a"]],b:[[2,"b"],[1,"b"],[3,"a"],[0,"c"]],c:[[2,"c"],[3,"d"],[1,"c"],[0,"b"]],d:[[0,"a"],[3,"c"],[1,"d"],[2,"d"]]};"number"!=typeof r&&console.warn(new Error("called pointToHilbertQuadList without face value, defaulting to '0'").stack);for(var o=r%2?"d":"a",s=[],a=n-1;a>=0;a--){var u=1<<a,c=i[o][2*(t&u?1:0)+(e&u?1:0)];s.push(c[0]),o=c[1]}return s};e.S2Cell=function(){},e.S2Cell.FromHilbertQuadKey=function(t){var n,r,i,s,a,u,c=t.split("/"),l=parseInt(c[0]),h=c[1],f=h.length,d={x:0,y:0};for(n=f-1;n>=0;n--)r=f-n,s=0,a=0,"1"===(i=h[n])?a=1:"2"===i?(s=1,a=1):"3"===i&&(s=1),u=Math.pow(2,r-1),o(u,d,s,a),d.x+=u*s,d.y+=u*a;if(l%2==1){var p=d.x;d.x=d.y,d.y=p}return e.S2Cell.FromFaceIJ(parseInt(l),[d.x,d.y],r)},e.S2Cell.FromLatLng=function(t,n){if(!t.lat&&0!==t.lat||!t.lng&&0!==t.lng)throw new Error("Pass { lat: lat, lng: lng } to S2.S2Cell.FromLatLng");var r=e.LatLngToXYZ(t),i=e.XYZToFaceUV(r),o=e.UVToST(i[1]),s=e.STToIJ(o,n);return e.S2Cell.FromFaceIJ(i[0],s,n)},e.S2Cell.FromFaceIJ=function(t,n,r){var i=new e.S2Cell;return i.face=t,i.ij=n,i.level=r,i},e.S2Cell.prototype.toString=function(){return"F"+this.face+"ij["+this.ij[0]+","+this.ij[1]+"]@"+this.level},e.S2Cell.prototype.getLatLng=function(){var t=e.IJToST(this.ij,this.level,[.5,.5]),n=e.STToUV(t),r=e.FaceUVToXYZ(this.face,n);return e.XYZToLatLng(r)},e.S2Cell.prototype.getCornerLatLngs=function(){for(var t=[],n=[[0,0],[0,1],[1,1],[1,0]],r=0;r<4;r++){var i=e.IJToST(this.ij,this.level,n[r]),o=e.STToUV(i),s=e.FaceUVToXYZ(this.face,o);t.push(e.XYZToLatLng(s))}return t},e.S2Cell.prototype.getFaceAndQuads=function(){var t=s(this.ij[0],this.ij[1],this.level,this.face);return[this.face,t]},e.S2Cell.prototype.toHilbertQuadkey=function(){var t=s(this.ij[0],this.ij[1],this.level,this.face);return this.face.toString(10)+"/"+t.join("")},e.latLngToNeighborKeys=e.S2Cell.latLngToNeighborKeys=function(t,n,r){return e.S2Cell.FromLatLng({lat:t,lng:n},r).getNeighbors().map((function(t){return t.toHilbertQuadkey()}))},e.S2Cell.prototype.getNeighbors=function(){var t=function(t,n,r){var i=1<<r;if(n[0]>=0&&n[1]>=0&&n[0]<i&&n[1]<i)return e.S2Cell.FromFaceIJ(t,n,r);var o=e.IJToST(n,r,[.5,.5]),s=e.STToUV(o),a=e.FaceUVToXYZ(t,s),u=e.XYZToFaceUV(a);return t=u[0],o=e.UVToST(s=u[1]),n=e.STToIJ(o,r),e.S2Cell.FromFaceIJ(t,n,r)},n=this.face,r=this.ij[0],i=this.ij[1],o=this.level;return[t(n,[r-1,i],o),t(n,[r,i-1],o),t(n,[r+1,i],o),t(n,[r,i+1],o)]},e.FACE_BITS=3,e.MAX_LEVEL=30,e.POS_BITS=2*e.MAX_LEVEL+1,e.facePosLevelToId=e.S2Cell.facePosLevelToId=e.fromFacePosLevel=function(r,i,o){var s,a,u,c=t.dcodeIO&&t.dcodeIO.Long||n("hfgl");for(o||(o=i.length),i.length>o&&(i=i.substr(0,o)),s=c.fromString(r.toString(10),!0,10).toString(2);s.length<e.FACE_BITS;)s="0"+s;for(a=c.fromString(i,!0,4).toString(2);a.length<2*o;)a="0"+a;for(u=s+a,u+="1";u.length<e.FACE_BITS+e.POS_BITS;)u+="0";return c.fromString(u,!0,2).toString(10)},e.keyToId=e.S2Cell.keyToId=e.toId=e.toCellId=e.fromKey=function(t){var n=t.split("/");return e.fromFacePosLevel(n[0],n[1],n[1].length)},e.idToKey=e.S2Cell.idToKey=e.S2Cell.toKey=e.toKey=e.fromId=e.fromCellId=e.S2Cell.toHilbertQuadkey=e.toHilbertQuadkey=function(r){for(var i=t.dcodeIO&&t.dcodeIO.Long||n("hfgl"),o=i.fromString(r,!0,10).toString(2);o.length<e.FACE_BITS+e.POS_BITS;)o="0"+o;for(var s=o.lastIndexOf("1"),a=o.substring(0,3),u=o.substring(3,s),c=u.length/2,l=i.fromString(a,!0,2).toString(10),h=i.fromString(u,!0,2).toString(4);h.length<c;)h="0"+h;return l+"/"+h},e.keyToLatLng=e.S2Cell.keyToLatLng=function(t){return e.S2Cell.FromHilbertQuadKey(t).getLatLng()},e.idToLatLng=e.S2Cell.idToLatLng=function(t){var n=e.idToKey(t);return e.keyToLatLng(n)},e.S2Cell.latLngToKey=e.latLngToKey=e.latLngToQuadkey=function(t,n,r){if(isNaN(r)||r<1||r>30)throw new Error("'level' is not a number between 1 and 30 (but it should be)");return e.S2Cell.FromLatLng({lat:t,lng:n},r).toHilbertQuadkey()},e.stepKey=function(e,r){var i,o=t.dcodeIO&&t.dcodeIO.Long||n("hfgl"),s=e.split("/"),a=s[0],u=s[1].length,c=o.fromString(s[1],!0,4);r>0?i=c.add(Math.abs(r)):r<0&&(i=c.subtract(Math.abs(r)));var l=i.toString(4);for("0"===l&&console.warning(new Error("face/position wrapping is not yet supported"));l.length<u;)l="0"+l;return a+"/"+l},e.S2Cell.prevKey=e.prevKey=function(t){return e.stepKey(t,-1)},e.S2Cell.nextKey=e.nextKey=function(t){return e.stepKey(t,1)}}(t.exports)},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",(function(){return o}));class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"4I5i":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);const i=r},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"611t":function(t,e,n){"use strict";const r="0123456789bcdefghjkmnpqrstuvwxyz";class i{static encode(t,e,n){if(void 0===n){for(let n=1;n<=12;n++){const r=i.encode(t,e,n),o=i.decode(r);if(o.lat==t&&o.lon==e)return r}n=12}if(t=Number(t),e=Number(e),n=Number(n),isNaN(t)||isNaN(e)||isNaN(n))throw new Error("Invalid geohash");let o=0,s=0,a=!0,u="",c=-90,l=90,h=-180,f=180;for(;u.length<n;){if(a){const t=(h+f)/2;e>=t?(o=2*o+1,h=t):(o*=2,f=t)}else{const e=(c+l)/2;t>=e?(o=2*o+1,c=e):(o*=2,l=e)}a=!a,5==++s&&(u+=r.charAt(o),s=0,o=0)}return u}static decode(t){const e=i.bounds(t),n=e.sw.lat,r=e.sw.lon,o=e.ne.lat,s=e.ne.lon;let a=(n+o)/2,u=(r+s)/2;return a=a.toFixed(Math.floor(2-Math.log(o-n)/Math.LN10)),u=u.toFixed(Math.floor(2-Math.log(s-r)/Math.LN10)),{lat:Number(a),lon:Number(u)}}static bounds(t){if(0==t.length)throw new Error("Invalid geohash");t=t.toLowerCase();let e=!0,n=-90,i=90,o=-180,s=180;for(let a=0;a<t.length;a++){const u=t.charAt(a),c=r.indexOf(u);if(-1==c)throw new Error("Invalid geohash");for(let t=4;t>=0;t--){const r=c>>t&1;if(e){const t=(o+s)/2;1==r?o=t:s=t}else{const t=(n+i)/2;1==r?n=t:i=t}e=!e}}return{sw:{lat:n,lon:o},ne:{lat:i,lon:s}}}static adjacent(t,e){if(t=t.toLowerCase(),e=e.toLowerCase(),0==t.length)throw new Error("Invalid geohash");if(-1=="nsew".indexOf(e))throw new Error("Invalid direction");const n=t.slice(-1);let o=t.slice(0,-1);const s=t.length%2;return-1!={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]}[e][s].indexOf(n)&&""!=o&&(o=i.adjacent(o,e)),o+r.charAt({n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]}[e][s].indexOf(n))}static neighbours(t){return{n:i.adjacent(t,"n"),ne:i.adjacent(i.adjacent(t,"n"),"e"),e:i.adjacent(t,"e"),se:i.adjacent(i.adjacent(t,"s"),"e"),s:i.adjacent(t,"s"),sw:i.adjacent(i.adjacent(t,"s"),"w"),w:i.adjacent(t,"w"),nw:i.adjacent(i.adjacent(t,"n"),"w")}}}var o=i,s=n("LvDl"),a=n("0/m4");class u{static fromLatLong(t,e,n={}){const r=o.encode(t,e,12),i=a.S2.latLngToKey(t,e,30),c=Object(s.padStart)(a.S2.keyToId(i),22,"0");return Object.assign(new u,Object.assign({latitude:t,longitude:e,geohash:r,s2Id:c},n))}isEqual(t){return t&&this.latitude===t.latitude&&this.longitude===t.longitude}}n.d(e,"a",(function(){return u}))},"6nsN":function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Ra(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t){return t}function T(t,e,n){this.code=A+t,this.message=e||O[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new T(e.substring(A.length),t.message,t.serverResponse):null}I(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var C,A="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function L(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}C=P("__EID__")?"__EID__":void 0,I(M,Error),M.prototype.name="CustomError",I(D,M),D.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new j((function(){return new q}),(function(t){t.reset()}));function z(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=V(t,e)}function $(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Z(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){J=ht;break t}}J=""}function ft(t){return ut(J,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===St&&e||"",this.b=Et}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===Et?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ta=!0,bt.prototype.sa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Et={},St={};function It(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function xt(t,e){this.a=e===Ot?t:""}function Tt(t){return t instanceof xt&&t.constructor===xt?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=It();return new xt(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?_t(t):encodeURIComponent(String(t))})))}xt.prototype.ta=!0,xt.prototype.sa=function(){return this.a.toString()},xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Rt(t,e){this.a=e===Ut?t:""}function Pt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Rt.prototype.ta=!0,Rt.prototype.sa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Mt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Dt.test(t))t=new Rt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Mt);t=e&&Nt.test(e[1])?new Rt(t,Ut):null}return t}function jt(t){return t instanceof Rt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Ut))}var Ut={},Ft=new Rt("about:invalid#zClosurez",Ut);function Bt(t,e,n){this.a=n===zt?t:""}Bt.prototype.ta=!0,Bt.prototype.sa=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function qt(t,e,n,r){return t=t instanceof Rt?t:jt(t),e=e||a,n=n instanceof bt?_t(n):n||"",e.open(Pt(t),n,r,void 0)}function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Gt[" "]=h;var Wt,Kt,Yt=ft("Opera"),$t=ft("Trident")||ft("MSIE"),Zt=ft("Edge"),Qt=Zt||$t,Xt=ft("Gecko")&&!(ut(J.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Jt=ut(J.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Kt=J,Xt?/rv:([^\);]+)(\)|;)/.exec(Kt):Zt?/Edge\/([\d\.]+)/.exec(Kt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Jt?/WebKit\/(\S+)/.exec(Kt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ne&&(ee=ne?ne[1]:""),$t){var re=te();if(null!=re&&re>parseFloat(ee)){Wt=String(re);break t}}Wt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Wt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var se=a.document&&$t&&(te()||parseInt(Wt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!$t||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}H(s?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){a.setTimeout((function(){throw t}),0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),ye.add(t,e)}var ve=!1,ye=new F;function be(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){me(e)}U(B,t)}ve=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Ne(n,Ee,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,Se,t)}))}catch(r){Ne(this,Se,r)}}var we=0,Ee=2,Se=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new j((function(){return new Ie}),(function(t){t.reset()}));function Te(t,e,n){var r=xe.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof _e)return t;var e=new _e(h);return Ne(e,Ee,t),e}function Ce(t){return new _e((function(e,n){n(t)}))}function Ae(t,e,n){Me(t,e,n,null)||ge(E(e,t))}function Oe(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function Re(t,e){t.b||t.a!=Ee&&t.a!=Se||De(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Te(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Re(t,i),i.a}function Ne(t,e,n){t.a==we&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,De(t),e!=Se||n instanceof Be||function(t,e){t.g=!0,ge((function(){t.g&&Fe.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof _e)return Re(t,Te(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function De(t){t.h||(t.h=!0,ge(t.gc,t))}function Le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Fe.call(null,i)}U(xe,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Te(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);ge((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==we&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Le(r),je(r,o,Se,n)))}e.c=null}else Ne(e,Se,n)}(this,e)}),this)}},t.$c=function(t){this.a=we,Ne(this,Ee,t)},t.ad=function(t){this.a=we,Ne(this,Se,t)},t.gc=function(){for(var t;t=Le(this);)je(this,t,this.a,this.i);this.h=!1};var Fe=me;function Be(t){M.call(this,t)}function ze(){0!=qe&&(Ve[g(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Be,M),Be.prototype.name="cancel";var qe=0,Ve={};function He(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=qe)){var e=g(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ve[e]}}ze.prototype.ya=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},We=!$t||9<=Number(se),Ke=$t&&!oe("9"),Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},I(Ze,$e);var Qe=Ge({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Je,this.wa=this.Qa=!1}function en(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new tn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Xe]?wn(t,e,n,m(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=vn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=gn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Xe]?En(t,e,n,m(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=bn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Xe])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function dn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function gn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function vn(t){return(t=t[sn])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function _n(){ze.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&rn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function xn(t){var e=null;return new _e((function(n,r){-1==(e=In((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}I(_n,ze),_n.prototype[Xe]=!0,_n.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;vt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Sn(s,r,!0,t)&&i}if(i=Sn(s=t.b=n,r,!0,t)&&i,i=Sn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Cn.prototype).X=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Nn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Dn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Nn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Dn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,Wn)),t.b=new Yn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Un(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Fn(t,e,n,r){var i=new Pn(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(zn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Kn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Nn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Dn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Qn(t,e){$n(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Xn(t,e){return $n(t),e=er(t,e),On(t.a.b,e)}function Jn(t,e,n){Qn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),X(n)),t.b+=n.length)}function tr(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(t=Yn.prototype).add=function(t,e){$n(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){$n(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){$n(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=Q(e,this.a.get(er(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,Xn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function ar(){var t=xr();return $t&&!!se&&11==se||/Edge\/\d+/.test(t)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(Lt(t)||Ft)),e.location.href=n}function lr(t){return!!((t=(t||xr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||a.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Er(xr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Lt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:jt(e),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Pt(e),s&&(Qt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Bt(t=(r=It())?r.createHTML(t):t,null,zt),r=s.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new _e((function(e){"complete"==a.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function gr(t){return t=t||xr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function yr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function br(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function _r(){var t=br();return"ReactNative"===t||"Node"===t}var wr="Firefox";function Er(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?wr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ir(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Er(i=xr()):"Worker"===r&&(r=Er(i=xr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function xr(){return a.navigator&&a.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=a.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!a.indexedDB}catch(n){return yr()&&!!a.indexedDB}return!1}function Cr(){return(Ar()||"chrome-extension:"===Or()||gr())&&!_r()&&kr()&&!yr()}function Ar(){return"http:"===Or()||"https:"===Or()}function Or(){return a.location&&a.location.protocol||null}function Rr(t){return!lr(t=t||xr())&&Er(t)!=wr}function Pr(t){return void 0===t?null:nr(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=Er(t=t||xr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xr(),e=br(),this.b=lr(t)||"ReactNative"===e}function Fr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!Tr("fireauth.oauthhelper",a)&&!Tr("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Vr={};function Hr(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Gr.abcd}catch(Kt){qr=!1}function Wr(t,e,n){qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Kr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Yr(t){var e={};return Kr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,$r(t[n]));return e}function Zr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ti]),Wr(this,"displayName",t[Xr]||null);var n=null;t[Jr]&&(n=new Date(t[Jr]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Qr(t){try{var e=new ni(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Jr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Zr.call(this,t),Wr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[ai],r=t[ci],i=t[li];if(t=Qr(t[ui]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,Wr(this,gi,i),Wr(this,mi,$r(e))}I(ni,Zr),ni.prototype.w=function(){var t=ni.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",mi="data",gi="operation";function vi(t){var e=jn(t=Un(t),yi)||null,n=jn(t,bi)||null,r=jn(t,Ei)||null;if(r=r&&Ii[r]||null,!e||!n||!r)throw new T("argument-error",yi+", "+bi+"and "+Ei+" are required in a valid action code URL.");Kr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,_i)||null,languageCode:jn(t,wi)||null,tenantId:jn(t,Si)||null})}var yi="apiKey",bi="oobCode",_i="continueUrl",wi="languageCode",Ei="mode",Si="tenantId",Ii={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function xi(t){try{return new vi(t)}catch(e){return null}}function Ti(t){var e=t[Ri];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"==typeof n){e=n[Mi];var r=n[Pi];if(n=n[Ni],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Di])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Di+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new T("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ci])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ci+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Ci="dynamicLinkDomain",Ai="handleCodeInApp",Oi="iOS",Ri="url",Pi="installApp",Ni="minimumVersion",Mi="packageName",Di="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ji=null;function Ui(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Fi(t){try{return new Ui(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ji){ji={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Vi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hi(t){for(var e in Vi)if(Vi[e].fa==t)return Vi[e];return null}function Gi(t){var e={};e["facebook.com"]=Zi,e["google.com"]=Xi,e["github.com"]=Qi,e["twitter.com"]=Ji;var n=t&&t[Ki];try{if(n)return e[n]?new e[n](t):new $i(t);if(void 0!==t[Wi])return new Yi(t)}catch(r){}return null}var Wi="idToken",Ki="providerId";function Yi(t){var e=t[Ki];if(!e&&t[Wi]){var n=Fi(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function $i(t){Yi.call(this,t),Wr(this,"profile",$r((t=Mr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if($i.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if($i.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Xi(t){if($i.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if($i.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function to(t){var e=Un(t),n=jn(e,"link"),r=jn(Un(n),"link");return e=jn(e,"deep_link_id"),jn(Un(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}I($i,Yi),I(Zi,$i),I(Qi,$i),I(Xi,$i),I(Ji,$i);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[Gs]){var n=Fi(t[Gs]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new T("user-mismatch"):t}))}function so(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ao(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(e){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Qc=e||[],Kr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Hi(t)||{}).Ja||null,this.pb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function mo(t){fo.call(this,t,qi),this.a=[]}function go(){mo.call(this,"facebook.com")}function vo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function yo(){mo.call(this,"github.com")}function bo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function _o(){mo.call(this,"google.com"),this.Ca("profile")}function wo(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function Eo(){fo.call(this,"twitter.com",zi)}function So(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===To.EMAIL_LINK_SIGN_IN_METHOD?To.EMAIL_LINK_SIGN_IN_METHOD:To.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function To(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function ko(t,e){if(!(e=Co(e)))throw new T("argument-error","Invalid email link!");return new Io(t,e.code,To.EMAIL_LINK_SIGN_IN_METHOD)}function Co(t){return(t=xi(t=to(t)))&&t.operation===oi?t:null}function Ao(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new T("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Po(t){try{this.a=t||r.a.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ao({fb:t,eb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return wo(o,n);case"facebook.com":return vo(n);case"github.com":return bo(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new so(e,s):new co(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Do(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function Lo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return ke(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ka=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},so.prototype.ka=function(t){return fa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,da(t,n)},so.prototype.c=function(t,e){return oo(pa(t,ao(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ka=function(t){return fa(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,da(t,n)},co.prototype.c=function(t,e){return oo(pa(t,lo(this)),e)},co.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Jb=mt(t),this},I(po,fo),I(mo,fo),mo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},mo.prototype.Rb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},I(go,mo),Wr(go,"PROVIDER_ID","facebook.com"),Wr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(yo,mo),Wr(yo,"PROVIDER_ID","github.com"),Wr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),I(_o,mo),Wr(_o,"PROVIDER_ID","google.com"),Wr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Eo,fo),Wr(Eo,"PROVIDER_ID","twitter.com"),Wr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ka=function(t){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Ea,{email:this.a,oobCode:this.f}):$a(t,Ha,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Sa,{idToken:e,email:this.a,oobCode:this.f}):$a(t,La,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return oo(this.ka(t),e)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(To,{PROVIDER_ID:"password"}),Kr(To,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(To,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ka=function(t){return t.gb(Ro(this))},Ao.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,$a(t,Wa,n)},Ao.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",oo(t=$a(t,Ka,n),e)},Ao.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.gb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then((function(t){return function(t,e){return $a(t,Ua,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(e){return function(t,e){return $a(t,Fa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return $a(t,Ma,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(Po,{PROVIDER_ID:"phone"}),Kr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Lo.prototype.T=function(){return this.h},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Fo,Bo=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.c)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function qo(t,e,n){T.call(this,t,n),(t=e||{}).Kb&&Wr(this,"email",t.Kb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.$b&&Wr(this,"tenantId",t.$b)}function Vo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Mo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Ho(){}function Go(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function $o(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Qo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}I(zo,T),I(qo,T),qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},qo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,I(Go,Ho),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Fo=new Go,I(Ko,Ho),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,$o(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){r||S(),delete this.a},Xo.prototype.toString=function(){return this.name};var Jo=new Xo("SEVERE",1e3),ts=new Xo("WARNING",900),es=new Xo("CONFIG",700),ns=new Xo("FINE",500);Qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var rs={},is=null;function os(t){var e;if(is||(is=new Qo(""),rs[""]=is,is.c=es),!(e=rs[t])){e=new Qo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=os(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,rs[t]=e}return e}function ss(t,e){t&&t.log(ns,e,void 0)}function as(t){this.f=t}function us(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=os("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(as,Ho),as.prototype.a=function(){return new us(this.f)},as.prototype.b=function(t){return function(){return t}}({}),I(us,_n);var cs=0;function ls(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function hs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ds(t){_n.call(this),this.headers=new Cn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ps,this.u=this.S=!1}(t=us.prototype).open=function(t,e){if(this.readyState!=cs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this)),this.readyState=cs},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ls(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?hs(this):fs(this),3==this.readyState&&ls(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,hs(this))},t.sc=function(t){this.a&&(this.response=t,hs(this))},t.Va=function(t){var e=this.i;e&&e.log(ts,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&hs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ts,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ts,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(us.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),I(ds,_n);var ps="";ds.prototype.b=os("goog.net.XhrIo");var ms=/^https?$/i,gs=["POST","PUT"];function vs(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,bs(t),ws(t)}function bs(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _s(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Ss(t)&&2==Is(t))ss(t.b,xs(t,"Local request error detected and ignored"));else if(t.i&&4==Ss(t))In(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ss(t)){ss(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=Is(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!ms.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ss(t)?t.a.statusText:""}catch(l){ss(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Is(t)+"]",bs(t)}}finally{ws(t)}}}function ws(t,e){if(t.a){Es(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Jo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Es(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ss(t){return t.a?t.a.readyState:0}function Is(t){try{return 2<Ss(t)?t.a.status:-1}catch(e){return-1}}function xs(t,e){return e+" ["+t.P+" "+t.l+" "+Is(t)+"]"}function Ts(t){var e=js;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ks(t,e,n){t.a=!0,t.c=n,t.f=!e,Rs(t)}function Cs(t){if(t.a){if(!t.v)throw new Ps(t);t.v=!1}}function As(t,e,n,r){t.g.push([e,n,r]),t.a&&Rs(t)}function Os(t){return K(t.g,(function(t){return p(t[1])}))}function Rs(t){if(t.h&&t.a&&Os(t)){var e=t.h,n=Ds[e];n&&(a.clearTimeout(n.a),delete Ds[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Os(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Ts?(As(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ms(e),Ds[e.a]=e,t.h=e.a)}function Ps(){M.call(this)}function Ns(){M.call(this)}function Ms(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=ds.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ss(this.b,xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ss(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),ds.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?_s(this):this.Jc())},t.Jc=function(){_s(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ss(this.b,"Can not get response: "+e.message),null}},Ts.prototype.cancel=function(t){if(this.a)this.c instanceof Ts&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ns(this),Cs(this),ks(this,!1,t))}},Ts.prototype.m=function(t,e){this.i=!1,ks(this,t,e)},Ts.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return As(this,r,(function(t){t instanceof Ns?o.cancel():i(t)})),o.then(t,e,n)},Ts.prototype.$goog_Thenable=!0,I(Ps,M),Ps.prototype.message="Deferred has already fired",Ps.prototype.name="AlreadyCalledError",I(Ns,M),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Ms.prototype.c=function(){throw delete Ds[this.a],this.b};var Ds={};function Ls(t){var e={},n=e.document||document,r=Tt(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ts(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Us(i,!0);var t=new zs(Bs,"Timeout reached for loading script "+r);Cs(s),ks(s,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Us(i,e.xd||!1,u),Cs(s),ks(s,!0,null))},i.onerror=function(){Us(i,!0,u);var t=new zs(Fs,"Error while loading script "+r);Cs(s),ks(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function js(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Us(t,!0,this.Ma)}}function Us(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Fs=0,Bs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function qs(t){this.f=t}function Vs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ws,this.g=mt(t.secureTokenHeaders||Ks),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ys,this.a=mt(t.firebaseHeaders||$s),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!yr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=yr()?new as(self):_r()?new qs(n):new Ko,this.b=null}I(zs,M),I(qs,Ho),qs.prototype.a=function(){return new this.f},qs.prototype.b=function(){return{}};var Hs,Gs="idToken",Ws=new Ur(3e4,6e4),Ks={"Content-Type":"application/x-www-form-urlencoded"},Ys=new Ur(3e4,6e4),$s={"Content-Type":"application/json"};function Zs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qs(t,e){e&&(t.l=Xs("https://securetoken.googleapis.com/v1/token",e),t.h=Xs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Xs("https://identitytoolkit.googleapis.com/v2/",e))}function Xs(t,e){return t=Un(t),e=Un(e.url),t.f=t.a+t.f,Nn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function Js(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ta(t,e,n,r,i,o,s){(function(){var t=xr();return!((t="Chrome"!=Er(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&se&&!(9<se))})()||yr()?t=w(t.u,t):(Hs||(Hs=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[na]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){As(t,null,e,void 0)}(Ls(kt(ea,{onload:na})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,s)}Vs.prototype.T=function(){return this.b},Vs.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ds(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ss(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),En(s,"ready",(function(){u&&clearTimeout(u),He(this)})),En(s,"timeout",(function(){u&&clearTimeout(u),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Fo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Fo),t.a.onreadystatechange=w(t.Wb,t);try{ss(t.b,xs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ss(t.b,xs(t,"Error opening Xhr: "+s.message)),void ys(t,s)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)H(t,e,void 0);else for(var n=kn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=vs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!Y(gs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Es(t),0<t.g&&(t.u=function(t){return $t&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ss(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=In(t.Ma,t.g,t)),ss(t.b,xs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ss(t.b,xs(t,"Send error: "+s.message)),ys(t,s)}}(s,t,n,r,i)};var ea=new bt(St,"https://apis.google.com/js/client.js?onload=%{onload}"),na="__fcb"+Math.floor(1e6*Math.random()).toString();function ra(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new T("invalid-email")}function ia(t){"email"in t&&ra(t)}function oa(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,mt(t));throw new T("internal-error")}}function sa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Vs.prototype.s=function(t,e,n,r,i){var o=this;Hs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Vs.prototype.Ab=function(){return $a(this,ja,{})},Vs.prototype.Cb=function(t,e){return $a(this,Da,{idToken:t,email:e})},Vs.prototype.Db=function(t,e){return $a(this,La,{idToken:t,password:e})};var aa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ua(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ca(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function la(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ha(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Vo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Vo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Vo(t)):t.errorMessage&&(e=Za(t.errorMessage)),e)throw e;oa(t)}function fa(t,e){return e.returnIdpCredential=!0,$a(t,Ba,e)}function da(t,e){return e.returnIdpCredential=!0,$a(t,qa,e)}function pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$a(t,za,e)}function ma(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Vs.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(aa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,Da,n)},t.wb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),$a(this,Oa,t)},t.xb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),$a(this,ka,t)},t.vb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$a(this,Ca,t)},t.Fb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$a(this,Aa,t)},t.gb=function(t){return $a(this,Ga,t)},t.ob=function(t,e){return $a(this,Na,{oobCode:t,newPassword:e})},t.Sa=function(t){return $a(this,va,{oobCode:t})},t.kb=function(t){return $a(this,ga,{oobCode:t})};var ga={endpoint:"setAccountInfo",A:ma,Z:"email",B:!0},va={endpoint:"resetPassword",A:ma,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},ya={endpoint:"signupNewUser",A:function(t){if(ra(t),!t.password)throw new T("weak-password")},G:oa,V:!0,B:!0},ba={endpoint:"createAuthUri",B:!0},_a={endpoint:"deleteAccount",O:["idToken"]},wa={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Ea={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ra,G:oa,V:!0,B:!0},Sa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ra,G:oa,V:!0},Ia={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ua,G:oa,B:!0,Na:!0},xa={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ua,G:oa,B:!0,Na:!0},Ta={endpoint:"getAccountInfo"},ka={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ra(t)},Z:"email",B:!0},Ca={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Aa={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Oa={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ra(t)},Z:"email",B:!0},Ra={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Pa={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Na={endpoint:"resetPassword",A:ma,Z:"email",B:!0},Ma={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Da={endpoint:"setAccountInfo",O:["idToken"],A:ia,V:!0},La={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ia(t),!t.password)throw new T("weak-password")},G:oa,V:!0},ja={endpoint:"signupNewUser",G:oa,V:!0,B:!0},Ua={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Fa={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ba={endpoint:"verifyAssertion",A:ca,Za:la,G:ha,V:!0,B:!0},za={endpoint:"verifyAssertion",A:ca,Za:la,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw Za(t.errorMessage);oa(t)},V:!0,B:!0},qa={endpoint:"verifyAssertion",A:function(t){if(ca(t),!t.idToken)throw new T("internal-error")},Za:la,G:ha,V:!0},Va={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:oa,V:!0,B:!0},Ha={endpoint:"verifyPassword",A:function(t){if(ra(t),!t.password)throw new T("wrong-password")},G:oa,V:!0,B:!0},Ga={endpoint:"verifyPhoneNumber",A:sa,G:oa,B:!0},Wa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");sa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Vo(t);oa(t)}},Ka={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:sa,G:oa,B:!0},Ya={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Gs]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function $a(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ce(new T("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return ke(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(a,c,i[c]);return new _e((function(e,n){ta(t,a.toString(),(function(t){t?t.error?n(Qa(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:nr(Nr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function Za(t){return Qa({error:{errors:[{message:t}],code:400,message:t}})}function Qa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Pr(t)),new T("internal-error",e)}function Xa(t){this.b=t,this.a=null,this.sb=function(t){return(nu||(nu=new _e((function(t,e){function n(){jr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:tu.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},ke(Ls(r=kt(Ja,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw nu=null,t})))).then((function(){return new _e((function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),eu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ja=new bt(St,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Ur(3e4,6e4),eu=new Ur(5e3,15e3),nu=null;function ru(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Fn((t=Un(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function su(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function au(t){var e=ur();return function(t){return $a(t,Ra,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Un(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:dr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(ur())}))}function uu(t){return t.m||(t.m=mr().then((function(){if(!t.u){var e=t.c,n=t.i,r=ou(t.b),i=new ru(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new Xa(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.m}function cu(t){return t.l||(t.C=t.c?Ir(t.c,ou(t.b)):null,t.l=new Vs(t.g,P(t.i),t.C),t.f&&Qs(t.l,t.f)),t.l}function lu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new iu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=mt(u||null),t.f=c,t.zb(l).toString()}function hu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(t){this.b=t,this.a={},this.f=w(this.c,this)}ru.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Qn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Qn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Qn(this.a.b,"fw"),this.a.toString()},iu.prototype.zb=function(t){return this.h=t,this},iu.prototype.toString=function(){if(this.v){var t=Un(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Ln(t,"providerId",this.a.providerId),e=Nr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=mt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Ln(t,"customParameters",Pr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Ln(t,"scopes",n.join(",")),this.l?Ln(t,"redirectUrl",this.l):Qn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Qn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Qn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Ln(t,a,this.b[a]);return this.h?Ln(t,"tid",this.h):Qn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Qn(t.b,"eid"),(a=ou(this.c)).length&&Ln(t,"fw",a.join(",")),t.toString()},(t=su.prototype).Pb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return uu(t).then((function(){return function(t,e){return t.sb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){xn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return xn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=xr();return!Rr(t)&&!Lr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Ce(new T("popup-blocked"));if(s&&!Rr())return this.ma().o((function(e){hr(t),i(e)})),r(),ke();this.a||(this.a=au(cu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){Do(n),s||cr(lu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=au(cu(this)));var i=this;return this.a.then((function(){Do(e),cr(lu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return uu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Z(this.h,(function(e){return e==t}))},(t=hu.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Pr(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var du,pu=[];function mu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gu(t){this.a=t}function vu(t){this.c=t,this.b=!1,this.a=[]}function yu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ce(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return bu(t,c),e})).o((function(e){throw bu(t,c),e}))}function bu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Z(t.a,(function(t){return t==e}))}}function _u(){if(!Su())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(H(pu,(function(n){n.b==t&&(e=n)})),!e){var e=new fu(t);pu.push(e)}return e}(),mu(this.v,"keyChanged",(function(e,n){return Cu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),mu(this.v,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new vu(new gu(e)),yu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function wu(t){return t.i||(t.i=function t(e){return new _e((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.i}function Eu(t,e){var n=0;return new _e((function r(i,o){wu(t).then(e).then(i).o((function(e){if(!(3<++n))return wu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Su(){try{return!!a.indexedDB}catch(Kt){return!1}}function Iu(t){return t.objectStore("firebaseLocalStorage")}function xu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Tu(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function ku(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):ke()}function Cu(t){return wu(t).then((function(t){var e=Iu(xu(t,!1));return e.getAll?Tu(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ou(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(Su()){var t=Dr(),r="__sak"+t;return du||(du=new _u),(n=du).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Ru(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var t="Node"==br();if(!(t=Nu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Nu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Nu(){try{var t=a.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Mu(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==br();if(!(t=Lu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Lu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=a.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ju(){var t={};t.Browser=Bu,t.Node=zu,t.ReactNative=qu,t.Worker=Vu,this.a=t[br()]}fu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},gu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vu.prototype.close=function(){for(;0<this.a.length;)bu(this,this.a[0]);this.b=!0},(t=_u.prototype).set=function(t,e){var n=this,r=!1;return Eu(this,(function(e){return Tu((e=Iu(xu(e,!0))).get(t))})).then((function(i){return Eu(n,(function(o){if(o=Iu(xu(o,!0)),i)return i.value=e,Tu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Tu(o.add(s))}))})).then((function(){return n.c[t]=e,ku(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Eu(this,(function(e){return Tu(Iu(xu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Eu(this,(function(r){return n=!0,e.b++,Tu(Iu(xu(r,!0)).delete(t))})).then((function(){return delete e.c[t],ku(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Au(t),function e(){t.f=setTimeout((function(){t.l=Cu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Z(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=Ou.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Z(this.a,(function(e){return e==t}))},(t=Ru.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Pu.prototype).get=function(t){var e=this;return ke().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&hn(a.window,"storage",t)},(t=Mu.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return ke().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Uu,Fu,Bu={F:Pu,cb:Du},zu={F:Pu,cb:Du},qu={F:hu,cb:Mu},Vu={F:Pu,cb:Mu},Hu={rd:"local",NONE:"none",td:"session"};function Gu(){var t=!(Lr(xr())||!vr()),e=Rr(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Uu||(Uu=new ju),t=Uu;try{this.g=!ar()&&zr()||!a.indexedDB?new t.a.F:new Ou(yr()?new Ru:new t.a.F)}catch(r){this.g=new Ru,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Ru}this.v=new Ru,this.f=w(this.Zb,this),this.b={}}function Wu(){return Fu||(Fu=new Gu),Fu}function Ku(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Yu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function $u(t,e,n){return n=Yu(e,n),"local"==e.F&&(t.b[n]=null),Ku(t,e.F).U(n)}function Zu(t){t.c&&(clearInterval(t.c),t.c=null)}function Qu(t){this.a=t,this.b=Wu()}(t=Gu.prototype).get=function(t,e){return Ku(this,t.F).get(Yu(t,e))},t.set=function(t,e,n){var r=Yu(t,n),i=this,o=Ku(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Yu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Ku(this,"local").ca(this.f),this.h||(ar()||!zr())&&a.indexedDB||!this.l||function(t){Zu(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Yu(t,e),this.a[t]&&(Z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Ku(this,"local").ia(this.f),Zu(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ku(this,"local").ia(this.f):Zu(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},$t&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var Xu,Ju={name:"authEvent",F:"local"};function tc(){this.a=Wu()}function ec(t,e){this.b=nc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Xu&&(Xu=a.Int32Array?new Int32Array(cc):cc),this.reset()}I(ec,(function(){this.b=-1}));for(var nc=64,rc=nc-1,ic=[],oc=0;oc<rc;oc++)ic[oc]=0;var sc=Q(128,ic);function ac(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Xu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function uc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ac(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ac(t),i=0)}}t.c=i,t.g+=n}ec.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):X(this.h)};var cc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lc(){ec.call(this,8,hc)}I(lc,ec);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new tc,this.g=new Qu(this.h),this.f=null,this.b=[],this.a=this.c=null}function dc(t){return new T("invalid-cordova-configuration",t)}function pc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function mc(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),gc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(jn(o=Un(i),"firebaseError")||null))?k(o):null)?new Lo(r.c,r.b,null,null,o,null,r.T()):new Lo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pc(t,i)}))}var n=new Lo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=xn(500).then((function(){return gc(t).then((function(){r||pc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Uo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function gc(t){var e=null;return function(t){return t.b.get(Ju,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,$u((n=t.g).b,Ju,n.a)})).then((function(){return e}))}function vc(t){this.a=t,this.b=Wu()}(t=fc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?mr().then((function(){return new _e((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ce(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Tr("universalLinks.subscribe",a))throw dc("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",a))throw dc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",a))throw dc("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",a))throw dc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Pb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Nb=function(){return Ce(new T("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ce(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=ke().then((function(){return Do(e),mc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Lo(e,r,null,o,new T("no-auth-event"),null,i),u=Tr("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Tr("BuildInfo.displayName",a),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!xr().toLowerCase().match(/android/))return Ce(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new lc;uc(e,t),t=[];var n=8*e.g;uc(e,sc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ac(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=lu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(Ju,s.w(),e)})).then((function(){var e=Tr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");e=xr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){u=function(){var e=Tr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Fr()&&c()},o.addEventListener("resume",c=function(){s||(s=xn(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return gc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),mc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ta=function(t){Z(this.b,(function(e){return e==t}))};var yc={name:"pendingRedirect",F:"session"};function bc(t){return $u(t.b,yc,t.a)}function _c(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Dc,this.C=new Bc,this.g=new vc(Nc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wc(this.D,this.v,this.m,C,this.J)}function wc(t,e,n,i,o){var s=r.a.SDK_VERSION||null;return gr()?new fc(t,e,n,s,i,o):new su(t,e,n,s,i,o)}function Ec(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Sc(t){t.a.Yb()&&Ec(t).o((function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)})),t.a.Ub()||Lc(t.b)}function Ic(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(yc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?bc(t.g).then((function(){Ec(t).o((function(e){var n=new Lo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)}))})):Sc(t)})).o((function(){Sc(t)}))}function xc(t,e){Z(t.h,(function(t){return t==e}))}_c.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wc(this.D,this.v,this.m,null,this.J),this.i={}},_c.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Lc(this.b),e};var Tc=new Ur(2e3,1e4),kc=new Ur(3e4,6e4);function Cc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Oc(t,e,n,r,i){var o;return function(t){return t.b.set(yc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Ac(e))throw new T("operation-not-supported-in-this-environment");return o=e,bc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new _e((function(){})):bc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Rc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Tc.get())}_c.prototype.ra=function(){return this.b.ra()};var Pc={};function Nc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Mc(t,e,n,r){var i=Nc(e,n,r);return Pc[i]||(Pc[i]=new _c(t,e,n,r)),Pc[i]}function Dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lc(t){t.g||(t.g=!0,Fc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Fc(t,!1,null,null)}function Uc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Fc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ce(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Uc(t,n):Uc(t,{user:null}),t.f=[],t.c=[]}function Bc(){}function zc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function qc(t,e){this.a=e,Wr(this,"verificationId",t)}function Vc(t,e,n,r){return new Po(t).gb(e,n).then((function(t){return new qc(t,r)}))}function Hc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gc(t,e,n){var r=e&&e[Kc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;H(e[Wc]||[],(function(t){(t=Qr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Fc(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Fc(t,a,e,null)})).o((function(e){Fc(t,a,null,e)}))}(this,t,e):Ce(new T("invalid-auth-event")):(Fc(this,!1,null,null),ke())}else Ce(new T("invalid-auth-event"))},Dc.prototype.ra=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=xn(kc.get()).then((function(){t.b||(t.g=!0,Fc(t,!0,null,e))}))}(t))}))},Bc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ce(new T("invalid-auth-event"))}else Ce(new T("invalid-auth-event"))},qc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Wc="mfaInfo",Kc="mfaPendingCredential";function Yc(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new Gc(t,e,n),Wr(this,"resolver",this.b)}function $c(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Yc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Zc(){}function Qc(t){Wr(this,"factorId",t.fa),this.a=t}function Xc(t){if(Qc.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jc(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Xr]=t.displayName),t.enrollmentTime&&(r[Jr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),el(this,n)}function el(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function il(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ol(t,e){t.b=Fi(e[Gs]||""),t.a=e.refreshToken,il(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function sl(t,e){this.a=t||null,this.b=e||null,Kr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function al(t,e,n,r,i,o){Kr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ul(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Ir(r.a.SDK_VERSION):null;this.a=new Vs(this.l,P(C),i),(this.u=t.emulatorConfig||null)&&Qs(this.a,this.u),this.h=new rl(this.a),vl(this,e[Gs]),ol(this.h,e),Wr(this,"refreshToken",this.h.a),_l(this,n||{}),_n.call(this),this.P=!1,this.s&&Cr()&&(this.b=Mc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new nl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){cl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){fl(o,t.f)},this.ja=null,this.S=new tl(this,n),Wr(this,"multiFactor",this.S)}function cl(t,e){t.u=e,Qs(t.a,e),t.b&&(e=t.b,t.b=Mc(t.s,t.l,t.m,t.u),t.P&&(xc(e,t),Ic(t.b,t)))}function ll(t,e){t.qa&&hn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&un(e,"languageCodeChanged",t.Pa)}function hl(t,e){t.$&&hn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&un(e,"emulatorConfigChanged",t.Ba)}function fl(t,e){t.aa=e,Js(t.a,r.a.SDK_VERSION?Ir(r.a.SDK_VERSION,t.aa):null)}function dl(t,e){t.ja&&hn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&un(e,"frameworkChanged",t.Oa)}function pl(t){try{return r.a.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ml(t){t.J||t.D.b||(t.D.start(),hn(t,"tokenChanged",t.ba),un(t,"tokenChanged",t.ba))}function gl(t){hn(t,"tokenChanged",t.ba),t.D.stop()}function vl(t,e){t.Aa=e,Wr(t,"_lat",e)}function yl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Oe(e).then((function(){return t}))}function bl(t){t.b&&!t.P&&(t.P=!0,Ic(t.b,t))}function _l(t,e){Kr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new sl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wl(){}function El(t){return ke().then((function(){if(t.J)throw new T("app-deleted")}))}function Sl(t){return W(t.providerData,(function(t){return t.providerId}))}function Il(t,e){e&&(xl(t,e.providerId),t.providerData.push(e))}function xl(t,e){Z(t.providerData,(function(t){return t.providerId==e}))}function Tl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function kl(t,e){t!=e&&(Kr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new sl(t.a,t.b)}(e.metadata):new sl),H(e.providerData,(function(e){Il(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Wr(t,"refreshToken",t.h.a),el(t.S,e.S.b))}function Cl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return $a(t.a,Ta,{idToken:e}).then(w(t.Kc,t))}(t,e).then((function(){return n||Tl(t,"isAnonymous",!1),e}))}))}function Al(t,e){e[Gs]&&t.Aa!=e[Gs]&&(ol(t.h,e),t.dispatchEvent(new Jc("tokenChanged")),vl(t,e[Gs]),Tl(t,"refreshToken",t.h.a))}function Ol(t,e){return Cl(t).then((function(){if(Y(Sl(t),e))return yl(t).then((function(){throw new T("provider-already-linked")}))}))}function Rl(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Gi(e),operationType:n})}function Pl(t,e){return Al(t,e),t.reload().then((function(){return t}))}function Nl(t,e,n,i,o){if(!Cr())return Ce(new T("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ce(t.i);var s=Hi(n.providerId),a=Dr(t.uid+":::"),u=null;(!Rr()||vr())&&t.s&&n.isOAuthProvider&&(u=lu(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=fr(u,s&&s.va,s&&s.ua);return i=i().then((function(){if(Dl(t),!o)return t.I().then((function(){}))})).then((function(){return Cc(t.b,c,e,n,a,!!u,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Rc(t.b,t,e,c,a)}))})).then((function(t){return c&&hr(c),t?Yr(t):null})).o((function(t){throw c&&hr(c),t})),Ll(t,i,o)}function Ml(t,e,n,r,i){if(!Cr())return Ce(new T("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ce(t.i);var o=null,s=Dr(t.uid+":::");return r=r().then((function(){if(Dl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,yl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Fl,t.w(),e.a)),e})).then((function(){return Oc(t.b,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Bl(t.ha);throw o})).then((function(){if(o)throw o})),Ll(t,r,i)}function Dl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Ll(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ce(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Jc("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){$(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$c(e.w(),pl(t),w(t.jc,t))),n||e}))}function jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ul(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Il(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ul(t){this.a=t,this.b=Wu()}Gc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=mt(e.f);return delete n[Wc],delete n[Kc],vt(n,t),e.g(n)}))},I(Yc,T),Zc.prototype.tb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Ro(t.a)}),$a(e,Ia,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),$a(e,xa,n)}))}(this,t,e)},I(Qc,Zc),I(Xc,Qc),I(Jc,$e),(t=tl.prototype).yc=function(t){el(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=Qr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Al(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return $a(r,Ya,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return el(e,r),Al(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},nl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=xn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Fr()||!t?ke():new _e((function(n){e=function(){Fr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ce(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ta(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Qa(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=Fi(e.access_token),t.a=e.refresh_token,il(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(ul,_n),ul.prototype.xa=function(t){this.za=t,Zs(this.a,t)},ul.prototype.la=function(){return this.za},ul.prototype.Ga=function(){return X(this.aa)},ul.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Wr(ul.prototype,"providerId","firebase"),(t=ul.prototype).reload=function(){var t=this;return Ll(this,El(this).then((function(){return Cl(t).then((function(){return yl(t)})).then(wl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Hc(t)}))},t.I=function(t){var e=this;return Ll(this,El(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.Aa&&(vl(e,t.accessToken),e.dispatchEvent(new Jc("tokenChanged"))),Tl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new al(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Il(this,e[n]);Tl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jc("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Ll(this,t.c(this.a,this.uid).then((function(t){return Al(e,t),n=Rl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Ll(this,Ol(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Rl(e,t,"link"),Pl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Ll(this,Ol(this,"phone").then((function(){return Vc(pl(n),t,e,w(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Ll(this,ke().then((function(){return Vc(pl(n),t,e,w(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Ll(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Al(e,t),e.reload()})))},t.ed=function(t){var e=this;return Ll(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Al(e,t),e.reload()})))},t.Db=function(t){var e=this;return Ll(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Al(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return El(this);var e=this;return Ll(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Al(e,t),Tl(e,"displayName",t.displayName||null),Tl(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),yl(e)})).then(wl))},t.cd=function(t){var e=this;return Ll(this,Cl(this).then((function(n){return Y(Sl(e),t)?function(t,e,n){return $a(t,wa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(Sl(e),(function(t){n[t]||xl(e,t)})),n[Po.PROVIDER_ID]||Wr(e,"phoneNumber",null),yl(e)})):yl(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Ll(this,this.I().then((function(e){return $a(t.a,_a,{idToken:e})})).then((function(){t.dispatchEvent(new Jc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ll(t,null),hl(t,null),dl(t,null),t.N=[],t.J=!0,gl(t),Wr(t,"refreshToken",null),t.b&&xc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Nl(this,"linkViaPopup",t,(function(){return Ol(e,t.providerId).then((function(){return yl(e)}))}),!1)},t.Nc=function(t){return Nl(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Fc=function(t){var e=this;return Ml(this,"linkViaRedirect",t,(function(){return Ol(e,t.providerId)}),!1)},t.Oc=function(t){return Ml(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,this.I().then((function(n){return da(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Rl(i,t,"link"),Pl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,ke().then((function(){return oo(pa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Rl(i,t,"reauthenticate"),Al(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Ll(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:Li(new Ti(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Ll(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:Li(new Ti(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Ll(this,t=oo(ke(t),n.uid).then((function(t){return e=Rl(n,t,"reauthenticate"),Al(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.S.w()),t};var Fl={name:"redirectUser",F:"session"};function Bl(t){return $u(t.b,Fl,t.a)}function zl(t){this.a=t,this.b=Wu(),this.c=null,this.f=function(t){var e=Hl("local"),n=Hl("session"),r=Hl("none");return function(t,e,n){var r=Yu(e,n),i=Ku(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Mr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Vl,t.a).then((function(t){return t?Hl(t):e}))}))}))})).then((function(e){return t.c=e,ql(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Hl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in Hu)Hu[n]!==e&&r.push($u(t.b,Hl(Hu[n]),t.a));return r.push($u(t.b,Vl,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ae(t[a],E(o,a),s);else e(i)}))}(r)}zl.prototype.g=function(){var t=this,e=Hl("local");Yl(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ql(t,"local").then((function(){t.c=e}))}))}))};var Vl={name:"persistence",F:"session"};function Hl(t){return{name:"authUser",F:t}}function Gl(t,e){return Yl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Wl(t){return Yl(t,(function(){return $u(t.b,t.c,t.a)}))}function Kl(t,e,n){return Yl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),jl(t||{})}))}))}function Yl(t,e){return t.f=t.f.then(e,e),t.f}function $l(t){if(this.l=!1,Wr(this,"settings",new zc),Wr(this,"app",t),!rh(this).options||!rh(this).options.apiKey)throw new T("invalid-api-key");t=r.a.SDK_VERSION?Ir(r.a.SDK_VERSION):null,this.a=new Vs(rh(this).options&&rh(this).options.apiKey,P(C),t),this.P=[],this.s=[],this.N=[],this.Pa=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),eh(this,null),this.i=new zl(rh(this).options.apiKey+":"+rh(this).name),this.D=new Ul(rh(this).options.apiKey+":"+rh(this).name),this.$=ah(this,function(t){var e=rh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),jl(t||{})}))}(t.D,rh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Bl(t.D)}));return ah(t,e)}(t).then((function(){return Kl(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Gl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Wl(t.i)}))):null})).then((function(e){eh(t,e||null)}));return ah(t,n)}(this)),this.h=ah(this,function(t){return t.$.then((function(){return th(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Hl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=rh(t).options.authDomain,n=rh(t).options.apiKey;e&&Cr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Mc(e,n,rh(t).name,t.R),Ic(t.b,t),ih(t)&&bl(ih(t)),t.m){bl(t.m);var r=t.m;r.xa(t.la()),ll(r,t),fl(r=t.m,t.J),dl(r,t),cl(r=t.m,t.R),hl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Un(this.R.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function Zl(t){$e.call(this,"languageCodeChanged"),this.h=t}function Ql(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function Xl(t){$e.call(this,"frameworkChanged"),this.f=t}function Jl(t){return t.Oa||Ce(new T("auth-domain-config-required"))}function th(t){if(!Cr())return Ce(new T("operation-not-supported-in-this-environment"));var e=Jl(t).then((function(){return t.b.ra()})).then((function(t){return t?Yr(t):null}));return ah(t,e)}function eh(t,e){ih(t)&&(function(t,e){Z(t.W,(function(t){return t==e}))}(ih(t),t.Ba),hn(ih(t),"tokenChanged",t.qa),hn(ih(t),"userDeleted",t.za),hn(ih(t),"userInvalidated",t.Aa),gl(ih(t))),e&&(e.W.push(t.Ba),un(e,"tokenChanged",t.qa),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&ml(e)),Wr(t,"currentUser",e),e&&(e.xa(t.la()),ll(e,t),fl(e,t.J),dl(e,t),cl(e,t.R),hl(e,t))}function nh(t,e){var n=null,r=null;return ah(t,e.then((function(e){return n=Mo(e),r=Gi(e),function(t,e){var n={};return n.apiKey=rh(t).options.apiKey,n.authDomain=rh(t).options.authDomain,n.appName=rh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new ul(t,e);return n&&(i.ha=n),r&&fl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ih(t)&&e.uid==ih(t).uid?(kl(ih(t),e),t.da(e)):(eh(t,e),bl(e),t.da(e))})).then((function(){sh(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=$c(e.w(),t,w(t.kc,t))),n||e})).then((function(){return Yr({user:ih(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(t){return t.app}function ih(t){return t.currentUser}function oh(t){return ih(t)&&ih(t)._lat||null}function sh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](oh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](oh(t))}}function ah(t,e){return t.P.push(e),e.oa((function(){$(t.P,e)})),e}function uh(){}function ch(){this.a={},this.b=1e12}zl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Hu)if(Hu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Su()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),Yl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ql(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},I($l,_n),I(Zl,$e),I(Ql,$e),I(Xl,$e),(t=$l.prototype).yb=function(t){return ah(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,Zs(this.a,this.aa),this.dispatchEvent(new Zl(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&mr().then((function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,Qs(this.a,this.R),this.dispatchEvent(new Ql(this.R))}},t.Gc=function(t){this.J.push(t),Js(this.a,r.a.SDK_VERSION?Ir(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Xl(this.J))},t.Ga=function(){return X(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,fa(i.a,o))}))},t.Xc=function(t){if(!Cr())return Ce(new T("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),i=Dr(),o=null;(!Rr()||vr())&&rh(this).options.authDomain&&t.isOAuthProvider&&(o=lu(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.R));var s=fr(o,n&&n.va,n&&n.ua);return ah(this,n=Jl(this).then((function(n){return Cc(n,s,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Rc(e.b,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&hr(s),t?Yr(t):null})).o((function(t){throw s&&hr(s),t})))},t.Yc=function(t){if(!Cr())return Ce(new T("operation-not-supported-in-this-environment"));var e=this;return ah(this,Jl(this).then((function(){return function(t){return Yl(t,(function(){return t.b.set(Vl,t.c.F,t.a)}))}(e.i)})).then((function(){return Oc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return th(this).then((function(e){return t.b&&jc(t.b.b),e})).o((function(e){throw t.b&&jc(t.b.b),e}))},t.dd=function(t){if(!t)return Ce(new T("null-user"));if(this.S!=t.tenantId)return Ce(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ul(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&fl(e,r),kl(e,t),e}(t,n,e.D,e.Ga());return ah(this,this.h.then((function(){if(rh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ih(e)&&t.uid==ih(e).uid?(kl(ih(e),t),e.da(t)):(eh(e,r),bl(r),e.da(r))})).then((function(){sh(e)})))},t.Bb=function(){var t=this;return ah(this,this.h.then((function(){return t.b&&jc(t.b.b),ih(t)?(eh(t,null),Wl(t.i).then((function(){sh(t)}))):ke()})))},t.Zc=function(){var t=this;return Kl(this.i,rh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ih(t)&&e){n=ih(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return kl(ih(t),e),ih(t).I();(ih(t)||e)&&(eh(t,e),e&&(bl(e),e.ha=t.D),t.b&&Ic(t.b,t),sh(t))}}))},t.da=function(t){return Gl(this.i,t)},t.mc=function(){sh(this),this.da(ih(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return nh(e,ke(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ih(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ah(t,t.h.then((function(){!t.l&&Y(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(oh(t)))})))}(this,(function(){t.next(ih(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return ah(this,this.h.then((function(){return ih(e)?ih(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return nh(e,$a(e.a,Va,{token:t}))})).then((function(t){var n=t.user;return Tl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return nh(n,$a(n.a,Ha,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nh(n,$a(n.a,ya,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return nh(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=ih(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(t,t.a.Ab()).then((function(e){var n=e.user;return Tl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ih(this)&&ih(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ih(this)&&ml(ih(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&gl(ih(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ah(this,this.h.then((function(){e.l||Y(e.s,t)&&t(oh(e))})))},t.removeAuthTokenListener=function(t){Z(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Hl("local"),t.a,this.ja),this.b&&(xc(this.b,this),jc(this.b.b)),Promise.resolve()},t.hc=function(t){return ah(this,function(t,e){return $a(t,ba,{identifier:e,continueUri:Ar()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Co(t)},t.xb=function(t,e){var n=this;return ah(this,ke().then((function(){var t=new Ti(e);if(!t.c)throw new T("argument-error",Ai+" must be true when sending sign in link to email");return Li(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return ah(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return ah(this,this.a.Sa(t).then((function(t){return new ri(t)})))},t.kb=function(t){return ah(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return ah(this,ke().then((function(){return void 0===e||pt(e)?{}:Li(new Ti(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return ah(this,Vc(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return ah(this,ke().then((function(){var r=e||ur(),i=ko(t,r);if(!(r=Co(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},uh.prototype.render=function(){},uh.prototype.reset=function(){},uh.prototype.getResponse=function(){},uh.prototype.execute=function(){};var lh=null;function hh(t,e){return(e=fh(e))&&t.a[e]||null}function fh(t){return(t=void 0===t?1e12:t)?t.toString():null}function dh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function mh(){}function gh(){}ch.prototype.render=function(t,e){return this.a[this.b.toString()]=new dh(t,e),this.b++},ch.prototype.reset=function(t){var e=hh(this,t);t=fh(t),e&&t&&(e.delete(),delete this.a[t])},ch.prototype.getResponse=function(t){return(t=hh(this,t))?t.getResponse():null},ch.prototype.execute=function(t){(t=hh(this,t))&&t.execute()},dh.prototype.getResponse=function(){return ph(this),this.b},dh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},dh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(mh,"FACTOR_ID","phone"),gh.prototype.g=function(){return lh||(lh=new ch),ke(lh)},gh.prototype.c=function(){};var vh=null;function yh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bh=new bt(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Ur(3e4,6e4);yh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),_h.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete a[e.a]},ke(Ls(kt(bh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},yh.prototype.c=function(){this.b--};var wh=null;function Eh(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(vh||(vh=new gh),s=vh):(wh||(wh=new yh),s=wh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[xh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Th],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Vs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Sh];this.a[Sh]=function(t){if(kh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Tr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Ih];this.a[Ih]=function(){if(kh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Tr(l,a);"function"==typeof t&&t()}}}var Sh="callback",Ih="expired-callback",xh="sitekey",Th="size";function kh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ch(t,e){return t.h.push(e),e.oa((function(){$(t.h,e)})),e}function Ah(t){if(t.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Oh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Ir(r.a.SDK_VERSION,s):null,Eh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,P(C),i)}function Rh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ph.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Ph[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Eh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ch(this,ke().then((function(){if(Ar()&&!yr())return mr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,$a(t.s,Pa,{})})).then((function(e){t.a[xh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ah(this);var t=this;return Ch(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ah(this);var t=this;return Ch(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Z(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ah(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ah(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},I(Oh,Eh);var Ph="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Mh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Dh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function Lh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function jh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Uh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Fh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Bh(t){return m(t)&&"string"==typeof t.uid}function zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=Gh(r,t[n],e[n].j)}}function Vh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Rh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function Hh(t,e,n,r){t[e]=Gh(e,n,r)}function Gh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh($l.prototype,{kb:{name:"applyActionCode",j:[Nh("code")]},Sa:{name:"checkActionCode",j:[Nh("code")]},ob:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[zh(Dh(),Lh(),"nextOrObserver"),Lh("opt_error",!0),Lh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[zh(Dh(),Lh(),"nextOrObserver"),Lh("opt_error",!0),Lh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Nh("email"),zh(Dh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Nh("email"),Dh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Nh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Uh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Uh()]},Tc:{name:"signInWithCustomToken",j:[Nh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Vc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ul)}},jh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Nh("url"),Dh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),Vh($l.prototype,{lc:{name:"languageCode",lb:zh(Nh(),jh(),"languageCode")},ti:{name:"tenantId",lb:zh(Nh(),jh(),"tenantId")}}),($l.Persistence=Hu).LOCAL="local",$l.Persistence.SESSION="session",$l.Persistence.NONE="none",qh(ul.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Mh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Mh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Uh()]},rb:{name:"linkWithCredential",j:[Uh()]},Dc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Uh()]},ub:{name:"reauthenticateWithCredential",j:[Uh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[zh(Dh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},cd:{name:"unlink",j:[Nh("provider")]},Cb:{name:"updateEmail",j:[Nh("email")]},Db:{name:"updatePassword",j:[Nh("password")]},ed:{name:"updatePhoneNumber",j:[Uh("phone")]},Eb:{name:"updateProfile",j:[Dh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),zh(Dh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Vh(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Mh("appVerificationDisabledForTesting")}}),qh(qc.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),Hh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,xo,Oo,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[zh(Nh(),Dh(),"json")]),Hh(To,"credential",(function(t,e){return new Io(t,e)}),[Nh("email"),Nh("password")]),qh(Io.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(go.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(go,"credential",vo,[zh(Nh(),Dh(),"token")]),Hh(To,"credentialWithLink",ko,[Nh("email"),Nh("emailLink")]),qh(yo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(yo,"credential",bo,[zh(Nh(),Dh(),"token")]),qh(_o.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(_o,"credential",wo,[zh(Nh(),zh(Dh(),jh()),"idToken"),zh(Nh(),jh(),"accessToken",!0)]),qh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(Eo,"credential",So,[zh(Nh(),Dh(),"token"),Nh("secret",!0)]),qh(mo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[zh(Nh(),zh(Dh(),jh()),"optionsOrIdToken"),zh(Nh(),jh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),qh(co.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(so.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Hh(Po,"credential",No,[Nh("verificationId"),Nh("verificationCode")]),qh(Po.prototype,{gb:{name:"verifyPhoneNumber",j:[zh(Nh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,ro)&&Bh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Ao.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(T.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(zo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Yc.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Gc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),qh(tl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Nh("displayName",!0)]},bd:{name:"unenroll",j:[zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Bh},Nh(),"multiFactorInfoIdentifier")]}}),qh(Oh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(vi,"parseLink",xi,[Nh("link")]),Hh(mh,"assertion",(function(t){return new Xc(t)}),[Uh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$l,AuthCredential:io,Error:T};Hh(t,"EmailAuthProvider",To,[]),Hh(t,"FacebookAuthProvider",go,[]),Hh(t,"GithubAuthProvider",yo,[]),Hh(t,"GoogleAuthProvider",_o,[]),Hh(t,"TwitterAuthProvider",Eo,[]),Hh(t,"OAuthProvider",mo,[Nh("providerId")]),Hh(t,"SAMLAuthProvider",po,[Nh("providerId")]),Hh(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof $l)}}]),Hh(t,"RecaptchaVerifier",Oh,[zh(Nh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Hh(t,"ActionCodeURL",vi,[]),Hh(t,"PhoneMultiFactorGenerator",mh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new $l(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.8"),r.a.INTERNAL.extendNamespace({User:ul})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7F6a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("mrSG");class i{constructor(t,e){this.storage=t,this.store=e}uploadFile(t,e,n,i){return r.a(this,void 0,void 0,(function*(){const r={userId:e.uid,fileName:t.name||"missingFileName",isUploaded:!1,imageStreamId:n,imageClassifierId:i},o=yield this.store.insertUploadDoc(r,"ppUploads"),s=Object.assign({},r,{id:o.id}),a=yield this.storage.uploadFile(t,s.id,"ppUploads"),u={downloadUrl:yield a.ref.getDownloadURL()};yield this.store.registerFileUploaded(s.id,u,"ppUploads")}))}}},"7bNT":function(t,e,n){"use strict";var r=n("DQLy"),i=n("VRyK"),o=n("HDdC"),s=n("XNiG"),a=(n("NXyV"),n("WMd4")),u=n("7o/Q");class c{call(t,e){return e.subscribe(new l(t))}}class l extends u.a{_next(t){}}class h{call(t,e){return e.subscribe(new f(t))}}class f extends u.a{constructor(t){super(t)}_next(t){this.destination.next(a.a.createNext(t))}_error(t){const e=this.destination;e.next(a.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(a.a.createComplete()),t.complete()}}var d=n("lJxs"),p=n("JIr8"),m=n("pLZG"),g=n("quSY");function v(t,e,n,r){return i=>i.lift(new y(t,e,n,r))}class y{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new b(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class b extends u.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new s.a,n.set(e,i);const t=new w(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new w(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new _(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class _ extends u.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class w extends o.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new g.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new E(n)),e.add(r.subscribe(t)),e}}class E extends g.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var S=n("5+tZ"),I=n("l7GE"),x=n("51Dv"),T=n("ZUHj"),k=n("Cfvw");class C{constructor(t){this.project=t}call(t,e){return e.subscribe(new A(t,this.project))}}class A extends I.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new x.a(this,void 0,void 0);this.destination.add(r),Object(T.a)(this,t,e,n,r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class O{call(t,e){return e.subscribe(new R(t))}}class R extends u.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}var P=n("IzEk"),N=(n("bOdf"),n("nYR2"),n("8Y7J"));n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return Q})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return nt})),n.d(e,"e",(function(){return et})),n.d(e,"f",(function(){return tt})),n.d(e,"g",(function(){return W})),n.d(e,"h",(function(){return D})),n.d(e,"i",(function(){return B})),n.d(e,"j",(function(){return q})),n.d(e,"k",(function(){return rt})),n.d(e,"l",(function(){return it})),n.d(e,"m",(function(){return G})),n.d(e,"n",(function(){return K})),n.d(e,"o",(function(){return Y})),n.d(e,"p",(function(){return $})),n.d(e,"q",(function(){return Z}));const M={dispatch:!0,useEffectsErrorHandler:!0};function D(t,e){const n=t(),r=Object.assign(Object.assign({},M),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:r}),n}function L(t){return Object.getOwnPropertyNames(t).filter(e=>t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")).map(e=>Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"]))}function j(t){return Object.getPrototypeOf(t)}function U(t){return Object(r.t)(F,j)(t)}function F(t){return function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(t)?t.constructor["__@ngrx/effects__"]:[]}function B(t,e,n=10){return t.pipe(Object(p.a)(r=>(e&&e.handleError(r),n<=1?t:B(t,e,n-1))))}class z extends o.a{constructor(t){super(),t&&(this.source=t)}lift(t){const e=new z;return e.source=this,e.operator=t,e}}function q(...t){return Object(m.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function V(t){return H(t,"ngrxOnInitEffects")}function H(t,e){return t&&e in t&&"function"==typeof t[e]}const G=new N.o("@ngrx/effects Internal Root Guard"),W=new N.o("ngrx/effects: User Provided Effects"),K=new N.o("ngrx/effects: Internal Root Effects"),Y=new N.o("ngrx/effects: Root Effects"),$=new N.o("ngrx/effects: Internal Feature Effects"),Z=new N.o("ngrx/effects: Feature Effects"),Q=new N.o("ngrx/effects: Effects Error Handler");class X extends s.a{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(v(j),Object(S.a)(t=>t.pipe(v(J))),Object(S.a)(t=>{const e=t.pipe(function t(e,n){return n?r=>r.pipe(t((t,r)=>Object(k.a)(e(t,r)).pipe(Object(d.a)((e,i)=>n(t,e,r,i))))):t=>t.lift(new C(e))}(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const r=function(t,e,n){const r=j(t).constructor.name,o=(s=t,[U,L].reduce((t,e)=>t.concat(e(s)),[])).map(({propertyName:i,dispatch:o,useEffectsErrorHandler:s})=>{const a="function"==typeof t[i]?t[i]():t[i],u=s?n(a,e):a;return!1===o?u.pipe((function(t){return t.lift(new c)})):u.pipe((function(t){return t.lift(new h)})).pipe(Object(d.a)(e=>({effect:t[i],notification:e,propertyName:i,sourceName:r,sourceInstance:t})))});var s;return Object(i.a)(...o)}(t,e,n);return H(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(r):r})(t);var e,n}),Object(d.a)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const r="function"==typeof e[t];return`"${n}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),Object(m.a)(t=>"N"===t.kind),(function(t){return t.lift(new O)})),n=t.pipe(Object(P.a)(1),Object(m.a)(V),Object(d.a)(t=>t.ngrxOnInitEffects()));return Object(i.a)(e,n)}))}}function J(t){return H(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}class tt{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}class et{constructor(t,e,n,r,i,o,s){this.sources=t,e.start(),r.forEach(e=>t.addEffects(e)),n.dispatch({type:"@ngrx/effects/init"})}addEffects(t){this.sources.addEffects(t)}}class nt{constructor(t,e,n,r){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}function rt(t,e,n){const r=[];for(let i of e)r.push(...i);for(let i of n)r.push(...i);return function(t,e){return e.map(e=>t.get(e))}(t,r)}function it(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"7sJY":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("7bNT"),i=n("LRne"),o=n("JX91"),s=n("eIep"),a=n("lJxs"),u=n("5+tZ"),c=n("Z0Sn");class l{constructor(t,e,n){this.actions$=t,this.firestoreService=e,this.authService=n,this.linkFirebaseAuth$=Object(r.h)(()=>this.actions$.pipe(Object(r.j)(c.a.linkFirebaseAuth),Object(o.a)(c.a.linkFirebaseAuth()),Object(s.a)(()=>this.authService.getUser$().pipe(Object(s.a)(t=>t?this.firestoreService.updateUser(t).pipe(Object(a.a)(()=>c.a.setUser({payload:t}))):Object(i.a)(c.a.setUser({payload:t}))))))),this.renderLogin$=Object(r.h)(()=>this.actions$.pipe(Object(r.j)(c.a.renderLogin),Object(s.a)(({nativeEl:t})=>this.authService.renderLogin(t))),{dispatch:!1}),this.signOut$=Object(r.h)(()=>this.actions$.pipe(Object(r.j)(c.a.signOut),Object(s.a)(({nativeEl:t})=>this.authService.signOut().pipe(Object(u.a)(()=>[c.a.setUser({payload:void 0}),c.a.renderLogin({nativeEl:t})])))))}}},"8Y7J":function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const h=class extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=i.a.EMPTY):this._connection=t),t}refCount(){return u()(this)}}.prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}};class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}n.d(e,"kb",(function(){return rs})),n.d(e,"lb",(function(){return is})),n.d(e,"mb",(function(){return os})),n.d(e,"nb",(function(){return ss})),n.d(e,"jb",(function(){return to})),n.d(e,"ib",(function(){return zi})),n.d(e,"g",(function(){return Vo})),n.d(e,"R",(function(){return Fo})),n.d(e,"w",(function(){return Uo})),n.d(e,"S",(function(){return Kt})),n.d(e,"W",(function(){return Wt})),n.d(e,"c",(function(){return Ji})),n.d(e,"A",(function(){return no})),n.d(e,"z",(function(){return ro})),n.d(e,"b",(function(){return io})),n.d(e,"d",(function(){return Qi})),n.d(e,"e",(function(){return Xi})),n.d(e,"U",(function(){return ts})),n.d(e,"M",(function(){return Ro})),n.d(e,"Y",(function(){return Mo})),n.d(e,"s",(function(){return so})),n.d(e,"f",(function(){return as})),n.d(e,"m",(function(){return Yi})),n.d(e,"l",(function(){return Vt})),n.d(e,"F",(function(){return ve})),n.d(e,"G",(function(){return ge})),n.d(e,"a",(function(){return Qe})),n.d(e,"P",(function(){return Z})),n.d(e,"N",(function(){return Nn})),n.d(e,"Rb",(function(){return E})),n.d(e,"T",(function(){return k})),n.d(e,"p",(function(){return Ve})),n.d(e,"Sb",(function(){return z})),n.d(e,"V",(function(){return q})),n.d(e,"o",(function(){return M})),n.d(e,"n",(function(){return g})),n.d(e,"y",(function(){return v})),n.d(e,"H",(function(){return y})),n.d(e,"I",(function(){return b})),n.d(e,"x",(function(){return Io})),n.d(e,"C",(function(){return Rn})),n.d(e,"D",(function(){return An})),n.d(e,"E",(function(){return On})),n.d(e,"i",(function(){return fo})),n.d(e,"j",(function(){return En})),n.d(e,"k",(function(){return Tn})),n.d(e,"t",(function(){return W})),n.d(e,"v",(function(){return G})),n.d(e,"u",(function(){return Go})),n.d(e,"B",(function(){return Zi})),n.d(e,"J",(function(){return Yo})),n.d(e,"K",(function(){return Wo})),n.d(e,"L",(function(){return Zn})),n.d(e,"O",(function(){return Xn})),n.d(e,"h",(function(){return Fe})),n.d(e,"q",(function(){return Gn})),n.d(e,"r",(function(){return Wn})),n.d(e,"Q",(function(){return rn})),n.d(e,"X",(function(){return ns})),n.d(e,"wb",(function(){return on})),n.d(e,"bb",(function(){return oo})),n.d(e,"Z",(function(){return ze})),n.d(e,"ab",(function(){return Sn})),n.d(e,"eb",(function(){return pe})),n.d(e,"fb",(function(){return _e})),n.d(e,"gb",(function(){return Qt})),n.d(e,"vb",(function(){return N})),n.d(e,"zb",(function(){return en})),n.d(e,"Kb",(function(){return x})),n.d(e,"xb",(function(){return gn})),n.d(e,"yb",(function(){return mn})),n.d(e,"ub",(function(){return Wi})),n.d(e,"tb",(function(){return Ki})),n.d(e,"cb",(function(){return qi})),n.d(e,"db",(function(){return Vi})),n.d(e,"Qb",(function(){return st})),n.d(e,"Ob",(function(){return Xe})),n.d(e,"Ub",(function(){return an})),n.d(e,"Tb",(function(){return un})),n.d(e,"Pb",(function(){return cn})),n.d(e,"Vb",(function(){return hn})),n.d(e,"hb",(function(){return us})),n.d(e,"ob",(function(){return ti})),n.d(e,"pb",(function(){return Na})),n.d(e,"qb",(function(){return mr})),n.d(e,"rb",(function(){return Ii})),n.d(e,"sb",(function(){return cs})),n.d(e,"Ab",(function(){return Kr})),n.d(e,"Bb",(function(){return Wr})),n.d(e,"Cb",(function(){return bs})),n.d(e,"Db",(function(){return hi})),n.d(e,"Fb",(function(){return xi})),n.d(e,"Ib",(function(){return Ti})),n.d(e,"Eb",(function(){return Es})),n.d(e,"Gb",(function(){return Ss})),n.d(e,"Hb",(function(){return ws})),n.d(e,"Jb",(function(){return ps})),n.d(e,"Lb",(function(){return xs})),n.d(e,"Mb",(function(){return pr})),n.d(e,"Nb",(function(){return Cs}));const g=m("Inject",t=>({token:t})),v=m("Optional"),y=m("Self"),b=m("SkipSelf");var _=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function w(t){for(let e in t)if(t[e]===w)return e;throw Error("Could not find renamed property on target object.")}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){const e=t[I];return e&&e.token===t?e:null}const I=w({ngInjectableDef:w});function x(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(x).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const T=w({__forward_ref__:w});function k(t){return t.__forward_ref__=k,t.toString=function(){return x(this())},t}function C(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(T)&&e.__forward_ref__===k?e():t}const A="undefined"!=typeof globalThis&&globalThis,O="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,P="undefined"!=typeof global&&global,N=A||P||O||R;class M{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const D=new M("INJECTOR",-1),L=new Object,j=/\n/gm,U=w({provide:String,useValue:w});let F=void 0;function B(t){const e=F;return F=t,e}function z(t,e=_.Default){return function(t,e=_.Default){if(void 0===F)throw new Error("inject() must be called from an injection context");return null===F?function(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;throw new Error(`Injector: NOT_FOUND [${x(t)}]`)}(t,0,e):F.get(t,e&_.Optional?null:void 0,e)}(t,e)}const q=z;class V{get(t,e=L){if(e===L){const e=new Error(`NullInjectorError: No provider for ${x(t)}!`);throw e.name="NullInjectorError",e}return e}}function H(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=x(e);if(e instanceof Array)i=e.map(x).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):x(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(j,"\n  ")}`}class G{}class W{}function K(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Y(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const $=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Z=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Q={},X=[],J=w({ngComponentDef:w}),tt=w({ngDirectiveDef:w}),et=w({ngPipeDef:w});let nt=0;function rt(t){return function(t){return t[J]||null}(t)||function(t){return t[tt]||null}(t)}function it(t){return function(t){return t[et]||null}(t)}function ot(t,e){if(null==t)return Q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=function(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Z.Emulated,id:"c",styles:t.styles||X,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:()=>{const n=t.directives,o=t.features,s=t.pipes;i.id+=nt++,i.inputs=ot(t.inputs,r),i.outputs=ot(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(rt):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(it):null,e.hasOwnProperty(I)||(e[I]=E({token:e,factory:t.factory}))}},i};let at=null;const ut=new Map;let ct,lt=null;function ht(t,e){return lt&&t===lt||(lt=t,e&&(at=ut.get(t)||null),at=at||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),at}function ft(t,e){return function(t){for(;Array.isArray(t);)t=t[0];return t}(e[t.index])}function dt(t,e){return e[1].data[t+19]}function pt(){return ct}const mt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(N))();function gt(t,e){0===e?t[2]>0&&function(t){yt(t,2|vt(t))}(t):t[2]=e}function vt(t){return t[1]}function yt(t,e){t[1]=e}function bt(t,e){return t[e+2]}function _t(t,e){return 1&t[e+0]}function wt(t,e){return(1&_t(t,e))>0}function Et(t,e){return t[e+0]>>1}function St(t,e,n){const r=_t(t,e);t[e+0]=r|n<<1}function It(t,e){return t[e+1]}function xt(t,e,n){return t[e+3+n]}function Tt(t,e){return!(!t||e!==t[2])}function kt(t){return(1&vt(t))>0}function Ct(t){return(2&vt(t))>0}function At(t){return 6+t[4]}function Ot(t,e){let n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(t,e){return!(t!=t&&e!=e)&&t!==e}(n,r)}function Rt(t){return null!=t&&""!==t}function Pt(t){return t.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1)).toLowerCase()}function Nt(t){return Mt(t)?t[0]:t}function Mt(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function Dt(t,e){return t[e+0]}function Lt(t,e,n){t[e+1]=n}function jt(t,e){return t[e+1]}const Ut=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function Ft(t){return!!t.listen}function Bt(t){return t.ngDebugContext}function zt(t){return t.ngOriginalError}function qt(t,...e){t.error(...e)}class Vt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||qt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Bt(t)?Bt(t):this._findContext(zt(t)):null}_findOriginalError(t){let e=zt(t);for(;e&&zt(e);)e=zt(e);return e}}let Ht=!0,Gt=!1;function Wt(){return Gt=!0,Ht}function Kt(){if(Gt)throw new Error("Cannot enable prod mode after platform setup.");Ht=!1}class Yt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $t=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Zt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qt(t){return(t=String(t)).match($t)||t.match(Zt)?t:(Wt()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Xt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const te=Xt("area,br,col,hr,img,wbr"),ee=Xt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ne=Xt("rp,rt"),re=Jt(ne,ee),ie=Jt(te,Jt(ee,Xt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jt(ne,Xt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),re),oe=Xt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),se=Xt("srcset"),ae=Jt(oe,se,Xt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ue=Xt("script,style,template");class ce{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ie.hasOwnProperty(e))return this.sanitizedSomething=!0,!ue.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ae.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;oe[o]&&(s=Qt(s)),se[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Qt(t.trim())).join(", ")),this.buf.push(" ",e,'="',fe(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ie.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(fe(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const le=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=/([^\#-~ |!])/g;function fe(t){return t.replace(/&/g,"&amp;").replace(le,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(he,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let de;function pe(t,e){let n=null;try{de=de||new Yt(t);let r=e?String(e):"";n=de.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=de.getInertBodyElement(r)}while(r!==o);const s=new ce,a=s.sanitizeChildren(me(n)||n);return Wt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=me(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function me(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ge=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class ve{}const ye=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),be=/^url\(([^)]+)\)$/;function _e(t){if(!(t=String(t).trim()))return"";const e=t.match(be);return e&&Qt(e[1])===e[1]||t.match(ye)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Wt()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}const we=/([A-Z])/g;function Ee(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Se=[];function Ie(t,e,n,r,i,o,s,a,u){kt(t)||(s?function(t,e,n,r,i){Se.unshift(t,e,n,r,i)}(t,n,r,i,u):(Se.length&&xe(),Te(t,n,r,i,u)));const c=a||Ot(e[i],o);return c&&(e[i]=o),c}function xe(){let t=0;for(;t<Se.length;)Te(Se[t++],Se[t++],Se[t++],Se[t++],Se[t++]);Se.length=0}function Te(t,e,n,r,i){let o=!1;if(n){let s=!1,a=At(t);for(;a<t.length;){const o=It(t,a),u=bt(t,a);if(s=n<=u,s){n<u&&ke(t,a,n,i),Ce(t,!1,a,r,e);break}a+=3+o}s||(ke(t,t.length,n,i),Ce(t,!1,a,r,e),o=!0)}else Ce(t,!0,3,r,e),o=!0;return o}function ke(t,e,n,r){t.splice(e,0,r?1:0,1,n,null),St(t,e,1)}function Ce(t,e,n,r,i){const o=n+3;let s=o+It(t,n);if(e||s--,"number"==typeof r){for(let e=o;e<=s;e++)if(t[e]===r)return;t.splice(s,0,r),t[n+1]++,St(t,n,Et(t,n)|1<<i)}else null!==r&&null==t[s]&&(t[s]=r)}function Ae(t,e,n,r,i,o,s,a){return i&&r&&(function(t){if(!kt(t)){const e=Nt(t);e&&function(t,e){for(let n=1;n<e.length;n+=2){const r=jt(e,n);r&&Te(t,-1,Dt(e,n),r,!1)}}(t,e),function(t){yt(t,1|vt(t))}(t)}}(r),function(t,e){return t&&e>0}(r,o))?(function(t,e,n,r,i,o,s){const a=!0===(u=i)?-1:!1===u?0:u;var u;const c=Oe,l=(a&Et(t,3))>0?1:0;let h=At(t);for(;h<t.length;){const i=It(t,h);if(a&Et(t,h)){let a=!1;const u=bt(t,h),f=i-1,d=xt(t,h,f);for(let i=0;i<f;i++){const c=xt(t,h,i),l=r[c];if(Rt(l)){o(e,n,u,s&&wt(t,h)?s(u,l,2):l,c),a=!0;break}}if(c){const i=c(t,e,n,r,o,s,l|(a?4:2),u,d);a=a||i}a||o(e,n,u,d)}h+=3+i}c&&c(t,e,n,r,o,s,l)}(r,t,e,n,o,s,a),!0):i}let Oe=null;const Re=(t,e,n,r)=>{const i=e.style;r?(r=r.toString(),t&&Ft(t)?t.setStyle(e,n,r,Ut.DashCase):i&&i.setProperty(n,r)):t&&Ft(t)?t.removeStyle(e,n,Ut.DashCase):i&&i.removeProperty(n)},Pe=(t,e,n,r)=>{if(""!==n){const i=e.classList;r?t&&Ft(t)?t.addClass(e,n):i&&i.add(n):t&&Ft(t)?t.removeClass(e,n):i&&i.remove(n)}},Ne={},Me=(t,e,n,r,i,o,s,a,u)=>{let c=!1;if(It(t,3)){let l=!0;const h=!a;h&&-2&s&&(l=!1,c=!0),l&&(c=function t(e,n,r,i,o,s,a,u,c,l){let h=!1;if(c<It(e,3)){const f=xt(e,3,c),d=i[f];let p=function(t){return t>=je.length&&je.push(1),je[t]}(c);for(;p<d.length;){const m=Dt(d,p),g=u&&m>u,v=!g&&m===u,y=jt(d,p),b=Rt(y);let _=t(e,n,r,i,o,s,g?a:De(a,b,v),g?u:m,c+1,l);if(g){h||(h=_);break}if(!_&&Le(a,v)){const t=v&&!b,e=t?l:y,i=t?f:null;o(n,r,m,s?s(m,e,3):e,i),_=!0}h=_&&v,p+=2}if(je[c]=p,1===d.length||!u)return t(e,n,r,i,o,s,a,u,c+1,l)}return h}(t,e,n,r,i,o,s,a||null,0,u||null)),h&&function(){for(let t=0;t<je.length;t++)je[t]=1}()}return c};function De(t,e,n){let r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function Le(t,e){let n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}const je=[];function Ue(t,e,n,r){for(let i=1;i<t.length;i+=2){const o=Dt(t,i);if(e<=o){let s=!1;if(o===e){const e=t[i];!r&&Rt(e)||(s=!0,Lt(t,i,n))}else s=!0,t.splice(i,0,e,n);return s}}return t.push(e,n),!0}let Fe=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Be(),t})();const Be=(...t)=>{},ze=new M("The presence of this token marks an injector as being the root injector."),qe=function(t,e,n){return new Ye(t,e,n)};let Ve=(()=>{class t{static create(t,e){return Array.isArray(t)?qe(t,e,""):qe(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=L,t.NULL=new V,t.ngInjectableDef=E({token:t,providedIn:"any",factory:()=>z(D)}),t.__NG_ELEMENT_ID__=-1,t})();const He=function(t){return t},Ge=[],We=He,Ke=function(){return Array.prototype.slice.call(arguments)};class Ye{constructor(t,e=Ve.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Ve,{token:Ve,fn:He,deps:Ge,value:this,useNew:!1}),r.set(D,{token:D,fn:He,deps:Ge,value:this,useNew:!1}),function t(e,n){if(n)if((n=C(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Ze("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ze("Unexpected provider",n);{let t=C(n.provide);const r=function(t){const e=function(t){let e=Ge;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=C(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof v||n==v?r|=1:n instanceof b||n==b?r&=-3:n instanceof y||n==y?r&=-5:i=n instanceof g?n.token:C(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:C(t.useExisting),options:6}];else if(!n&&!(U in t))throw Ze("'deps' required",t);return e}(t);let n=He,r=Ge,i=!1,o=C(t.provide);if(U in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=C(t.useClass);else{if("function"!=typeof o)throw Ze("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Ke)throw $e(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Ke,value:Ge});t=n,r.deps.push({token:t,options:6})}const i=e.get(t);if(i&&i.fn==Ke)throw $e(t);e.set(t,r)}}}(r,t)}get(t,e,n=_.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let a;if(!n||s&_.SkipSelf)s&_.Self||(a=i.get(e,o,_.Default));else{if(a=n.value,a==We)throw Error("\u0275Circular dependency");if(a===Ge){n.value=We;let e=void 0,o=n.useNew,s=n.fn,u=n.deps,c=Ge;if(u.length){c=[];for(let e=0;e<u.length;e++){const n=u[e],o=n.options,s=2&o?r.get(n.token):void 0;c.push(t(n.token,s,r,s||4&o?i:Ve.NULL,1&o?null:Ve.THROW_IF_NOT_FOUND,_.Default))}}n.value=a=o?new s(...c):s.apply(e,c)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==We&&(n.value=Ge),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=H("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(x(n))),`StaticInjector[${t.join(", ")}]`}}function $e(t){return Ze("Cannot mix multi providers and regular providers",t)}function Ze(t,e){return new Error(H(t,e,"StaticInjectorError"))}const Qe=new M("AnalyzeForEntryComponents");function Xe(t){const e=(void 0)[1];e.firstTemplatePass&&(function(t,e,n){const r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(e,0,t),function(t,e,n){for(let r=0;r<n;r++)(void 0).push(Ne),t.blueprint.push(Ne),t.data.push(null)}(e,0,t))}let Je=null;function tn(){if(!Je){const t=N.Symbol;if(t&&t.iterator)Je=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Je=n)}}}return Je}function en(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function nn(t,e){const n=on(t),r=on(e);if(n&&r)return function(t,e,n){const r=t[tn()](),i=e[tn()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,nn);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||en(t,e)}}class rn{constructor(t){this.wrapped=t}static wrap(t){return new rn(t)}static unwrap(t){return rn.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof rn}}function on(t){return!!sn(t)&&(Array.isArray(t)||!(t instanceof Map)&&tn()in t)}function sn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function an(){(void 0)[1].firstTemplatePass&&(1,gt(dn(void 0),1),gt(fn(void 0),1))}function un(t){const e=dt(-1,void 0),n=fn(e),r=(void 0)[7]++;ln(-1,n,r,t,!1,!1)}function cn(t){!function(t,e){const n=dt(-1,void 0),r=dn(n),i=(void 0)[7]++;ln(-1,r,i,e,!0,!1)}(0,t)}function ln(t,e,n,r,i,o){Oe=Me;let s=!1;if(r!==Ne){const a=ft(dt(t,void 0),void 0),u=(void 0)[n];s=Ot(u,r);const c=function(t,e,n){const r=Array.isArray(t)?t:[null];r[0]=e||null;for(let a=1;a<r.length;a+=2)Lt(r,a,null);let i,o=null,s=!1;if("string"==typeof e?e.length&&(o=e.split(/\s+/),s=!0):(o=e?Object.keys(e):null,i=e),o)for(let a=0;a<o.length;a++){const t=o[a];Ue(r,n?Pt(t):t,!!s||i[t],!0)}return r}(u,r,!i);i?function(t,e,n,r,i,o,s,a){const u=ht(n,Ct(t));!Ie(t,void 0,0,null,i,o,s,a,!1)&&!a||(u.classesBitMask|=1)}(e,0,a,0,n,c,o,s):function(t,e,n,r,i,o,s,a,u){const c=ht(n,Ct(t));!Ie(t,void 0,0,null,i,o,a,u,!0)&&!u||(c.stylesBitMask|=1)}(e,0,a,0,n,c,pt(),o,s)}return s}function hn(){const t=dt(-1,void 0),e=function(t,e){return 3===t.type?(void 0)[12]:null}(t),n=ft(t,void 0),r=pt();(function(t,e,n,r,i,o,s){const a=n?Ct(n):!!r&&Ct(r),u=Tt(n,o),c=Tt(r,o);Se.length&&(u||c)&&xe();const l=ht(i,a),h=Ae(t,i,e,n,u,l.classesBitMask,Pe,null),f=Ae(t,i,e,r,c,l.stylesBitMask,Re,s);h&&f?(at=null,lt=null,a&&function(t){ut.delete(t)}(i)):a&&function(t,e){ut.set(t,e)}(i,l)})(e,void 0,dn(t),fn(t),n,1,r),ct=null}function fn(t){return pn(t,!1)}function dn(t){return pn(t,!0)}function pn(t,e){let n=e?t.classes:t.styles;return Mt(n)||(n=[n||[""],0,0,1,0,"--MAP--"],e?t.classes=n:t.styles=n),n}function mn(t){return!!t&&"function"==typeof t.then}function gn(t){return!!t&&"function"==typeof t.subscribe}class vn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class yn{}function bn(t){const e=Error(`No component factory found for ${x(t)}. Did you add it to @NgModule.entryComponents?`);return e[_n]=t,e}const _n="ngComponent";class wn{resolveComponentFactory(t){throw bn(t)}}let En=(()=>{class t{}return t.NULL=new wn,t})();class Sn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw bn(t);return new In(e,this._ngModule)}}class In extends yn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function xn(...t){}let Tn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>kn(t),t})();const kn=xn;class Cn{}class An{}const On=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pn(),t})();const Pn=xn;class Nn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Mn=new Nn("8.2.14");class Dn{constructor(){}supports(t){return on(t)}create(t){return new jn(t)}}const Ln=(t,e)=>e;class jn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ln}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<zn(n,r,i)?e:n,s=zn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!on(t))throw new Error(`Error trying to diff '${x(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&en(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),en(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[tn()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&en(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),en(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(en(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(en(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Un(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Un{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&en(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Bn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Fn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class qn{constructor(){}supports(t){return t instanceof Map||sn(t)}create(){return new Vn}}class Vn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||sn(t)))throw new Error(`Error trying to diff '${x(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Hn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){en(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Hn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Gn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=E({token:t,providedIn:"root",factory:()=>new t([new Dn])}),t})(),Wn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=E({token:t,providedIn:"root",factory:()=>new t([new qn])}),t})();const Kn=[new qn],Yn=new Gn([new Dn]),$n=new Wn(Kn);let Zn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Qn(t,Tn),t})();const Qn=xn;let Xn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Jn(t,Tn),t})();const Jn=xn;function tr(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return er(n,e),n}(i,t)}function er(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function nr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function rr(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function ir(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function or(t,e){return t.nodes[e]}function sr(t,e){return t.nodes[e]}function ar(t,e){return t.nodes[e]}function ur(t,e){return t.nodes[e]}function cr(t,e){return t.nodes[e]}const lr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},hr=()=>{},fr=new Map;function dr(t){let e=fr.get(t);return e||(e=x(t)+"_"+fr.size,fr.set(t,e)),e}function pr(t,e,n,r){if(rn.isWrapped(r)){r=rn.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=rn.unwrap(t.oldValues[i]);t.oldValues[i]=new rn(o)}return r}function mr(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let gr=0;function vr(t,e,n,r){return!(!(2&t.state)&&en(t.oldValues[e.bindingIndex+n],r))}function yr(t,e,n,r){return!!vr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function br(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!nn(i,r)){const o=e.bindings[n].name;throw tr(lr.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function _r(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function wr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Er(t,e,n,r){try{return _r(33554432&t.def.nodes[e].flags?sr(t,e).componentView:t),lr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Sr(t){return t.parent?sr(t.parent,t.parentNodeDef.nodeIndex):null}function Ir(t){return t.parent?t.parentNodeDef.parent:null}function xr(t,e){switch(201347067&e.flags){case 1:return sr(t,e.nodeIndex).renderElement;case 2:return or(t,e.nodeIndex).renderText}}function Tr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function kr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Cr(t){return 1<<t%32}function Ar(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Cr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Or(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:r,token:n,tokenKey:dr(n)}})}function Rr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Z.Native?sr(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Pr=new WeakMap;function Nr(t){let e=Pr.get(t);return e||(e=t(()=>hr),e.factory=t,Pr.set(t,e)),e}function Mr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(xr(t,t.def.lastRenderRootNode))),Dr(t,e,0,t.def.nodes.length-1,n,r,i)}function Dr(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&jr(t,n,e,i,o,s),a+=n.childCount}}function Lr(t,e,n,r,i,o){let s=t;for(;s&&!Tr(s);)s=s.parent;const a=s.parent,u=Ir(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const t=a.def.nodes[l];t.ngContentIndex===e&&jr(a,t,n,r,i,o),l+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Ur(t,s[e],n,r,i,o)}}function jr(t,e,n,r,i,o){if(8&e.flags)Lr(t,e.ngContent.index,n,r,i,o);else{const s=xr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Ur(t,s,n,r,i,o),32&e.bindingFlags&&Ur(sr(t,e.nodeIndex).componentView,s,n,r,i,o)):Ur(t,s,n,r,i,o),16777216&e.flags){const s=sr(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Mr(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Dr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Ur(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const Fr=/^:([^:]+):(.+)$/;function Br(t){if(":"===t[0]){const e=t.match(Fr);return[e[1],e[2]]}return["",t]}function zr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const qr=new Object,Vr=dr(Ve),Hr=dr(D),Gr=dr(G);function Wr(t,e,n,r){return n=C(n),{index:-1,deps:Or(r,x(e)),flags:t,token:e,value:n}}function Kr(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===ze&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[dr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Yr(t,e,n=Ve.THROW_IF_NOT_FOUND){const r=B(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Vr:case Hr:case Gr:return t}const a=t._def.providersByKey[s];let u;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=$r(t,a)),e===qr?void 0:e}if((u=S(e.token))&&(i=t,null!=(o=u).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:e.token},t._providers[n]=qr,t._providers[n]=$r(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{B(r)}var i,o}function $r(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(Yr(t,n[0]));case 2:return new e(Yr(t,n[0]),Yr(t,n[1]));case 3:return new e(Yr(t,n[0]),Yr(t,n[1]),Yr(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=Yr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(Yr(t,n[0]));case 2:return e(Yr(t,n[0]),Yr(t,n[1]));case 3:return e(Yr(t,n[0]),Yr(t,n[1]),Yr(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=Yr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=Yr(t,e.deps[0]);break;case 256:n=e.value}return n===qr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?qr:n}function Zr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Y(n,e),lr.dirtyParentQueries(r),Xr(r),r}function Qr(t,e,n){const r=e?xr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Mr(n,2,i,o,void 0)}function Xr(t){Mr(t,3,null,null,void 0)}const Jr=new Object;function ti(t,e,n,r,i,o){return new ei(t,e,n,r,i,o)}class ei extends yn{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Nr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=lr.createRootView(t,e||[],n,i,r,Jr),a=ar(s,o).instance;return n&&s.renderer.setAttribute(sr(s,0).renderElement,"ng-version",Mn.full),new ni(s,new si(s),a)}}class ni extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Tn(sr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new li(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ri(t,e,n){return new ii(t,e,n)}class ii{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Tn(this._data.renderElement)}get injector(){return new li(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Ir(t),t=t.parent;return t?new li(t,e):new li(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Zr(this._data,t);lr.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new si(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof In||(i=o.get(G));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,K(i,n,r),function(t,e){const n=Sr(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),lr.dirtyParentQueries(r),Qr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Y(r,e),null==n&&(n=r.length),K(r,n,i),lr.dirtyParentQueries(i),Xr(i),Qr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Zr(this._data,t);e&&lr.destroyView(e)}detach(t){const e=Zr(this._data,t);return e?new si(e):null}}function oi(t){return new si(t)}class si{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Mr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){_r(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{lr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){lr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),lr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Xr(this._view),lr.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function ai(t,e){return new ui(t,e)}class ui extends Zn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new si(lr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Tn(sr(this._parentView,this._def.nodeIndex).renderElement)}}function ci(t,e){return new li(t,e)}class li{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ve.THROW_IF_NOT_FOUND){return lr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:dr(t)},e)}}function hi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=sr(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return or(t,n.nodeIndex).renderText;if(20240&n.flags)return ar(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function fi(t){return new di(t.renderer)}class di{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Br(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Br(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function pi(t,e,n,r){return new mi(t,e,n,r)}class mi{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=$r(t,i))}}(this)}get(t,e=Ve.THROW_IF_NOT_FOUND,n=_.Default){let r=0;return n&_.SkipSelf?r|=1:n&_.Self&&(r|=4),Yr(this,{token:t,tokenKey:dr(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(En)}destroy(){if(this._destroyed)throw new Error(`The ng module ${x(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==qr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const gi=dr(Cn),vi=dr(Rn),yi=dr(Tn),bi=dr(Xn),_i=dr(Zn),wi=dr(Fe),Ei=dr(Ve),Si=dr(D);function Ii(t,e,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[t,e]=s[l];u[t]={flags:8,name:l,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return ki(t,e|=16384,n,r,i,i,o,u,c)}function xi(t,e,n){return ki(-1,t|=16,null,0,e,e,n)}function Ti(t,e,n,r,i){return ki(-1,t,e,0,n,r,i)}function ki(t,e,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=Ar(n);u||(u=[]),a||(a=[]),o=C(o);const f=Or(s,x(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:zr(a),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function Ci(t,e){return Pi(t,e)}function Ai(t,e){let n=t;for(;n.parent&&!Tr(n);)n=n.parent;return Ni(n.parent,Ir(n),!0,e.provider.value,e.provider.deps)}function Oi(t,e){const n=Ni(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!gn(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Ri(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Ri(t,e,n){return r=>Er(t,e,n,r)}function Pi(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Ni(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Di(t,e,n,i[0]));case 2:return r(Di(t,e,n,i[0]),Di(t,e,n,i[1]));case 3:return r(Di(t,e,n,i[0]),Di(t,e,n,i[1]),Di(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=Di(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return Di(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Ni(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Di(t,e,n,i[0]));case 2:return new r(Di(t,e,n,i[0]),Di(t,e,n,i[1]));case 3:return new r(Di(t,e,n,i[0]),Di(t,e,n,i[1]),Di(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=Di(t,e,n,i[r]);return new r(...s)}}const Mi={};function Di(t,e,n,r,i=Ve.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===wi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case gi:return fi(Li(a,e,n));case vi:return Li(a,e,n).renderer;case yi:return new Tn(sr(a,e.nodeIndex).renderElement);case bi:return sr(a,e.nodeIndex).viewContainer;case _i:if(e.element.template)return sr(a,e.nodeIndex).template;break;case wi:return oi(Li(a,e,n));case Ei:case Si:return ci(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=ar(a,t.nodeIndex);return e||(e={instance:Pi(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Tr(a),e=Ir(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,Mi);return u!==Mi||i===Mi?u:o.root.ngModule.injector.get(r.token,i)}function Li(t,e,n){let r;if(n)r=sr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Tr(r);)r=r.parent;return r}function ji(t,e,n,r,i,o){if(32768&n.flags){const e=sr(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=rn.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new vn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ui(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&Bi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Fi(t,s,e,r)),s=s.parent}}function Fi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Bi(t,i,e.flags&n,r++),i+=e.childCount}return r}function Bi(t,e,n,r){const i=ar(t,e);if(!i)return;const o=i.instance;o&&(lr.setCurrentNode(t,e),1048576&n&&ir(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ir(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const zi=new M("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mt}),qi={},Vi=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Hi=void 0;var Gi=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Wi(t){return Ki(t)[Vi.PluralCase]}function Ki(t){const e=t.toLowerCase().replace(/_/g,"-");let n=qi[e];if(n)return n;const r=e.split("-")[0];if(n=qi[r],n)return n;if("en"===r)return Gi;throw new Error(`Missing locale data for the locale "${t}".`)}class Yi extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}}function $i(){return this._results[tn()]()}class Zi{constructor(){this.dirty=!0,this._results=[],this.changes=new Yi,this.length=0;const t=tn(),e=Zi.prototype;e[t]||(e[t]=$i)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Qi=new M("Application Initializer");class Xi{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();mn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Ji=new M("AppId");function to(){return`${eo()}${eo()}${eo()}`}function eo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const no=new M("Platform Initializer"),ro=new M("Platform ID"),io=new M("appBootstrapListener");class oo{log(t){console.log(t)}warn(t){console.warn(t)}}const so=new M("LocaleId");function ao(){throw new Error("Runtime compiler is not loaded")}const uo=ao,co=ao,lo=ao,ho=ao;class fo{constructor(){this.compileModuleSync=uo,this.compileModuleAsync=co,this.compileModuleAndAllComponentsSync=lo,this.compileModuleAndAllComponentsAsync=ho}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class po{}let mo,go;function vo(){const t=N.wtf;return!(!t||(mo=t.trace,!mo)||(go=mo.events,0))}const yo=vo();function bo(t,e){return null}const _o=yo?function(t,e=null){return go.createScope(t,e)}:(t,e)=>bo,wo=yo?function(t,e){return mo.leaveScope(t,e),e}:(t,e)=>e,Eo=(()=>Promise.resolve(0))();function So(t){"undefined"==typeof Zone?Eo.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Io{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi(!1),this.onMicrotaskEmpty=new Yi(!1),this.onStable=new Yi(!1),this.onError=new Yi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Co(e),t.invokeTask(r,i,o,s)}finally{Ao(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return Co(e),t.invoke(r,i,o,s,a)}finally{Ao(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,ko(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,To,xo,xo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function xo(){}const To={};function ko(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Co(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ao(t){t._nesting--,ko(t)}class Oo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi,this.onMicrotaskEmpty=new Yi,this.onStable=new Yi,this.onError=new Yi}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Ro{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),So(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())So(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Po{constructor(){this._applications=new Map,Lo.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Lo.findTestabilityInTree(this,t,e)}}class No{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Mo(t){Lo=t}let Do,Lo=new No;const jo=new M("AllowMultipleToken");class Uo{constructor(t,e){this.name=t,this.token=e}}function Fo(t,e,n=[]){const r="Platform: "+e,i=new M(r);return(e=[])=>{let o=Bo();if(!o||o.injector.get(jo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Do&&!Do.destroyed&&!Do.injector.get(jo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Do=t.get(zo);const e=t.get(no,null);e&&e.forEach(t=>t())}(Ve.create({providers:t,name:r}))}return function(t){const e=Bo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Bo(){return Do&&!Do.destroyed?Do:null}class zo{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new Oo:("zone.js"===t?void 0:t)||new Io({enableLongStackTrace:Wt()}),e}(e?e.ngZone:void 0),r=[{provide:Io,useValue:n}];return n.run(()=>{const e=Ve.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Vt,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ho(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return mn(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Xi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=qo({},e);return function(t,e,n){return t.get(po).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${x(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function qo(t,e){return Array.isArray(e)?e.reduce(qo,t):Object.assign({},t,e)}let Vo=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),So(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof yn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof In?null:this._injector.get(G),i=n.create(Ve.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Ro,null);return o&&i.injector.get(Po).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Wt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,wo(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ho(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(io,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ho(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=_o("ApplicationRef#tick()"),t})();function Ho(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Go{}class Wo{}const Ko={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Yo{constructor(t,e){this._compiler=t,this._config=e||Ko}load(t){return this._compiler instanceof fo?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>$o(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>$o(t,e,r))}}function $o(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Zo{constructor(t,e){this.name=t,this.callback=e}}class Qo{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Xo&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Xo extends Qo{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof Xo&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof Xo&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof Xo&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Xo)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Jo=new Map,ts=function(t){return Jo.get(t)||null};function es(t){Jo.set(t.nativeNode,t)}const ns=Fo(null,"core",[{provide:ro,useValue:"unknown"},{provide:zo,deps:[Ve]},{provide:Po,deps:[]},{provide:oo,deps:[]}]);function rs(){return Yn}function is(){return $n}function os(t){return t||"en-US"}function ss(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class as{constructor(t){}}function us(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=Ar(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Nr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||hr},provider:null,text:null,query:null,ngContent:null}}function cs(t,e,n,r,i,o,s=[],a,u,c,l,h){c||(c=hr);const{matchedQueries:f,references:d,matchedQueryIds:p}=Ar(n);let m=null,g=null;o&&([m,g]=Br(o)),a=a||[];const v=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=Br(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}v[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const y=new Array(u.length);for(let _=0;_<u.length;_++){const[t,e]=u[_];y[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=Br(t);return[n,r,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Z.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+gr++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),l&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:p,references:d,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:zr(v),outputs:y,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||hr},provider:null,text:null,query:null,ngContent:null}}function ls(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Rr(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Z.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function hs(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=fs(t,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let c=a.target,l=t;"component"===a.target&&(c=null,l=e);const h=l.renderer.listen(c||r,a.eventName,u);t.disposables[n.outputIndex+s]=h}var i,o}function fs(t,e,n){return r=>Er(t,e,n,r)}function ds(t,e,n,r){if(!yr(t,e,n,r))return!1;const i=e.bindings[n],o=sr(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(ge.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function ps(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Cr(e),bindings:r},ngContent:null}}function ms(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&kr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&cr(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&cr(t,n).setDirty(),n+=e.childCount}}function gs(t,e){const n=cr(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=vs(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=ar(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=vs(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function vs(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(ys(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=sr(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(vs(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=Sr(o);s&&s===n&&vs(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];vs(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function ys(t,e,n){if(null!=n)switch(n){case 1:return sr(t,e.nodeIndex).renderElement;case 0:return new Tn(sr(t,e.nodeIndex).renderElement);case 2:return sr(t,e.nodeIndex).template;case 3:return sr(t,e.nodeIndex).viewContainer;case 4:return ar(t,e.nodeIndex).instance}}function bs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function _s(t,e,n){const r=Rr(t,e,n);r&&Lr(t,n.ngContent.index,1,r,null,void 0)}function ws(t,e){return Is(128,t,new Array(e+1))}function Es(t,e){return Is(32,t,new Array(e))}function Ss(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return Is(64,t,i)}function Is(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:zr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function xs(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ts(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Rr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ks(t,e){return(null!=t?t.toString():"")+e.suffix}function Cs(t,e,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,f=!1,d=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=c,t.bindingIndex=i,t.outputIndex=o,t.renderParent=l,s|=t.flags,u|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=c?c.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,f=!1,t.element.template&&(u|=t.element.template.nodeMatchedQueries)}if(Os(c,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!l&&3&t.flags&&(d=t),20224&t.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?c.element.publicProviders[dr(t.provider.token)]=t:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[dr(t.provider.token)]=t),e&&(c.element.componentProvider=t)}if(c?(c.childFlags|=t.flags,c.directChildFlags|=t.flags,c.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(c.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)c=t,As(t)||(l=t);else for(;c&&p===c.nodeIndex+c.childCount;){const t=c.parent;t&&(t.childFlags|=c.childFlags,t.childMatchedQueries|=c.childMatchedQueries),c=t,l=c&&As(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||hr,updateRenderer:r||hr,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:d}}function As(t){return 0!=(1&t.flags)&&null===t.element.name}function Os(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Rs(t,e,n,r){const i=Ms(t.root,t.renderer,t,e,n);return Ds(i,t.component,r),Ls(i),i}function Ps(t,e,n){const r=Ms(t,t.renderer,null,null,e);return Ds(r,n,n),Ls(r),r}function Ns(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Ms(t.root,o,t,e.element.componentProvider,n)}function Ms(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Ds(t,e,n){t.component=e,t.context=n}function Ls(t){let e;Tr(t)&&(e=sr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(lr.setCurrentNode(t,i),201347067&o.flags){case 1:const n=ls(t,e,o);let a=void 0;if(33554432&o.flags){const e=Nr(o.element.componentView);a=lr.createComponentView(t,o,e,n)}hs(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?ai(t,o):void 0},16777216&o.flags&&(s.viewContainer=ri(t,o,s));break;case 2:s=Ts(t,e,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:Ci(t,o)});break;case 16:s={instance:Ai(t,o)};break;case 16384:s=r[i],s||(s={instance:Oi(t,o)}),32768&o.flags&&Ds(sr(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Zi;break;case 8:_s(t,e,o),s=void 0}r[i]=s}Gs(t,Hs.CreateViewNodes),$s(t,201326592,268435456,0)}function js(t){Bs(t),lr.updateDirectives(t,1),Ws(t,Hs.CheckNoChanges),lr.updateRenderer(t,1),Gs(t,Hs.CheckNoChanges),t.state&=-97}function Us(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,rr(t,0,256),Bs(t),lr.updateDirectives(t,0),Ws(t,Hs.CheckAndUpdate),$s(t,67108864,536870912,0);let e=rr(t,256,512);Ui(t,2097152|(e?1048576:0)),lr.updateRenderer(t,0),Gs(t,Hs.CheckAndUpdate),$s(t,134217728,536870912,0),e=rr(t,512,768),Ui(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,rr(t,768,1024)}function Fs(t,e,n,r,i,o,s,a,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,c,l,h){const f=e.bindings.length;let d=!1;return f>0&&ds(t,e,0,n)&&(d=!0),f>1&&ds(t,e,1,r)&&(d=!0),f>2&&ds(t,e,2,i)&&(d=!0),f>3&&ds(t,e,3,o)&&(d=!0),f>4&&ds(t,e,4,s)&&(d=!0),f>5&&ds(t,e,5,a)&&(d=!0),f>6&&ds(t,e,6,u)&&(d=!0),f>7&&ds(t,e,7,c)&&(d=!0),f>8&&ds(t,e,8,l)&&(d=!0),f>9&&ds(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,s,a,u,c,l,h);case 2:return function(t,e,n,r,i,o,s,a,u,c,l,h){let f=!1;const d=e.bindings,p=d.length;if(p>0&&yr(t,e,0,n)&&(f=!0),p>1&&yr(t,e,1,r)&&(f=!0),p>2&&yr(t,e,2,i)&&(f=!0),p>3&&yr(t,e,3,o)&&(f=!0),p>4&&yr(t,e,4,s)&&(f=!0),p>5&&yr(t,e,5,a)&&(f=!0),p>6&&yr(t,e,6,u)&&(f=!0),p>7&&yr(t,e,7,c)&&(f=!0),p>8&&yr(t,e,8,l)&&(f=!0),p>9&&yr(t,e,9,h)&&(f=!0),f){let f=e.text.prefix;p>0&&(f+=ks(n,d[0])),p>1&&(f+=ks(r,d[1])),p>2&&(f+=ks(i,d[2])),p>3&&(f+=ks(o,d[3])),p>4&&(f+=ks(s,d[4])),p>5&&(f+=ks(a,d[5])),p>6&&(f+=ks(u,d[6])),p>7&&(f+=ks(c,d[7])),p>8&&(f+=ks(l,d[8])),p>9&&(f+=ks(h,d[9]));const m=or(t,e.nodeIndex).renderText;t.renderer.setValue(m,f)}return f}(t,e,n,r,i,o,s,a,u,c,l,h);case 16384:return function(t,e,n,r,i,o,s,a,u,c,l,h){const f=ar(t,e.nodeIndex),d=f.instance;let p=!1,m=void 0;const g=e.bindings.length;return g>0&&vr(t,e,0,n)&&(p=!0,m=ji(t,f,e,0,n,m)),g>1&&vr(t,e,1,r)&&(p=!0,m=ji(t,f,e,1,r,m)),g>2&&vr(t,e,2,i)&&(p=!0,m=ji(t,f,e,2,i,m)),g>3&&vr(t,e,3,o)&&(p=!0,m=ji(t,f,e,3,o,m)),g>4&&vr(t,e,4,s)&&(p=!0,m=ji(t,f,e,4,s,m)),g>5&&vr(t,e,5,a)&&(p=!0,m=ji(t,f,e,5,a,m)),g>6&&vr(t,e,6,u)&&(p=!0,m=ji(t,f,e,6,u,m)),g>7&&vr(t,e,7,c)&&(p=!0,m=ji(t,f,e,7,c,m)),g>8&&vr(t,e,8,l)&&(p=!0,m=ji(t,f,e,8,l,m)),g>9&&vr(t,e,9,h)&&(p=!0,m=ji(t,f,e,9,h,m)),m&&d.ngOnChanges(m),65536&e.flags&&ir(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,c,l,h){const f=e.bindings;let d=!1;const p=f.length;if(p>0&&yr(t,e,0,n)&&(d=!0),p>1&&yr(t,e,1,r)&&(d=!0),p>2&&yr(t,e,2,i)&&(d=!0),p>3&&yr(t,e,3,o)&&(d=!0),p>4&&yr(t,e,4,s)&&(d=!0),p>5&&yr(t,e,5,a)&&(d=!0),p>6&&yr(t,e,6,u)&&(d=!0),p>7&&yr(t,e,7,c)&&(d=!0),p>8&&yr(t,e,8,l)&&(d=!0),p>9&&yr(t,e,9,h)&&(d=!0),d){const d=ur(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=new Array(f.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=o),p>4&&(m[4]=s),p>5&&(m[5]=a),p>6&&(m[6]=u),p>7&&(m[7]=c),p>8&&(m[8]=l),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[f[0].name]=n),p>1&&(m[f[1].name]=r),p>2&&(m[f[2].name]=i),p>3&&(m[f[3].name]=o),p>4&&(m[f[4].name]=s),p>5&&(m[f[5].name]=a),p>6&&(m[f[6].name]=u),p>7&&(m[f[7].name]=c),p>8&&(m[f[8].name]=l),p>9&&(m[f[9].name]=h);break;case 128:const t=n;switch(p){case 1:m=t.transform(n);break;case 2:m=t.transform(r);break;case 3:m=t.transform(r,i);break;case 4:m=t.transform(r,i,o);break;case 5:m=t.transform(r,i,o,s);break;case 6:m=t.transform(r,i,o,s,a);break;case 7:m=t.transform(r,i,o,s,a,u);break;case 8:m=t.transform(r,i,o,s,a,u,c);break;case 9:m=t.transform(r,i,o,s,a,u,c,l);break;case 10:m=t.transform(r,i,o,s,a,u,c,l,h)}}d.value=m}return d}(t,e,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,c,l,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)ds(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)yr(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=ks(n[t],r[t]);i=e.text.prefix+i;const o=or(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=ar(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)vr(t,e,a,n[a])&&(o=!0,s=ji(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&ir(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)yr(t,e,o,n[o])&&(i=!0);if(i){const i=ur(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);o=t.transform(...e)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Bs(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=sr(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,wr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function zs(t,e,n,r,i,o,s,a,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){const f=e.bindings.length;f>0&&br(t,e,0,n),f>1&&br(t,e,1,r),f>2&&br(t,e,2,i),f>3&&br(t,e,3,o),f>4&&br(t,e,4,s),f>5&&br(t,e,5,a),f>6&&br(t,e,6,u),f>7&&br(t,e,7,c),f>8&&br(t,e,8,l),f>9&&br(t,e,9,h)}(t,e,r,i,o,s,a,u,c,l,h,f):function(t,e,n){for(let r=0;r<n.length;r++)br(t,e,r,n[r])}(t,e,r),!1}function qs(t,e){if(cr(t,e.nodeIndex).dirty)throw tr(lr.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Vs(t){if(!(128&t.state)){if(Ws(t,Hs.Destroy),Gs(t,Hs.Destroy),Ui(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Sr(t);if(e){const n=e.template._projectedViews;n&&(Y(n,n.indexOf(t)),lr.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(sr(t,n).renderElement):2&e.flags?t.renderer.destroyNode(or(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&cr(t,n).destroy()}}(t),Tr(t)&&t.renderer.destroy(),t.state|=128}}const Hs=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Gs(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Ks(sr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Ws(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=sr(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Ks(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ks(t,e){const n=t.state;switch(e){case Hs.CheckNoChanges:0==(128&n)&&(12==(12&n)?js(t):64&n&&Ys(t,Hs.CheckNoChangesProjectedViews));break;case Hs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?js(t):64&n&&Ys(t,e));break;case Hs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Us(t):64&n&&Ys(t,Hs.CheckAndUpdateProjectedViews));break;case Hs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Us(t):64&n&&Ys(t,e));break;case Hs.Destroy:Vs(t);break;case Hs.CreateViewNodes:Ls(t)}}function Ys(t,e){Ws(t,e),Gs(t,e)}function $s(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(lr.setCurrentNode(t,i.nodeIndex),r){case 0:gs(t,i);break;case 1:qs(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let Zs=!1;function Qs(t,e,n,r,i,o){const s=i.injector.get(An);return Ps(Js(t,i,s,e,n),r,o)}function Xs(t,e,n,r,i,o){const s=i.injector.get(An),a=Js(t,i,new Ra(s),e,n),u=ca(r);return Aa(ma.create,Ps,null,[a,u,o])}function Js(t,e,n,r,i){const o=e.injector.get(ve),s=e.injector.get(Vt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function ta(t,e,n,r){const i=ca(n);return Aa(ma.create,Rs,null,[t,e,i,r])}function ea(t,e,n,r){return n=oa.get(e.element.componentProvider.provider.token)||ca(n),Aa(ma.create,Ns,null,[t,e,n,r])}function na(t,e,n,r){return pi(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===ra.size||(t.providers.forEach(t=>{const r=ra.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{ia.forEach((r,i)=>{S(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=ra.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Or(i.deps),r.value=i.value)}if(ia.size>0){let e=new Set(t.modules);ia.forEach((r,i)=>{if(e.has(S(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Or(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[dr(i)]=e}})}}(t=t.factory(()=>hr)),t):t}(r))}const ra=new Map,ia=new Map,oa=new Map;function sa(t){let e;ra.set(t.token,t),"function"==typeof t.token&&(e=S(t.token))&&"function"==typeof e.providedIn&&ia.set(t.token,t)}function aa(t,e){const n=Nr(e.viewDefFactory),r=Nr(n.nodes[0].element.componentView);oa.set(t,r)}function ua(){ra.clear(),ia.clear(),oa.clear()}function ca(t){if(0===ra.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ra.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>hr);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=ra.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Or(n.deps),t.value=n.value)}}}}function la(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=t.def.nodes[e];return Fs(t,d,n,r,i,o,s,a,u,c,l,h,f),224&d.flags?ur(t,e).value:void 0}function ha(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=t.def.nodes[e];return zs(t,d,n,r,i,o,s,a,u,c,l,h,f),224&d.flags?ur(t,e).value:void 0}function fa(t){return Aa(ma.detectChanges,Us,null,[t])}function da(t){return Aa(ma.checkNoChanges,js,null,[t])}function pa(t){return Aa(ma.destroy,Vs,null,[t])}const ma=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let ga,va,ya;function ba(t,e){va=t,ya=e}function _a(t,e,n,r){return ba(t,e),Aa(ma.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function wa(t,e){if(128&t.state)throw nr(ma[ga]);return ba(t,xa(t,0)),t.def.updateDirectives((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Sa(t,o,r,i):Ia(t,o,r,i),16384&o.flags&&ba(t,xa(t,n)),224&o.flags?ur(t,o.nodeIndex).value:void 0}),t)}function Ea(t,e){if(128&t.state)throw nr(ma[ga]);return ba(t,Ta(t,0)),t.def.updateRenderer((function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Sa(t,o,r,i):Ia(t,o,r,i),3&o.flags&&ba(t,Ta(t,n)),224&o.flags?ur(t,o.nodeIndex).value:void 0}),t)}function Sa(t,e,n,r){if(Fs(t,e,n,...r)){const o=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=o[t];8&r.flags&&(n[(i=r.nonMinifiedName,"ng-reflect-"+i.replace(/[$@]/g,"_").replace(we,(...t)=>"-"+t[1].toLowerCase()))]=Ee(s))}const r=e.parent,s=sr(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}var i}function Ia(t,e,n,r){zs(t,e,n,...r)}function xa(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ta(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class ka{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ir(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return sr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return ci(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Ca(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Ca(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Tr(t);)t=t.parent;return t.parent?sr(t.parent,Ir(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?xr(this.view,this.nodeDef):xr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?t.error.bind(t,...e):hr)),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Ca(t,e,n){for(let r in e.references)n[r]=ys(t,e,e.references[r])}function Aa(t,e,n,r){const i=ga,o=va,s=ya;try{ga=t;const a=e.apply(n,r);return va=o,ya=s,ga=i,a}catch(a){if(Bt(a)||!va)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),er(t,e),t}(a,Oa())}}function Oa(){return va?new ka(va,ya):null}class Ra{constructor(t){this.delegate=t}createRenderer(t,e){return new Pa(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Pa{constructor(t){this.delegate=t,this.debugContextFactory=Oa,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=ts(t);!function(t){Jo.delete(t.nativeNode)}(e),e instanceof Qo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new Xo(n,null,r);e.name=t,es(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&es(new Qo(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&es(new Qo(e,null,n)),e}appendChild(t,e){const n=ts(t),r=ts(e);n&&r&&n instanceof Xo&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=ts(t),i=ts(e),o=ts(n);r&&i&&r instanceof Xo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=ts(t),r=ts(e);n&&r&&n instanceof Xo&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Oa();return r&&es(new Xo(n,null,r)),n}setAttribute(t,e,n,r){const i=ts(t);i&&i instanceof Xo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=ts(t);r&&r instanceof Xo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=ts(t);n&&n instanceof Xo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=ts(t);n&&n instanceof Xo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=ts(t);i&&i instanceof Xo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=ts(t);r&&r instanceof Xo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=ts(t);r&&r instanceof Xo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=ts(t);r&&r.listeners.push(new Zo(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Na(t,e,n){return new Ma(t,e,n)}class Ma extends W{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Zs)return;Zs=!0;const t=Wt()?{setCurrentNode:ba,createRootView:Xs,createEmbeddedView:ta,createComponentView:ea,createNgModuleRef:na,overrideProvider:sa,overrideComponentView:aa,clearOverrides:ua,checkAndUpdateView:fa,checkNoChangesView:da,destroyView:pa,createDebugContext:(t,e)=>new ka(t,e),handleEvent:_a,updateDirectives:wa,updateRenderer:Ea}:{setCurrentNode:()=>{},createRootView:Qs,createEmbeddedView:Rs,createComponentView:Ns,createNgModuleRef:pi,overrideProvider:hr,overrideComponentView:hr,clearOverrides:hr,checkAndUpdateView:Us,checkNoChangesView:js,destroyView:Vs,createDebugContext:(t,e)=>new ka(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?la:ha,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?la:ha,t)};lr.setCurrentNode=t.setCurrentNode,lr.createRootView=t.createRootView,lr.createEmbeddedView=t.createEmbeddedView,lr.createComponentView=t.createComponentView,lr.createNgModuleRef=t.createNgModuleRef,lr.overrideProvider=t.overrideProvider,lr.overrideComponentView=t.overrideComponentView,lr.clearOverrides=t.clearOverrides,lr.checkAndUpdateView=t.checkAndUpdateView,lr.checkNoChangesView=t.checkNoChangesView,lr.destroyView=t.destroyView,lr.resolveDep=Di,lr.createDebugContext=t.createDebugContext,lr.handleEvent=t.handleEvent,lr.updateDirectives=t.updateDirectives,lr.updateRenderer=t.updateRenderer,lr.dirtyParentQueries=ms}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Nr(this._ngModuleDefFactory));return lr.createNgModuleRef(this.moduleType,t||Ve.NULL,this._bootstrapComponents,e)}}},"9ppp":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);const i=r},B9Yq:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},BaDc:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DQLy"),i=n("Z0Sn"),o=n("Bhw0");const s=Object(r.w)(o.a,Object(r.z)(i.a.setUser,(t,e)=>Object.assign({},t,{user:e.payload})));function a(t,e){return s(t,e)}},Bhw0:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={user:void 0,userLocation:void 0,locationPermission:void 0}},CRDf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kJWO");const i=t=>e=>{const n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),s=n("kJWO"),a=n("Lhse"),u=n("yCtX"),c=n("quSY"),l=n("a7t3"),h=n("pLzU"),f=n("CRDf"),d=n("SeVD");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(e?n=>{const r=new c.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?n=>{const r=new c.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:Object(l.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?n=>{const r=new c.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",(function(){return p}))},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=Array.isArray||(t=>t&&"number"==typeof t.length)},DQLy:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("2Vo4"),o=n("HDdC"),s=n("XNiG"),a=n("qgXg"),u=n("pxpQ"),c=n("zp1y"),l=n("Kqap"),h=n("lJxs"),f=n("/uUt");n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return M})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return G})),n.d(e,"h",(function(){return H})),n.d(e,"i",(function(){return V})),n.d(e,"j",(function(){return T})),n.d(e,"k",(function(){return W})),n.d(e,"l",(function(){return Y})),n.d(e,"m",(function(){return K})),n.d(e,"n",(function(){return Z})),n.d(e,"o",(function(){return wt})),n.d(e,"p",(function(){return _t})),n.d(e,"q",(function(){return N})),n.d(e,"r",(function(){return L})),n.d(e,"s",(function(){return B})),n.d(e,"t",(function(){return z})),n.d(e,"u",(function(){return p})),n.d(e,"v",(function(){return rt})),n.d(e,"w",(function(){return At})),n.d(e,"x",(function(){return q})),n.d(e,"y",(function(){return et})),n.d(e,"z",(function(){return Ct})),n.d(e,"A",(function(){return m})),n.d(e,"B",(function(){return Q})),n.d(e,"C",(function(){return dt})),n.d(e,"D",(function(){return pt})),n.d(e,"E",(function(){return mt})),n.d(e,"F",(function(){return vt})),n.d(e,"G",(function(){return yt})),n.d(e,"H",(function(){return bt})),n.d(e,"I",(function(){return b})),n.d(e,"J",(function(){return _})),n.d(e,"K",(function(){return S})),n.d(e,"L",(function(){return x})),n.d(e,"M",(function(){return k})),n.d(e,"N",(function(){return C})),n.d(e,"O",(function(){return A})),n.d(e,"P",(function(){return O})),n.d(e,"Q",(function(){return R})),n.d(e,"R",(function(){return D})),n.d(e,"S",(function(){return j})),n.d(e,"T",(function(){return U})),n.d(e,"U",(function(){return F})),n.d(e,"V",(function(){return Et})),n.d(e,"W",(function(){return St})),n.d(e,"X",(function(){return It})),n.d(e,"Y",(function(){return xt})),n.d(e,"Z",(function(){return Tt})),n.d(e,"ab",(function(){return kt}));let d={};function p(t,e){if(d[t]=(d[t]||0)+1,"function"==typeof e)return g(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return g(t,()=>({type:t}));case"props":return g(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function m(){return{_as:"props",_p:void 0}}function g(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const v="@ngrx/store/init";class y extends i.a{constructor(){super({type:v})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}const b=new r.o("@ngrx/store Internal Root Guard"),_=new r.o("@ngrx/store Internal Initial State"),w=new r.o("@ngrx/store Initial State"),E=new r.o("@ngrx/store Reducer Factory"),S=new r.o("@ngrx/store Internal Reducer Factory Provider"),I=new r.o("@ngrx/store Initial Reducers"),x=new r.o("@ngrx/store Internal Initial Reducers"),T=new r.o("@ngrx/store Store Features"),k=new r.o("@ngrx/store Internal Store Reducers"),C=new r.o("@ngrx/store Internal Feature Reducers"),A=new r.o("@ngrx/store Internal Feature Configs"),O=new r.o("@ngrx/store Internal Store Features"),R=new r.o("@ngrx/store Internal Feature Reducers Token"),P=new r.o("@ngrx/store Feature Reducers"),N=new r.o("@ngrx/store User Provided Meta Reducers"),M=new r.o("@ngrx/store Meta Reducers"),D=new r.o("@ngrx/store Internal Resolved Meta Reducers"),L=new r.o("@ngrx/store User Runtime Checks Config"),j=new r.o("@ngrx/store Internal User Runtime Checks Config"),U=new r.o("@ngrx/store Internal Runtime Checks"),F=new r.o("@ngrx/store Check if Action types are unique");function B(t,e={}){const n=Object.keys(t),r={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let o=!1;const s={};for(let e=0;e<i.length;e++){const a=i[e],u=t[a],c=(0,r[a])(u,n);s[a]=c,o=o||c!==u}return o?s:t}}function z(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function q(t,e){return Array.isArray(e)&&e.length>0&&(t=z.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class V extends o.a{}class H extends y{}class G extends i.a{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:o})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?z(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):q(n,r)(e,i);return t[o]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}class W extends s.a{ngOnDestroy(){this.complete()}}class K extends o.a{}let Y=(()=>{class t extends i.a{constructor(t,e,n,r){super(r);const i={state:r},o=t.pipe(Object(u.b)(a.a)).pipe(Object(c.a)(e)).pipe(Object(l.a)($,i));this.stateSubscription=o.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.INIT=v,t})();function $(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}class Z extends o.a{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return Q.call(null,t,...e)(this)}lift(t){const e=new Z(this,this.actionsObserver,this.reducerManager);return e.operator=t,e}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}function Q(t,e,...n){return function(r){let i;if("string"==typeof t){const o=[e,...n].filter(Boolean);i=r.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(h.a)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=r[t[i]];if(void 0===e)return;r=e}return r}}(t,e))(n)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);i=r.pipe(Object(h.a)(n=>t(n,e)))}return i.pipe(Object(f.a)())}}function X(t,e){return t===e}function J(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function tt(t,e=X,n=X){let r,i=null,o=null;return{memoized:function(){if(void 0!==r)return r.result;if(!i)return o=t.apply(null,arguments),i=arguments,o;if(!J(arguments,i,e))return o;const s=t.apply(null,arguments);return i=arguments,n(o,s)?o:(o=s,s)},reset:function(){i=null,o=null},setResult:function(t){r={result:t}},clearResult:function(){r=void 0}}}function et(...t){return function(t,e={stateFn:nt}){return function(...n){let r=n;if(Array.isArray(r[0])){const[t,...e]=r;r=[...t,...e]}const i=r.slice(0,r.length-1),o=r[r.length-1],s=i.filter(t=>t.release&&"function"==typeof t.release),a=t((function(...t){return o.apply(null,t)})),u=tt((function(t,n){return e.stateFn.apply(null,[t,i,n,a])}));return Object.assign(u.memoized,{release:function(){u.reset(),a.reset(),s.forEach(t=>t.release())},projector:a.memoized,setResult:u.setResult,clearResult:u.clearResult})}}(tt)(...t)}function nt(t,e,n,r){if(void 0===n){const n=e.map(e=>e(t));return r.memoized.apply(null,n)}const i=e.map(e=>e(t,n));return r.memoized.apply(null,[...i,n])}function rt(t){return et(e=>{const n=e[t];return!Object(r.W)()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}const it="https://ngrx.io/guide/store/configuration/runtime-checks";function ot(t){return void 0===t}function st(t){return null===t}function at(t){return Array.isArray(t)}function ut(t){return"object"==typeof t&&null!==t}function ct(t){return"function"==typeof t}function lt(t){Object.freeze(t);const e=ct(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!ut(e)&&!ct(e)||Object.isFrozen(e)||lt(e)}}),t}function ht(t,e=[]){return(ot(t)||st(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return function(t){return ct(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(ot(i)||st(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||at(i))&&(function(t){if(!function(t){return ut(t)&&!at(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?ht(i,[...e,r]):{path:[...e,r],value:i})},!1)}function ft(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${it}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function dt(t){return Object(r.W)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function pt({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action(r)&&ft(ht(r),"action");const i=t(n,r);return e.state()&&ft(ht(i),"state"),i}}(n,{action:e=>t&&!gt(e),state:()=>e}):n}function mt({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action(r)?lt(r):r,o=t(n,i);return e.state()?lt(o):o}}(n,{action:e=>t&&!gt(e),state:()=>e}):n}function gt(t){return t.type.startsWith("@ngrx")}function vt({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!r.x.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${it}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!gt(e)}):e}function yt(t){return t}function bt(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(d).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${it}#strictactiontypeuniqueness`)}class _t{constructor(t,e,n,r,i,o){}}class wt{constructor(t,e,n,r,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const o=t.map((t,n)=>{const r=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:r,initialState:xt(t.initialState)})});n.addFeatures(o)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}function Et(t,e){return e instanceof r.o?t.get(e):e}function St(t,e,n){return n.map((n,i)=>{if(e[i]instanceof r.o){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:B,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function It(t,e){return e.map(e=>e instanceof r.o?t.get(e):e)}function xt(t){return"function"==typeof t?t():t}function Tt(t,e){return t.concat(e)}function kt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ct(...t){return{reducer:t.pop(),types:t.reduce((t,e)=>[...t,e.type],[])}}function At(t,...e){const n=new Map;for(let r of e)for(let t of r.types)if(n.has(t)){const e=n.get(t);n.set(t,(t,n)=>r.reducer(e(t,n),n))}else n.set(t,r.reducer);return function(e=t,r){const i=n.get(r.type);return i?i(e,r):e}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},"F/NL":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=t.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},t.prototype.setBuffer=t.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},t.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},GS7A:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return s})),n.d(e,"d",(function(){return g})),n.d(e,"n",(function(){return v})),n.d(e,"o",(function(){return y}));class r{}class i{}const o="*";function s(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function u(t,e=null){return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function l(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t){return{type:5,steps:t}}function f(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function d(t=null){return{type:9,options:t}}function p(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function m(t){Promise.resolve(null).then(t)}class g{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class v{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?m(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const y="!"},GrFz:function(t,e,n){"use strict";var r=n("mrSG"),i=n("zIRd"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var l=n("qOnz"),h=n("/6Yf"),f=function(t){function e(n,r){var i=t.call(this,d(n),"Firebase Storage: "+r+" ("+d(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return d(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(l.c);function d(t){return"storage/"+t}function p(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")}function m(){return new f("canceled","User canceled the upload/download.")}function g(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function v(t){return new f("invalid-argument",t)}function y(){return new f("app-deleted","The Firebase app was deleted.")}function b(t){return new f("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _(t,e){return new f("invalid-format","String does not match format '"+t+"': "+e)}function w(t){throw new f("internal-error","Internal error: "+t)}var E={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},S=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function I(t,e){switch(t){case E.RAW:return new S(x(e));case E.BASE64:case E.BASE64URL:return new S(T(t,e));case E.DATA_URL:return new S((n=new k(e)).base64?T(E.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw _(E.DATA_URL,"Malformed data URL.")}return x(e)}(n.rest),function(t){return new k(t).contentType}(e))}var n;throw p()}function x(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function T(t,e){switch(t){case E.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw _(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case E.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw _(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw _(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var k=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(E.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),C={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function A(t){switch(t){case"running":case"pausing":case"canceling":return C.RUNNING;case"paused":return C.PAUSED;case"success":return C.SUCCESS;case"canceled":return C.CANCELED;case"error":default:return C.ERROR}}var O=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),R=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=O.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=O.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=O.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),P=function(){function t(){}return t.prototype.createConnection=function(){return new R},t}(),N=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new f("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new f("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),M=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function D(t){return"string"==typeof t||t instanceof String}function L(t){return j()&&t instanceof Blob}function j(){return"undefined"!=typeof Blob}function U(t,e,n,r){if(r<e)throw v("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw v("Invalid value for '"+t+"'. Expected "+n+" or less.")}function F(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function B(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var z=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(u){o(u)}else null!==s?((r=p()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?y():m():new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new q(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function f(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new q(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===O.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new q(s,r))}else{var a=r.getErrorCode()===O.ABORT;e(!1,new q(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,c([null,t],e));else{var r,o=u()||s;o?h.call.apply(h,c([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function m(t){p||(p=!0,l||(null!==o?(t||(a=2),clearTimeout(o),f(0)):t||(a=1)))}return f(0),setTimeout((function(){s=!0,m(!0)}),r),m}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),q=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function V(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=V();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(j())return new Blob(t);throw new f("unsupported-environment","This browser doesn't seem to support creating Blobs")}var G=function(){function t(t,e){var n=0,r="";L(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(L(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(j()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(H.apply(null,r))}var i=e.map((function(t){return D(t)?I(E.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function W(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function K(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Y(t,e){return e}var $=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Y}}(),Z=null;function Q(){if(Z)return Z;var t=[];t.push(new $("bucket")),t.push(new $("generation")),t.push(new $("metageneration")),t.push(new $("name","fullPath",!0));var e=new $("name");e.xform=function(t,e){return function(t){return!D(t)||t.length<2?t:K(t)}(e)},t.push(e);var n=new $("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new $("timeCreated")),t.push(new $("updated")),t.push(new $("md5Hash",null,!0)),t.push(new $("cacheControl",null,!0)),t.push(new $("contentDisposition",null,!0)),t.push(new $("contentEncoding",null,!0)),t.push(new $("contentLanguage",null,!0)),t.push(new $("contentType",null,!0)),t.push(new $("metadata","customMetadata",!0)),Z=t}function X(t,e,n){var r=W(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new N(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function J(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var tt=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function et(t){if(!t)throw p()}function nt(t,e){return function(n,r){var i=X(t,r,e);return et(null!==i),i}}function rt(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new f("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new f("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new f("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function it(t){var e=rt(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new f("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ot(t,e,n){var r=F(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new tt(r,"GET",nt(t,n),i);return o.errorHandler=it(e),o}function st(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var at=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function ut(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){et(!1)}return et(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ct=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function lt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ht=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Q(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=st(e,r,i),a={name:s.fullPath},u=F(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=J(s,n),h=new tt(u,"POST",(function(t){var e;ut(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){et(!1)}return et(D(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=rt(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new tt(n,"POST",(function(t){var e=ut(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){et(!1)}n||et(!1);var i=Number(n);return et(!isNaN(i)),new at(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=rt(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new at(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new at(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,h+l);if(null===p)throw g();var m=new tt(n,"POST",(function(t,n){var i,s=ut(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?nt(e,o)(t,n):null,new at(a,c,"final"===s,i)}),e.maxUploadRetryTime);return m.headers=d,m.body=p.uploadData(),m.progressCallback=a||null,m.errorHandler=rt(t),m}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=ot(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=st(e,r,i),c=J(u,n),l=G.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw g();var h={name:u.fullPath},f=F(o,t.host),d=t.maxUploadRetryTime,p=new tt(f,"POST",nt(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=rt(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=m(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=A(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ct(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(A(this._state)){case C.SUCCESS:lt(this._resolve.bind(null,this.snapshot))();break;case C.CANCELED:case C.ERROR:lt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(A(this._state)){case C.RUNNING:case C.PAUSED:t.next&&lt(t.next.bind(t,this.snapshot))();break;case C.SUCCESS:t.complete&&lt(t.complete.bind(t))();break;case C.CANCELED:case C.ERROR:t.error&&lt(t.error.bind(t,this._error))();break;default:t.error&&lt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ft=function(){function t(t,e){this._service=t,this._location=e instanceof N?e:N.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new N(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return K(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new N(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw b(t)},t}();function dt(t,e){return a(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&U("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=F(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new tt(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=W(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new N(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new N(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return et(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=rt(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function pt(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new N(t._location.bucket,n);return new ft(t.storage,r)}function mt(t){return/^[A-Za-z]+:\/\//.test(t)}function gt(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:N.makeFromBucketSpec(n,t)}var vt=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?N.makeFromBucketSpec(i,this._host):gt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?N.makeFromBucketSpec(this._url,t):gt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){U("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){U("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return a(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return a(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new ft(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new M(y());var i=function(t,e,n,r,i,o){var s=B(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new z(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function yt(t,e){return function(t,e){if(e&&mt(e)){if(t instanceof vt)return new ft(t,e);throw v("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof vt){var r=e;if(null==r._bucket)throw new f("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ft(r,r._bucket);return null!=n?t(i,n):i}return void 0!==n?pt(e,n):e}(t,e)}(t=Object(l.i)(t),e)}var bt,_t,wt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Et=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new wt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new wt(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new wt(t,i,i._ref))}:{next:e.next?function(t){return e.next(new wt(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),St=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new It(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new It(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),It=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return pt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Et(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new ht(t,new G(e),n)}(t=Object(l.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=E.RAW),this._throwIfRoot("putString");var r=I(e,t),i=s({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Et(new ht(this._delegate,new G(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return a(this,void 0,void 0,(function(){var i,o,s;return u(this,(function(a){switch(a.label){case 0:return[4,dt(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(l.i)(t))).then((function(t){return new St(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return dt(t=Object(l.i)(t),e)}(this._delegate,t||void 0).then((function(t){return new St(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=ot(t.storage,t._location,Q()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(l.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return a(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=F(e.fullServerUrl(),t.host),o=J(n,r),s=t.maxOperationRetryTime,a=new tt(i,"PATCH",nt(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=it(e),a}(t.storage,t._location,e,Q()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(l.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=F(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new tt(r,"GET",function(t,e){return function(n,r){var i=X(t,r,e);return et(null!==i),function(t,e,n){var r=W(e);if(null===r)return null;if(!D(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return F("/b/"+o(t.bucket)+"/o/"+o(r),n)+B({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=it(e),o}(t.storage,t._location,Q()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new f("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(l.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return a(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=F(e.fullServerUrl(),t.host),r=new tt(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=it(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(l.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw b(t)},t}(),xt=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(mt(t))throw v("ref() expected a child path but got a URL, use refFromURL instead.");return new It(yt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!mt(t))throw v("refFromURL() expected a full URL but got a child path, use ref() instead.");try{N.makeFromUrl(t,this._delegate.host)}catch(e){throw v("refFromUrl() expected a valid full URL but got an invalid one.")}return new It(yt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object(l.e)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();_t={TaskState:C,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:E,Storage:vt,Reference:It},(bt=i.a).INTERNAL.registerComponent(new h.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new xt(r,new vt(r,o,s,new P,n,i.a.SDK_VERSION))}),"PUBLIC").setServiceProps(_t).setMultipleInstances(!0)),bt.registerVersion("@firebase/storage","0.7.1");var Tt=n("8Y7J"),kt=n("Z2Br");n.d(e,"a",(function(){return Ct}));let Ct=(()=>{class t{constructor(t){this.firebaseService=t,this.storage=this.firebaseService.firebase.storage()}uploadFile(t,e="image.jpg",n="uploads"){return this.storage.ref().child(n).child(e).put(t)}uploadZip(t,e="file.zip"){return this.storage.ref().child("uploadZips").child(e).put(t)}deleteFile(t="image.jpg"){return r.a(this,void 0,void 0,(function*(){return this.storage.ref().child("uploads/"+t).delete().catch(t=>{if("storage/object-not-found"!==t.code)throw t})}))}}return t.ngInjectableDef=Tt.Rb({factory:function(){return new t(Tt.Sb(kt.a))},token:t,providedIn:"root"}),t})()},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(...t){return Object(i.a)()(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return c}));let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",(function(){return i}));class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function s(t){return function(e){const n=new a(t),r=e.lift(n);return n.caught=r}}class a{constructor(t){this.selector=t}call(t,e){return e.subscribe(new u(t,this.selector,this.caught))}}class u extends r.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new i.a(this,void 0,void 0);this.add(r),Object(o.a)(this,n,void 0,void 0,r)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("yCtX"),i=n("XUOw"),o=n("EY2u"),s=n("GyhO"),a=n("z+Ro");function u(...t){return e=>{let n=t[t.length-1];Object(a.a)(n)?t.pop():n=null;const u=t.length;return 1!==u||n?u>0?Object(s.a)(Object(r.a)(t,n),e):Object(s.a)(Object(o.b)(n),e):Object(s.a)(Object(i.a)(t[0]),e)}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.10.1","app"),r.a.SDK_VERSION="8.10.1"},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),s=n("XUOw");function a(...t){let e=t[t.length-1];switch(Object(r.a)(e)?t.pop():e=void 0,t.length){case 0:return Object(o.b)(e);case 1:return e?Object(i.a)(t,e):Object(s.a)(t[0]);default:return Object(i.a)(t,e)}}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},LvDl:function(t,e,n){(function(t){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",m="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",w="[object WeakMap]",E="[object ArrayBuffer]",S="[object DataView]",I="[object Float32Array]",x="[object Float64Array]",T="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",O="[object Uint16Array]",R="[object Uint32Array]",P=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,j=RegExp(D.source),U=RegExp(L.source),F=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,W=RegExp(G.source),K=/^\s+/,Y=/\s/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,J=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="["+ft+"]",pt="["+ht+"]",mt="\\d+",gt="[a-z\\xdf-\\xf6\\xf8-\\xff]",vt="[^\\ud800-\\udfff"+ft+mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",yt="\\ud83c[\\udffb-\\udfff]",bt="[^\\ud800-\\udfff]",_t="(?:\\ud83c[\\udde6-\\uddff]){2}",wt="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",St="(?:"+gt+"|"+vt+")",It="(?:"+Et+"|"+vt+")",xt="(?:"+pt+"|"+yt+")?",Tt="[\\ufe0e\\ufe0f]?"+xt+"(?:\\u200d(?:"+[bt,_t,wt].join("|")+")[\\ufe0e\\ufe0f]?"+xt+")*",kt="(?:"+["[\\u2700-\\u27bf]",_t,wt].join("|")+")"+Tt,Ct="(?:"+[bt+pt+"?",pt,_t,wt,"[\\ud800-\\udfff]"].join("|")+")",At=RegExp("['\u2019]","g"),Ot=RegExp(pt,"g"),Rt=RegExp(yt+"(?="+yt+")|"+Ct+Tt,"g"),Pt=RegExp([Et+"?"+gt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[dt,Et,"$"].join("|")+")",It+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[dt,Et+St,"$"].join("|")+")",Et+"?"+St+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Et+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mt,kt].join("|"),"g"),Nt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Mt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,jt={};jt[I]=jt[x]=jt[T]=jt[k]=jt[C]=jt[A]=jt["[object Uint8ClampedArray]"]=jt[O]=jt[R]=!0,jt[a]=jt[u]=jt[E]=jt[c]=jt[S]=jt[l]=jt[h]=jt[f]=jt[p]=jt[m]=jt[g]=jt[v]=jt[y]=jt[b]=jt[w]=!1;var Ut={};Ut[a]=Ut[u]=Ut[E]=Ut[S]=Ut[c]=Ut[l]=Ut[I]=Ut[x]=Ut[T]=Ut[k]=Ut[C]=Ut[p]=Ut[m]=Ut[g]=Ut[v]=Ut[y]=Ut[b]=Ut[_]=Ut[A]=Ut["[object Uint8ClampedArray]"]=Ut[O]=Ut[R]=!0,Ut[h]=Ut[f]=Ut[w]=!1;var Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,zt=parseInt,qt="object"==typeof global&&global&&global.Object===Object&&global,Vt="object"==typeof self&&self&&self.Object===Object&&self,Ht=qt||Vt||Function("return this")(),Gt=e&&!e.nodeType&&e,Wt=Gt&&"object"==typeof t&&t&&!t.nodeType&&t,Kt=Wt&&Wt.exports===Gt,Yt=Kt&&qt.process,$t=function(){try{return Wt&&Wt.require&&Wt.require("util").types||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),Zt=$t&&$t.isArrayBuffer,Qt=$t&&$t.isDate,Xt=$t&&$t.isMap,Jt=$t&&$t.isRegExp,te=$t&&$t.isSet,ee=$t&&$t.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ae(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function ue(t,e){return!(null==t||!t.length)&&ye(t,e,0)>-1}function ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function he(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function de(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var me=Ee("length");function ge(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function ve(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ye(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ve(t,_e,n)}function be(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function _e(t){return t!=t}function we(t,e){var n=null==t?0:t.length;return n?xe(t,e)/n:NaN}function Ee(t){return function(e){return null==e?void 0:e[t]}}function Se(t){return function(e){return null==t?void 0:t[e]}}function Ie(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function xe(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Te(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ke(t){return t?t.slice(0,Ge(t)+1).replace(K,""):t}function Ce(t){return function(e){return t(e)}}function Ae(t,e){return le(e,(function(e){return t[e]}))}function Oe(t,e){return t.has(e)}function Re(t,e){for(var n=-1,r=t.length;++n<r&&ye(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length;n--&&ye(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Me=Se({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),De=Se({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Ft[t]}function je(t){return Nt.test(t)}function Ue(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Fe(t,e){return function(n){return t(e(n))}}function Be(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n];a!==e&&a!==o||(t[n]=o,s[i++]=n)}return s}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ve(t){return je(t)?function(t){for(var e=Rt.lastIndex=0;Rt.test(t);)++e;return e}(t):me(t)}function He(t){return je(t)?function(t){return t.match(Rt)||[]}(t):function(t){return t.split("")}(t)}function Ge(t){for(var e=t.length;e--&&Y.test(t.charAt(e)););return e}var We=Se({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ke=function t(e){var n,r=(e=null==e?Ht:Ke.defaults(Ht.Object(),e,Ke.pick(Ht,Dt))).Array,Y=e.Date,ht=e.Error,ft=e.Function,dt=e.Math,pt=e.Object,mt=e.RegExp,gt=e.String,vt=e.TypeError,yt=r.prototype,bt=pt.prototype,_t=e["__core-js_shared__"],wt=ft.prototype.toString,Et=bt.hasOwnProperty,St=0,It=(n=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",xt=bt.toString,Tt=wt.call(pt),kt=Ht._,Ct=mt("^"+wt.call(Et).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=Kt?e.Buffer:void 0,Nt=e.Symbol,Ft=e.Uint8Array,qt=Rt?Rt.allocUnsafe:void 0,Vt=Fe(pt.getPrototypeOf,pt),Gt=pt.create,Wt=bt.propertyIsEnumerable,Yt=yt.splice,$t=Nt?Nt.isConcatSpreadable:void 0,me=Nt?Nt.iterator:void 0,Se=Nt?Nt.toStringTag:void 0,Ye=function(){try{var t=Xi(pt,"defineProperty");return t({},"",{}),t}catch(e){}}(),$e=e.clearTimeout!==Ht.clearTimeout&&e.clearTimeout,Ze=Y&&Y.now!==Ht.Date.now&&Y.now,Qe=e.setTimeout!==Ht.setTimeout&&e.setTimeout,Xe=dt.ceil,Je=dt.floor,tn=pt.getOwnPropertySymbols,en=Rt?Rt.isBuffer:void 0,nn=e.isFinite,rn=yt.join,on=Fe(pt.keys,pt),sn=dt.max,an=dt.min,un=Y.now,cn=e.parseInt,ln=dt.random,hn=yt.reverse,fn=Xi(e,"DataView"),dn=Xi(e,"Map"),pn=Xi(e,"Promise"),mn=Xi(e,"Set"),gn=Xi(e,"WeakMap"),vn=Xi(pt,"create"),yn=gn&&new gn,bn={},_n=Co(fn),wn=Co(dn),En=Co(pn),Sn=Co(mn),In=Co(gn),xn=Nt?Nt.prototype:void 0,Tn=xn?xn.valueOf:void 0,kn=xn?xn.toString:void 0;function Cn(t){if(Gs(t)&&!Ms(t)&&!(t instanceof Pn)){if(t instanceof Rn)return t;if(Et.call(t,"__wrapped__"))return Ao(t)}return new Rn(t)}var An=function(){function t(){}return function(e){if(!Hs(e))return{};if(Gt)return Gt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function On(){}function Rn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Pn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Dn;++e<n;)this.add(t[e])}function jn(t){var e=this.__data__=new Mn(t);this.size=e.size}function Un(t,e){var n=Ms(t),r=!n&&Ns(t),i=!n&&!r&&Us(t),o=!n&&!r&&!i&&Js(t),s=n||r||i||o,a=s?Te(t.length,gt):[],u=a.length;for(var c in t)!e&&!Et.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oo(c,u))||a.push(c);return a}function Fn(t){var e=t.length;return e?t[Dr(0,e-1)]:void 0}function Bn(t,e){return So(gi(t),$n(e,0,t.length))}function zn(t){return So(gi(t))}function qn(t,e,n){(void 0!==n&&!Os(t[e],n)||void 0===n&&!(e in t))&&Kn(t,e,n)}function Vn(t,e,n){var r=t[e];Et.call(t,e)&&Os(r,n)&&(void 0!==n||e in t)||Kn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(Os(t[n][0],e))return n;return-1}function Gn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Wn(t,e){return t&&vi(e,wa(e),t)}function Kn(t,e,n){"__proto__"==e&&Ye?Ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,i=e.length,o=r(i),s=null==t;++n<i;)o[n]=s?void 0:ga(t,e[n]);return o}function $n(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,r,i,o){var s,u=1&e,h=2&e,w=4&e;if(n&&(s=i?n(t,r,i,o):n(t)),void 0!==s)return s;if(!Hs(t))return t;var P=Ms(t);if(P){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Et.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return gi(t,s)}else{var N=eo(t),M=N==f||N==d;if(Us(t))return li(t,u);if(N==g||N==a||M&&!i){if(s=h||M?{}:ro(t),!u)return h?function(t,e){return vi(t,to(t),e)}(t,function(t,e){return t&&vi(e,Ea(e),t)}(s,t)):function(t,e){return vi(t,Ji(t),e)}(t,Wn(s,t))}else{if(!Ut[N])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case E:return hi(t);case c:case l:return new r(+t);case S:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case I:case x:case T:case k:case C:case A:case"[object Uint8ClampedArray]":case O:case R:return fi(t,n);case p:return new r;case m:case b:return new r(t);case v:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case _:return Tn?pt(Tn.call(t)):{}}}(t,N,u)}}o||(o=new jn);var D=o.get(t);if(D)return D;o.set(t,s),Zs(t)?t.forEach((function(r){s.add(Zn(r,e,n,r,t,o))})):Ws(t)&&t.forEach((function(r,i){s.set(i,Zn(r,e,n,i,t,o))}));var L=P?void 0:(w?h?Gi:Hi:h?Ea:wa)(t);return ie(L||t,(function(r,i){L&&(r=t[i=r]),Vn(s,i,Zn(r,e,n,i,t,o))})),s}function Qn(t,e,n){var r=n.length;if(null==t)return!r;for(t=pt(t);r--;){var i=n[r],o=t[i];if(void 0===o&&!(i in t)||!(0,e[i])(o))return!1}return!0}function Xn(t,e,n){if("function"!=typeof t)throw new vt(i);return bo((function(){t.apply(void 0,n)}),e)}function Jn(t,e,n,r){var i=-1,o=ue,s=!0,a=t.length,u=[],c=e.length;if(!a)return u;n&&(e=le(e,Ce(n))),r?(o=ce,s=!1):e.length>=200&&(o=Oe,s=!1,e=new Ln(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}Cn.templateSettings={escape:F,evaluate:B,interpolate:z,variable:"",imports:{_:Cn}},(Cn.prototype=On.prototype).constructor=Cn,(Rn.prototype=An(On.prototype)).constructor=Rn,(Pn.prototype=An(On.prototype)).constructor=Pn,Nn.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},Nn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nn.prototype.get=function(t){var e=this.__data__;if(vn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Et.call(e,t)?e[t]:void 0},Nn.prototype.has=function(t){var e=this.__data__;return vn?void 0!==e[t]:Et.call(e,t)},Nn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vn&&void 0===e?"__lodash_hash_undefined__":e,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0||(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,0))},Mn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},Mn.prototype.has=function(t){return Hn(this.__data__,t)>-1},Mn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(dn||Mn),string:new Nn}},Dn.prototype.delete=function(t){var e=Zi(this,t).delete(t);return this.size-=e?1:0,e},Dn.prototype.get=function(t){return Zi(this,t).get(t)},Dn.prototype.has=function(t){return Zi(this,t).has(t)},Dn.prototype.set=function(t,e){var n=Zi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.clear=function(){this.__data__=new Mn,this.size=0},jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},jn.prototype.get=function(t){return this.__data__.get(t)},jn.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!dn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(t,e),this.size=n.size,this};var tr=_i(ur),er=_i(cr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(void 0===a?s==s&&!Xs(s):n(s,a)))var a=s,u=o}return u}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=io),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?or(a,e-1,n,r,i):he(i,a):r||(i[i.length]=a)}return i}var sr=wi(),ar=wi(!0);function ur(t,e){return t&&sr(t,e,wa)}function cr(t,e){return t&&ar(t,e,wa)}function lr(t,e){return ae(e,(function(e){return zs(t[e])}))}function hr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[ko(e[n++])];return n&&n==r?t:void 0}function fr(t,e,n){var r=e(t);return Ms(t)?r:he(r,n(t))}function dr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Se&&Se in pt(t)?function(t){var e=Et.call(t,Se),n=t[Se];try{t[Se]=void 0;var r=!0}catch(o){}var i=xt.call(t);return r&&(e?t[Se]=n:delete t[Se]),i}(t):function(t){return xt.call(t)}(t)}function pr(t,e){return t>e}function mr(t,e){return null!=t&&Et.call(t,e)}function gr(t,e){return null!=t&&e in pt(t)}function vr(t,e,n){for(var i=n?ce:ue,o=t[0].length,s=t.length,a=s,u=r(s),c=1/0,l=[];a--;){var h=t[a];a&&e&&(h=le(h,Ce(e))),c=an(h.length,c),u[a]=!n&&(e||o>=120&&h.length>=120)?new Ln(a&&h):void 0}h=t[0];var f=-1,d=u[0];t:for(;++f<o&&l.length<c;){var p=h[f],m=e?e(p):p;if(p=n||0!==p?p:0,!(d?Oe(d,m):i(l,m,n))){for(a=s;--a;){var g=u[a];if(!(g?Oe(g,m):i(t[a],m,n)))continue t}d&&d.push(m),l.push(p)}}return l}function yr(t,e,n){var r=null==(t=mo(t,e=si(e,t)))?t:t[ko(Bo(e))];return null==r?void 0:ne(r,t,n)}function br(t){return Gs(t)&&dr(t)==a}function _r(t,e,n,r,i){return t===e||(null==t||null==e||!Gs(t)&&!Gs(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var s=Ms(t),f=Ms(e),d=s?u:eo(t),w=f?u:eo(e),I=(d=d==a?g:d)==g,x=(w=w==a?g:w)==g,T=d==w;if(T&&Us(t)){if(!Us(e))return!1;s=!0,I=!1}if(T&&!I)return o||(o=new jn),s||Js(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new Ft(t),new Ft(e)));case c:case l:case m:return Os(+t,+e);case h:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case p:var a=Ue;case y:if(a||(a=ze),t.size!=e.size&&!(1&r))return!1;var u=s.get(t);if(u)return u==e;r|=2,s.set(t,e);var f=qi(a(t),a(e),r,i,o,s);return s.delete(t),f;case _:if(Tn)return Tn.call(t)==Tn.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var k=I&&Et.call(t,"__wrapped__"),C=x&&Et.call(e,"__wrapped__");if(k||C){var A=k?t.value():t,O=C?e.value():e;return o||(o=new jn),i(A,O,n,r,o)}}return!!T&&(o||(o=new jn),function(t,e,n,r,i,o){var s=1&n,a=Hi(t),u=a.length;if(u!=Hi(e).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in e:Et.call(e,l)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=s;++c<u;){var m=t[l=a[c]],g=e[l];if(r)var v=s?r(g,m,l,e,t,o):r(m,g,l,t,e,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,_r,i))}function wr(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=pt(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var u=(a=n[i])[0],c=t[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in t))return!1}else{var h=new jn;if(r)var f=r(c,l,u,t,e,h);if(!(void 0===f?_r(l,c,3,r,h):f))return!1}}return!0}function Er(t){return!(!Hs(t)||(e=t,It&&It in e))&&(zs(t)?Ct:ot).test(Co(t));var e}function Sr(t){return"function"==typeof t?t:null==t?Ka:"object"==typeof t?Ms(t)?Cr(t[0],t[1]):kr(t):nu(t)}function Ir(t){if(!lo(t))return on(t);var e=[];for(var n in pt(t))Et.call(t,n)&&"constructor"!=n&&e.push(n);return e}function xr(t,e){return t<e}function Tr(t,e){var n=-1,i=Ls(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function kr(t){var e=Qi(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function Cr(t,e){return ao(t)&&ho(e)?fo(ko(t),e):function(n){var r=ga(n,t);return void 0===r&&r===e?va(n,t):_r(e,r,3)}}function Ar(t,e,n,r,i){t!==e&&sr(e,(function(o,s){if(i||(i=new jn),Hs(o))!function(t,e,n,r,i,o,s){var a=vo(t,n),u=vo(e,n),c=s.get(u);if(c)qn(t,n,c);else{var l=o?o(a,u,n+"",t,e,s):void 0,h=void 0===l;if(h){var f=Ms(u),d=!f&&Us(u),p=!f&&!d&&Js(u);l=u,f||d||p?Ms(a)?l=a:js(a)?l=gi(a):d?(h=!1,l=li(u,!0)):p?(h=!1,l=fi(u,!0)):l=[]:Ys(u)||Ns(u)?(l=a,Ns(a)?l=aa(a):Hs(a)&&!zs(a)||(l=ro(u))):h=!1}h&&(s.set(u,l),i(l,u,r,o,s),s.delete(u)),qn(t,n,l)}}(t,e,s,n,Ar,r,i);else{var a=r?r(vo(t,s),o,s+"",t,e,i):void 0;void 0===a&&(a=o),qn(t,s,a)}}),Ea)}function Or(t,e){var n=t.length;if(n)return oo(e+=e<0?n:0,n)?t[e]:void 0}function Rr(t,e,n){e=e.length?le(e,(function(t){return Ms(t)?function(e){return hr(e,1===t.length?t[0]:t)}:t})):[Ka];var r=-1;return e=le(e,Ce($i())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=di(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Tr(t,(function(t,n,i){return{criteria:le(e,(function(e){return e(t)})),index:++r,value:t}})))}function Pr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=hr(t,s);n(a,s)&&Br(o,si(s,t),a)}return o}function Nr(t,e,n,r){var i=r?be:ye,o=-1,s=e.length,a=t;for(t===e&&(e=gi(e)),n&&(a=le(t,Ce(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Yt.call(a,u,1),Yt.call(t,u,1);return t}function Mr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;oo(i)?Yt.call(t,i,1):Xr(t,i)}}return t}function Dr(t,e){return t+Je(ln()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Je(e/2))&&(t+=t)}while(e);return n}function jr(t,e){return _o(po(t,e,Ka),t+"")}function Ur(t){return Fn(Oa(t))}function Fr(t,e){var n=Oa(t);return So(n,$n(e,0,n.length))}function Br(t,e,n,r){if(!Hs(t))return t;for(var i=-1,o=(e=si(e,t)).length,s=o-1,a=t;null!=a&&++i<o;){var u=ko(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=s){var l=a[u];void 0===(c=r?r(l,u,a):void 0)&&(c=Hs(l)?l:oo(e[i+1])?[]:{})}Vn(a,u,c),a=a[u]}return t}var zr=yn?function(t,e){return yn.set(t,e),t}:Ka,qr=Ye?function(t,e){return Ye(t,"toString",{configurable:!0,enumerable:!1,value:Ha(e),writable:!0})}:Ka;function Vr(t){return So(Oa(t))}function Hr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function Gr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Wr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Xs(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Kr(t,e,Ka,n)}function Kr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(e=n(e))!=e,a=null===e,u=Xs(e),c=void 0===e;i<o;){var l=Je((i+o)/2),h=n(t[l]),f=void 0!==h,d=null===h,p=h==h,m=Xs(h);if(s)var g=r||p;else g=c?p&&(r||f):a?p&&f&&(r||!d):u?p&&f&&!d&&(r||!m):!d&&!m&&(r?h<=e:h<e);g?i=l+1:o=l}return an(o,4294967294)}function Yr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Os(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function $r(t){return"number"==typeof t?t:Xs(t)?NaN:+t}function Zr(t){if("string"==typeof t)return t;if(Ms(t))return le(t,Zr)+"";if(Xs(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qr(t,e,n){var r=-1,i=ue,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=ce;else if(o>=200){var c=e?null:Li(t);if(c)return ze(c);s=!1,i=Oe,u=new Ln}else u=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function Xr(t,e){return null==(t=mo(t,e=si(e,t)))||delete t[ko(Bo(e))]}function Jr(t,e,n,r){return Br(t,e,n(hr(t,e)),r)}function ti(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ei(t,e){var n=t;return n instanceof Pn&&(n=n.value()),fe(e,(function(t,e){return e.func.apply(e.thisArg,he([t],e.args))}),n)}function ni(t,e,n){var i=t.length;if(i<2)return i?Qr(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Jn(s[o]||a,t[u],e,n));return Qr(or(s,1),e,n)}function ri(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;)n(s,t[r],r<o?e[r]:void 0);return s}function ii(t){return js(t)?t:[]}function oi(t){return"function"==typeof t?t:Ka}function si(t,e){return Ms(t)?t:ao(t,e)?[t]:To(ua(t))}var ai=jr;function ui(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var ci=$e||function(t){return Ht.clearTimeout(t)};function li(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function fi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Xs(t),s=void 0!==e,a=null===e,u=e==e,c=Xs(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function pi(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,l=sn(s-a,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function mi(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,h=sn(s-u,0),f=r(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++a<u;)(d||o<s)&&(f[p+n[a]]=t[o++]);return f}function gi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function vi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=r?r(n[a],t[a],a,n,t):void 0;void 0===u&&(u=t[a]),i?Kn(n,a,u):Vn(n,a,u)}return n}function yi(t,e){return function(n,r){var i=Ms(n)?re:Gn,o=e?e():{};return i(n,t,$i(r,2),o)}}function bi(t){return jr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,s&&so(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=pt(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e}))}function _i(t,e){return function(n,r){if(null==n)return n;if(!Ls(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=pt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=pt(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function Ei(t){return function(e){var n=je(e=ua(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?ui(n,1).join(""):e.slice(1);return r[t]()+i}}function Si(t){return function(e){return fe(za(Na(e).replace(At,"")),t,"")}}function Ii(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),r=t.apply(n,e);return Hs(r)?r:n}}function xi(t){return function(e,n,r){var i=pt(e);if(!Ls(e)){var o=$i(n,3);e=wa(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}function Ti(t){return Vi((function(e){var n=e.length,r=n,o=Rn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new vt(i);if(o&&!a&&"wrapper"==Ki(s))var a=new Rn([],!0)}for(r=a?r:n;++r<n;){var u=Ki(s=e[r]),c="wrapper"==u?Wi(s):void 0;a=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Ki(c[0])].apply(a,c[3]):1==s.length&&uo(s)?a[u]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Ms(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function ki(t,e,n,i,o,s,a,u,c,l){var h=128&e,f=1&e,d=2&e,p=24&e,m=512&e,g=d?void 0:Ii(t);return function v(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var w=Yi(v),E=Ne(b,w);if(i&&(b=pi(b,i,o,p)),s&&(b=mi(b,s,a,p)),y-=E,p&&y<l){var S=Be(b,w);return Mi(t,e,ki,v.placeholder,n,b,S,u,c,l-y)}var I=f?n:this,x=d?I[t]:t;return y=b.length,u?b=go(b,u):m&&y>1&&b.reverse(),h&&c<y&&(b.length=c),this&&this!==Ht&&this instanceof v&&(x=g||Ii(x)),x.apply(I,b)}}function Ci(t,e){return function(n,r){return function(t,e,n,r){return ur(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ai(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=$r(n),r=$r(r)),i=t(n,r)}return i}}function Oi(t){return Vi((function(e){return e=le(e,Ce($i())),jr((function(n){var r=this;return t(e,(function(t){return ne(t,r,n)}))}))}))}function Ri(t,e){var n=(e=void 0===e?" ":Zr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,Xe(t/Ve(e)));return je(e)?ui(He(r),0,t).join(""):r.slice(0,t)}function Pi(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n,i){for(var o=-1,s=sn(Xe((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,i=void 0===i?e<n?1:-1:ra(i),t)}}function Ni(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=sa(e),n=sa(n)),t(e,n)}}function Mi(t,e,n,r,i,o,s,a,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,i,l?o:void 0,l?s:void 0,l?void 0:o,l?void 0:s,a,u,c],f=n.apply(void 0,h);return uo(t)&&yo(f,h),f.placeholder=r,wo(f,t,e)}function Di(t){var e=dt[t];return function(t,n){if(t=sa(t),(n=null==n?0:an(ia(n),292))&&nn(t)){var r=(ua(t)+"e").split("e");return+((r=(ua(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=mn&&1/ze(new mn([,-0]))[1]==1/0?function(t){return new mn(t)}:Xa;function ji(t){return function(e){var n=eo(e);return n==p?Ue(e):n==y?qe(e):function(t,e){return le(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ui(t,e,n,s,a,u,c,l){var h=2&e;if(!h&&"function"!=typeof t)throw new vt(i);var f=s?s.length:0;if(f||(e&=-97,s=a=void 0),c=void 0===c?c:sn(ia(c),0),l=void 0===l?l:ia(l),f-=a?a.length:0,64&e){var d=s,p=a;s=a=void 0}var m=h?void 0:Wi(t),g=[t,e,n,s,a,d,p,u,c,l];if(m&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var a=t[3];t[3]=a?pi(a,s,e[4]):s,t[4]=a?Be(t[3],o):e[4]}(s=e[5])&&(t[5]=(a=t[5])?mi(a,s,e[6]):s,t[6]=a?Be(t[5],o):e[6]),(s=e[7])&&(t[7]=s),128&r&&(t[8]=null==t[8]?e[8]:an(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(g,m),t=g[0],e=g[1],n=g[2],s=g[3],a=g[4],!(l=g[9]=void 0===g[9]?h?0:t.length:sn(g[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var i=Ii(t);return function o(){for(var s=arguments.length,a=r(s),u=s,c=Yi(o);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:Be(a,c);if((s-=l.length)<n)return Mi(t,e,ki,o.placeholder,void 0,a,l,void 0,void 0,n-s);var h=this&&this!==Ht&&this instanceof o?i:t;return ne(h,this,a)}}(t,e,l):32!=e&&33!=e||a.length?ki.apply(void 0,g):function(t,e,n,i){var o=1&e,s=Ii(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==Ht&&this instanceof e?s:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return ne(f,o?n:this,h)}}(t,e,n,s);else var v=function(t,e,n){var r=1&e,i=Ii(t);return function e(){var o=this&&this!==Ht&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return wo((m?zr:yo)(v,g),t,e)}function Fi(t,e,n,r){return void 0===t||Os(t,bt[n])&&!Et.call(r,n)?e:t}function Bi(t,e,n,r,i,o){return Hs(t)&&Hs(e)&&(o.set(e,t),Ar(t,e,void 0,Bi,o),o.delete(e)),t}function zi(t){return Ys(t)?void 0:t}function qi(t,e,n,r,i,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var h=-1,f=!0,d=2&n?new Ln:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var p=t[h],m=e[h];if(r)var g=s?r(m,p,h,e,t,o):r(p,m,h,t,e,o);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!pe(e,(function(t,e){if(!Oe(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){f=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Vi(t){return _o(po(t,void 0,Do),t+"")}function Hi(t){return fr(t,wa,Ji)}function Gi(t){return fr(t,Ea,to)}var Wi=yn?function(t){return yn.get(t)}:Xa;function Ki(t){for(var e=t.name+"",n=bn[e],r=Et.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Yi(t){return(Et.call(Cn,"placeholder")?Cn:t).placeholder}function $i(){var t=Cn.iteratee||Ya;return t=t===Ya?Sr:t,arguments.length?t(arguments[0],arguments[1]):t}function Zi(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Qi(t){for(var e=wa(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Xi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Er(n)?n:void 0}var Ji=tn?function(t){return null==t?[]:(t=pt(t),ae(tn(t),(function(e){return Wt.call(t,e)})))}:ou,to=tn?function(t){for(var e=[];t;)he(e,Ji(t)),t=Vt(t);return e}:ou,eo=dr;function no(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var s=ko(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Vs(i)&&oo(s,i)&&(Ms(t)||Ns(t))}function ro(t){return"function"!=typeof t.constructor||lo(t)?{}:An(Vt(t))}function io(t){return Ms(t)||Ns(t)||!!($t&&t&&t[$t])}function oo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&at.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!Hs(n))return!1;var r=typeof e;return!!("number"==r?Ls(n)&&oo(e,n.length):"string"==r&&e in n)&&Os(n[e],t)}function ao(t,e){if(Ms(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Xs(t))||V.test(t)||!q.test(t)||null!=e&&t in pt(e)}function uo(t){var e=Ki(t),n=Cn[e];if("function"!=typeof n||!(e in Pn.prototype))return!1;if(t===n)return!0;var r=Wi(n);return!!r&&t===r[0]}(fn&&eo(new fn(new ArrayBuffer(1)))!=S||dn&&eo(new dn)!=p||pn&&"[object Promise]"!=eo(pn.resolve())||mn&&eo(new mn)!=y||gn&&eo(new gn)!=w)&&(eo=function(t){var e=dr(t),n=e==g?t.constructor:void 0,r=n?Co(n):"";if(r)switch(r){case _n:return S;case wn:return p;case En:return"[object Promise]";case Sn:return y;case In:return w}return e});var co=_t?zs:su;function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function ho(t){return t==t&&!Hs(t)}function fo(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in pt(n))}}function po(t,e,n){return e=sn(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=sn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),ne(t,this,u)}}function mo(t,e){return e.length<2?t:hr(t,Hr(e,0,-1))}function go(t,e){for(var n=t.length,r=an(e.length,n),i=gi(t);r--;){var o=e[r];t[r]=oo(o,n)?i[o]:void 0}return t}function vo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yo=Eo(zr),bo=Qe||function(t,e){return Ht.setTimeout(t,e)},_o=Eo(qr);function wo(t,e,n){var r=e+"";return _o(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(s,(function(n){var r="_."+n[0];e&n[1]&&!ue(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(Q):[]}(r),n)))}function Eo(t){var e=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function So(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Dr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}var Io,xo,To=(Io=Is((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,(function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===xo.size&&xo.clear(),t})),xo=Io.cache,Io);function ko(t){if("string"==typeof t||Xs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Co(t){if(null!=t){try{return wt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ao(t){if(t instanceof Pn)return t.clone();var e=new Rn(t.__wrapped__,t.__chain__);return e.__actions__=gi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Oo=jr((function(t,e){return js(t)?Jn(t,or(e,1,js,!0)):[]})),Ro=jr((function(t,e){var n=Bo(e);return js(n)&&(n=void 0),js(t)?Jn(t,or(e,1,js,!0),$i(n,2)):[]})),Po=jr((function(t,e){var n=Bo(e);return js(n)&&(n=void 0),js(t)?Jn(t,or(e,1,js,!0),void 0,n):[]}));function No(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=sn(r+i,0)),ve(t,$i(e,3),i)}function Mo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?sn(r+i,0):an(i,r-1)),ve(t,$i(e,3),i,!0)}function Do(t){return null!=t&&t.length?or(t,1):[]}function Lo(t){return t&&t.length?t[0]:void 0}var jo=jr((function(t){var e=le(t,ii);return e.length&&e[0]===t[0]?vr(e):[]})),Uo=jr((function(t){var e=Bo(t),n=le(t,ii);return e===Bo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?vr(n,$i(e,2)):[]})),Fo=jr((function(t){var e=Bo(t),n=le(t,ii);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?vr(n,void 0,e):[]}));function Bo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var zo=jr(qo);function qo(t,e){return t&&t.length&&e&&e.length?Nr(t,e):t}var Vo=Vi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return Mr(t,le(e,(function(t){return oo(t,n)?+t:t})).sort(di)),r}));function Ho(t){return null==t?t:hn.call(t)}var Go=jr((function(t){return Qr(or(t,1,js,!0))})),Wo=jr((function(t){var e=Bo(t);return js(e)&&(e=void 0),Qr(or(t,1,js,!0),$i(e,2))})),Ko=jr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,Qr(or(t,1,js,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=ae(t,(function(t){if(js(t))return e=sn(t.length,e),!0})),Te(e,(function(e){return le(t,Ee(e))}))}function $o(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:le(n,(function(t){return ne(e,void 0,t)}))}var Zo=jr((function(t,e){return js(t)?Jn(t,e):[]})),Qo=jr((function(t){return ni(ae(t,js))})),Xo=jr((function(t){var e=Bo(t);return js(e)&&(e=void 0),ni(ae(t,js),$i(e,2))})),Jo=jr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,ni(ae(t,js),void 0,e)})),ts=jr(Yo),es=jr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,$o(t,n)}));function ns(t){var e=Cn(t);return e.__chain__=!0,e}function rs(t,e){return e(t)}var is=Vi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Pn&&oo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:rs,args:[i],thisArg:void 0}),new Rn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),os=yi((function(t,e,n){Et.call(t,n)?++t[n]:Kn(t,n,1)})),ss=xi(No),as=xi(Mo);function us(t,e){return(Ms(t)?ie:tr)(t,$i(e,3))}function cs(t,e){return(Ms(t)?oe:er)(t,$i(e,3))}var ls=yi((function(t,e,n){Et.call(t,n)?t[n].push(e):Kn(t,n,[e])})),hs=jr((function(t,e,n){var i=-1,o="function"==typeof e,s=Ls(t)?r(t.length):[];return tr(t,(function(t){s[++i]=o?ne(e,t,n):yr(t,e,n)})),s})),fs=yi((function(t,e,n){Kn(t,n,e)}));function ds(t,e){return(Ms(t)?le:Tr)(t,$i(e,3))}var ps=yi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ms=jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Rr(t,or(e,1),[])})),gs=Ze||function(){return Ht.Date.now()};function vs(t,e,n){return e=n?void 0:e,Ui(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ys(t,e){var n;if("function"!=typeof e)throw new vt(i);return t=ia(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var bs=jr((function(t,e,n){var r=1;if(n.length){var i=Be(n,Yi(bs));r|=32}return Ui(t,r,e,n,i)})),_s=jr((function(t,e,n){var r=3;if(n.length){var i=Be(n,Yi(_s));r|=32}return Ui(e,r,t,n,i)}));function ws(t,e,n){var r,o,s,a,u,c,l=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new vt(i);function p(e){var n=r,i=o;return r=o=void 0,l=e,a=t.apply(i,n)}function m(t){return l=t,u=bo(v,e),h?p(t):a}function g(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=s}function v(){var t=gs();if(g(t))return y(t);u=bo(v,function(t){var n=e-(t-c);return f?an(n,s-(t-l)):n}(t))}function y(t){return u=void 0,d&&r?p(t):(r=o=void 0,a)}function b(){var t=gs(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return m(c);if(f)return ci(u),u=bo(v,e),p(c)}return void 0===u&&(u=bo(v,e)),a}return e=sa(e)||0,Hs(n)&&(h=!!n.leading,s=(f="maxWait"in n)?sn(sa(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ci(u),l=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?a:y(gs())},b}var Es=jr((function(t,e){return Xn(t,1,e)})),Ss=jr((function(t,e,n){return Xn(t,sa(e)||0,n)}));function Is(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Is.Cache||Dn),n}function xs(t){if("function"!=typeof t)throw new vt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Is.Cache=Dn;var Ts=ai((function(t,e){var n=(e=1==e.length&&Ms(e[0])?le(e[0],Ce($i())):le(or(e,1),Ce($i()))).length;return jr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)}))})),ks=jr((function(t,e){return Ui(t,32,void 0,e,Be(e,Yi(ks)))})),Cs=jr((function(t,e){return Ui(t,64,void 0,e,Be(e,Yi(Cs)))})),As=Vi((function(t,e){return Ui(t,256,void 0,void 0,void 0,e)}));function Os(t,e){return t===e||t!=t&&e!=e}var Rs=Ni(pr),Ps=Ni((function(t,e){return t>=e})),Ns=br(function(){return arguments}())?br:function(t){return Gs(t)&&Et.call(t,"callee")&&!Wt.call(t,"callee")},Ms=r.isArray,Ds=Zt?Ce(Zt):function(t){return Gs(t)&&dr(t)==E};function Ls(t){return null!=t&&Vs(t.length)&&!zs(t)}function js(t){return Gs(t)&&Ls(t)}var Us=en||su,Fs=Qt?Ce(Qt):function(t){return Gs(t)&&dr(t)==l};function Bs(t){if(!Gs(t))return!1;var e=dr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ys(t)}function zs(t){if(!Hs(t))return!1;var e=dr(t);return e==f||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function qs(t){return"number"==typeof t&&t==ia(t)}function Vs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Hs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Gs(t){return null!=t&&"object"==typeof t}var Ws=Xt?Ce(Xt):function(t){return Gs(t)&&eo(t)==p};function Ks(t){return"number"==typeof t||Gs(t)&&dr(t)==m}function Ys(t){if(!Gs(t)||dr(t)!=g)return!1;var e=Vt(t);if(null===e)return!0;var n=Et.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&wt.call(n)==Tt}var $s=Jt?Ce(Jt):function(t){return Gs(t)&&dr(t)==v},Zs=te?Ce(te):function(t){return Gs(t)&&eo(t)==y};function Qs(t){return"string"==typeof t||!Ms(t)&&Gs(t)&&dr(t)==b}function Xs(t){return"symbol"==typeof t||Gs(t)&&dr(t)==_}var Js=ee?Ce(ee):function(t){return Gs(t)&&Vs(t.length)&&!!jt[dr(t)]},ta=Ni(xr),ea=Ni((function(t,e){return t<=e}));function na(t){if(!t)return[];if(Ls(t))return Qs(t)?He(t):gi(t);if(me&&t[me])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[me]());var e=eo(t);return(e==p?Ue:e==y?ze:Oa)(t)}function ra(t){return t?(t=sa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ia(t){var e=ra(t),n=e%1;return e==e?n?e-n:e:0}function oa(t){return t?$n(ia(t),0,4294967295):0}function sa(t){if("number"==typeof t)return t;if(Xs(t))return NaN;if(Hs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Hs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ke(t);var n=it.test(t);return n||st.test(t)?zt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function aa(t){return vi(t,Ea(t))}function ua(t){return null==t?"":Zr(t)}var ca=bi((function(t,e){if(lo(e)||Ls(e))vi(e,wa(e),t);else for(var n in e)Et.call(e,n)&&Vn(t,n,e[n])})),la=bi((function(t,e){vi(e,Ea(e),t)})),ha=bi((function(t,e,n,r){vi(e,Ea(e),t,r)})),fa=bi((function(t,e,n,r){vi(e,wa(e),t,r)})),da=Vi(Yn),pa=jr((function(t,e){t=pt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=Ea(o),a=-1,u=s.length;++a<u;){var c=s[a],l=t[c];(void 0===l||Os(l,bt[c])&&!Et.call(t,c))&&(t[c]=o[c])}return t})),ma=jr((function(t){return t.push(void 0,Bi),ne(Ia,void 0,t)}));function ga(t,e,n){var r=null==t?void 0:hr(t,e);return void 0===r?n:r}function va(t,e){return null!=t&&no(t,e,gr)}var ya=Ci((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=xt.call(e)),t[e]=n}),Ha(Ka)),ba=Ci((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=xt.call(e)),Et.call(t,e)?t[e].push(n):t[e]=[n]}),$i),_a=jr(yr);function wa(t){return Ls(t)?Un(t):Ir(t)}function Ea(t){return Ls(t)?Un(t,!0):function(t){if(!Hs(t))return function(t){var e=[];if(null!=t)for(var n in pt(t))e.push(n);return e}(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&Et.call(t,r))&&n.push(r);return n}(t)}var Sa=bi((function(t,e,n){Ar(t,e,n)})),Ia=bi((function(t,e,n,r){Ar(t,e,n,r)})),xa=Vi((function(t,e){var n={};if(null==t)return n;var r=!1;e=le(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),vi(t,Gi(t),n),r&&(n=Zn(n,7,zi));for(var i=e.length;i--;)Xr(n,e[i]);return n})),Ta=Vi((function(t,e){return null==t?{}:function(t,e){return Pr(t,e,(function(e,n){return va(t,n)}))}(t,e)}));function ka(t,e){if(null==t)return{};var n=le(Gi(t),(function(t){return[t]}));return e=$i(e),Pr(t,n,(function(t,n){return e(t,n[0])}))}var Ca=ji(wa),Aa=ji(Ea);function Oa(t){return null==t?[]:Ae(t,wa(t))}var Ra=Si((function(t,e,n){return e=e.toLowerCase(),t+(n?Pa(e):e)}));function Pa(t){return Ba(ua(t).toLowerCase())}function Na(t){return(t=ua(t))&&t.replace(ut,Me).replace(Ot,"")}var Ma=Si((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Da=Si((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),La=Ei("toLowerCase"),ja=Si((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ua=Si((function(t,e,n){return t+(n?" ":"")+Ba(e)})),Fa=Si((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ba=Ei("toUpperCase");function za(t,e,n){return t=ua(t),void 0===(e=n?void 0:e)?function(t){return Mt.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(X)||[]}(t):t.match(e)||[]}var qa=jr((function(t,e){try{return ne(t,void 0,e)}catch(n){return Bs(n)?n:new ht(n)}})),Va=Vi((function(t,e){return ie(e,(function(e){e=ko(e),Kn(t,e,bs(t[e],t))})),t}));function Ha(t){return function(){return t}}var Ga=Ti(),Wa=Ti(!0);function Ka(t){return t}function Ya(t){return Sr("function"==typeof t?t:Zn(t,1))}var $a=jr((function(t,e){return function(n){return yr(n,t,e)}})),Za=jr((function(t,e){return function(n){return yr(t,n,e)}}));function Qa(t,e,n){var r=wa(e),i=lr(e,r);null!=n||Hs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,wa(e)));var o=!(Hs(n)&&"chain"in n&&!n.chain),s=zs(t);return ie(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,he([this.value()],arguments))})})),t}function Xa(){}var Ja=Oi(le),tu=Oi(se),eu=Oi(pe);function nu(t){return ao(t)?Ee(ko(t)):function(t){return function(e){return hr(e,t)}}(t)}var ru=Pi(),iu=Pi(!0);function ou(){return[]}function su(){return!1}var au,uu=Ai((function(t,e){return t+e}),0),cu=Di("ceil"),lu=Ai((function(t,e){return t/e}),1),hu=Di("floor"),fu=Ai((function(t,e){return t*e}),1),du=Di("round"),pu=Ai((function(t,e){return t-e}),0);return Cn.after=function(t,e){if("function"!=typeof e)throw new vt(i);return t=ia(t),function(){if(--t<1)return e.apply(this,arguments)}},Cn.ary=vs,Cn.assign=ca,Cn.assignIn=la,Cn.assignInWith=ha,Cn.assignWith=fa,Cn.at=da,Cn.before=ys,Cn.bind=bs,Cn.bindAll=Va,Cn.bindKey=_s,Cn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ms(t)?t:[t]},Cn.chain=ns,Cn.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:sn(ia(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,s=0,a=r(Xe(i/e));o<i;)a[s++]=Hr(t,o,o+=e);return a},Cn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Cn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return he(Ms(n)?gi(n):[n],or(e,1))},Cn.cond=function(t){var e=null==t?0:t.length,n=$i();return t=e?le(t,(function(t){if("function"!=typeof t[1])throw new vt(i);return[n(t[0]),t[1]]})):[],jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},Cn.conforms=function(t){return function(t){var e=wa(t);return function(n){return Qn(n,t,e)}}(Zn(t,1))},Cn.constant=Ha,Cn.countBy=os,Cn.create=function(t,e){var n=An(t);return null==e?n:Wn(n,e)},Cn.curry=function t(e,n,r){var i=Ui(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Cn.curryRight=function t(e,n,r){var i=Ui(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},Cn.debounce=ws,Cn.defaults=pa,Cn.defaultsDeep=ma,Cn.defer=Es,Cn.delay=Ss,Cn.difference=Oo,Cn.differenceBy=Ro,Cn.differenceWith=Po,Cn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:ia(e))<0?0:e,r):[]},Cn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:ia(e)))<0?0:e):[]},Cn.dropRightWhile=function(t,e){return t&&t.length?ti(t,$i(e,3),!0,!0):[]},Cn.dropWhile=function(t,e){return t&&t.length?ti(t,$i(e,3),!0):[]},Cn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Cn.filter=function(t,e){return(Ms(t)?ae:ir)(t,$i(e,3))},Cn.flatMap=function(t,e){return or(ds(t,e),1)},Cn.flatMapDeep=function(t,e){return or(ds(t,e),1/0)},Cn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ia(n),or(ds(t,e),n)},Cn.flatten=Do,Cn.flattenDeep=function(t){return null!=t&&t.length?or(t,1/0):[]},Cn.flattenDepth=function(t,e){return null!=t&&t.length?or(t,e=void 0===e?1:ia(e)):[]},Cn.flip=function(t){return Ui(t,512)},Cn.flow=Ga,Cn.flowRight=Wa,Cn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Cn.functions=function(t){return null==t?[]:lr(t,wa(t))},Cn.functionsIn=function(t){return null==t?[]:lr(t,Ea(t))},Cn.groupBy=ls,Cn.initial=function(t){return null!=t&&t.length?Hr(t,0,-1):[]},Cn.intersection=jo,Cn.intersectionBy=Uo,Cn.intersectionWith=Fo,Cn.invert=ya,Cn.invertBy=ba,Cn.invokeMap=hs,Cn.iteratee=Ya,Cn.keyBy=fs,Cn.keys=wa,Cn.keysIn=Ea,Cn.map=ds,Cn.mapKeys=function(t,e){var n={};return e=$i(e,3),ur(t,(function(t,r,i){Kn(n,e(t,r,i),t)})),n},Cn.mapValues=function(t,e){var n={};return e=$i(e,3),ur(t,(function(t,r,i){Kn(n,r,e(t,r,i))})),n},Cn.matches=function(t){return kr(Zn(t,1))},Cn.matchesProperty=function(t,e){return Cr(t,Zn(e,1))},Cn.memoize=Is,Cn.merge=Sa,Cn.mergeWith=Ia,Cn.method=$a,Cn.methodOf=Za,Cn.mixin=Qa,Cn.negate=xs,Cn.nthArg=function(t){return t=ia(t),jr((function(e){return Or(e,t)}))},Cn.omit=xa,Cn.omitBy=function(t,e){return ka(t,xs($i(e)))},Cn.once=function(t){return ys(2,t)},Cn.orderBy=function(t,e,n,r){return null==t?[]:(Ms(e)||(e=null==e?[]:[e]),Ms(n=r?void 0:n)||(n=null==n?[]:[n]),Rr(t,e,n))},Cn.over=Ja,Cn.overArgs=Ts,Cn.overEvery=tu,Cn.overSome=eu,Cn.partial=ks,Cn.partialRight=Cs,Cn.partition=ps,Cn.pick=Ta,Cn.pickBy=ka,Cn.property=nu,Cn.propertyOf=function(t){return function(e){return null==t?void 0:hr(t,e)}},Cn.pull=zo,Cn.pullAll=qo,Cn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Nr(t,e,$i(n,2)):t},Cn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Nr(t,e,void 0,n):t},Cn.pullAt=Vo,Cn.range=ru,Cn.rangeRight=iu,Cn.rearg=As,Cn.reject=function(t,e){return(Ms(t)?ae:ir)(t,xs($i(e,3)))},Cn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=$i(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Mr(t,i),n},Cn.rest=function(t,e){if("function"!=typeof t)throw new vt(i);return jr(t,e=void 0===e?e:ia(e))},Cn.reverse=Ho,Cn.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:ia(e),(Ms(t)?Bn:Fr)(t,e)},Cn.set=function(t,e,n){return null==t?t:Br(t,e,n)},Cn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},Cn.shuffle=function(t){return(Ms(t)?zn:Vr)(t)},Cn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:ia(e),n=void 0===n?r:ia(n)),Hr(t,e,n)):[]},Cn.sortBy=ms,Cn.sortedUniq=function(t){return t&&t.length?Yr(t):[]},Cn.sortedUniqBy=function(t,e){return t&&t.length?Yr(t,$i(e,2)):[]},Cn.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ua(t))&&("string"==typeof e||null!=e&&!$s(e))&&!(e=Zr(e))&&je(t)?ui(He(t),0,n):t.split(e,n):[]},Cn.spread=function(t,e){if("function"!=typeof t)throw new vt(i);return e=null==e?0:sn(ia(e),0),jr((function(n){var r=n[e],i=ui(n,0,e);return r&&he(i,r),ne(t,this,i)}))},Cn.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},Cn.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:ia(e))<0?0:e):[]},Cn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:ia(e)))<0?0:e,r):[]},Cn.takeRightWhile=function(t,e){return t&&t.length?ti(t,$i(e,3),!1,!0):[]},Cn.takeWhile=function(t,e){return t&&t.length?ti(t,$i(e,3)):[]},Cn.tap=function(t,e){return e(t),t},Cn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new vt(i);return Hs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ws(t,e,{leading:r,maxWait:e,trailing:o})},Cn.thru=rs,Cn.toArray=na,Cn.toPairs=Ca,Cn.toPairsIn=Aa,Cn.toPath=function(t){return Ms(t)?le(t,ko):Xs(t)?[t]:gi(To(ua(t)))},Cn.toPlainObject=aa,Cn.transform=function(t,e,n){var r=Ms(t),i=r||Us(t)||Js(t);if(e=$i(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Hs(t)&&zs(o)?An(Vt(t)):{}}return(i?ie:ur)(t,(function(t,r,i){return e(n,t,r,i)})),n},Cn.unary=function(t){return vs(t,1)},Cn.union=Go,Cn.unionBy=Wo,Cn.unionWith=Ko,Cn.uniq=function(t){return t&&t.length?Qr(t):[]},Cn.uniqBy=function(t,e){return t&&t.length?Qr(t,$i(e,2)):[]},Cn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qr(t,void 0,e):[]},Cn.unset=function(t,e){return null==t||Xr(t,e)},Cn.unzip=Yo,Cn.unzipWith=$o,Cn.update=function(t,e,n){return null==t?t:Jr(t,e,oi(n))},Cn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Jr(t,e,oi(n),r)},Cn.values=Oa,Cn.valuesIn=function(t){return null==t?[]:Ae(t,Ea(t))},Cn.without=Zo,Cn.words=za,Cn.wrap=function(t,e){return ks(oi(e),t)},Cn.xor=Qo,Cn.xorBy=Xo,Cn.xorWith=Jo,Cn.zip=ts,Cn.zipObject=function(t,e){return ri(t||[],e||[],Vn)},Cn.zipObjectDeep=function(t,e){return ri(t||[],e||[],Br)},Cn.zipWith=es,Cn.entries=Ca,Cn.entriesIn=Aa,Cn.extend=la,Cn.extendWith=ha,Qa(Cn,Cn),Cn.add=uu,Cn.attempt=qa,Cn.camelCase=Ra,Cn.capitalize=Pa,Cn.ceil=cu,Cn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=sa(n))==n?n:0),void 0!==e&&(e=(e=sa(e))==e?e:0),$n(sa(t),e,n)},Cn.clone=function(t){return Zn(t,4)},Cn.cloneDeep=function(t){return Zn(t,5)},Cn.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},Cn.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},Cn.conformsTo=function(t,e){return null==e||Qn(t,e,wa(e))},Cn.deburr=Na,Cn.defaultTo=function(t,e){return null==t||t!=t?e:t},Cn.divide=lu,Cn.endsWith=function(t,e,n){t=ua(t),e=Zr(e);var r=t.length,i=n=void 0===n?r:$n(ia(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Cn.eq=Os,Cn.escape=function(t){return(t=ua(t))&&U.test(t)?t.replace(L,De):t},Cn.escapeRegExp=function(t){return(t=ua(t))&&W.test(t)?t.replace(G,"\\$&"):t},Cn.every=function(t,e,n){var r=Ms(t)?se:nr;return n&&so(t,e,n)&&(e=void 0),r(t,$i(e,3))},Cn.find=ss,Cn.findIndex=No,Cn.findKey=function(t,e){return ge(t,$i(e,3),ur)},Cn.findLast=as,Cn.findLastIndex=Mo,Cn.findLastKey=function(t,e){return ge(t,$i(e,3),cr)},Cn.floor=hu,Cn.forEach=us,Cn.forEachRight=cs,Cn.forIn=function(t,e){return null==t?t:sr(t,$i(e,3),Ea)},Cn.forInRight=function(t,e){return null==t?t:ar(t,$i(e,3),Ea)},Cn.forOwn=function(t,e){return t&&ur(t,$i(e,3))},Cn.forOwnRight=function(t,e){return t&&cr(t,$i(e,3))},Cn.get=ga,Cn.gt=Rs,Cn.gte=Ps,Cn.has=function(t,e){return null!=t&&no(t,e,mr)},Cn.hasIn=va,Cn.head=Lo,Cn.identity=Ka,Cn.includes=function(t,e,n,r){t=Ls(t)?t:Oa(t),n=n&&!r?ia(n):0;var i=t.length;return n<0&&(n=sn(i+n,0)),Qs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ye(t,e,n)>-1},Cn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=sn(r+i,0)),ye(t,e,i)},Cn.inRange=function(t,e,n){return e=ra(e),void 0===n?(n=e,e=0):n=ra(n),function(t,e,n){return t>=an(e,n)&&t<sn(e,n)}(t=sa(t),e,n)},Cn.invoke=_a,Cn.isArguments=Ns,Cn.isArray=Ms,Cn.isArrayBuffer=Ds,Cn.isArrayLike=Ls,Cn.isArrayLikeObject=js,Cn.isBoolean=function(t){return!0===t||!1===t||Gs(t)&&dr(t)==c},Cn.isBuffer=Us,Cn.isDate=Fs,Cn.isElement=function(t){return Gs(t)&&1===t.nodeType&&!Ys(t)},Cn.isEmpty=function(t){if(null==t)return!0;if(Ls(t)&&(Ms(t)||"string"==typeof t||"function"==typeof t.splice||Us(t)||Js(t)||Ns(t)))return!t.length;var e=eo(t);if(e==p||e==y)return!t.size;if(lo(t))return!Ir(t).length;for(var n in t)if(Et.call(t,n))return!1;return!0},Cn.isEqual=function(t,e){return _r(t,e)},Cn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},Cn.isError=Bs,Cn.isFinite=function(t){return"number"==typeof t&&nn(t)},Cn.isFunction=zs,Cn.isInteger=qs,Cn.isLength=Vs,Cn.isMap=Ws,Cn.isMatch=function(t,e){return t===e||wr(t,e,Qi(e))},Cn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Qi(e),n)},Cn.isNaN=function(t){return Ks(t)&&t!=+t},Cn.isNative=function(t){if(co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(t)},Cn.isNil=function(t){return null==t},Cn.isNull=function(t){return null===t},Cn.isNumber=Ks,Cn.isObject=Hs,Cn.isObjectLike=Gs,Cn.isPlainObject=Ys,Cn.isRegExp=$s,Cn.isSafeInteger=function(t){return qs(t)&&t>=-9007199254740991&&t<=9007199254740991},Cn.isSet=Zs,Cn.isString=Qs,Cn.isSymbol=Xs,Cn.isTypedArray=Js,Cn.isUndefined=function(t){return void 0===t},Cn.isWeakMap=function(t){return Gs(t)&&eo(t)==w},Cn.isWeakSet=function(t){return Gs(t)&&"[object WeakSet]"==dr(t)},Cn.join=function(t,e){return null==t?"":rn.call(t,e)},Cn.kebabCase=Ma,Cn.last=Bo,Cn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?sn(r+i,0):an(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):ve(t,_e,i,!0)},Cn.lowerCase=Da,Cn.lowerFirst=La,Cn.lt=ta,Cn.lte=ea,Cn.max=function(t){return t&&t.length?rr(t,Ka,pr):void 0},Cn.maxBy=function(t,e){return t&&t.length?rr(t,$i(e,2),pr):void 0},Cn.mean=function(t){return we(t,Ka)},Cn.meanBy=function(t,e){return we(t,$i(e,2))},Cn.min=function(t){return t&&t.length?rr(t,Ka,xr):void 0},Cn.minBy=function(t,e){return t&&t.length?rr(t,$i(e,2),xr):void 0},Cn.stubArray=ou,Cn.stubFalse=su,Cn.stubObject=function(){return{}},Cn.stubString=function(){return""},Cn.stubTrue=function(){return!0},Cn.multiply=fu,Cn.nth=function(t,e){return t&&t.length?Or(t,ia(e)):void 0},Cn.noConflict=function(){return Ht._===this&&(Ht._=kt),this},Cn.noop=Xa,Cn.now=gs,Cn.pad=function(t,e,n){t=ua(t);var r=(e=ia(e))?Ve(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ri(Je(i),n)+t+Ri(Xe(i),n)},Cn.padEnd=function(t,e,n){t=ua(t);var r=(e=ia(e))?Ve(t):0;return e&&r<e?t+Ri(e-r,n):t},Cn.padStart=function(t,e,n){t=ua(t);var r=(e=ia(e))?Ve(t):0;return e&&r<e?Ri(e-r,n)+t:t},Cn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(ua(t).replace(K,""),e||0)},Cn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ra(t),void 0===e?(e=t,t=0):e=ra(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return an(t+i*(e-t+Bt("1e-"+((i+"").length-1))),e)}return Dr(t,e)},Cn.reduce=function(t,e,n){var r=Ms(t)?fe:Ie,i=arguments.length<3;return r(t,$i(e,4),n,i,tr)},Cn.reduceRight=function(t,e,n){var r=Ms(t)?de:Ie,i=arguments.length<3;return r(t,$i(e,4),n,i,er)},Cn.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:ia(e),Lr(ua(t),e)},Cn.replace=function(){var t=arguments,e=ua(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Cn.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[ko(e[r])];void 0===o&&(r=i,o=n),t=zs(o)?o.call(t):o}return t},Cn.round=du,Cn.runInContext=t,Cn.sample=function(t){return(Ms(t)?Fn:Ur)(t)},Cn.size=function(t){if(null==t)return 0;if(Ls(t))return Qs(t)?Ve(t):t.length;var e=eo(t);return e==p||e==y?t.size:Ir(t).length},Cn.snakeCase=ja,Cn.some=function(t,e,n){var r=Ms(t)?pe:Gr;return n&&so(t,e,n)&&(e=void 0),r(t,$i(e,3))},Cn.sortedIndex=function(t,e){return Wr(t,e)},Cn.sortedIndexBy=function(t,e,n){return Kr(t,e,$i(n,2))},Cn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Wr(t,e);if(r<n&&Os(t[r],e))return r}return-1},Cn.sortedLastIndex=function(t,e){return Wr(t,e,!0)},Cn.sortedLastIndexBy=function(t,e,n){return Kr(t,e,$i(n,2),!0)},Cn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Wr(t,e,!0)-1;if(Os(t[n],e))return n}return-1},Cn.startCase=Ua,Cn.startsWith=function(t,e,n){return t=ua(t),n=null==n?0:$n(ia(n),0,t.length),e=Zr(e),t.slice(n,n+e.length)==e},Cn.subtract=pu,Cn.sum=function(t){return t&&t.length?xe(t,Ka):0},Cn.sumBy=function(t,e){return t&&t.length?xe(t,$i(e,2)):0},Cn.template=function(t,e,n){var r=Cn.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ua(t),e=ha({},e,r,Fi);var i,o,s=ha({},e.imports,r.imports,Fi),a=wa(s),u=Ae(s,a),c=0,l=e.interpolate||ct,h="__p += '",f=mt((e.escape||ct).source+"|"+l.source+"|"+(l===z?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(Et.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";t.replace(f,(function(e,n,r,s,a,u){return r||(r=s),h+=t.slice(c,u).replace(lt,Le),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(o=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),h+="';\n";var p=Et.call(e,"variable")&&e.variable;if(p){if(J.test(p))throw new ht("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(P,""):h).replace(N,"$1").replace(M,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=qa((function(){return ft(a,d+"return "+h).apply(void 0,u)}));if(m.source=h,Bs(m))throw m;return m},Cn.times=function(t,e){if((t=ia(t))<1||t>9007199254740991)return[];var n=4294967295,r=an(t,4294967295);t-=4294967295;for(var i=Te(r,e=$i(e));++n<t;)e(n);return i},Cn.toFinite=ra,Cn.toInteger=ia,Cn.toLength=oa,Cn.toLower=function(t){return ua(t).toLowerCase()},Cn.toNumber=sa,Cn.toSafeInteger=function(t){return t?$n(ia(t),-9007199254740991,9007199254740991):0===t?t:0},Cn.toString=ua,Cn.toUpper=function(t){return ua(t).toUpperCase()},Cn.trim=function(t,e,n){if((t=ua(t))&&(n||void 0===e))return ke(t);if(!t||!(e=Zr(e)))return t;var r=He(t),i=He(e);return ui(r,Re(r,i),Pe(r,i)+1).join("")},Cn.trimEnd=function(t,e,n){if((t=ua(t))&&(n||void 0===e))return t.slice(0,Ge(t)+1);if(!t||!(e=Zr(e)))return t;var r=He(t);return ui(r,0,Pe(r,He(e))+1).join("")},Cn.trimStart=function(t,e,n){if((t=ua(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Zr(e)))return t;var r=He(t);return ui(r,Re(r,He(e))).join("")},Cn.truncate=function(t,e){var n=30,r="...";if(Hs(e)){var i="separator"in e?e.separator:i;n="length"in e?ia(e.length):n,r="omission"in e?Zr(e.omission):r}var o=(t=ua(t)).length;if(je(t)){var s=He(t);o=s.length}if(n>=o)return t;var a=n-Ve(r);if(a<1)return r;var u=s?ui(s,0,a).join(""):t.slice(0,a);if(void 0===i)return u+r;if(s&&(a+=u.length-a),$s(i)){if(t.slice(a).search(i)){var c,l=u;for(i.global||(i=mt(i.source,ua(nt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?a:h)}}else if(t.indexOf(Zr(i),a)!=a){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},Cn.unescape=function(t){return(t=ua(t))&&j.test(t)?t.replace(D,We):t},Cn.uniqueId=function(t){var e=++St;return ua(t)+e},Cn.upperCase=Fa,Cn.upperFirst=Ba,Cn.each=us,Cn.eachRight=cs,Cn.first=Lo,Qa(Cn,(au={},ur(Cn,(function(t,e){Et.call(Cn.prototype,e)||(au[e]=t)})),au),{chain:!1}),Cn.VERSION="4.17.21",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Cn[t].placeholder=Cn})),ie(["drop","take"],(function(t,e){Pn.prototype[t]=function(n){n=void 0===n?1:sn(ia(n),0);var r=this.__filtered__&&!e?new Pn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Pn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Pn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$i(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Pn.prototype[t]=function(){return this[n](1).value()[0]}})),ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Pn.prototype[t]=function(){return this.__filtered__?new Pn(this):this[n](1)}})),Pn.prototype.compact=function(){return this.filter(Ka)},Pn.prototype.find=function(t){return this.filter(t).head()},Pn.prototype.findLast=function(t){return this.reverse().find(t)},Pn.prototype.invokeMap=jr((function(t,e){return"function"==typeof t?new Pn(this):this.map((function(n){return yr(n,t,e)}))})),Pn.prototype.reject=function(t){return this.filter(xs($i(t)))},Pn.prototype.slice=function(t,e){t=ia(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Pn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ia(e))<0?n.dropRight(-e):n.take(e-t)),n)},Pn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Pn.prototype.toArray=function(){return this.take(4294967295)},ur(Pn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Cn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Cn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,a=e instanceof Pn,u=s[0],c=a||Ms(e),l=function(t){var e=i.apply(Cn,he([t],s));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(a=c=!1);var h=this.__chain__,f=!!this.__actions__.length,d=o&&!h,p=a&&!f;if(!o&&c){e=p?e:new Pn(this);var m=t.apply(e,s);return m.__actions__.push({func:rs,args:[l],thisArg:void 0}),new Rn(m,h)}return d&&p?t.apply(this,s):(m=this.thru(l),d?r?m.value()[0]:m.value():m)})})),ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Cn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ms(i)?i:[],t)}return this[n]((function(n){return e.apply(Ms(n)?n:[],t)}))}})),ur(Pn.prototype,(function(t,e){var n=Cn[e];if(n){var r=n.name+"";Et.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[ki(void 0,2).name]=[{name:"wrapper",func:void 0}],Pn.prototype.clone=function(){var t=new Pn(this.__wrapped__);return t.__actions__=gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=gi(this.__views__),t},Pn.prototype.reverse=function(){if(this.__filtered__){var t=new Pn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Pn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ms(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=an(e,t+s);break;case"takeRight":t=sn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,f=0,d=an(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ei(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var m=-1,g=t[c+=e];++m<h;){var v=l[m],y=v.type,b=(0,v.iteratee)(g);if(2==y)g=b;else if(!b){if(1==y)continue t;break t}}p[f++]=g}return p},Cn.prototype.at=is,Cn.prototype.chain=function(){return ns(this)},Cn.prototype.commit=function(){return new Rn(this.value(),this.__chain__)},Cn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Cn.prototype.plant=function(t){for(var e,n=this;n instanceof On;){var r=Ao(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Cn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Pn){var e=t;return this.__actions__.length&&(e=new Pn(this)),(e=e.reverse()).__actions__.push({func:rs,args:[Ho],thisArg:void 0}),new Rn(e,this.__chain__)}return this.thru(Ho)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,me&&(Cn.prototype[me]=function(){return this}),Cn}();Ht._=Ke,void 0===(r=(function(){return Ke}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t})}n.d(e,"a",(function(){return r}))},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function s(t){return new r.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)})}},QmNs:function(t,e,n){"use strict";var r=n("zIRd"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}"function"==typeof SuppressedError&&SuppressedError;var a=n("/6Yf"),u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),l=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return o(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return o(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function h(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var f,d,p,m=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return h(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?h(t,(function(t){return e.decode(t)})):t},t}(),g=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new m,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new l(e,n),this.cancelAllRequests=new Promise((function(t){s.deleteService=function(){return t()}}));try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return o(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i,o,a,l,h,f,d,p,m;return s(this,(function(s){switch(s.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=s.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),l=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new c("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),h=l.timer,f=l.promise,[4,Promise.race([v(h,this.postJSON(r,i,o)),f,v(h,this.cancelAllRequests)])];case 2:if(!(d=s.sent()))throw new c("cancelled","Firebase Functions instance was deleted.");if(p=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!u[a])return new c("internal","internal");r=u[a],i=a}var l=s.message;"string"==typeof l&&(i=l),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(h){}return"ok"===r?null:new c(r,i,o)}(d.status,d.json,this.serializer))throw p;if(!d.json)throw new c("internal","Response is not valid JSON object.");if(void 0===(m=d.json.data)&&(m=d.json.result),void 0===m)throw new c("internal","Response is missing data field.");return[2,{data:this.serializer.decode(m)}]}}))}))},t}();function v(t,e){return o(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}f=r.a,d=fetch.bind(self),p={Functions:g},f.INTERNAL.registerComponent(new a.a("functions",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new g(r,i,s,o,n,d)}),"PUBLIC").setServiceProps(p).setMultipleInstances(!0)),r.a.registerVersion("@firebase/functions","0.6.16");var y=n("8Y7J"),b=n("Z2Br");n.d(e,"a",(function(){return _}));let _=(()=>{class t{constructor(t){this.firebaseService=t,this.functions=this.firebaseService.firebase.functions()}}return t.ngInjectableDef=y.Rb({factory:function(){return new t(y.Sb(b.a))},token:t,providedIn:"root"}),t})()},SVse:function(t,e,n){"use strict";n.d(e,"A",(function(){return b})),n.d(e,"n",(function(){return w})),n.d(e,"o",(function(){return _})),n.d(e,"B",(function(){return E})),n.d(e,"c",(function(){return G})),n.d(e,"k",(function(){return T})),n.d(e,"l",(function(){return C})),n.d(e,"m",(function(){return O})),n.d(e,"p",(function(){return M})),n.d(e,"q",(function(){return D})),n.d(e,"r",(function(){return L})),n.d(e,"d",(function(){return W})),n.d(e,"b",(function(){return q})),n.d(e,"g",(function(){return V})),n.d(e,"e",(function(){return H})),n.d(e,"z",(function(){return K})),n.d(e,"v",(function(){return Y})),n.d(e,"w",(function(){return $})),n.d(e,"u",(function(){return Z})),n.d(e,"y",(function(){return I})),n.d(e,"x",(function(){return S})),n.d(e,"t",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"j",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"f",(function(){return l})),n.d(e,"s",(function(){return h})),n.d(e,"i",(function(){return u}));var r=n("8Y7J");class i{}const o=new r.o("Location Initialized");class s{}const a=new r.o("appBaseHref");class u{constructor(t,e){this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=u.stripTrailingSlash(c(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+u.normalizeQueryParams(e))}normalize(t){return u.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+u.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+u.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function c(t){return t.replace(/\/index.html$/,"")}class l extends s{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=u.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class h extends s{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return u.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+u.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const f=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),d=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),p=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function m(t,e){const n=Object(r.tb)(t),i=n[r.db.NumberSymbols][e];if(void 0===i){if(e===p.CurrencyDecimal)return n[r.db.NumberSymbols][p.Decimal];if(e===p.CurrencyGroup)return n[r.db.NumberSymbols][p.Group]}return i}const g=r.ub,v=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function y(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const b=new r.o("UseV4Plurals");class _{}class w extends _{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):g(e||this.locale)(t)){case d.Zero:return"zero";case d.One:return"one";case d.Two:return"two";case d.Few:return"few";case d.Many:return"many";default:return"other"}}}function E(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class S{}class I{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.wb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Kb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let x=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class T extends x{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class C{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new A(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new A(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class A{constructor(t,e){this.record=t,this.view=e}}class O{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class R{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Kb)(e)}'.`)}class N{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class M{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class D{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new N(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class L{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}function j(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Kb)(t)}'`)}class U{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class F{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const B=new F,z=new U;class q{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r.zb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.Q.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Object(r.yb)(t))return B;if(Object(r.xb)(t))return z;throw j(q,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class V{transform(t){return JSON.stringify(t,null,2)}}class H{constructor(t){this._locale=t}transform(t,e,n){if(function(t){return null==t||""===t||t!=t}(t))return null;n=n||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(v);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=y(e)),null!=n&&(h=y(n)),null!=r?f=y(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,g=c.integerLen;const b=c.exponent;let _=[];for(u=d.every(t=>!t);g<l;g++)d.unshift(0);for(;g<0;g++)d.unshift(0);g>0?_=d.splice(g,d.length):(_=d,d=[0]);const w=[];for(d.length>=e.lgSize&&w.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)w.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&w.unshift(d.join("")),a=w.join(m(n,r)),_.length&&(a+=m(n,i)+_.join("")),b&&(a+=m(n,p.Exponential)+"+"+b)}else a=m(n,p.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.tb)(t)[r.db.NumberFormats][e]}(e,f.Decimal),m(e,p.MinusSign)),e,p.Group,p.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(t),n,e)}catch(i){throw j(H,i.message)}}}class G{}const W=new r.o("DocumentToken"),K="browser";function Y(t){return t===K}function $(t){return"server"===t}let Z=(()=>{class t{}return t.ngInjectableDef=Object(r.Rb)({token:t,providedIn:"root",factory:()=>new Q(Object(r.Sb)(W),window,Object(r.Sb)(r.l))}),t})();class Q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),s=n("pLzU"),a=n("CRDf"),u=n("I55L"),c=n("c2HN"),l=n("XoHu"),h=n("Lhse"),f=n("kJWO");const d=t=>{if(t instanceof r.a)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[f.a])return Object(a.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(s.a)(t);{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},Tlfp:function(t,e){var n={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(n=function(){"use strict";var t=[],e=[];function n(e,n){for(var r=0;r<t.length;r++)if(t[r].className===e)return void 0!==n&&(t[r]=n),t[r];return!1}function r(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function i(t,e){return-1!==r(t).indexOf(e)}function o(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function s(e,r){if(void 0===e&&void 0===r)for(var i=0;i<t.length;i++)s(t[i].className,t[i].cssClass);else{var o=e;if(void 0===r){var u=n(o);u&&(r=u.cssClass)}for(var c=document.querySelectorAll("."+r),l=0;l<c.length;l++)a(c[l],o)}}function a(s,a){if(!("object"==typeof s&&s instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var u=o("mdl-componentupgrading",!0,!0);if(s.dispatchEvent(u),!u.defaultPrevented){var c=r(s),l=[];if(a)i(s,a)||l.push(n(a));else{var h=s.classList;t.forEach((function(t){h.contains(t.cssClass)&&-1===l.indexOf(t)&&!i(s,t.className)&&l.push(t)}))}for(var f,d=0,p=l.length;d<p;d++){if(!(f=l[d]))throw new Error("Unable to find a registered component for the given class.");c.push(f.className),s.setAttribute("data-upgraded",c.join(","));var m=new f.classConstructor(s);m.mdlComponentConfigInternal_=f,e.push(m);for(var g=0,v=f.callbacks.length;g<v;g++)f.callbacks[g](s);f.widget&&(s[f.className]=m);var y=o("mdl-componentupgraded",!0,!1);s.dispatchEvent(y)}}}function u(t){if(t){var n=e.indexOf(t);e.splice(n,1);var r=t.element_.getAttribute("data-upgraded").split(","),i=r.indexOf(t.mdlComponentConfigInternal_.classAsString);r.splice(i,1),t.element_.setAttribute("data-upgraded",r.join(","));var s=o("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(s)}}return{upgradeDom:s,upgradeElement:a,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(a(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)s(t[e].className)},registerUpgradedCallback:function(t,e){var r=n(t);r&&r.callbacks.push(e)},register:function(e){var r=!0;void 0===e.widget&&void 0===e.widget||(r=e.widget||e.widget);var i={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:r,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===i.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===i.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty("mdlComponentConfigInternal_"))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");n(e.classAsString,i)||t.push(i)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(u)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)n(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";var r=n("EY2u"),i=n("LRne"),o=n("HDdC");n.d(e,"a",(function(){return s}));let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XBV3:function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=t.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],s=0;s<o.length;s++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[s].appendChild(a)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},t.prototype.stop=t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.start=t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XUOw:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t){const e=new r.a(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},YDhq:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("b0Xh"),i=n("611t");class o{getExifData(t){return new Promise((e,n)=>{const i=new FileReader;i.onloadend=()=>{const t=r.EXIF.readFromBinaryFile(i.result);e(t)},i.readAsArrayBuffer(t)})}getLocationData(t){if(!t||!t.GPSLatitude)return;const e=t.GPSLatitude[0]+t.GPSLatitude[1]/60+t.GPSLatitude[2]/3600,n=t.GPSLongitude[0]+t.GPSLongitude[1]/60+t.GPSLongitude[2]/3600;return i.a.fromLatLong("N"===t.GPSLatitudeRef?e:-e,"E"===t.GPSLongitudeRef?n:-n,{locationSource:"EXIF"})}}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z0Sn:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DQLy");let i=(()=>{class t{}return t.CATEGORY="[AUTH]",t.linkFirebaseAuth=Object(r.u)(t.CATEGORY+" LINK_FIREBASE_AUTH"),t.setUser=Object(r.u)(t.CATEGORY+" SET_USER",Object(r.A)()),t.renderLogin=Object(r.u)(t.CATEGORY+" RENDER_LOGIN",Object(r.A)()),t.signOut=Object(r.u)(t.CATEGORY+" SIGN_OUT",Object(r.A)()),t})()},Z2Br:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("Jgta"),i=(n("6nsN"),n("8Y7J"));let o=(()=>{class t{constructor(){r.a.initializeApp({apiKey:"AIzaSyCNPiqa4cqnd_tnPwNigHHw7fREF6-R3Fw",authDomain:"trendrunner-84e44.firebaseapp.com",databaseURL:"https://trendrunner-84e44.firebaseio.com",projectId:"trendrunner-84e44",storageBucket:"trendrunner-84e44.appspot.com",messagingSenderId:"456585926372",appId:"1:456585926372:web:f2ef3c703e39ba8b173ef1",measurementId:"G-6H11P5W2FP"}),this.firebase=r.a}}return t.ngInjectableDef=i.Rb({factory:function(){return new t},token:t,providedIn:"root"}),t})()},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(t,e,n,o,s=new r.a(t,n,o)){if(!s.closed)return Object(i.a)(e)(s)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("NJ4a");const i=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,r.a),e)},b0Xh:function(t,e,r){var i;(function(){var r=function(t){return t instanceof r?t:this instanceof r?void(this.EXIFwrapped=t):new r(t)};t.exports&&(e=t.exports=r),e.EXIF=r;var o=r.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=r.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},a=r.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=r.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=r.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(t){return!!t.exifdata}function h(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,r=t.byteLength;n<r;){if(255!=e.getUint8(n))return!1;if(225==e.getUint8(n+1))return v(e,n+4,e.getUint16(n+2));n+=2+e.getUint16(n+2)}}var f={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function d(t,e,n){for(var r,i,o,s,a=new DataView(t),u={},c=e;c<e+n;)28===a.getUint8(c)&&2===a.getUint8(c+1)&&(s=a.getUint8(c+2))in f&&(o=a.getInt16(c+3),i=f[s],r=g(a,c+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(r):u[i]=[u[i],r]:u[i]=r),c++;return u}function p(t,e,n,r,i){var o,s,a=t.getUint16(n,!i),u={};for(s=0;s<a;s++)u[r[t.getUint16(o=n+12*s+2,!i)]]=m(t,o,e,0,i);return u}function m(t,e,n,r,i){var o,s,a,u,c,l,h=t.getUint16(e+2,!i),f=t.getUint32(e+4,!i),d=t.getUint32(e+8,!i)+n;switch(h){case 1:case 7:if(1==f)return t.getUint8(e+8,!i);for(o=f>4?d:e+8,s=[],u=0;u<f;u++)s[u]=t.getUint8(o+u);return s;case 2:return g(t,o=f>4?d:e+8,f-1);case 3:if(1==f)return t.getUint16(e+8,!i);for(o=f>2?d:e+8,s=[],u=0;u<f;u++)s[u]=t.getUint16(o+2*u,!i);return s;case 4:if(1==f)return t.getUint32(e+8,!i);for(s=[],u=0;u<f;u++)s[u]=t.getUint32(d+4*u,!i);return s;case 5:if(1==f)return c=t.getUint32(d,!i),l=t.getUint32(d+4,!i),(a=new Number(c/l)).numerator=c,a.denominator=l,a;for(s=[],u=0;u<f;u++)c=t.getUint32(d+8*u,!i),l=t.getUint32(d+4+8*u,!i),s[u]=new Number(c/l),s[u].numerator=c,s[u].denominator=l;return s;case 9:if(1==f)return t.getInt32(e+8,!i);for(s=[],u=0;u<f;u++)s[u]=t.getInt32(d+4*u,!i);return s;case 10:if(1==f)return t.getInt32(d,!i)/t.getInt32(d+4,!i);for(s=[],u=0;u<f;u++)s[u]=t.getInt32(d+8*u,!i)/t.getInt32(d+4+8*u,!i);return s}}function g(t,e,r){var i="";for(n=e;n<e+r;n++)i+=String.fromCharCode(t.getUint8(n));return i}function v(t,e){if("Exif"!=g(t,e,4))return!1;var n,r,i,l,h,f=e+6;if(18761==t.getUint16(f))n=!1;else{if(19789!=t.getUint16(f))return!1;n=!0}if(42!=t.getUint16(f+2,!n))return!1;var d=t.getUint32(f+4,!n);if(d<8)return!1;if((r=p(t,f,f+d,s,n)).ExifIFDPointer)for(i in l=p(t,f,f+r.ExifIFDPointer,o,n)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":l[i]=c[i][l[i]];break;case"ExifVersion":case"FlashpixVersion":l[i]=String.fromCharCode(l[i][0],l[i][1],l[i][2],l[i][3]);break;case"ComponentsConfiguration":l[i]=c.Components[l[i][0]]+c.Components[l[i][1]]+c.Components[l[i][2]]+c.Components[l[i][3]]}r[i]=l[i]}if(r.GPSInfoIFDPointer)for(i in h=p(t,f,f+r.GPSInfoIFDPointer,a,n)){switch(i){case"GPSVersionID":h[i]=h[i][0]+"."+h[i][1]+"."+h[i][2]+"."+h[i][3]}r[i]=h[i]}return r.thumbnail=function(t,e,n,r){var i=function(t,e,n){var r=t.getUint16(e,!n);return t.getUint32(e+2+12*r,!n)}(t,e+n,r);if(!i)return{};if(i>t.byteLength)return{};var o=p(t,e,e+i,u,r);if(o.Compression)switch(o.Compression){case 6:o.JpegIFOffset&&o.JpegIFByteCount&&(o.blob=new Blob([new Uint8Array(t.buffer,e+o.JpegIFOffset,o.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(t,f,d,n),r}function y(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);e["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes.item(i),s=o.nodeName;if(null==e[s])e[s]=y(o);else{if(null==e[s].push){var a=e[s];e[s]=[],e[s].push(a)}e[s].push(y(o))}}return e}function b(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var r=t.children.item(n),i=r.attributes;for(var o in i){var s=i[o],a=s.nodeName;void 0!==a&&(e[a]=s.nodeValue)}var u=r.nodeName;if(void 0===e[u])e[u]=y(r);else{if(void 0===e[u].push){var c=e[u];e[u]=[],e[u].push(c)}e[u].push(y(r))}}else e=t.textContent;return e}catch(l){console.log(l.message)}}r.enableXmp=function(){r.isXmpEnabled=!0},r.disableXmp=function(){r.isXmpEnabled=!1},r.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete||(l(t)?e&&e.call(t):function(t,e){function n(n){var i=h(n);t.exifdata=i||{};var o=function(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,r=t.byteLength,i=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};n<r;){if(i(e,n)){var o=e.getUint8(n+7);return o%2!=0&&(o+=1),0===o&&(o=4),d(t,n+8+o,e.getUint16(n+6+o))}n++}}(n);if(t.iptcdata=o||{},r.isXmpEnabled){var s=function(t){if("DOMParser"in self){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,r=t.byteLength,i=new DOMParser;n<r-4;){if("http"==g(e,n,4)){var o=n-1,s=e.getUint16(n-2)-1,a=g(e,o,s),u=a.indexOf("xmpmeta>")+8,c=(a=a.substring(a.indexOf("<x:xmpmeta"),u)).indexOf("x:xmpmeta")+10;return a=a.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+a.slice(c),b(i.parseFromString(a,"text/xml"))}n++}}}(n);t.xmpdata=s||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))n(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),s=0;s<r;s++)o[s]=n.charCodeAt(s);return i}(t.src));else if(/^blob\:/i.test(t.src))(o=new FileReader).onload=function(t){n(t.target.result)},function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||o.readAsArrayBuffer(this.response)},n.send()}(t.src);else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",t.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var o;(o=new FileReader).onload=function(t){n(t.target.result)},o.readAsArrayBuffer(t)}}(t,e),0))},r.getTag=function(t,e){if(l(t))return t.exifdata[e]},r.getIptcTag=function(t,e){if(l(t))return t.iptcdata[e]},r.getAllTags=function(t){if(!l(t))return{};var e,n=t.exifdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},r.getAllIptcTags=function(t){if(!l(t))return{};var e,n=t.iptcdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},r.pretty=function(t){if(!l(t))return"";var e,n=t.exifdata,r="";for(e in n)n.hasOwnProperty(e)&&(r+="object"==typeof n[e]?n[e]instanceof Number?e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":e+" : ["+n[e].length+" values]\r\n":e+" : "+n[e]+"\r\n");return r},r.readFromBinaryFile=function(t){return h(t)},void 0===(i=(function(){return r}).apply(e,[]))||(t.exports=i)}).call(this)},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cUpR:function(t,e,n){"use strict";n.d(e,"p",(function(){return lt})),n.d(e,"q",(function(){return w})),n.d(e,"a",(function(){return ht})),n.d(e,"h",(function(){return ct})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return S})),n.d(e,"e",(function(){return K})),n.d(e,"f",(function(){return Y})),n.d(e,"g",(function(){return $})),n.d(e,"b",(function(){return tt})),n.d(e,"r",(function(){return s})),n.d(e,"j",(function(){return R})),n.d(e,"i",(function(){return G})),n.d(e,"m",(function(){return Z})),n.d(e,"n",(function(){return J})),n.d(e,"l",(function(){return T})),n.d(e,"o",(function(){return x})),n.d(e,"k",(function(){return et}));var r=n("SVse"),i=n("8Y7J");let o=null;function s(){return o}const a={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},u={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},c={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},l=(()=>{if(i.vb.Node)return i.vb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class h extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new h,o||(o=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return a}contains(t,e){return l.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&c.hasOwnProperty(e)&&(e=c[e]))}return u[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=d||(d=document.querySelector("base"),d)?d.getAttribute("href"):null;return null==e?null:(n=e,f||(f=document.createElement("a")),f.setAttribute("href",n),"/"===f.pathname.charAt(0)?f.pathname:"/"+f.pathname);var n}resetBaseElement(){d=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.B)(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let f,d=null;function p(){return!!window.history.pushState}const m=new i.o("TRANSITION_ID"),g=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[m,r.d,i.p],multi:!0}];class v{static init(){Object(i.Y)(new v)}addToWindow(t){i.vb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.vb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.vb.getAllAngularRootElements=()=>t.getAllRootElements(),i.vb.frameworkStabilizers||(i.vb.frameworkStabilizers=[]),i.vb.frameworkStabilizers.push(t=>{const e=i.vb.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null}}function y(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i.vb.ng=i.vb.ng||{})[t]=e)}const b=(()=>({ApplicationRef:i.g,NgZone:i.x}))();function _(t){return Object(i.U)(t)}function w(t){return y("probe",_),y("coreTokens",Object.assign({},b,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>_}const E=new i.o("EventManagerPlugins");class S{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class I{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class x{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class T extends x{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}const k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=/%COMP%/g;function A(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?A(t,i,n):(i=i.replace(C,t),n.push(i))}return n}function O(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class R{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new P(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new D(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.P.Native:case i.P.ShadowDom:return new L(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=A(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class P{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(k[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=k[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=k[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.E.DashCase?t.style.setProperty(e,n,r&i.E.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.E.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){M(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return M(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,O(n)):this.eventManager.addEventListener(t,e,O(n))}}const N=(()=>"@".charCodeAt(0))();function M(t,e){if(t.charCodeAt(0)===N)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class D extends P{constructor(t,e,n,r){super(t),this.component=n;const i=A(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(C,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(C,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class L extends P{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=A(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const t=document.createElement("style");t.textContent=o[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const j=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),U=j("addEventListener"),F=j("removeEventListener"),B={},z="__zone_symbol__propagationStopped",q=(()=>{const t="undefined"!=typeof Zone&&Zone[j("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),V=function(t){return!!q&&q.hasOwnProperty(t)},H=function(t){const e=B[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[z];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class G extends I{constructor(t,e,n){super(t),this.ngZone=e,n&&Object(r.w)(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[z]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[U]||i.x.isInAngularZone()&&!V(e))t.addEventListener(e,r,!1);else{let n=B[e];n||(n=B[e]=j("ANGULAR"+e+"FALSE"));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=V(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[U](e,H,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[F];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);let i=B[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,H,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const W={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},K=new i.o("HammerGestureConfig"),Y=new i.o("HammerLoader");class ${constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Z extends I{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!W.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Q=["alt","control","meta","shift"],X={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class J extends I{constructor(t){super(t)}supports(t){return null!=J.parseEventName(t)}addEventListener(t,e,n){const r=J.parseEventName(e),i=J.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=J._normalizeKey(e.pop());let i="";if(Q.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=s().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Q.forEach(r=>{r!=n&&(0,X[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{J.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class tt{}class et extends tt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.G.NONE:return e;case i.G.HTML:return e instanceof rt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(i.eb)(this._doc,String(e)));case i.G.STYLE:return e instanceof it?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(i.fb)(e));case i.G.SCRIPT:if(e instanceof ot)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.G.URL:return e instanceof at||e instanceof st?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(i.gb)(String(e)));case i.G.RESOURCE_URL:if(e instanceof at)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof nt)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(t){return new rt(t)}bypassSecurityTrustStyle(t){return new it(t)}bypassSecurityTrustScript(t){return new ot(t)}bypassSecurityTrustUrl(t){return new st(t)}bypassSecurityTrustResourceUrl(t){return new at(t)}}class nt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class rt extends nt{getTypeName(){return"HTML"}}class it extends nt{getTypeName(){return"Style"}}class ot extends nt{getTypeName(){return"Script"}}class st extends nt{getTypeName(){return"URL"}}class at extends nt{getTypeName(){return"ResourceURL"}}const ut=[{provide:i.z,useValue:r.z},{provide:i.A,useValue:function(){h.makeCurrent(),v.init()},multi:!0},{provide:r.t,useClass:class extends r.t{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[r.d]},{provide:r.d,useFactory:function(){return document},deps:[]}],ct=Object(i.R)(i.X,"browser",ut);function lt(){return new i.l}class ht{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:ht,providers:[{provide:i.c,useValue:t.appId},{provide:m,useExisting:i.c},g]}}}"undefined"!=typeof window&&window},cxyc:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("mrSG"),i=n("fjcx");let o=(()=>{class t{constructor(){this.quarterTurnOrientations=new Set([5,6,7,8])}processImageFile(t,e){return r.a(this,void 0,void 0,(function*(){let n=yield this.getJimpFromFile(t);const r=e&&e.Orientation;return n=n.quality(80),n=this.resizeImage(n,r),n=this.uprightImage(n,r),yield this.getFileFromJimp(n,t.name)}))}uprightImage(t,e){return 5!==e&&6!==e||(t=t.rotate(90)),7!==e&&8!==e||(t=t.rotate(270)),3!==e&&4!==e||(t=t.rotate(180)),t}resizeImage(e,n){return this.quarterTurnOrientations.has(n)?e.resize(i.AUTO,t.imageSizes.lg):e.resize(t.imageSizes.lg,i.AUTO)}getJimpFromFile(t){return r.a(this,void 0,void 0,(function*(){const e=new Blob([t]),n=yield e.arrayBuffer();return yield i.read(n)}))}getFileFromJimp(t,e){return new Promise((n,r)=>{t.getBuffer(i.MIME_JPEG,(t,i)=>{t&&r(t);const o=new Blob([i]),s=new File([o],e);n(s)})})}}return t.imageSizes={lg:1080,md:640,sm:320,xs:150},t})()},dAlA:function(t,e,n){(function(t){var r,i=function(t){"use strict";var e=1e7,n=9007199254740992,r=h(n),o="function"==typeof BigInt;function s(t,e,n,r){return void 0===t?s[0]:void 0===e||10==+e&&!n?G(t):B(t,e,n,r)}function a(t,e){this.value=t,this.sign=e,this.isSmall=!1}function u(t){this.value=t,this.sign=t<0,this.isSmall=!0}function c(t){this.value=t}function l(t){return-n<t&&t<n}function h(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function f(t){d(t);var n=t.length;if(n<4&&C(t,r)<0)switch(n){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function d(t){for(var e=t.length;0===t[--e];);t.length=e+1}function p(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function m(t){return t>0?Math.floor(t):Math.ceil(t)}function g(t,n){var r,i,o=t.length,s=n.length,a=new Array(o),u=0,c=e;for(i=0;i<s;i++)a[i]=(r=t[i]+n[i]+u)-(u=r>=c?1:0)*c;for(;i<o;)r=t[i]+u,a[i++]=r-(u=r===c?1:0)*c;return u>0&&a.push(u),a}function v(t,e){return t.length>=e.length?g(t,e):g(e,t)}function y(t,n){var r,i,o=t.length,s=new Array(o),a=e;for(i=0;i<o;i++)r=t[i]-a+n,n=Math.floor(r/a),s[i]=r-n*a,n+=1;for(;n>0;)s[i++]=n%a,n=Math.floor(n/a);return s}function b(t,e){var n,r,i=t.length,o=e.length,s=new Array(i),a=0;for(n=0;n<o;n++)(r=t[n]-a-e[n])<0?(r+=1e7,a=1):a=0,s[n]=r;for(n=o;n<i;n++){if(!((r=t[n]-a)<0)){s[n++]=r;break}s[n]=r+=1e7}for(;n<i;n++)s[n]=t[n];return d(s),s}function _(t,e,n){var r,i,o=t.length,s=new Array(o),c=-e;for(r=0;r<o;r++)i=t[r]+c,c=Math.floor(i/1e7),s[r]=(i%=1e7)<0?i+1e7:i;return"number"==typeof(s=f(s))?(n&&(s=-s),new u(s)):new a(s,n)}function w(t,e){var n,r,i,o,s=t.length,a=e.length,u=p(s+a);for(i=0;i<s;++i){o=t[i];for(var c=0;c<a;++c)n=o*e[c]+u[i+c],r=Math.floor(n/1e7),u[i+c]=n-1e7*r,u[i+c+1]+=r}return d(u),u}function E(t,n){var r,i,o=t.length,s=new Array(o),a=e,u=0;for(i=0;i<o;i++)r=t[i]*n+u,u=Math.floor(r/a),s[i]=r-u*a;for(;u>0;)s[i++]=u%a,u=Math.floor(u/a);return s}function S(t,e){for(var n=[];e-- >0;)n.push(0);return n.concat(t)}function I(t,n,r){return new a(t<e?E(n,t):w(n,h(t)),r)}function x(t){var e,n,r,i,o=t.length,s=p(o+o);for(r=0;r<o;r++){n=0-(i=t[r])*i;for(var a=r;a<o;a++)e=i*t[a]*2+s[r+a]+n,n=Math.floor(e/1e7),s[r+a]=e-1e7*n;s[r+o]=n}return d(s),s}function T(t,e){var n,r,i,o,s=t.length,a=p(s);for(i=0,n=s-1;n>=0;--n)i=(o=1e7*i+t[n])-(r=m(o/e))*e,a[n]=0|r;return[a,0|i]}function k(t,n){var r,i=G(n);if(o)return[new c(t.value/i.value),new c(t.value%i.value)];var l,g=t.value,v=i.value;if(0===v)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new u(m(g/v)),new u(g%v)]:[s[0],t];if(i.isSmall){if(1===v)return[t,s[0]];if(-1==v)return[t.negate(),s[0]];var y=Math.abs(v);if(y<e){l=f((r=T(g,y))[0]);var _=r[1];return t.sign&&(_=-_),"number"==typeof l?(t.sign!==i.sign&&(l=-l),[new u(l),new u(_)]):[new a(l,t.sign!==i.sign),new u(_)]}v=h(y)}var w=C(g,v);if(-1===w)return[s[0],t];if(0===w)return[s[t.sign===i.sign?1:-1],s[0]];r=g.length+v.length<=200?function(t,n){var r,i,o,s,a,u,c,l=t.length,h=n.length,d=e,m=p(n.length),g=n[h-1],v=Math.ceil(d/(2*g)),y=E(t,v),b=E(n,v);for(y.length<=l&&y.push(0),b.push(0),g=b[h-1],i=l-h;i>=0;i--){for(r=d-1,y[i+h]!==g&&(r=Math.floor((y[i+h]*d+y[i+h-1])/g)),o=0,s=0,u=b.length,a=0;a<u;a++)o+=r*b[a],c=Math.floor(o/d),s+=y[i+a]-(o-c*d),o=c,s<0?(y[i+a]=s+d,s=-1):(y[i+a]=s,s=0);for(;0!==s;){for(r-=1,o=0,a=0;a<u;a++)(o+=y[i+a]-d+b[a])<0?(y[i+a]=o+d,o=0):(y[i+a]=o,o=1);s+=o}m[i]=r}return y=T(y,v)[0],[f(m),f(y)]}(g,v):function(t,e){for(var n,r,i,o,s=t.length,a=e.length,u=[],c=[];s;)if(c.unshift(t[--s]),d(c),C(c,e)<0)u.push(0);else{i=1e7*c[(r=c.length)-1]+c[r-2],r>a&&(i=1e7*(i+1)),n=Math.ceil(i/(1e7*e[a-1]+e[a-2]));do{if(C(o=E(e,n),c)<=0)break;n--}while(n);u.push(n),c=b(c,o)}return u.reverse(),[f(u),f(c)]}(g,v);var S=t.sign!==i.sign,I=r[1],x=t.sign;return"number"==typeof(l=r[0])?(S&&(l=-l),l=new u(l)):l=new a(l,S),"number"==typeof I?(x&&(I=-I),I=new u(I)):I=new a(I,x),[l,I]}function C(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var n=t.length-1;n>=0;n--)if(t[n]!==e[n])return t[n]>e[n]?1:-1;return 0}function A(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function O(t,e){for(var n,r,o,s=t.prev(),a=s,u=0;a.isEven();)a=a.divide(2),u++;t:for(r=0;r<e.length;r++)if(!t.lesser(e[r])&&!(o=i(e[r]).modPow(a,t)).isUnit()&&!o.equals(s)){for(n=u-1;0!=n;n--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(s))continue t}return!1}return!0}a.prototype=Object.create(s.prototype),u.prototype=Object.create(s.prototype),c.prototype=Object.create(s.prototype),a.prototype.add=function(t){var e=G(t);if(this.sign!==e.sign)return this.subtract(e.negate());var n=this.value,r=e.value;return new a(e.isSmall?y(n,Math.abs(r)):v(n,r),this.sign)},a.prototype.plus=a.prototype.add,u.prototype.add=function(t){var e=G(t),n=this.value;if(n<0!==e.sign)return this.subtract(e.negate());var r=e.value;if(e.isSmall){if(l(n+r))return new u(n+r);r=h(Math.abs(r))}return new a(y(r,Math.abs(n)),n<0)},u.prototype.plus=u.prototype.add,c.prototype.add=function(t){return new c(this.value+G(t).value)},c.prototype.plus=c.prototype.add,a.prototype.subtract=function(t){var e=G(t);if(this.sign!==e.sign)return this.add(e.negate());var n=this.value,r=e.value;return e.isSmall?_(n,Math.abs(r),this.sign):function(t,e,n){var r;return C(t,e)>=0?r=b(t,e):(r=b(e,t),n=!n),"number"==typeof(r=f(r))?(n&&(r=-r),new u(r)):new a(r,n)}(n,r,this.sign)},a.prototype.minus=a.prototype.subtract,u.prototype.subtract=function(t){var e=G(t),n=this.value;if(n<0!==e.sign)return this.add(e.negate());var r=e.value;return e.isSmall?new u(n-r):_(r,Math.abs(n),n>=0)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(t){return new c(this.value-G(t).value)},c.prototype.minus=c.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},u.prototype.negate=function(){var t=this.sign,e=new u(-this.value);return e.sign=!t,e},c.prototype.negate=function(){return new c(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},c.prototype.abs=function(){return new c(this.value>=0?this.value:-this.value)},a.prototype.multiply=function(t){var n,r,i,o=G(t),u=this.value,c=o.value,l=this.sign!==o.sign;if(o.isSmall){if(0===c)return s[0];if(1===c)return this;if(-1===c)return this.negate();if((n=Math.abs(c))<e)return new a(E(u,n),l);c=h(n)}return-.012*(r=u.length)-.012*(i=c.length)+15e-6*r*i>0?new a(function t(e,n){var r=Math.max(e.length,n.length);if(r<=30)return w(e,n);r=Math.ceil(r/2);var i=e.slice(r),o=e.slice(0,r),s=n.slice(r),a=n.slice(0,r),u=t(o,a),c=t(i,s),l=t(v(o,i),v(a,s)),h=v(v(u,S(b(b(l,u),c),r)),S(c,2*r));return d(h),h}(u,c),l):new a(w(u,c),l)},a.prototype.times=a.prototype.multiply,u.prototype._multiplyBySmall=function(t){return l(t.value*this.value)?new u(t.value*this.value):I(Math.abs(t.value),h(Math.abs(this.value)),this.sign!==t.sign)},a.prototype._multiplyBySmall=function(t){return 0===t.value?s[0]:1===t.value?this:-1===t.value?this.negate():I(Math.abs(t.value),this.value,this.sign!==t.sign)},u.prototype.times=u.prototype.multiply=function(t){return G(t)._multiplyBySmall(this)},c.prototype.multiply=function(t){return new c(this.value*G(t).value)},c.prototype.times=c.prototype.multiply,a.prototype.square=function(){return new a(x(this.value),!1)},u.prototype.square=function(){var t=this.value*this.value;return l(t)?new u(t):new a(x(h(Math.abs(this.value))),!1)},c.prototype.square=function(t){return new c(this.value*this.value)},c.prototype.divmod=u.prototype.divmod=a.prototype.divmod=function(t){var e=k(this,t);return{quotient:e[0],remainder:e[1]}},a.prototype.divide=function(t){return k(this,t)[0]},c.prototype.over=c.prototype.divide=function(t){return new c(this.value/G(t).value)},u.prototype.over=u.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(t){return k(this,t)[1]},c.prototype.mod=c.prototype.remainder=function(t){return new c(this.value%G(t).value)},u.prototype.remainder=u.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(t){var e,n,r,i=G(t),o=this.value,a=i.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&l(e=Math.pow(o,a)))return new u(m(e));for(n=this,r=s[1];!0&a&&(r=r.times(n),--a),0!==a;)a/=2,n=n.square();return r},u.prototype.pow=a.prototype.pow,c.prototype.pow=function(t){var e=G(t),n=this.value,r=e.value,i=BigInt(0),o=BigInt(1),a=BigInt(2);if(r===i)return s[1];if(n===i)return s[0];if(n===o)return s[1];if(n===BigInt(-1))return e.isEven()?s[1]:s[-1];if(e.isNegative())return new c(i);for(var u=this,l=s[1];(r&o)===o&&(l=l.times(u),--r),r!==i;)r/=a,u=u.square();return l},c.prototype.modPow=u.prototype.modPow=a.prototype.modPow=function(t,e){if(t=G(t),(e=G(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=s[1],r=this.mod(e);for(t.isNegative()&&(t=t.multiply(s[-1]),r=r.modInv(e));t.isPositive();){if(r.isZero())return s[0];t.isOdd()&&(n=n.multiply(r).mod(e)),t=t.divide(2),r=r.square().mod(e)}return n},a.prototype.compareAbs=function(t){var e=G(t);return e.isSmall?1:C(this.value,e.value)},u.prototype.compareAbs=function(t){var e=G(t),n=Math.abs(this.value),r=e.value;return e.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},c.prototype.compareAbs=function(t){var e=this.value,n=G(t).value;return(e=e>=0?e:-e)===(n=n>=0?n:-n)?0:e>n?1:-1},a.prototype.compareTo=a.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=G(t);return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:C(this.value,e.value)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=G(t),n=this.value,r=e.value;return e.isSmall?n==r?0:n>r?1:-1:n<0!==e.sign?n<0?-1:1:n<0?1:-1},c.prototype.compareTo=c.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,n=G(t).value;return e===n?0:e>n?1:-1},c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals=a.prototype.eq=a.prototype.equals=function(t){return 0===this.compare(t)},c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=a.prototype.neq=a.prototype.notEquals=function(t){return 0!==this.compare(t)},c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater=a.prototype.gt=a.prototype.greater=function(t){return this.compare(t)>0},c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser=a.prototype.lt=a.prototype.lesser=function(t){return this.compare(t)<0},c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},a.prototype.isEven=function(){return 0==(1&this.value[0])},u.prototype.isEven=function(){return 0==(1&this.value)},c.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return 1==(1&this.value[0])},u.prototype.isOdd=function(){return 1==(1&this.value)},c.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=u.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=u.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return 1===Math.abs(this.value)},c.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return 0===this.value},c.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=u.prototype.isDivisibleBy=a.prototype.isDivisibleBy=function(t){var e=G(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},c.prototype.isPrime=u.prototype.isPrime=a.prototype.isPrime=function(t){var e=A(this);if(void 0!==e)return e;var n=this.abs(),r=n.bitLength();if(r<=64)return O(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*r.toJSNumber(),s=Math.ceil(!0===t?2*Math.pow(o,2):o),a=[],u=0;u<s;u++)a.push(i(u+2));return O(n,a)},c.prototype.isProbablePrime=u.prototype.isProbablePrime=a.prototype.isProbablePrime=function(t,e){var n=A(this);if(void 0!==n)return n;for(var r=this.abs(),o=void 0===t?5:t,s=[],a=0;a<o;a++)s.push(i.randBetween(2,r.minus(2),e));return O(r,s)},c.prototype.modInv=u.prototype.modInv=a.prototype.modInv=function(t){for(var e,n,r,o=i.zero,s=i.one,a=G(t),u=this.abs();!u.isZero();)e=a.divide(u),n=o,r=a,o=s,a=u,s=n.subtract(e.multiply(s)),u=r.subtract(e.multiply(u));if(!a.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},a.prototype.next=function(){var t=this.value;return this.sign?_(t,1,this.sign):new a(y(t,1),this.sign)},u.prototype.next=function(){var t=this.value;return t+1<n?new u(t+1):new a(r,!1)},c.prototype.next=function(){return new c(this.value+BigInt(1))},a.prototype.prev=function(){var t=this.value;return this.sign?new a(y(t,1),!0):_(t,1,this.sign)},u.prototype.prev=function(){var t=this.value;return t-1>-n?new u(t-1):new a(r,!0)},c.prototype.prev=function(){return new c(this.value-BigInt(1))};for(var R=[1];2*R[R.length-1]<=e;)R.push(2*R[R.length-1]);var P=R.length,N=R[P-1];function M(t){return Math.abs(t)<=e}function D(t,e,n){e=G(e);for(var r=t.isNegative(),o=e.isNegative(),s=r?t.not():t,a=o?e.not():e,u=0,c=0,l=null,h=null,f=[];!s.isZero()||!a.isZero();)u=(l=k(s,N))[1].toJSNumber(),r&&(u=N-1-u),c=(h=k(a,N))[1].toJSNumber(),o&&(c=N-1-c),s=l[0],a=h[0],f.push(n(u,c));for(var d=0!==n(r?1:0,o?1:0)?i(-1):i(0),p=f.length-1;p>=0;p-=1)d=d.multiply(N).add(i(f[p]));return d}function L(t){var n=t.value,r="number"==typeof n?n|1<<30:"bigint"==typeof n?n|BigInt(1<<30):n[0]+n[1]*e|1073758208;return r&-r}function j(t,e){return t=G(t),e=G(e),t.greater(e)?t:e}function U(t,e){return t=G(t),e=G(e),t.lesser(e)?t:e}function F(t,e){if(t=G(t).abs(),e=G(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var n,r,i=s[1];t.isEven()&&e.isEven();)n=U(L(t),L(e)),t=t.divide(n),e=e.divide(n),i=i.multiply(n);for(;t.isEven();)t=t.divide(L(t));do{for(;e.isEven();)e=e.divide(L(e));t.greater(e)&&(r=e,e=t,t=r),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}c.prototype.shiftLeft=u.prototype.shiftLeft=a.prototype.shiftLeft=function(t){var e=G(t).toJSNumber();if(!M(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var n=this;if(n.isZero())return n;for(;e>=P;)n=n.multiply(N),e-=P-1;return n.multiply(R[e])},c.prototype.shiftRight=u.prototype.shiftRight=a.prototype.shiftRight=function(t){var e,n=G(t).toJSNumber();if(!M(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=P;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(e=k(r,N))[1].isNegative()?e[0].prev():e[0],n-=P-1}return(e=k(r,R[n]))[1].isNegative()?e[0].prev():e[0]},c.prototype.not=u.prototype.not=a.prototype.not=function(){return this.negate().prev()},c.prototype.and=u.prototype.and=a.prototype.and=function(t){return D(this,t,(function(t,e){return t&e}))},c.prototype.or=u.prototype.or=a.prototype.or=function(t){return D(this,t,(function(t,e){return t|e}))},c.prototype.xor=u.prototype.xor=a.prototype.xor=function(t){return D(this,t,(function(t,e){return t^e}))},c.prototype.bitLength=u.prototype.bitLength=a.prototype.bitLength=function(){var t=this;return t.compareTo(i(0))<0&&(t=t.negate().subtract(i(1))),0===t.compareTo(i(0))?i(0):i(function t(e,n){if(n.compareTo(e)<=0){var r=t(e,n.square(n)),o=r.p,s=r.e,a=o.multiply(n);return a.compareTo(e)<=0?{p:a,e:2*s+1}:{p:o,e:2*s}}return{p:i(1),e:0}}(t,i(2)).e).add(i(1))};var B=function(t,e,n,r){n=n||"0123456789abcdefghijklmnopqrstuvwxyz",t=String(t),r||(t=t.toLowerCase(),n=n.toLowerCase());var i,o=t.length,s=Math.abs(e),a={};for(i=0;i<n.length;i++)a[n[i]]=i;for(i=0;i<o;i++)if("-"!==(l=t[i])&&l in a&&a[l]>=s){if("1"===l&&1===s)continue;throw new Error(l+" is not a valid digit in base "+e+".")}e=G(e);var u=[],c="-"===t[0];for(i=c?1:0;i<t.length;i++){var l;if((l=t[i])in a)u.push(G(a[l]));else{if("<"!==l)throw new Error(l+" is not a valid character");var h=i;do{i++}while(">"!==t[i]&&i<t.length);u.push(G(t.slice(h+1,i)))}}return z(u,e,c)};function z(t,e,n){var r,i=s[0],o=s[1];for(r=t.length-1;r>=0;r--)i=i.add(t[r].times(o)),o=o.times(e);return n?i.negate():i}function q(t,e){if((e=i(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var r=!1;if(t.isNegative()&&e.isPositive()&&(r=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:r};for(var o,s=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){o=a.divmod(e),a=o.quotient;var u=o.remainder;u.isNegative()&&(u=e.minus(u).abs(),a=a.next()),s.push(u.toJSNumber())}return s.push(a.toJSNumber()),{value:s.reverse(),isNegative:r}}function V(t,e,n){var r=q(t,e);return(r.isNegative?"-":"")+r.value.map((function(t){return function(t,e){return t<(e=e||"0123456789abcdefghijklmnopqrstuvwxyz").length?e[t]:"<"+t+">"}(t,n)})).join("")}function H(t){if(l(+t)){var e=+t;if(e===m(e))return o?new c(BigInt(e)):new u(e);throw new Error("Invalid integer: "+t)}var n="-"===t[0];n&&(t=t.slice(1));var r=t.split(/e/i);if(r.length>2)throw new Error("Invalid integer: "+r.join("e"));if(2===r.length){var i=r[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==m(i)||!l(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var s=r[0],h=s.indexOf(".");if(h>=0&&(i-=s.length-h-1,s=s.slice(0,h)+s.slice(h+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=s+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(o)return new c(BigInt(n?"-"+t:t));for(var f=[],p=t.length,g=p-7;p>0;)f.push(+t.slice(g,p)),(g-=7)<0&&(g=0),p-=7;return d(f),new a(f,n)}function G(t){return"number"==typeof t?function(t){if(o)return new c(BigInt(t));if(l(t)){if(t!==m(t))throw new Error(t+" is not an integer.");return new u(t)}return H(t.toString())}(t):"string"==typeof t?H(t):"bigint"==typeof t?new c(t):t}a.prototype.toArray=function(t){return q(this,t)},u.prototype.toArray=function(t){return q(this,t)},c.prototype.toArray=function(t){return q(this,t)},a.prototype.toString=function(t,e){if(void 0===t&&(t=10),10!==t||e)return V(this,t,e);for(var n,r=this.value,i=r.length,o=String(r[--i]);--i>=0;)n=String(r[i]),o+="0000000".slice(n.length)+n;return(this.sign?"-":"")+o},c.prototype.toString=u.prototype.toString=function(t,e){return void 0===t&&(t=10),10!=t||e?V(this,t,e):String(this.value)},c.prototype.toJSON=a.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},a.prototype.toJSNumber=a.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf=function(){return this.value},c.prototype.valueOf=c.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var W=0;W<1e3;W++)s[W]=G(W),W>0&&(s[-W]=G(-W));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=j,s.min=U,s.gcd=F,s.lcm=function(t,e){return t=G(t).abs(),e=G(e).abs(),t.divide(F(t,e)).multiply(e)},s.isInstance=function(t){return t instanceof a||t instanceof u||t instanceof c},s.randBetween=function(t,n,r){t=G(t),n=G(n);var i=r||Math.random,o=U(t,n),a=j(t,n).subtract(o).add(1);if(a.isSmall)return o.add(Math.floor(i()*a));for(var u=q(a,e).value,c=[],l=!0,h=0;h<u.length;h++){var f=l?u[h]+(h+1<u.length?u[h+1]/e:0):e,d=m(i()*f);c.push(d),d<u[h]&&(l=!1)}return o.add(s.fromArray(c,e,!1))},s.fromArray=function(t,e,n){return z(t.map(G),G(e||10),n)},s}();t.hasOwnProperty("exports")&&(t.exports=i),void 0===(r=(function(){return i}).call(e,n,e,t))||(t.exports=r)}).call(this,n("YuTi")(t))},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),s=n("lJxs"),a=n("Cfvw");function u(t,e){return"function"==typeof e?n=>n.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new c(t))}class c{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends r.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new i.a(this,void 0,void 0);this.destination.add(s),this.innerSubscription=Object(o.a)(this,t,e,n,s)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}},fDlF:function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"c",(function(){return dt})),n.d(e,"g",(function(){return pt})),n.d(e,"e",(function(){return S})),n.d(e,"b",(function(){return Bt})),n.d(e,"d",(function(){return te})),n.d(e,"f",(function(){return ne})),n.d(e,"h",(function(){return re}));var r=n("GS7A");function i(){return"undefined"!=typeof process}function o(t){switch(t.length){case 0:return new r.d;case 1:return t[0];default:return new r.n(t)}}function s(t,e,n,i,o={},s={}){const a=[],u=[];let c=-1,l=null;if(i.forEach(t=>{const n=t.offset,i=n==c,h=i&&l||{};Object.keys(t).forEach(n=>{let i=n,u=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),u){case r.o:u=o[n];break;case r.a:u=s[n];break;default:u=e.normalizeStyleValue(n,i,u,a)}h[i]=u}),i||u.push(h),l=h,c=n}),a.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${a.join(t)}`)}return u}function a(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&u(n,"start",t)));break;case"done":t.onDone(()=>r(n&&u(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&u(n,"destroy",t)))}}function u(t,e,n){const r=n.totalTime,i=c(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function c(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function l(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function h(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let f=(t,e)=>!1,d=(t,e)=>!1,p=(t,e,n)=>[];const m=i();(m||"undefined"!=typeof Element)&&(f=(t,e)=>t.contains(e),d=(()=>{if(m||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):d}})(),p=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let g=null,v=!1;function y(t){g||(g=("undefined"!=typeof document?document.body:null)||{},v=!!g.style&&"WebkitAppearance"in g.style);let e=!0;return g.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in g.style,!e&&v)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in g.style),e}const b=d,_=f,w=p;function E(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class S{validateStyleProperty(t){return y(t)}matchesElement(t,e){return b(t,e)}containsElement(t,e){return _(t,e)}query(t,e,n){return w(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,o,s=[],a){return new r.d(n,i)}}let I=(()=>{class t{}return t.NOOP=new S,t})();function x(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:T(parseFloat(e[1]),e[2])}function T(t,e){switch(e){case"s":return 1e3*t;default:return t}}function k(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=T(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=T(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function C(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function A(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else C(t,n);return n}function O(t,e,n){return n?e+":"+n+";":""}function R(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=O(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=O(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function P(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=B(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),i()&&R(t))}function N(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=B(e);t.style[n]=""}),i()&&R(t))}function M(t){return Array.isArray(t)?1==t.length?t[0]:Object(r.i)(t):t}const D=new RegExp("{{\\s*(.+?)\\s*}}","g");function L(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=D.exec(n);)e.push(r[1]);D.lastIndex=0}return e}function j(t,e,n){const r=t.toString(),i=r.replace(D,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function U(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const F=/-+([a-z0-9])/g;function B(t){return t.replace(F,(...t)=>t[1].toUpperCase())}function z(t,e){return 0===t||0===e}function q(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=H(t,e)}))}}return e}function V(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function H(t,e){return window.getComputedStyle(t)[e]}function G(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Y(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(Y(s,i))}(t,n,e)):n.push(t),n}const W=new Set(["true","1"]),K=new Set(["false","0"]);function Y(t,e){const n=W.has(t)||K.has(t),r=W.has(e)||K.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?W.has(t):K.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?W.has(e):K.has(e)),s&&a}}const $=new RegExp("s*:selfs*,?","g");function Z(t,e,n){return new Q(t).build(e,n)}class Q{constructor(t){this._driver=t}build(t,e){const n=new X(e);return this._resetContextStyleTimingState(n),V(this,M(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(J(t)){const e=t;Object.keys(e).forEach(t=>{L(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=U(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=V(this,M(t.animation),e);return{type:1,matchers:G(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:tt(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>V(this,t,e)),options:tt(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=V(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:tt(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return et(k(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=et(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||k(r,e),et(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let o=t.styles?t.styles:Object(r.k)({});if(5==o.type)i=this.visitKeyframes(o,e);else{let o=t.styles,s=!1;if(!o){s=!0;const t={};n.easing&&(t.easing=n.easing),o=Object(r.k)(t)}e.currentTime+=n.duration+n.delay;const a=this.visitStyle(o,e);a.isEmptyStep=s,i=a}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==r.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,o=null;return n.forEach(t=>{if(J(t)){const e=t,n=e.easing;if(n&&(o=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=L(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(J(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(J(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=f+d.delay+s,d.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:V(this,M(t.animation),e),options:tt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:tt(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:tt(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace($,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,l(e.collectedStyles,e.currentQuerySelector,{});const s=V(this,M(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:tt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:k(t.timings,e.errors,!0);return{type:12,animation:V(this,M(t.animation),e),timings:n,options:null}}}class X{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function J(t){return!Array.isArray(t)&&"object"==typeof t}function tt(t){var e;return t?(t=C(t)).params&&(t.params=(e=t.params)?C(e):null):t={},t}function et(t,e,n){return{duration:t,delay:e,easing:n}}function nt(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class rt{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const it=new RegExp(":enter","g"),ot=new RegExp(":leave","g");function st(t,e,n,r,i,o={},s={},a,u,c=[]){return(new at).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class at{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new rt;const l=new ct(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),V(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[nt(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?x(n.duration):null,o=null!=n.delay?x(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),V(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ut);const t=x(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>V(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?x(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),V(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return k(e.params?j(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?x(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ut);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),V(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;V(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ut={};class ct{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ut,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new lt(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=x(n.duration)),null!=n.delay&&(r.delay=x(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=j(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new ct(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ut,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ht(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(it,"."+this._enterClassName)).replace(ot,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class lt{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lt(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||r.a,this._currentKeyframe[t]=r.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const o=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=r.a})):A(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=j(s[t],o,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:r.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((o,s)=>{const a=A(o,!0);Object.keys(a).forEach(n=>{const i=a[n];i==r.o?t.add(n):i==r.a&&e.add(n)}),n||(a.offset=s/this.duration),i.push(a)});const o=t.size?U(t.values()):[],s=e.size?U(e.values()):[];if(n){const t=i[0],e=C(t);t.offset=0,e.offset=1,i=[t,e]}return nt(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class ht extends lt{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=A(t[0],!1);a.offset=0,i.push(a);const u=A(t[0],!1);u.offset=ft(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=A(t[r],!1);s.offset=ft((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return nt(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ft(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class dt{}class pt extends dt{normalizePropertyName(t,e){return B(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(mt[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const mt=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gt(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const vt={};class yt{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const h=[],f=this.ast.options&&this.ast.options.params||vt,d=this.buildStyles(n,s&&s.params||vt,h),p=a&&a.params||vt,m=this.buildStyles(r,p,h),g=new Set,v=new Map,y=new Map,b="void"===r,_={params:Object.assign({},f,p)},w=c?[]:st(t,e,this.ast.animation,i,o,d,m,_,u,h);let E=0;if(w.forEach(t=>{E=Math.max(t.duration+t.delay,E)}),h.length)return gt(e,this._triggerName,n,r,b,d,m,[],[],v,y,E,h);w.forEach(t=>{const n=t.element,r=l(v,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=l(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=U(g.values());return gt(e,this._triggerName,n,r,b,d,m,w,S,v,y,E)}}class bt{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=C(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=j(o,r,e)),n[t]=o})}}),n}}class _t{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new bt(t.style,t.options&&t.options.params||{})}),wt(this.states,"true","1"),wt(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new yt(t,e,this.states))}),this.fallbackTransition=new yt(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function wt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Et=new rt;class St{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Z(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=s(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],s=this._animations[t];let a;const u=new Map;if(s?(a=st(this._driver,e,s,"ng-enter","ng-leave",{},{},n,Et,i),a.forEach(t=>{const e=l(u,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),a=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));u.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,r.a)})});const c=o(a.map(t=>{const e=u.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=c(e,"","","");return a(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const It=[],xt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class kt{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=C(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ct=new kt("void");class At{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Lt(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=l(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=l(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Lt(t,"ng-trigger"),Lt(t,"ng-trigger-"+e),a[e]=Ct),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new Rt(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Lt(t,"ng-trigger"),Lt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new kt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=Ct),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{N(t,n),P(t,r)})}return}const c=l(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let h=i.matchTransition(a.value,u.value,t,u.params),f=!1;if(!h){if(!r)return;h=i.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:a,toState:u,player:o,isFallbackTransition:f}),f||(Lt(t,"ng-animate-queued"),o.onStart(()=>{jt(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,".ng-trigger",!0).forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&o(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||Ct,s=new kt("void"),a=new Rt(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){Lt(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=c(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,a(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Ot{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new At(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Pt(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Pt(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Lt(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jt(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Pt(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Pt(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return o(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=xt,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Lt(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?o(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new rt,i=[],s=new Map,a=[],u=new Map,c=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(t=>{f.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)f.add(e[n])});const d=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=Dt(p,this.collectedEnterElements),g=new Map;let v=0;m.forEach((t,e)=>{const n="ng-enter"+v++;g.set(e,n),t.forEach(t=>Lt(t,n))});const y=[],b=new Set,_=new Set;for(let r=0;r<this.collectedLeaveElements.length;r++){const t=this.collectedLeaveElements[r],e=t.__ng_removed;e&&e.setForRemoval&&(y.push(t),b.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>b.add(t)):_.add(t))}const w=new Map,E=Dt(p,Array.from(b));E.forEach((t,e)=>{const n="ng-leave"+v++;w.set(e,n),t.forEach(t=>Lt(t,n))}),t.push(()=>{m.forEach((t,e)=>{const n=g.get(e);t.forEach(t=>jt(t,n))}),E.forEach((t,e)=>{const n=w.get(e);t.forEach(t=>jt(t,n))}),y.forEach(t=>{this.processLeaveNode(t)})});const S=[],I=[];for(let r=this._namespaceList.length-1;r>=0;r--)this._namespaceList[r].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(S.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const o=!d||!this.driver.containsElement(d,r),s=w.get(r),f=g.get(r),p=this._buildInstruction(t,n,f,s,o);if(p.errors&&p.errors.length)I.push(p);else{if(o)return e.onStart(()=>N(r,p.fromStyles)),e.onDestroy(()=>P(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>N(r,p.fromStyles)),e.onDestroy(()=>P(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),a.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>l(u,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=c.get(e);t||c.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=h.get(e);r||h.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(I.length){const t=[];I.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),S.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,T=new Map;a.forEach(t=>{const e=t.element;n.has(e)&&(T.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{l(x,e,[]).push(t),t.destroy()})});const k=y.filter(t=>Ft(t,c,h)),C=new Map;Mt(C,this.driver,_,h,r.a).forEach(t=>{Ft(t,c,h)&&k.push(t)});const A=new Map;m.forEach((t,e)=>{Mt(A,this.driver,new Set(t),c,r.o)}),k.forEach(t=>{const e=C.get(t),n=A.get(t);C.set(t,Object.assign({},e,n))});const O=[],R=[],M={};a.forEach(t=>{const{element:e,player:r,instruction:a}=t;if(n.has(e)){if(f.has(e))return r.onDestroy(()=>P(e,a.toStyles)),r.disabled=!0,r.overrideTotalTime(a.totalTime),void i.push(r);let t=M;if(T.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=T.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>T.set(e,t))}const n=this._buildAnimation(r.namespaceId,a,x,s,A,C);if(r.setRealPlayer(n),t===M)O.push(r);else{const e=this.playersByElement.get(t);e&&e.length&&(r.parentPlayer=o(e)),i.push(r)}}else N(e,a.fromStyles),r.onDestroy(()=>P(e,a.toStyles)),R.push(r),f.has(e)&&i.push(r)}),R.forEach(t=>{const e=s.get(t.element);if(e&&e.length){const n=o(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let r=0;r<y.length;r++){const t=y[r],e=t.__ng_removed;if(jt(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(u.size){let e=u.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=u.get(r[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Ut(this,t,i):this.processLeaveNode(t)}return y.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=l(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}N(r,e.fromStyles)}_buildAnimation(t,e,n,i,a,u){const c=e.triggerName,h=e.element,f=[],d=new Set,p=new Set,m=e.timelines.map(e=>{const o=e.element;d.add(o);const l=o.__ng_removed;if(l&&l.removedBeforeQueried)return new r.d(e.duration,e.delay);const m=o!==h,g=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const o=e[i];o instanceof r.n?t(o.players,n):n.push(o)}}(t,e),e}((n.get(o)||It).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===o),v=a.get(o),y=u.get(o),b=s(0,this._normalizer,0,e.keyframes,v,y),_=this._buildPlayer(e,b,g);if(e.subTimeline&&i&&p.add(o),m){const e=new Rt(t,c,o);e.setRealPlayer(_),f.push(e)}return _});f.forEach(t=>{l(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),d.forEach(t=>Lt(t,"ng-animating"));const g=o(m);return g.onDestroy(()=>{d.forEach(t=>jt(t,"ng-animating")),P(h,e.toStyles)}),p.forEach(t=>{l(i,t,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new r.d(t.duration,t.delay)}}class Rt{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new r.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>a(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){l(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Pt(t){return t&&1===t.nodeType}function Nt(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Mt(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Nt(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Tt,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Nt(t,o[a++])),s}function Dt(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function Lt(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function jt(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Ut(t,e,n){o(n).onDone(()=>t.processLeaveNode(e))}function Ft(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Bt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ot(t,e,n),this._timelineEngine=new St(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Z(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new _t(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=h(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=h(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function zt(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Vt(e[0]),e.length>1&&(r=Vt(e[e.length-1]))):e&&(n=Vt(e)),n||r?new qt(t,n,r):null}let qt=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&P(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(P(this._element,this._initialStyles),this._endStyles&&(P(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(N(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(N(this._element,this._endStyles),this._endStyles=null),P(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Vt(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ht(i)&&(e=e||{},e[i]=t[i])}return e}function Ht(t){return"display"===t||"position"===t}class Gt{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Qt(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Zt(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$t(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Wt(this._element,this._name,"paused")}resume(){Wt(this._element,this._name,"running")}setPosition(t){const e=Kt(this._element,this._name);this._position=t*this._duration,Zt(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$t(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Qt(t,"").split(","),r=Yt(n,e);r>=0&&(n.splice(r,1),Zt(t,"",n.join(",")))}(this._element,this._name))}}function Wt(t,e,n){Zt(t,"PlayState",n,Kt(t,e))}function Kt(t,e){const n=Qt(t,"");return n.indexOf(",")>0?Yt(n.split(","),e):Yt([n],e)}function Yt(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function $t(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Zt(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Qt(t,e){return t.style["animation"+e]}class Xt{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Gt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:H(this.element,n))})}this.currentSnapshot=t}}class Jt extends r.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=E(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class te{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return y(t)}matchesElement(t,e){return b(t,e)}containsElement(t,e){return _(t,e)}query(t,e,n){return w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>E(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Xt),u={};z(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=q(t,e,u));if(0==n)return new Jt(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=zt(t,e),d=new Xt(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ee{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:H(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ne{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ie().toString()),this._cssKeyframesDriver=new te}validateStyleProperty(t){return y(t)}matchesElement(t,e){return b(t,e)}containsElement(t,e){return _(t,e)}query(t,e,n){return w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof ee);z(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=zt(t,e=q(t,e=e.map(t=>A(t,!1)),u));return new ee(t,e,a,l)}}function re(){return"function"==typeof ie()}function ie(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}},fjcx:function(t,e,n){if((void 0===r||!r)&&"undefined"!=typeof self)var r=self;t.exports=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,(function(t){return i(e[s][1][t]||t)}),c,c.exports,t,e,n,r)}return n[s].exports}for(var o=!1,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){e.exports=function(t){if(Array.isArray(t))return t}},{}],2:[function(t,e,n){e.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},{}],3:[function(t,e,n){e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},{}],4:[function(t,e,n){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],5:[function(t,e,n){var r=t("./setPrototypeOf");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o(t,n,s){return e.exports=o=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},{"./setPrototypeOf":18}],6:[function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},{}],7:[function(t,e,n){e.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},{}],8:[function(t,e,n){function r(){return e.exports=r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}e.exports=r},{}],9:[function(t,e,n){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}e.exports=r},{}],10:[function(t,e,n){var r=t("./setPrototypeOf");e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},{"./setPrototypeOf":18}],11:[function(t,e,n){e.exports=function(t){return t&&t.__esModule?t:{default:t}}},{}],12:[function(t,e,n){var r=t("../helpers/typeof");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}e.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}},{"../helpers/typeof":21}],13:[function(t,e,n){e.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},{}],14:[function(t,e,n){e.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},{}],15:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],16:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},{}],17:[function(t,e,n){var r=t("../helpers/typeof"),i=t("./assertThisInitialized");e.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(t,e,n){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,n)}e.exports=r},{}],19:[function(t,e,n){var r=t("./arrayWithHoles"),i=t("./iterableToArrayLimit"),o=t("./nonIterableRest");e.exports=function(t,e){return r(t)||i(t,e)||o()}},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(t,e,n){var r=t("./arrayWithoutHoles"),i=t("./iterableToArray"),o=t("./nonIterableSpread");e.exports=function(t){return r(t)||i(t)||o()}},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},i(t)}e.exports=i},{}],22:[function(t,e,n){e.exports=t("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(t,e,n){var r=t("./src/converter");function i(t,e){var n=new r(t,e);return function(t){return n.convert(t)}}i.BIN="01",i.OCT="01234567",i.DEC="0123456789",i.HEX="0123456789abcdef",e.exports=i},{"./src/converter":24}],24:[function(t,e,n){"use strict";function r(t,e){if(!(t&&e&&t.length&&e.length))throw new Error("Bad alphabet");this.srcAlphabet=t,this.dstAlphabet=e}r.prototype.convert=function(t){var e,n,r,i={},o=this.srcAlphabet.length,s=this.dstAlphabet.length,a=t.length,u="string"==typeof t?"":[];if(!this.isValid(t))throw new Error('Number "'+t+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<a;e++)i[e]=this.srcAlphabet.indexOf(t[e]);do{for(n=0,r=0,e=0;e<a;e++)(n=n*o+i[e])>=s?(i[r++]=parseInt(n/s,10),n%=s):r>0&&(i[r++]=0);a=r,u=this.dstAlphabet.slice(n,n+1).concat(u)}while(0!==r);return u},r.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0},e.exports=r},{}],25:[function(t,e,n){(function(n){"use strict";var r=t("object-assign");function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=t("util/"),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===(function(){}).name;function l(t){return Object.prototype.toString.call(t)}function h(t){return!o(t)&&"function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var f=e.exports=y,d=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(s.isFunction(t)){if(c)return t.name;var e=t.toString().match(d);return e&&e[1]}}function m(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(c||!s.isFunction(t))return s.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function v(t,e,n,r,i){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function y(t,e){t||v(t,!0,e,"==",f.ok)}function b(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(h(t)&&h(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=_(t),o=_(e);if(i&&!o||!i&&o)return!1;if(i)return b(t=u.call(t),e=u.call(e),n);var a,c,l=S(t),h=S(e);if(l.length!==h.length)return!1;for(l.sort(),h.sort(),c=l.length-1;c>=0;c--)if(l[c]!==h[c])return!1;for(c=l.length-1;c>=0;c--)if(!b(t[a=l[c]],e[a],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function _(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function E(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(n){e=n}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&v(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&i&&!n;if((!t&&s.isError(i)&&o&&w(i,n)||a)&&v(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return m(g(t.actual),128)+" "+t.operator+" "+m(g(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=p(e),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(f.AssertionError,Error),f.fail=v,f.ok=y,f.equal=function(t,e,n){t!=e&&v(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&v(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){b(t,e,!1)||v(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){b(t,e,!0)||v(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){b(t,e,!1)&&v(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&v(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&v(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&v(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){E(!0,t,e,n)},f.doesNotThrow=function(t,e,n){E(!1,t,e,n)},f.ifError=function(t){if(t)throw t},f.strict=r((function t(e,n){e||v(e,!0,n,"==",t)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var S=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"object-assign":84,"util/":28}],26:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],27:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],28:[function(t,e,n){(function(e,r){var i=/%[sdj%]/g;n.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),u=r[n];n<o;u=r[++n])m(u)||!_(u)?s+=" "+u:s+=" "+a(u);return s},n.deprecate=function(t,i){if(y(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}};var o,s={};function a(t,e){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(e)?r.showHidden=e:e&&n._extend(r,e),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=a.styles[e];return n?"\x1b["+a.colors[n][0]+"m"+t+"\x1b["+a.colors[n][1]+"m":t}function c(t,e){return t}function l(t,e,r){if(t.customInspect&&e&&S(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return v(i)||(i=l(t,i,r)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,e);if(o)return o;var s=Object.keys(e),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),E(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(e);if(0===s.length){if(S(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(b(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(w(e))return t.stylize(Date.prototype.toString.call(e),"date");if(E(e))return h(e)}var u,c="",_=!1,I=["{","}"];return d(e)&&(_=!0,I=["[","]"]),S(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),b(e)&&(c=" "+RegExp.prototype.toString.call(e)),w(e)&&(c=" "+Date.prototype.toUTCString.call(e)),E(e)&&(c=" "+h(e)),0!==s.length||_&&0!=e.length?r<0?b(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=_?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)C(e,String(s))?o.push(f(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,e,r,a,s):s.map((function(n){return f(t,e,r,a,n,_)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,c,I)):I[0]+c+I[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),C(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===I(t)}function _(t){return"object"==typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===I(t)}function E(t){return _(t)&&("[object Error]"===I(t)||t instanceof Error)}function S(t){return"function"==typeof t}function I(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){if(y(o)&&(o=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var r=e.pid;s[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else s[t]=function(){};return s[t]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=p,n.isNull=m,n.isNullOrUndefined=function(t){return null==t},n.isNumber=g,n.isString=v,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=y,n.isRegExp=b,n.isObject=_,n.isDate=w,n.isError=E,n.isFunction=S,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){console.log("%s - %s",k(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(t,e,n){"use strict";n.byteLength=function(t){var e=c(t),n=e[1];return 3*(e[0]+n)/4-n},n.toByteArray=function(t){var e,n,r=c(t),s=r[0],a=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],30:[function(t,e,n){var r=t("./lib/encoder"),i=t("./lib/decoder");e.exports={encode:r,decode:i}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(t,e,n){(function(t){function n(t,e){if(this.pos=0,this.buffer=t,this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}n.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},n.prototype.parseRGBA=function(){var e="bit"+this.bitPP;this.data=new t(this.width*this.height*4),this[e]()},n.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,n=this.height>=0?this.height-1:-this.height;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.buffer.readUInt8(this.pos++),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[o>>7-a&1];this.data[s+4*a]=0,this.data[s+4*a+1]=u.blue,this.data[s+4*a+2]=u.green,this.data[s+4*a+3]=u.red}0!=e&&(this.pos+=4-e)}},n.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0,n=!1;t<this.data.length;){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==r){if(0==i){this.bottom_up?e--:e++,t=e*this.width*4,n=!1;continue}if(1==i)break;if(2==i){var o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=s:e+=s,t+=s*this.width*4+4*o}else{for(var a=this.buffer.readUInt8(this.pos++),u=0;u<i;u++)c.call(this,n?15&a:(240&a)>>4),1&u&&u+1<i&&(a=this.buffer.readUInt8(this.pos++)),n=!n;1==(i+1>>1&1)&&this.pos++}}else for(u=0;u<r;u++)c.call(this,n?15&i:(240&i)>>4),n=!n}function c(e){var n=this.palette[e];this.data[t]=0,this.data[t+1]=n.blue,this.data[t+2]=n.green,this.data[t+3]=n.red,t+=4}}else{var l=Math.ceil(this.width/2),h=l%4;for(s=this.height-1;s>=0;s--){var f=this.bottom_up?s:this.height-1-s;for(o=0;o<l;o++){var d=15&(i=this.buffer.readUInt8(this.pos++)),p=this.palette[i>>4];if(this.data[t=f*this.width*4+2*o*4]=0,this.data[t+1]=p.blue,this.data[t+2]=p.green,this.data[t+3]=p.red,2*o+1>=this.width)break;p=this.palette[d],this.data[t+4]=0,this.data[t+4+1]=p.blue,this.data[t+4+2]=p.green,this.data[t+4+3]=p.red}0!=h&&(this.pos+=4-h)}}},n.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var t=0,e=this.bottom_up?this.height-1:0;t<this.data.length;){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);if(0==n){if(0==r){this.bottom_up?e--:e++,t=e*this.width*4;continue}if(1==r)break;if(2==r){var i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.bottom_up?e-=o:e+=o,t+=o*this.width*4+4*i}else{for(var s=0;s<r;s++){var a=this.buffer.readUInt8(this.pos++);u.call(this,a)}!0&r&&this.pos++}}else for(s=0;s<n;s++)u.call(this,r)}function u(e){var n=this.palette[e];this.data[t]=0,this.data[t+1]=n.blue,this.data[t+2]=n.green,this.data[t+3]=n.red,t+=4}}else{var c=this.width%4;for(o=this.height-1;o>=0;o--){var l=this.bottom_up?o:this.height-1-o;for(i=0;i<this.width;i++)if(r=this.buffer.readUInt8(this.pos++),t=l*this.width*4+4*i,r<this.palette.length){var h=this.palette[r];this.data[t]=0,this.data[t+1]=h.blue,this.data[t+2]=h.green,this.data[t+3]=h.red}else this.data[t]=0,this.data[t+1]=255,this.data[t+2]=255,this.data[t+3]=255;0!=c&&(this.pos+=4-c)}}},n.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,c=r*this.width*4+4*i;this.data[c]=o>>15?255:0,this.data[c+1]=s,this.data[c+2]=a,this.data[c+3]=u}this.pos+=t}},n.prototype.bit16=function(){var t=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var e=[0,0,0],n=0;n<16;n++)this.maskRed>>n&1&&e[0]++,this.maskGreen>>n&1&&e[1]++,this.maskBlue>>n&1&&e[2]++;e[1]+=e[0],e[2]+=e[1],e[0]=8-e[0],e[1]-=8,e[2]-=8;for(var r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.buffer.readUInt16LE(this.pos);this.pos+=2;var a=(s&this.maskBlue)<<e[0],u=(s&this.maskGreen)>>e[1],c=(s&this.maskRed)>>e[2],l=i*this.width*4+4*o;this.data[l]=0,this.data[l+1]=a,this.data[l+2]=u,this.data[l+3]=c}this.pos+=t}},n.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=e*this.width*4+4*n;this.data[s]=0,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=o}this.pos+=this.width%4}},n.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.data[a=e*this.width*4+4*n]=r,this.data[a+1]=i,this.data[a+2]=o,this.data[a+3]=s}}else for(t=this.height-1;t>=0;t--)for(e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a;i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),this.data[a=e*this.width*4+4*n]=r,this.data[a+1]=i,this.data[a+2]=o,this.data[a+3]=s}},n.prototype.getData=function(){return this.data},e.exports=function(t){return new n(t)}}).call(this,t("buffer").Buffer)},{buffer:48}],32:[function(t,e,n){(function(t){function n(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}n.prototype.encode=function(){var e=new t(this.offset+this.rgbSize);this.pos=0,e.write(this.flag,this.pos,2),this.pos+=2,e.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,e.writeUInt32LE(this.reserved,this.pos),this.pos+=4,e.writeUInt32LE(this.offset,this.pos),this.pos+=4,e.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,e.writeUInt32LE(this.width,this.pos),this.pos+=4,e.writeInt32LE(-this.height,this.pos),this.pos+=4,e.writeUInt16LE(this.planes,this.pos),this.pos+=2,e.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,e.writeUInt32LE(this.compress,this.pos),this.pos+=4,e.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,e.writeUInt32LE(this.hr,this.pos),this.pos+=4,e.writeUInt32LE(this.vr,this.pos),this.pos+=4,e.writeUInt32LE(this.colors,this.pos),this.pos+=4,e.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var n=0,r=3*this.width+this.extraBytes,i=0;i<this.height;i++){for(var o=0;o<this.width;o++){var s=this.pos+i*r+3*o;n++,e[s]=this.buffer[n++],e[s+1]=this.buffer[n++],e[s+2]=this.buffer[n++]}if(this.extraBytes>0){var a=this.pos+i*r+3*this.width;e.fill(0,a,a+this.extraBytes)}}return e},e.exports=function(t,e){return void 0===e&&(e=100),{data:new n(t).encode(),width:t.width,height:t.height}}}).call(this,t("buffer").Buffer)},{buffer:48}],33:[function(t,e,n){},{}],34:[function(t,e,n){(function(e,r){"use strict";var i=t("assert"),o=t("pako/lib/zlib/zstream"),s=t("pako/lib/zlib/deflate.js"),a=t("pako/lib/zlib/inflate.js"),u=t("pako/lib/zlib/constants");for(var c in u)n[c]=u[c];function l(t){if("number"!=typeof t||t<n.DEFLATE||t>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7,l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||a.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},l.prototype.write=function(t,e,n,r,i,o,s){return this._write(!0,t,e,n,r,i,o,s)},l.prototype.writeSync=function(t,e,n,r,i,o,s){return this._write(!1,t,e,n,r,i,o,s)},l.prototype._write=function(t,o,s,a,u,c,l,h){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==n.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==n.Z_NO_FLUSH&&o!==n.Z_PARTIAL_FLUSH&&o!==n.Z_SYNC_FLUSH&&o!==n.Z_FULL_FLUSH&&o!==n.Z_FINISH&&o!==n.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=r.alloc(0),u=0,a=0),this.strm.avail_in=u,this.strm.input=s,this.strm.next_in=a,this.strm.avail_out=h,this.strm.output=c,this.strm.next_out=l,this.flush=o,!t)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return e.nextTick((function(){f._process(),f._after()})),this},l.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},l.prototype._process=function(){var t=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=a.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=a.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=a.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=a.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return this._error(null==this.dictionary?"Missing dictionary":"Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},l.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(t,e,r,o,s){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(t>=8&&t<=15,"invalid windowBits"),i(e>=-1&&e<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===n.Z_FILTERED||o===n.Z_HUFFMAN_ONLY||o===n.Z_RLE||o===n.Z_FIXED||o===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,r,o,s),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(t,e,r,i,u){switch(this.level=t,this.windowBits=e,this.memLevel=r,this.strategy=i,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=s.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=a.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=l}).call(this,t("_process"),t("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(t,e,n){(function(e){"use strict";var r=t("buffer").Buffer,i=t("stream").Transform,o=t("./binding"),s=t("util"),a=t("assert").ok,u=t("buffer").kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(o),h=0;h<l.length;h++){var f=l[h];f.match(/^Z/)&&Object.defineProperty(n,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),m=0;m<p.length;m++){var g=p[m];d[d[g]]=g}function v(t,e,n){var i=[],o=0;function s(){for(var e;null!==(e=t.read());)i.push(e),o+=e.length;t.once("readable",s)}function a(){var e,s=null;o>=u?s=new RangeError(c):e=r.concat(i,o),i=[],t.close(),n(s,e)}t.on("error",(function(e){t.removeListener("end",a),t.removeListener("readable",s),n(e)})),t.on("end",a),t.end(e),s()}function y(t,e){if("string"==typeof e&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Not a string or buffer");return t._processChunk(e,t._finishFlushFlag)}function b(t){if(!(this instanceof b))return new b(t);k.call(this,t,o.DEFLATE)}function _(t){if(!(this instanceof _))return new _(t);k.call(this,t,o.INFLATE)}function w(t){if(!(this instanceof w))return new w(t);k.call(this,t,o.GZIP)}function E(t){if(!(this instanceof E))return new E(t);k.call(this,t,o.GUNZIP)}function S(t){if(!(this instanceof S))return new S(t);k.call(this,t,o.DEFLATERAW)}function I(t){if(!(this instanceof I))return new I(t);k.call(this,t,o.INFLATERAW)}function x(t){if(!(this instanceof x))return new x(t);k.call(this,t,o.UNZIP)}function T(t){return t===o.Z_NO_FLUSH||t===o.Z_PARTIAL_FLUSH||t===o.Z_SYNC_FLUSH||t===o.Z_FULL_FLUSH||t===o.Z_FINISH||t===o.Z_BLOCK}function k(t,e){var s=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||n.Z_DEFAULT_CHUNK,i.call(this,t),t.flush&&!T(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!T(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:o.Z_FINISH,t.chunkSize&&(t.chunkSize<n.Z_MIN_CHUNK||t.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<n.Z_MIN_WINDOWBITS||t.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<n.Z_MIN_LEVEL||t.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<n.Z_MIN_MEMLEVEL||t.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=n.Z_FILTERED&&t.strategy!=n.Z_HUFFMAN_ONLY&&t.strategy!=n.Z_RLE&&t.strategy!=n.Z_FIXED&&t.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!r.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(e);var a=this;this._hadError=!1,this._handle.onerror=function(t,e){C(a),a._hadError=!0;var r=new Error(t);r.errno=e,r.code=n.codes[e],a.emit("error",r)};var u=n.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(u=t.level);var c=n.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(c=t.strategy),this._handle.init(t.windowBits||n.Z_DEFAULT_WINDOWBITS,u,t.memLevel||n.Z_DEFAULT_MEMLEVEL,c,t.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!s._handle},configurable:!0,enumerable:!0})}function C(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function A(t){t.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),n.Deflate=b,n.Inflate=_,n.Gzip=w,n.Gunzip=E,n.DeflateRaw=S,n.InflateRaw=I,n.Unzip=x,n.createDeflate=function(t){return new b(t)},n.createInflate=function(t){return new _(t)},n.createDeflateRaw=function(t){return new S(t)},n.createInflateRaw=function(t){return new I(t)},n.createGzip=function(t){return new w(t)},n.createGunzip=function(t){return new E(t)},n.createUnzip=function(t){return new x(t)},n.deflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),v(new b(e),t,n)},n.deflateSync=function(t,e){return y(new b(e),t)},n.gzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),v(new w(e),t,n)},n.gzipSync=function(t,e){return y(new w(e),t)},n.deflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),v(new S(e),t,n)},n.deflateRawSync=function(t,e){return y(new S(e),t)},n.unzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),v(new x(e),t,n)},n.unzipSync=function(t,e){return y(new x(e),t)},n.inflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),v(new _(e),t,n)},n.inflateSync=function(t,e){return y(new _(e),t)},n.gunzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),v(new E(e),t,n)},n.gunzipSync=function(t,e){return y(new E(e),t)},n.inflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),v(new I(e),t,n)},n.inflateRawSync=function(t,e){return y(new I(e),t)},s.inherits(k,i),k.prototype.params=function(t,r,i){if(t<n.Z_MIN_LEVEL||t>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==t||this._strategy!==r){var s=this;this.flush(o.Z_SYNC_FLUSH,(function(){a(s._handle,"zlib binding closed"),s._handle.params(t,r),s._hadError||(s._level=t,s._strategy=r,i&&i())}))}else e.nextTick(i)},k.prototype.reset=function(){return a(this._handle,"zlib binding closed"),this._handle.reset()},k.prototype._flush=function(t){this._transform(r.alloc(0),"",t)},k.prototype.flush=function(t,n){var i=this,s=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=o.Z_FULL_FLUSH),s.ended?n&&e.nextTick(n):s.ending?n&&this.once("end",n):s.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},k.prototype.close=function(t){C(this,t),e.nextTick(A,this)},k.prototype._transform=function(t,e,n){var i,s=this._writableState,a=(s.ending||s.ended)&&(!t||s.length===t.length);return null===t||r.isBuffer(t)?this._handle?(a?i=this._finishFlushFlag:(i=this._flushFlag,t.length>=s.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(t,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},k.prototype._processChunk=function(t,e,n){var i=t&&t.length,o=this._chunkSize-this._offset,s=0,l=this,h="function"==typeof n;if(!h){var f,d=[],p=0;this.on("error",(function(t){f=t})),a(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(e,t,s,i,this._buffer,this._offset,o)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw f;if(p>=u)throw C(this),new RangeError(c);var g=r.concat(d,p);return C(this),g}a(this._handle,"zlib binding closed");var v=this._handle.write(e,t,s,i,this._buffer,this._offset,o);function y(u,c){if(this&&(this.buffer=null,this.callback=null),!l._hadError){var f=o-c;if(a(f>=0,"have should not go down"),f>0){var m=l._buffer.slice(l._offset,l._offset+f);l._offset+=f,h?l.push(m):(d.push(m),p+=m.length)}if((0===c||l._offset>=l._chunkSize)&&(o=l._chunkSize,l._offset=0,l._buffer=r.allocUnsafe(l._chunkSize)),0===c){if(s+=i-u,i=u,!h)return!0;var g=l._handle.write(e,t,s,i,l._buffer,l._offset,l._chunkSize);return g.callback=y,void(g.buffer=t)}if(!h)return!1;n()}}v.buffer=t,v.callback=y},s.inherits(b,k),s.inherits(_,k),s.inherits(w,k),s.inherits(E,k),s.inherits(S,k),s.inherits(I,k),s.inherits(x,k)}).call(this,t("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)s.set(o=t[e],i),i+=o.length;return s}},s={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],37:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},{}],38:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},{}],40:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),s=t("./adler32"),a=t("./crc32"),u=t("./messages");function c(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function g(t,e){var n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,h=t.prev,f=t.strstart+258,d=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(c[(n=e)+s]===p&&c[n+s-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=258-(f-o),o=f-258,r>s){if(t.match_start=e,s=r,r>=a)break;d=c[o+s-1],p=c[o+s]}}}while((e=h[e&l])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead}function v(t){var e,n,r,o,u,c,l,h,f,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(l=t.window,h=t.strstart+t.lookahead,d=void 0,(d=(c=t.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(c.avail_in-=d,i.arraySet(l,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=s(c.adler,l,d,h):2===c.state.wrap&&(c.adler=a(c.adler,l,d,h)),c.next_in+=d,c.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[u=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function y(t,e){for(var n,r;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=g(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var n,r,i;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=g(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function _(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):c(t,-2)}function S(t){var e,n=E(t);return 0===n&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function I(t,e,n,r,o,s){if(!t)return-2;var a=1;if(-1===e&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||s<0||s>4)return c(t,-2);8===r&&(r=9);var u=new w;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,S(t)}r=[new _(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(v(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&d(t,!1),1)})),new _(4,4,8,4,y),new _(4,5,16,8,y),new _(4,6,32,32,y),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],n.deflateInit=function(t,e){return I(t,e,8,15,8,0)},n.deflateInit2=I,n.deflateReset=S,n.deflateResetKeep=E,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},n.deflate=function(t,e){var n,i,s,u;if(!t||!t.state||e>5||e<0)return t?c(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return c(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=a(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=113,m(i,g),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return c(t,-5);if(666===i.status&&0!==t.avail_in)return c(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var y=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(v(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,s,a=t.window;;){if(t.lookahead<=258){if(v(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=a[i=t.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=t.strstart+258;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);t.match_length=258-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==y&&4!==y||(i.status=666),1===y||3===y)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?c(t,-2):(t.state=null,113===e?c(t,-3):0):-2},n.deflateSetDictionary=function(t,e){var n,r,o,a,u,c,l,f,d=e.length;if(!t||!t.state)return-2;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(t.adler=s(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,v(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,s,a,u,c,l,h,f,d,p,m,g,v,y,b,_,w,E,S,I,x,T;x=t.input,i=(r=t.next_in)+(t.avail_in-5),T=t.output,s=(o=t.next_out)-(e-t.avail_out),a=o+(t.avail_out-257),u=(n=t.state).dmax,c=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=x[r++]<<p,d+=x[r++]<<(p+=8),p+=8),b=m[d&v];e:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))T[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(_&=15)&&(p<_&&(d+=x[r++]<<p,p+=8),w+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=x[r++]<<p,d+=x[r++]<<(p+=8),p+=8),b=g[d&y];n:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(E=65535&b,p<(_&=15)&&(d+=x[r++]<<p,(p+=8)<_&&(d+=x[r++]<<p,p+=8)),(E+=d&(1<<_)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=_,p-=_,E>(_=o-s)){if((_=E-_)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=0,I=f,0===h){if(S+=c-_,_<w){w-=_;do{T[o++]=f[S++]}while(--_);S=o-E,I=T}}else if(h<_){if(S+=c+h-_,(_-=h)<w){w-=_;do{T[o++]=f[S++]}while(--_);if(S=0,h<w){w-=_=h;do{T[o++]=f[S++]}while(--_);S=o-E,I=T}}}else if(S+=h-_,_<w){w-=_;do{T[o++]=f[S++]}while(--_);S=o-E,I=T}for(;w>2;)T[o++]=I[S++],T[o++]=I[S++],T[o++]=I[S++],w-=3;w&&(T[o++]=I[S++],w>1&&(T[o++]=I[S++]))}else{S=o-E;do{T[o++]=T[S++],T[o++]=T[S++],T[o++]=T[S++],w-=3}while(w>2);w&&(T[o++]=T[S++],w>1&&(T[o++]=T[S++]))}break}}break}}while(r<i&&o<a);d&=(1<<(p-=(w=p>>3)<<3))-1,t.next_in=r-=w,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},{}],42:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),s=t("./inffast"),a=t("./inftrees");function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function f(t,e){var n,r;return t&&t.state?(e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==(r=t.state).window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,h(t))):-2}function d(t,e){var n,r;return t?(r=new c,t.state=r,r.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var p,m,g=!0;function v(t){if(g){var e;for(p=new r.Buf32(512),m=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,m,0,t.work,{bits:5}),g=!1}t.lencode=p,t.lenbits=9,t.distcode=m,t.distbits=5}function y(t,e,n,i){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),r.arraySet(s.window,e,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,e,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=h,n.inflateReset2=f,n.inflateResetKeep=l,n.inflateInit=function(t){return d(t,15)},n.inflateInit2=d,n.inflate=function(t,e){var n,c,l,h,f,d,p,m,g,b,_,w,E,S,I,x,T,k,C,A,O,R,P,N,M=0,D=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,l=t.output,h=t.next_in,c=t.input,m=n.hold,g=n.bits,b=d=t.avail_in,_=p=t.avail_out,R=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(2&n.wrap&&35615===m){n.check=0,D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0),m=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(g-=4,O=8+(15&(m>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,t.adler=n.check=1,n.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0)),m=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,D[2]=m>>>16&255,D[3]=m>>>24&255,n.check=o(n.check,D,4,0)),m=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0)),m=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=o(n.check,D,2,0)),m=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>d&&(w=d),w&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,h,w,O)),512&n.flags&&(n.check=o(n.check,c,w,h)),d-=w,h+=w,n.length-=w),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break t;w=0;do{O=c[h+w++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&w<d);if(512&n.flags&&(n.check=o(n.check,c,w,h)),d-=w,h+=w,O)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break t;w=0;do{O=c[h+w++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&w<d);if(512&n.flags&&(n.check=o(n.check,c,w,h)),d-=w,h+=w,O)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}t.adler=n.check=u(m),m=0,g=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=m,n.bits=g,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===e){m>>>=2,g-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,g=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(w=n.length){if(w>d&&(w=d),w>p&&(w=p),0===w)break t;r.arraySet(l,c,h,w,f),d-=w,h+=w,p-=w,f+=w,n.length-=w;break}n.mode=12;break;case 17:for(;g<14;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(n.nlen=257+(31&m),g-=5,n.ndist=1+(31&(m>>>=5)),g-=5,n.ncode=4+(15&(m>>>=5)),m>>>=4,g-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}n.lens[L[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R=a(0,n.lens,0,19,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,R){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;x=(M=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&M,!((I=M>>>24)<=g);){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(T<16)m>>>=I,g-=I,n.lens[n.have++]=T;else{if(16===T){for(N=I+2;g<N;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(m>>>=I,g-=I,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],w=3+(3&m),m>>>=2,g-=2}else if(17===T){for(N=I+3;g<N;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}g-=I,O=0,w=3+(7&(m>>>=I)),m>>>=3,g-=3}else{for(N=I+7;g<N;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}g-=I,O=0,w=11+(127&(m>>>=I)),m>>>=7,g-=7}if(n.have+w>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,R){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P={bits:n.distbits}),n.distbits=P.bits,R){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(d>=6&&p>=258){t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=m,n.bits=g,s(t,_),f=t.next_out,l=t.output,p=t.avail_out,h=t.next_in,c=t.input,d=t.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;x=(M=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&M,!((I=M>>>24)<=g);){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(x&&0==(240&x)){for(k=I,C=x,A=T;x=(M=n.lencode[A+((m&(1<<k+C)-1)>>k)])>>>16&255,T=65535&M,!(k+(I=M>>>24)<=g);){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}m>>>=k,g-=k,n.back+=k}if(m>>>=I,g-=I,n.back+=I,n.length=T,0===x){n.mode=26;break}if(32&x){n.back=-1,n.mode=12;break}if(64&x){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&x,n.mode=22;case 22:if(n.extra){for(N=n.extra;g<N;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;x=(M=n.distcode[m&(1<<n.distbits)-1])>>>16&255,T=65535&M,!((I=M>>>24)<=g);){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(0==(240&x)){for(k=I,C=x,A=T;x=(M=n.distcode[A+((m&(1<<k+C)-1)>>k)])>>>16&255,T=65535&M,!(k+(I=M>>>24)<=g);){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}m>>>=k,g-=k,n.back+=k}if(m>>>=I,g-=I,n.back+=I,64&x){t.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&x,n.mode=24;case 24:if(n.extra){for(N=n.extra;g<N;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break t;if(n.offset>(w=_-p)){if((w=n.offset-w)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}E=w>n.wnext?n.wsize-(w-=n.wnext):n.wnext-w,w>n.length&&(w=n.length),S=n.window}else S=l,E=f-n.offset,w=n.length;w>p&&(w=p),p-=w,n.length-=w;do{l[f++]=S[E++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===p)break t;l[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===d)break t;d--,m|=c[h++]<<g,g+=8}if(t.total_out+=_-=p,n.total+=_,_&&(t.adler=n.check=n.flags?o(n.check,l,_,f-_):i(n.check,l,_,f-_)),_=p,(n.flags?m:u(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===d)break t;d--,m+=c[h++]<<g,g+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=0,g=0}n.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=m,n.bits=g,(n.wsize||_!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&y(t,t.output,t.next_out,_-t.avail_out)?(n.mode=31,-4):(_-=t.avail_out,t.total_in+=b-=t.avail_in,t.total_out+=_,n.total+=_,n.wrap&&_&&(t.adler=n.check=n.flags?o(n.check,l,_,t.next_out-_):i(n.check,l,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===_||4===e)&&0===R&&(R=-5),R)},n.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,e,r,0)!==n.check?-3:y(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,u,c,l,h,f){var d,p,m,g,v,y,b,_,w,E=f.bits,S=0,I=0,x=0,T=0,k=0,C=0,A=0,O=0,R=0,P=0,N=null,M=0,D=new r.Buf16(16),L=new r.Buf16(16),j=null,U=0;for(S=0;S<=15;S++)D[S]=0;for(I=0;I<u;I++)D[e[n+I]]++;for(k=E,T=15;T>=1&&0===D[T];T--);if(k>T&&(k=T),0===T)return c[l++]=20971520,c[l++]=20971520,f.bits=1,0;for(x=1;x<T&&0===D[x];x++);for(k<x&&(k=x),O=1,S=1;S<=15;S++)if(O<<=1,(O-=D[S])<0)return-1;if(O>0&&(0===t||1!==T))return-1;for(L[1]=0,S=1;S<15;S++)L[S+1]=L[S]+D[S];for(I=0;I<u;I++)0!==e[n+I]&&(h[L[e[n+I]]++]=I);if(0===t?(N=j=h,y=19):1===t?(N=i,M-=257,j=o,U-=257,y=256):(N=s,j=a,y=-1),P=0,I=0,S=x,v=l,C=k,A=0,m=-1,g=(R=1<<k)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=S-A,h[I]<y?(_=0,w=h[I]):h[I]>y?(_=j[U+h[I]],w=N[M+h[I]]):(_=96,w=0),d=1<<S-A,x=p=1<<C;do{c[v+(P>>A)+(p-=d)]=b<<24|_<<16|w|0}while(0!==p);for(d=1<<S-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,I++,0==--D[S]){if(S===T)break;S=e[n+h[I]]}if(S>k&&(P&g)!==m){for(0===A&&(A=k),v+=x,O=1<<(C=S-A);C+A<T&&!((O-=D[C+A])<=0);)C++,O<<=1;if(R+=1<<C,1===t&&R>852||2===t&&R>592)return 1;c[m=P&g]=k<<24|C<<16|v-l|0}}return 0!==P&&(c[v+P]=S-A<<24|64<<16|0),f.bits=k,0}},{"../utils/common":36}],44:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(t,e,n){"use strict";var r=t("../utils/common");function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var l=new Array(60);i(l);var h=new Array(512);i(h);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,m,g,v=new Array(30);function y(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function E(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function S(t,e,n){E(t,n[2*e],n[2*e+1])}function I(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function x(t,e,n){var r,i,o=new Array(16),s=0;for(r=1;r<=15;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=I(o[a]++,a))}}function T(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function k(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function C(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function A(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&C(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!C(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function O(t,e,n){var r,i,a,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?S(t,i,e):(S(t,(a=f[i])+256+1,e),0!==(u=o[a])&&E(t,i-=d[a],u),S(t,a=_(--r),n),0!==(u=s[a])&&E(t,r-=v[a],u))}while(c<t.last_lit);S(t,256,e)}function R(t,e){var n,r,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)A(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,A(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,s,a,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*r+1]=o,r>c||(t.bl_count[o]++,s=0,r>=d&&(s=f[r-d]),t.opt_len+=(a=u[2*r])*(o+s),h&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),x(o,c,t.bl_count)}function P(t,e,n){var r,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<u&&i===s||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))}function N(t,e,n){var r,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<u&&i===s)){if(a<c)do{S(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(S(t,i,t.bl_tree),a--),S(t,16,t.bl_tree),E(t,a-3,2)):a<=10?(S(t,17,t.bl_tree),E(t,a-3,3)):(S(t,18,t.bl_tree),E(t,a-11,7));a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}}i(v);var M=!1;function D(t,e,n,i){E(t,0+(i?1:0),3),function(t,e,n,i){k(t),w(t,n),w(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){M||(function(){var t,e,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<o[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(v[r]=i,t=0;t<1<<s[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,t=0;t<1<<s[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(x(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=I(t,5);p=new y(c,o,257,286,15),m=new y(l,s,0,30,15),g=new y(new Array(0),a,0,19,7)}(),M=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,m),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,T(t)},n._tr_stored_block=D,n._tr_flush_block=function(t,e,n,r){var i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),R(t,t.l_desc),R(t,t.d_desc),s=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(o=t.static_len+3+7>>>3)<=(i=t.opt_len+3+7>>>3)&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?D(t,e,n,r):4===t.strategy||o===i?(E(t,2+(r?1:0),3),O(t,c,l)):(E(t,4+(r?1:0),3),function(t,e,n,r){var i;for(E(t,e-257,5),E(t,n-1,5),E(t,r-4,4),i=0;i<r;i++)E(t,t.bl_tree[2*u[i]+1],3);N(t,t.dyn_ltree,e-1),N(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),O(t,t.dyn_ltree,t.dyn_dtree)),T(t),r&&k(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){E(t,2,3),S(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":36}],46:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],47:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],48:[function(t,e,n){(function(e){"use strict";var r=t("base64-js"),i=t("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return Object.setPrototypeOf(n,e.prototype),n}function e(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return a(t,e,n)}function a(t,n,r){if("string"==typeof t)return function(t,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|f(t,n),i=s(r),o=i.write(t,n);return o!==r&&(i=i.slice(0,o)),i}(t,n);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(U(t,ArrayBuffer)||t&&U(t.buffer,ArrayBuffer))return function(t,n,r){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Object.setPrototypeOf(i,e.prototype),i}(t,n,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return e.from(i,n,r);var o=function(t){if(e.isBuffer(t)){var n=0|h(t.length),r=s(n);return 0===r.length||t.copy(r,0,0,n),r}return void 0!==t.length?"number"!=typeof t.length||F(t.length)?s(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return e.from(t[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return u(t),s(t<0?0:0|h(t))}function l(t){for(var e=t.length<0?0:0|h(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function f(t,n){if(e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||U(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(t).length;default:if(o)return i?-1:D(t).length;n=(""+n).toLowerCase(),o=!0}}function d(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function p(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,n,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:g(t,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):g(t,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(F(a))return s;t[n+s]=a}return s}function y(t,e,n,r){return j(D(e,t.length-n),t,n,r)}function b(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return j(L(e),t,n,r)}function E(t,e,n,r){return j(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function S(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:s=t[i+2],128==(192&(o=t[i+1]))&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=t[i+2],a=t[i+3],128==(192&(o=t[i+1]))&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function x(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B[t[o]];return i}function C(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,n,r,i,o,s){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}n.Buffer=e,n.SlowBuffer=function(t){return+t!=t&&(t=0),e.alloc(+t)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,(e.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(t,e,n){return a(t,e,n)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array),e.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},e.allocUnsafe=function(t){return c(t)},e.allocUnsafeSlow=function(t){return c(t)},e.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==e.prototype},e.compare=function(t,n){if(U(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),U(n,Uint8Array)&&(n=e.from(n,n.offset,n.byteLength)),!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var r=t.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},e.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var s=t[r];if(U(s,Uint8Array)&&(s=e.from(s)),!e.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},e.byteLength=f,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},e.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},e.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},e.prototype.toLocaleString=e.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):d.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},o&&(e.prototype[o]=e.prototype.inspect),e.prototype.compare=function(t,n,r,i,o){if(U(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),!e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(i>>>=0),a=(r>>>=0)-(n>>>=0),u=Math.min(s,a),c=this.slice(i,o),l=t.slice(n,r),h=0;h<u;++h)if(c[h]!==l[h]){s=c[h],a=l[h];break}return s<a?-1:a<s?1:0},e.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},e.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},e.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},e.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e.prototype.slice=function(t,n){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t);var i=this.subarray(t,n);return Object.setPrototypeOf(i,e.prototype),i},e.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},e.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},e.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},e.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},e.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},e.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},e.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},e.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},e.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},e.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},e.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},e.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},e.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!0,23,4)},e.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!1,23,4)},e.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!0,52,8)},e.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!1,52,8)},e.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},e.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},e.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,255,0),this[e]=255&t,e+1},e.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},e.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},e.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},e.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},e.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},e.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},e.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},e.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},e.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},e.prototype.copy=function(t,n,r,i){if(!e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o=i-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===t&&r<n&&n<i)for(var s=o-1;s>=0;--s)t[s+n]=this[s+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),n);return o},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var o=t.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var s;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=n;s<r;++s)this[s]=t;else{var a=e.isBuffer(t)?t:e.from(t,i),u=a.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-n;++s)this[s+n]=a[s%u]}return this};var M=/[^+/0-9A-Za-z-_]/g;function D(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function L(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function U(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function F(t){return t!=t}var B=function(){for(var t=new Array(256),e=0;e<16;++e)for(var n=16*e,r=0;r<16;++r)t[n+r]="0123456789abcdef"[e]+"0123456789abcdef"[r];return t}()}).call(this,t("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(t,e,n){var r=t("buffer").Buffer;e.exports=function(t,e){if(r.isBuffer(t)&&r.isBuffer(e)){if("function"==typeof t.equals)return t.equals(e);if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}},{buffer:48}],50:[function(t,e,n){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(t,e,n){(function(t){function e(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===e(t)},n.isObject=function(t){return"object"==typeof t&&null!==t},n.isDate=function(t){return"[object Date]"===e(t)},n.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(t,e,n){var r=Object.create||function(t){var e=function(){};return e.prototype=t,new e},i=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n},o=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),a=0===c.x}catch(E){a=!1}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n){if(e)t.call(n);else for(var r=t.length,i=w(t,r),o=0;o<r;++o)i[o].call(n)}function f(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=w(t,i),s=0;s<i;++s)o[s].call(n,r)}function d(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,s=w(t,o),a=0;a<o;++a)s[a].call(n,r,i)}function p(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var s=t.length,a=w(t,s),u=0;u<s;++u)a[u].call(n,r,i,o)}function m(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=w(t,i),s=0;s<i;++s)o[s].apply(n,r)}function g(t,e,n,i){var o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=t._events)?(s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]):(s=t._events=r(null),t._eventsCount=0),a){if("function"==typeof a?a=s[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),!a.warned&&(o=l(t))&&o>0&&a.length>o){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else a=s[e]=n,++t._eventsCount;return t}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function y(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=o.call(v,r);return i.listener=n,r.wrapFn=i,i}function b(t,e,n){var r=t._events;if(!r)return[];var i=r[e];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):w(i,i.length):[]}function _(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function w(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');u=t}}):s.defaultMaxListeners=u,s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){var e,n,r,i,o,s,a="error"===t;if(s=this._events)a=a&&null==s.error;else if(!a)return!1;if(a){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var u=new Error('Unhandled "error" event. ('+e+")");throw u.context=e,u}if(!(n=s[t]))return!1;var c="function"==typeof n;switch(r=arguments.length){case 1:h(n,c,this);break;case 2:f(n,c,this,arguments[1]);break;case 3:d(n,c,this,arguments[1],arguments[2]);break;case 4:p(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];m(n,c,this,i)}return!0},s.prototype.on=s.prototype.addListener=function(t,e){return g(this,t,e,!1)},s.prototype.prependListener=function(t,e){return g(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,y(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,y(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,i,o,s,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=r(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}(n,o),1===n.length&&(i[t]=n[0]),i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.removeAllListeners=function(t){var e,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=r(null):delete n[t]),this;if(0===arguments.length){var s,a=i(n);for(o=0;o<a.length;++o)"removeListener"!==(s=a[o])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this},s.prototype.listeners=function(t){return b(this,t,!0)},s.prototype.rawListeners=function(t){return b(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},s.prototype.listenerCount=_,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],53:[function(t,e,n){var r=t("./lib/parser");e.exports={create:function(e,n){if(e instanceof(n=n||(0,eval)("this")).ArrayBuffer){var i=t("./lib/dom-bufferstream");return new r(new i(e,0,e.byteLength,!0,n))}var o=t("./lib/bufferstream");return new r(new o(e,0,e.length,!0))}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(t,e,n){function r(t,e,n,r){this.buffer=t,this.offset=e||0,this.endPosition=this.offset+(n="number"==typeof n?n:t.length),this.setBigEndian(r)}r.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var e=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(e){return new r(t.buffer,e=(e||0)+this.offset,t.endPosition-e,t.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(t,e){return new r(this.buffer,this.offset+t,e="number"==typeof e?e:this.endPosition-(this.offset+t),this.bigEndian)}},e.exports=r},{}],55:[function(t,e,n){function r(t){return parseInt(t,10)}function i(t,e){return t=t.map(r),e=e.map(r),Date.UTC(t[0],t[1]-1,t[2],e[0],e[1],e[2],0)/1e3}function o(t){var e=t.substr(0,10).split("-"),n=t.substr(11,8).split(":"),o=t.substr(19,6).split(":").map(r),s=3600*o[0]+60*o[1],a=i(e,n);if("number"==typeof(a-=s)&&!isNaN(a))return a}function s(t){var e=t.split(" "),n=i(e[0].split(":"),e[1].split(":"));if("number"==typeof n&&!isNaN(n))return n}e.exports={parseDateWithSpecFormat:s,parseDateWithTimezoneFormat:o,parseExifDate:function(t){var e=19===t.length&&":"===t.charAt(4);return 25===t.length&&"T"===t.charAt(10)?o(t):e?s(t):void 0}}},{}],56:[function(t,e,n){function r(t,e,n,r,i,o){this.global=i,this.arrayBuffer=t.slice(e=e||0,e+(n=n||t.byteLength-e)),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(r),this.offset=0,this.parentOffset=(o||0)+e}r.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return e=String.fromCharCode.apply(null,new this.global.Uint8Array(e)),this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(e){return new r(t.arrayBuffer,e=(e||0)+this.offset,t.arrayBuffer.byteLength-e,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(t,e){return new r(this.arrayBuffer,this.offset+t,e="number"==typeof e?e:this.arrayBuffer.byteLength-(this.offset+t),!this.littleEndian,this.global,this.parentOffset)}},e.exports=r},{}],57:[function(t,e,n){e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(t,e,n){function r(t,e){switch(t){case 1:return e.nextUInt8();case 3:return e.nextUInt16();case 4:return e.nextUInt32();case 5:return[e.nextUInt32(),e.nextUInt32()];case 6:return e.nextInt8();case 8:return e.nextUInt16();case 9:return e.nextUInt32();case 10:return[e.nextInt32(),e.nextInt32()];case 11:return e.nextFloat();case 12:return e.nextDouble();default:throw new Error("Invalid format while decoding: "+t)}}function i(t,e){var n,i,o=e.nextUInt16(),s=e.nextUInt16(),a=function(t){switch(t){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(s),u=e.nextUInt32(),c=a*u;if(c>4&&(e=t.openWithOffset(e.nextUInt32())),2===s){var l=(n=e.nextString(u)).indexOf("\0");-1!==l&&(n=n.substr(0,l))}else if(7===s)n=e.nextBuffer(u);else if(0!==s)for(n=[],i=0;i<u;++i)n.push(r(s,e));return c<4&&e.skip(4-c),[o,n,s]}function o(t,e,n){var r,o,s=e.nextUInt16();for(o=0;o<s;++o)n((r=i(t,e))[0],r[1],r[2])}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(t,e){var n,r,i,s;try{n=function(t){if("Exif\0\0"!==t.nextString(6))throw new Error("Invalid EXIF header");var e=t.mark(),n=t.nextUInt16();if(18761===n)t.setBigEndian(!1);else{if(19789!==n)throw new Error("Invalid TIFF header");t.setBigEndian(!0)}if(42!==t.nextUInt16())throw new Error("Invalid TIFF data");return e}(t)}catch(m){return!1}var a=n.openWithOffset(t.nextUInt32()),u=this.IFD0;o(n,a,(function(t,n,o){switch(t){case 34853:i=n[0];break;case 34665:r=n[0];break;default:e(u,t,n,o)}}));var c=a.nextUInt32();if(0!==c){var l=n.openWithOffset(c);o(n,l,e.bind(null,this.IFD1))}if(i){var h=n.openWithOffset(i);o(n,h,e.bind(null,this.GPSIFD))}if(r){var f=n.openWithOffset(r),d=this.InteropIFD;o(n,f,(function(t,n,r){40965===t?s=n[0]:e(d,t,n,r)}))}if(s){var p=n.openWithOffset(s);o(n,p,e.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(t,e,n){e.exports={parseSections:function(t,e){var n,r;for(t.setBigEndian(!0);t.remainingLength()>0&&218!==r;){if(255!==t.nextUInt8())throw new Error("Invalid JPEG section offset");n=(r=t.nextUInt8())>=208&&r<=217||218===r?0:t.nextUInt16()-2,e(r,t.branch(0,n)),t.skip(n)}},getSizeFromSOFSection:function(t){return t.skip(1),{height:t.nextUInt16(),width:t.nextUInt16()}},getSectionName:function(t){var e,n;switch(t){case 216:e="SOI";break;case 196:e="DHT";break;case 219:e="DQT";break;case 221:e="DRI";break;case 218:e="SOS";break;case 254:e="COM";break;case 217:e="EOI";break;default:t>=224&&t<=239?(e="APP",n=t-224):t>=192&&t<=207&&196!==t&&200!==t&&204!==t?(e="SOF",n=t-192):t>=208&&t<=215&&(e="RST",n=t-208)}var r={name:e};return"number"==typeof n&&(r.index=n),r}}},{}],60:[function(t,e,n){var r=t("./jpeg"),i=t("./exif"),o=t("./simplify");function s(t,e,n,r,i,o,s){this.startMarker=t,this.tags=e,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=i,this.thumbnailType=o,this.app1Offset=s}function a(t){this.stream=t,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}s.prototype={hasThumbnail:function(t){return!(!this.thumbnailOffset||!this.thumbnailLength||"string"==typeof t&&("image/jpeg"===t.toLowerCase().trim()?6!==this.thumbnailType:"image/tiff"!==t.toLowerCase().trim()||1!==this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var t,e=this._getThumbnailStream();return r.parseSections(e,(function(e,n){"SOF"===r.getSectionName(e).name&&(t=r.getSizeFromSOFSection(n))})),t}},a.prototype={enableBinaryFields:function(t){return this.flags.readBinaryTags=!!t,this},enablePointers:function(t){return this.flags.hidePointers=!t,this},enableTagNames:function(t){return this.flags.resolveTagNames=!!t,this},enableImageSize:function(t){return this.flags.imageSize=!!t,this},enableReturnTags:function(t){return this.flags.returnTags=!!t,this},enableSimpleValues:function(t){return this.flags.simplifyValues=!!t,this},parse:function(){var e,n,a,u,c,l,h,f,d,p=this.stream.mark(),m=p.openWithOffset(0),g=this.flags;return g.resolveTagNames&&(h=t("./exif-tags")),g.resolveTagNames?(e={},f=function(t){return e[t.name]},d=function(t,n){e[t.name]=n}):(e=[],f=function(t){var n;for(n=0;n<e.length;++n)if(e[n].type===t.type&&e[n].section===t.section)return e.value},d=function(t,n){var r;for(r=0;r<e.length;++r)if(e[r].type===t.type&&e[r].section===t.section)return void(e.value=n)}),r.parseSections(m,(function(t,s){var f=s.offsetFrom(p);225===t?i.parseTags(s,(function(t,n,r,s){if(g.readBinaryTags||7!==s){if(513===n){if(a=r[0],g.hidePointers)return}else if(514===n){if(u=r[0],g.hidePointers)return}else if(259===n&&(c=r[0],g.hidePointers))return;if(g.returnTags)if(g.simplifyValues&&(r=o.simplifyValue(r,s)),g.resolveTagNames){var l=(t===i.GPSIFD?h.gps:h.exif)[n];l||(l=h.exif[n]),e.hasOwnProperty(l)||(e[l]=r)}else e.push({section:t,type:n,value:r})}}))&&(l=f):g.imageSize&&"SOF"===r.getSectionName(t).name&&(n=r.getSizeFromSOFSection(s))})),g.simplifyValues&&(o.castDegreeValues(f,d),o.castDateValues(f,d)),new s(p,e,n,a,u,c,l)}},e.exports=a},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(t,e,n){var r=t("./exif"),i=t("./date"),o=[{section:r.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:r.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],s=[{section:r.SubIFD,type:306,name:"ModifyDate"},{section:r.SubIFD,type:36867,name:"DateTimeOriginal"},{section:r.SubIFD,type:36868,name:"CreateDate"},{section:r.SubIFD,type:306,name:"ModifyDate"}];e.exports={castDegreeValues:function(t,e){o.forEach((function(n){var r=t(n);if(r){var i=t({section:n.section,type:n.refType,name:n.refName});e(n,(r[0]+r[1]/60+r[2]/3600)*(i===n.posVal?1:-1))}}))},castDateValues:function(t,e){s.forEach((function(n){var r=t(n);if(r){var o=i.parseExifDate(r);void 0!==o&&e(n,o)}}))},simplifyValue:function(t,e){return Array.isArray(t)&&1===(t=t.map((function(t){return 10===e||5===e?t[0]/t[1]:t}))).length&&(t=t[0]),t}}},{"./date":55,"./exif":58}],62:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/toConsumableArray")),i=function(t){return(0,r.default)(t).map((function(t){return t.charCodeAt(0)}))},o=i("META-INF/mozilla.rsa"),s=i("[Content_Types].xml"),a=i("_rels/.rels");e.exports=function(t){var e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;var n=function(t,n){n=Object.assign({offset:0},n);for(var r=0;r<t.length;r++)if(n.mask){if(t[r]!==(n.mask[r]&e[r+n.offset]))return!1}else if(t[r]!==e[r+n.offset])return!1;return!0},u=function(t,e){return n(i(t),e)};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(o,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(u("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(u("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(u("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.findIndex((function(t,n,r){return n>=e&&80===r[n]&&75===r[n+1]&&3===r[n+2]&&4===r[n+3]}))},l=0,h=!1,f=null;do{var d=l+30;if(h||(h=n(s,{offset:d})||n(a,{offset:d})),f||(u("word/",{offset:d})?f={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:u("ppt/",{offset:d})?f={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:u("xl/",{offset:d})&&(f={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),h&&f)return f;l=c(e,d)}while(l>=0);if(f)return f}if(n([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([51,103,112,53])||n([0,0,0])&&n([102,116,121,112],{offset:4})&&(n([109,112,52,49],{offset:8})||n([109,112,52,50],{offset:8})||n([105,115,111,109],{offset:8})||n([105,115,111,50],{offset:8})||n([109,109,112,52],{offset:8})||n([77,52,86],{offset:8})||n([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){var p=e.subarray(4,4100),m=p.findIndex((function(t,e,n){return 66===n[e]&&130===n[e+1]}));if(-1!==m){var g=m+3,v=function(t){return(0,r.default)(t).every((function(t,e){return p[g+e]===t.charCodeAt(0)}))};if(v("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(v("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var y=0;y<2&&y<e.length-16;y++){if(n([73,68,51],{offset:y})||n([255,226],{offset:y,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([255,228],{offset:y,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,248],{offset:y,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,240],{offset:y,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(n([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(n([79,103,103,83]))return n([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:n([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:n([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:n([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:n([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(n([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(n([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(n([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(n([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n([37,33]))return{ext:"ps",mime:"application/postscript"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n([77,83,67,70])||n([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(n([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(n([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n([0,0,0,12,106,80,32,32,13,10,135,10])){if(n([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(n([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(n([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(n([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(n([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(u("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([102,116,121,112],{offset:4})){if(n([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(n([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(n([104,101,105,99],{offset:8})||n([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(n([104,101,118,99],{offset:8})||n([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return n([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(t,e,n){"use strict";var r=t("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))},a=function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)},u=function(t,e,n){for(var r in t)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))};e.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(t)?s(t,e,o):"string"==typeof t?a(t,e,o):u(t,e,o)}},{"is-callable":77}],64:[function(t,e,n){"use strict";function r(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,u=i+1,c=(1<<u)-1,l=0,h=0,f=0,d=t[e++],p=new Int32Array(4096),m=null;;){for(;l<16&&0!==d;)h|=t[e++]<<l,l+=8,1===d?d=t[e++]:--d;if(l<u)break;var g=h&c;if(h>>=u,l-=u,g!==o){if(g===s)break;for(var v=g<a?g:m,y=0,b=v;b>o;)b=p[b]>>8,++y;var _=b;if(f+y+(v!==g?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[f++]=_;var w=f+=y;for(v!==g&&(n[f++]=_),b=v;y--;)n[--w]=255&(b=p[b]),b>>=8;null!==m&&a<4096&&(p[a++]=m<<8|_,a>=c+1&&u<12&&(++u,c=c<<1|1)),m=g}else a=s+1,c=(1<<(u=i+1))-1,m=null}return f!==r&&console.log("Warning, gif stream shorter than expected."),n}try{n.GifWriter=function(t,e,n,r){var i=0,o=void 0===(r=void 0===r?{}:r).loop?null:r.loop,s=void 0===r.palette?null:r.palette;if(e<=0||n<=0||e>65535||n>65535)throw new Error("Width/Height invalid.");function a(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[i++]=71,t[i++]=73,t[i++]=70,t[i++]=56,t[i++]=57,t[i++]=97;var u=0,c=0;if(null!==s){for(var l=a(s);l>>=1;)++u;if(l=1<<u,--u,void 0!==r.background){if((c=r.background)>=l)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=(null!==s?128:0)|u,t[i++]=c,t[i++]=0,null!==s)for(var h=0,f=s.length;h<f;++h){var d=s[h];t[i++]=d>>16&255,t[i++]=d>>8&255,t[i++]=255&d}if(null!==o){if(o<0||o>65535)throw new Error("Loop count invalid.");t[i++]=33,t[i++]=255,t[i++]=11,t[i++]=78,t[i++]=69,t[i++]=84,t[i++]=83,t[i++]=67,t[i++]=65,t[i++]=80,t[i++]=69,t[i++]=50,t[i++]=46,t[i++]=48,t[i++]=3,t[i++]=1,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=0}var p=!1;this.addFrame=function(e,n,r,o,u,c){if(!0===p&&(--i,p=!1),c=void 0===c?{}:c,e<0||n<0||e>65535||n>65535)throw new Error("x/y invalid.");if(r<=0||o<=0||r>65535||o>65535)throw new Error("Width/Height invalid.");if(u.length<r*o)throw new Error("Not enough pixels for the frame size.");var l=!0,h=c.palette;if(null==h&&(l=!1,h=s),null==h)throw new Error("Must supply either a local or global palette.");for(var f=a(h),d=0;f>>=1;)++d;f=1<<d;var m=void 0===c.delay?0:c.delay,g=void 0===c.disposal?0:c.disposal;if(g<0||g>3)throw new Error("Disposal out of range.");var v=!1,y=0;if(null!=c.transparent&&(v=!0,(y=c.transparent)<0||y>=f))throw new Error("Transparent color index.");if((0!==g||v||0!==m)&&(t[i++]=33,t[i++]=249,t[i++]=4,t[i++]=g<<2|(!0===v?1:0),t[i++]=255&m,t[i++]=m>>8&255,t[i++]=y,t[i++]=0),t[i++]=44,t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=!0===l?128|d-1:0,!0===l)for(var b=0,_=h.length;b<_;++b){var w=h[b];t[i++]=w>>16&255,t[i++]=w>>8&255,t[i++]=255&w}return i=function(t,e,n,r){t[e++]=n;var i=e++,o=1<<n,s=o-1,a=o+1,u=a+1,c=n+1,l=0,h=0;function f(n){for(;l>=n;)t[e++]=255&h,h>>=8,l-=8,e===i+256&&(t[i]=255,i=e++)}function d(t){h|=t<<l,l+=c,f(8)}var p=r[0]&s,m={};d(o);for(var g=1,v=r.length;g<v;++g){var y=r[g]&s,b=p<<8|y,_=m[b];if(void 0===_){for(h|=p<<l,l+=c;l>=8;)t[e++]=255&h,h>>=8,l-=8,e===i+256&&(t[i]=255,i=e++);4096===u?(d(o),u=a+1,c=n+1,m={}):(u>=1<<c&&++c,m[b]=u++),p=y}else p=_}return d(p),d(a),f(1),i+1===e?t[i]=0:(t[i]=e-i-1,t[e++]=0),e}(t,i,d<2?2:d,u)},this.end=function(){return!1===p&&(t[i++]=59,p=!0),i},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(t){i=t}},n.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,o=t[e++],s=1<<1+(7&o);e++,e++;var a=null,u=null;o>>7&&(a=e,u=s,e+=3*s);var c=!0,l=[],h=0,f=null,d=0,p=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(0===k)break;e+=k}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],0==(1&m)&&(f=null),d=m>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(0===k)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,_=t[e++],w=_>>6&1,E=1<<1+(7&_),S=a,I=u,x=!1;_>>7&&(x=!0,S=e,I=E,e+=3*E);var T=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(0===k)break;e+=k}l.push({x:g,y:v,width:y,height:b,has_local_palette:x,palette_offset:S,palette_size:I,data_offset:T,data_length:e-T,transparent_index:f,interlaced:!!w,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=l.length)throw new Error("Frame index out of range.");return l[t]},this.decodeAndBlitFrameBGRA=function(e,i){var o=this.frameInfo(e),s=o.width*o.height,a=new Uint8Array(s);r(t,o.data_offset,a,s);var u=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,h=n-l,f=l,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),m=d,g=4*h;!0===o.interlaced&&(g+=4*n*7);for(var v=8,y=0,b=a.length;y<b;++y){var _=a[y];if(0===f&&(f=l,(m+=g)>=p&&(g=4*h+4*n*(v-1),m=d+(l+h)*(v<<1),v>>=1)),_===c)m+=4;else{var w=t[u+3*_],E=t[u+3*_+1];i[m++]=t[u+3*_+2],i[m++]=E,i[m++]=w,i[m++]=255}--f}},this.decodeAndBlitFrameRGBA=function(e,i){var o=this.frameInfo(e),s=o.width*o.height,a=new Uint8Array(s);r(t,o.data_offset,a,s);var u=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,h=n-l,f=l,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),m=d,g=4*h;!0===o.interlaced&&(g+=4*n*7);for(var v=8,y=0,b=a.length;y<b;++y){var _=a[y];if(0===f&&(f=l,(m+=g)>=p&&(g=4*h+4*n*(v-1),m=d+(l+h)*(v<<1),v>>=1)),_===c)m+=4;else{var w=t[u+3*_+1],E=t[u+3*_+2];i[m++]=t[u+3*_],i[m++]=w,i[m++]=E,i[m++]=255}--f}}}}catch(i){}},{}],65:[function(t,e,n){(function(t){"use strict";class n{constructor(...e){if(0===e.length)throw new Error("constructor requires parameters");const r=e[0];if(null!==r&&"object"==typeof r)if(r instanceof n){const e=r.bitmap;this.bitmap={width:e.width,height:e.height,data:new t(e.width*e.height*4)},e.data.copy(this.bitmap.data)}else{if(!(r.width&&r.height&&r.data))throw new Error("unrecognized constructor parameters");this.bitmap=r}else{if("number"!=typeof r||"number"!=typeof e[1])throw new Error("unrecognized constructor parameters");{const n=r,i=e[1],o=e[2];this.bitmap={width:n,height:i},t.isBuffer(o)?this.bitmap.data=o:(this.bitmap.data=new t(n*i*4),"number"==typeof o&&this.fillRGBA(o))}}}blit(t,e,n,r,i,o,s){if(r+o>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(e+o>t.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(i+s>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(n+s>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const a=this.bitmap.data,u=t.bitmap.data,c=4*this.bitmap.width,l=4*t.bitmap.width,h=4*o;let f=i*c+4*r,d=n*l+4*e;for(;--s>=0;)a.copy(u,d,f,f+h),f+=c,d+=l;return this}fillRGBA(t){const e=this.bitmap.data,n=4*this.bitmap.height;let r=0;for(;r<n;)e.writeUInt32BE(t,r),r+=4;for(;r<e.length;)e.copy(e,r,0,n),r+=n;return this}getRGBA(t,e){return this.bitmap.data.readUInt32BE(4*(e*this.bitmap.width+t))}getRGBASet(){const t=new Set,e=this.bitmap.data;for(let n=0;n<e.length;n+=4)t.add(e.readUInt32BE(n,!0));return t}greyscale(){const t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(e,n,r)=>{const i=Math.round(.299*t[r]+.587*t[r+1]+.114*t[r+2]);t[r]=i,t[r+1]=i,t[r+2]=i}),this}reframe(t,e,r,i,o){const s=t<0?0:t,a=e<0?0:e,u=r+s>this.bitmap.width?this.bitmap.width-s:r,c=i+a>this.bitmap.height?this.bitmap.height-a:i,l=t<0?-t:0,h=e<0?-e:0;let f;if(void 0===o){if(s!==t||a!=e||u!==r||c!==i)throw new GifError("fillRGBA required for this reframing");f=new n(r,i)}else f=new n(r,i,o);return this.blit(f,l,h,s,a,u,c),this.bitmap=f.bitmap,this}scale(e){if(1===e)return;if(!Number.isInteger(e)||e<1)throw new Error("the scale must be an integer >= 1");const n=this.bitmap.width,r=this.bitmap.height,i=n*e*4,o=this.bitmap.data,s=new t(r*i*e);let a,u=0,c=0;for(let t=0;t<r;++t){a=c;for(let t=0;t<n;++t){const t=o.readUInt32BE(u,!0);for(let n=0;n<e;++n)s.writeUInt32BE(t,c),c+=4;u+=4}for(let t=1;t<e;++t)s.copy(s,c,a,c),c+=i,a+=i}return this.bitmap={width:n*e,height:r*e,data:s},this}scanAllCoords(t){const e=this.bitmap.width,n=this.bitmap.data.length;let r=0,i=0;for(let o=0;o<n;o+=4)t(r,i,o),++r===e&&(r=0,++i)}scanAllIndexes(t){const e=this.bitmap.data.length;for(let n=0;n<e;n+=4)t(n)}}e.exports=n}).call(this,t("buffer").Buffer)},{buffer:48}],66:[function(t,e,n){"use strict";class r{constructor(t,e,n){this.width=n.width,this.height=n.height,this.loops=n.loops,this.usesTransparency=n.usesTransparency,this.colorScope=n.colorScope,this.frames=e,this.buffer=t}}r.GlobalColorsPreferred=0,r.GlobalColorsOnly=1,r.LocalColorsOnly=2;class i extends Error{constructor(t){super(t),t instanceof Error&&(this.stack="Gif"+t.stack)}}n.Gif=r,n.GifError=i},{}],67:[function(t,e,n){(function(e,r){"use strict";const i=t("omggif"),{Gif:o,GifError:s}=t("./gif");let a;e.nextTick(()=>{a=t("./gifutil")});const{GifFrame:u}=t("./gifframe");function c(t,e){const n=t.indexOf(e);return-1===n?null:n}function l(t,e){for(var n,r=0,i=t.length-1;r<=i;)if(t[n=Math.floor((r+i)/2)]>e)i=n-1;else{if(!(t[n]<e))return n;r=n+1}return null}function h(t){const e=t.colors;t.usesTransparency&&e.push(0);const n=e.length;let r=2;for(;n>r;)r<<=1;e.length=r,e.fill(0,n)}function f(t,e){let n=t.bitmap.width*t.bitmap.height;return n=Math.ceil(n*e/8),n+=Math.ceil(n/255),100+n+768}function d(t){let e=t.indexCount,n=0;for(--e;e;)++n,e>>=1;return n>0?n:1}function p(t,e,n,i,o){if(n.interlaced)throw new s("writing interlaced GIFs is not supported");const a=function(t,e,n){const i=n.colors,o=i.length<=8?c:l,a=e.bitmap.data,u=new r(a.length/4);let h=i.length,f=0,d=0;for(;f<a.length;){if(0!==a[f+3]){const t=a.readUInt32BE(f,!0)>>8&16777215;u[d]=o(i,t)}else u[d]=h;f+=4,++d}if(n.usesTransparency){if(256===h)throw new s(`Frame ${t} already has 256 colorsand so can't use transparency`)}else h=null;return{buffer:u,transparentIndex:h}}(e,n,i),u={delay:n.delayCentisecs,disposal:n.disposalMethod,transparent:a.transparentIndex};o&&(h(i),u.palette=i.colors);try{let e,i=t.getOutputBuffer(),o=t.getOutputBufferPosition(),s=!0;for(;s;)if(e=t.addFrame(n.xOffset,n.yOffset,n.bitmap.width,n.bitmap.height,a.buffer,u),s=!1,e>=i.length-1){const e=new r(1.5*i.length);i.copy(e),t.setOutputBuffer(e),t.setOutputBufferPosition(o),i=e,s=!0}return i}catch(f){throw new s(f)}}n.GifCodec=class{constructor(t={}){this._transparentRGB=null,"number"==typeof t.transparentRGB&&0!==t.transparentRGB&&(this._transparentRGBA=256*t.transparentRGB),this._testInitialBufferSize=0}decodeGif(t){try{let n;try{n=new i.GifReader(t)}catch(e){throw new s(e)}const r=n.numFrames(),a=[],u={width:n.width,height:n.height,loops:n.loopCount(),usesTransparency:!1};for(let t=0;t<r;++t){const e=this._decodeFrame(n,t,u.usesTransparency);a.push(e.frame),e.usesTransparency&&(u.usesTransparency=!0)}return Promise.resolve(new o(t,a,u))}catch(e){return Promise.reject(e)}}encodeGif(t,e={}){try{if(null===t||0===t.length)throw new s("there are no frames");const n=a.getMaxDimensions(t);return(e=Object.assign({},e)).width=n.maxWidth,e.height=n.maxHeight,e.loops=e.loops||0,e.colorScope=e.colorScope||o.GlobalColorsPreferred,Promise.resolve(this._encodeGif(t,e))}catch(n){return Promise.reject(n)}}_decodeFrame(t,e,n){let i,o;try{if(i=t.frameInfo(e),o=new r(t.width*t.height*4),t.decodeAndBlitFrameRGBA(e,o),i.width!==t.width||i.height!==t.height){if(i.y&&(o=o.slice(i.y*t.width*4)),t.width>i.width)for(let e=0;e<i.height;++e)o.copy(o,e*i.width*4,4*(i.x+e*t.width),4*(i.x+e*t.width)+4*i.width);o=o.slice(0,i.width*i.height*4)}}catch(c){throw new s(c)}let a=!1;if(null===this._transparentRGBA){if(!n)for(let t=3;t<o.length;t+=4)0===o[t]&&(a=!0,t=o.length)}else for(let r=3;r<o.length;r+=4)0===o[r]&&(o.writeUInt32BE(this._transparentRGBA,r-3),a=!0);return{frame:new u(i.width,i.height,o,{xOffset:i.x,yOffset:i.y,disposalMethod:i.disposal,interlaced:i.interlaced,delayCentisecs:i.delay}),usesTransparency:a}}_encodeGif(t,e){let n;if(e.colorScope===o.LocalColorsOnly)n=a.getColorInfo(t,0);else if(n=a.getColorInfo(t,256),!n.colors){if(e.colorScope===o.GlobalColorsOnly)throw new s("Too many color indexes for global color table");e.colorScope=o.LocalColorsOnly}return e.usesTransparency=n.usesTransparency,e.colorScope===o.LocalColorsOnly?function(t,e,n,a){const u={loop:e.loops};let c,l=new r(2e3);try{c=new i.GifWriter(l,e.width,e.height,u)}catch(h){throw new s(h)}for(let r=0;r<t.length;++r)l=p(c,r,t[r],a[r],!0);return new o(l.slice(0,c.end()),t,e)}(t,e,0,n.palettes):function(t,e,n,a){const u={colors:a.colors.slice(),usesTransparency:a.usesTransparency};h(u);const c={palette:u.colors,loop:e.loops};let l,f=new r(2e3);try{l=new i.GifWriter(f,e.width,e.height,c)}catch(d){throw new s(d)}for(let r=0;r<t.length;++r)f=p(l,r,t[r],a,!1);return new o(f.slice(0,l.end()),t,e)}(t,e,0,n)}_getSizeEstimateGlobal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let n=968;const r=d(t);return e.forEach(t=>{n+=f(t,r)}),n}_getSizeEstimateLocal(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let n=200;for(let r=0;r<e.length;++r){const i=d(t[r]);n+=f(e[r],i)}return n}}}).call(this,t("_process"),t("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(t,e,n){"use strict";const r=t("./bitmapimage");t("./gif");class i extends r{constructor(...t){if(super(...t),t[0]instanceof i){const e=t[0];this.xOffset=e.xOffset,this.yOffset=e.yOffset,this.disposalMethod=e.disposalMethod,this.delayCentisecs=e.delayCentisecs,this.interlaced=e.interlaced}else{const e=t[t.length-1];let n={};"object"!=typeof e||e instanceof r||(n=e),this.xOffset=n.xOffset||0,this.yOffset=n.yOffset||0,this.disposalMethod=void 0!==n.disposalMethod?n.disposalMethod:i.DisposeToBackgroundColor,this.delayCentisecs=n.delayCentisecs||8,this.interlaced=n.interlaced||!1}}getPalette(){const t=new Set,e=this.bitmap.data;let n=0,r=!1;for(;n<e.length;){if(0===e[n+3])r=!0;else{const r=e.readUInt32BE(n,!0)>>8&16777215;t.add(r)}n+=4}const i=new Array(t.size),o=t.values();for(n=0;n<i.length;++n)i[n]=o.next().value;i.sort((t,e)=>t-e);let s=i.length;return r&&++s,{colors:i,usesTransparency:r,indexCount:s}}}i.DisposeToAnything=0,i.DisposeNothing=1,i.DisposeToBackgroundColor=2,i.DisposeToPrevious=3,n.GifFrame=i},{"./bitmapimage":65,"./gif":66}],69:[function(t,e,n){(function(e){"use strict";const r=t("fs"),i=t("image-q"),o=t("./bitmapimage"),{GifFrame:s}=t("./gifframe"),{GifError:a}=t("./gif"),{GifCodec:u}=t("./gifcodec"),c=[".jpg",".jpeg",".png",".bmp"],l=new u;function h(t,e,n,r,o){const s=Array.isArray(t)?t:[t];if(o){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(o.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${o.ditherAlgorithm}'`);void 0===o.serpentine&&(o.serpentine=!0),void 0===o.minimumColorDistanceToDither&&(o.minimumColorDistanceToDither=0),void 0===o.calculateErrorLikeGIMP&&(o.calculateErrorLikeGIMP=!1)}const a=new i.distance.Euclidean,u=new i.palette[e](a,n,r);let c;c=o?new i.image.ErrorDiffusionArray(a,i.image.ErrorDiffusionArrayKernel[o.ditherAlgorithm],o.serpentine,o.minimumColorDistanceToDither,o.calculateErrorLikeGIMP):new i.image.NearestColor(a);const l=[];s.forEach(t=>{const e=t.bitmap.data,n=new ArrayBuffer(e.length),r=new Uint32Array(n);for(let i=0,s=0;i<e.length;i+=4,++s)r[s]=e.readUInt32LE(i,!0);const o=i.utils.PointContainer.fromUint32Array(r,t.bitmap.width,t.bitmap.height);u.sample(o),l.push(o)});const h=u.quantize();for(let i=0;i<s.length;++i){const t=s[i].bitmap.data,e=c.quantize(l[i],h).toUint32Array();for(let n=0,r=0;n<t.length;n+=4,++r)t.writeUInt32LE(e[r],n)}}n.cloneFrames=function(t){let e=[];return t.forEach(t=>{e.push(new s(t))}),e},n.getColorInfo=function(t,e){let n=!1;const r=[];for(let c=0;c<t.length;++c){let e=t[c].getPalette();if(e.usesTransparency&&(n=!0),e.indexCount>256)throw new a(`Frame ${c} uses more than 256 color indexes`);r.push(e)}if(0===e)return{usesTransparency:n,palettes:r};const i=new Set;r.forEach(t=>{t.colors.forEach(t=>{i.add(t)})});let o=i.size;if(n&&++o,e&&o>e)return{usesTransparency:n,palettes:r};const s=new Array(i.size),u=i.values();for(let a=0;a<s.length;++a)s[a]=u.next().value;return s.sort((t,e)=>t-e),{colors:s,indexCount:o,usesTransparency:n,palettes:r}},n.copyAsJimp=function(t,e){return n.shareAsJimp(t,new o(e))},n.getMaxDimensions=function(t){let e=0,n=0;return t.forEach(t=>{const r=t.xOffset+t.bitmap.width;r>e&&(e=r);const i=t.yOffset+t.bitmap.height;i>n&&(n=i)}),{maxWidth:e,maxHeight:n}},n.quantizeDekker=function(t,e,n){h(t,"NeuQuantFloat",e=e||256,0,n)},n.quantizeSorokin=function(t,e,n,r){let i;switch(e=e||256,n=n||"min-pop"){case"min-pop":i=2;break;case"top-pop":i=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${n}'`)}h(t,"RGBQuant",e,i,r)},n.quantizeWu=function(t,e,n,r){if(e=e||256,(n=n||5)<1||n>8)throw new Error("Invalid quantization quality");h(t,"WuQuant",e,n,r)},n.read=function(t,n){return n=n||l,e.isBuffer(t)?n.decodeGif(t):(i=t,new Promise((t,e)=>{r.readFile(i,(n,r)=>n?e(n):t(r))})).then(t=>n.decodeGif(t));var i},n.shareAsJimp=function(t,e){const n=new t(e.bitmap.width,e.bitmap.height,0);return n.bitmap.data=e.bitmap.data,n},n.write=function(t,e,n,i){i=i||l;const o=t.match(/\.[a-zA-Z]+$/);if(null!==o&&c.includes(o[0].toLowerCase()))throw new Error(`GIF '${t}' has an unexpected suffix`);return i.encodeGif(e,n).then(e=>function(t,e){return new Promise((n,i)=>{r.writeFile(t,e,t=>t?i(t):n())})}(t,e.buffer).then(()=>e))}}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(t,e,n){"use strict";const r=t("./bitmapimage"),{Gif:i,GifError:o}=t("./gif"),{GifCodec:s}=t("./gifcodec"),{GifFrame:a}=t("./gifframe"),u=t("./gifutil");e.exports={BitmapImage:r,Gif:i,GifCodec:s,GifFrame:a,GifUtil:u,GifError:o}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(t,e,n){(function(t){var n;n=void 0!==r?r:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],72:[function(t,e,n){var r=t("http"),i=t("url"),o=e.exports;for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);function a(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=a(t),r.request.call(this,t,e)},o.get=function(t,e){return t=a(t),r.get.call(this,t,e)}},{http:156,url:180}],73:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*m}},{}],74:[function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var r=n(1);e.constants=r;var i=n(3);e.conversion=i;var o=n(12);e.distance=o;var s=n(20);e.palette=s;var a=n(30);e.image=a;var u=n(35);e.quality=u;var c=n(37);e.utils=c},function(t,e,n){"use strict";var r=n(2);e.bt709=r},function(t,e){"use strict";var n,r,i;!function(t){t[t.RED=.2126]="RED",t[t.GREEN=.7152]="GREEN",t[t.BLUE=.0722]="BLUE",t[t.WHITE=1]="WHITE"}(n||(n={})),e.Y=n,function(t){t[t.RED=.64]="RED",t[t.GREEN=.3]="GREEN",t[t.BLUE=.15]="BLUE",t[t.WHITE=.3127]="WHITE"}(r||(r={})),e.x=r,function(t){t[t.RED=.33]="RED",t[t.GREEN=.6]="GREEN",t[t.BLUE=.06]="BLUE",t[t.WHITE=.329]="WHITE"}(i||(i={})),e.y=i},function(t,e,n){"use strict";var r=n(4);e.rgb2xyz=r.rgb2xyz;var i=n(5);e.rgb2hsl=i.rgb2hsl;var o=n(7);e.rgb2lab=o.rgb2lab;var s=n(9);e.lab2xyz=s.lab2xyz;var a=n(10);e.lab2rgb=a.lab2rgb;var u=n(8);e.xyz2lab=u.xyz2lab;var c=n(11);e.xyz2rgb=c.xyz2rgb},function(t,e){"use strict";function n(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}e.rgb2xyz=function(t,e,r){return{x:.4124*(t=n(t/255))+.3576*(e=n(e/255))+.1805*(r=n(r/255)),y:.2126*t+.7152*e+.0722*r,z:.0193*t+.1192*e+.9505*r}}},function(t,e,n){"use strict";var r=n(6);e.rgb2hsl=function(t,e,n){var i=r.min3(t,e,n),o=r.max3(t,e,n),s=o-i,a=(i+o)/510,u=0;a>0&&a<1&&(u=s/(a<.5?o+i:510-o-i));var c=0;return s>0&&(c=o===t?(e-n)/s:o===e?2+(n-t)/s:4+(t-e)/s,(c*=60)<0&&(c+=360)),{h:c,s:u,l:a}}},function(t,e){"use strict";e.degrees2radians=function(t){return t*(Math.PI/180)},e.max3=function(t,e,n){var r=t;return r<e&&(r=e),r<n&&(r=n),r},e.min3=function(t,e,n){var r=t;return r>e&&(r=e),r>n&&(r=n),r},e.intInRange=function(t,e,n){return t>n&&(t=n),t<e&&(t=e),0|t},e.inRange0to255Rounded=function(t){return(t=Math.round(t))>255?t=255:t<0&&(t=0),t},e.inRange0to255=function(t){return t>255?t=255:t<0&&(t=0),t},e.stableSort=function(t,e){var n,r=typeof t[0];if("number"===r||"string"===r){for(var i=Object.create(null),o=0,s=t.length;o<s;o++){var a=t[o];i[a]||0===i[a]||(i[a]=o)}n=t.sort((function(t,n){return e(t,n)||i[t]-i[n]}))}else{var u=t.slice(0);n=t.sort((function(t,n){return e(t,n)||u.indexOf(t)-u.indexOf(n)}))}return n}},function(t,e,n){"use strict";var r=n(4),i=n(8);e.rgb2lab=function(t,e,n){var o=r.rgb2xyz(t,e,n);return i.xyz2lab(o.x,o.y,o.z)}},function(t,e){"use strict";function n(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116}e.xyz2lab=function(t,e,r){if(t=n(t/.95047),e=n(e/1),r=n(r/1.08883),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-r)}}},function(t,e){"use strict";function n(t){return t>.206893034?Math.pow(t,3):(t-16/116)/7.787}e.lab2xyz=function(t,e,r){var i=(t+16)/116,o=i-r/200;return{x:.95047*n(e/500+i),y:1*n(i),z:1.08883*n(o)}}},function(t,e,n){"use strict";var r=n(9),i=n(11);e.lab2rgb=function(t,e,n){var o=r.lab2xyz(t,e,n);return i.xyz2rgb(o.x,o.y,o.z)}},function(t,e,n){"use strict";var r=n(6);function i(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}e.xyz2rgb=function(t,e,n){var o=i(3.2406*t+-1.5372*e+-.4986*n),s=i(-.9689*t+1.8758*e+.0415*n),a=i(.0557*t+-.204*e+1.057*n);return{r:r.inRange0to255Rounded(255*o),g:r.inRange0to255Rounded(255*s),b:r.inRange0to255Rounded(255*a)}}},function(t,e,n){"use strict";var r=n(13);e.AbstractDistanceCalculator=r.AbstractDistanceCalculator;var i=n(14);e.CIE94Textiles=i.CIE94Textiles,e.CIE94GraphicArts=i.CIE94GraphicArts;var o=n(15);e.CIEDE2000=o.CIEDE2000;var s=n(16);e.CMETRIC=s.CMETRIC;var a=n(17);e.AbstractEuclidean=a.AbstractEuclidean,e.Euclidean=a.Euclidean,e.EuclideanRgbQuantWOAlpha=a.EuclideanRgbQuantWOAlpha,e.EuclideanRgbQuantWithAlpha=a.EuclideanRgbQuantWithAlpha;var u=n(18);e.AbstractManhattan=u.AbstractManhattan,e.Manhattan=u.Manhattan,e.ManhattanSRGB=u.ManhattanSRGB,e.ManhattanNommyde=u.ManhattanNommyde;var c=n(19);e.PNGQUANT=c.PNGQUANT},function(t,e){"use strict";var n=function(){function t(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return t.prototype.setWhitePoint=function(t,e,n,r){this._whitePoint={r:t>0?255/t:0,g:e>0?255/e:0,b:n>0?255/n:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(t,e,n,r,0,0,0,0)},t.prototype.calculateNormalized=function(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance},t.prototype._setDefaults=function(){},t}();e.AbstractDistanceCalculator=n},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(7),s=n(6),a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,a,u,c){var l=o.rgb2lab(s.inRange0to255(t*this._whitePoint.r),s.inRange0to255(e*this._whitePoint.g),s.inRange0to255(n*this._whitePoint.b)),h=o.rgb2lab(s.inRange0to255(i*this._whitePoint.r),s.inRange0to255(a*this._whitePoint.g),s.inRange0to255(u*this._whitePoint.b)),f=l.L-h.L,d=l.a-h.a,p=l.b-h.b,m=Math.sqrt(l.a*l.a+l.b*l.b),g=m-Math.sqrt(h.a*h.a+h.b*h.b),v=d*d+p*p-g*g;v=v<0?0:Math.sqrt(v);var y=(c-r)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(f/this._Kl,2)+Math.pow(g/(1+this._K1*m),2)+Math.pow(v/(1+this._K2*m),2)+Math.pow(y,2))},e}(i.AbstractDistanceCalculator);e.AbstractCIE94=a;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255},e}(a);e.CIE94Textiles=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255},e}(a);e.CIE94GraphicArts=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(7),s=n(6),a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,n,r,i,a,u,c,l){var h=o.rgb2lab(s.inRange0to255(t*this._whitePoint.r),s.inRange0to255(n*this._whitePoint.g),s.inRange0to255(r*this._whitePoint.b)),f=o.rgb2lab(s.inRange0to255(a*this._whitePoint.r),s.inRange0to255(u*this._whitePoint.g),s.inRange0to255(c*this._whitePoint.b)),d=(l-i)*this._whitePoint.a*e._kA,p=this.calculateRawInLab(h,f);return Math.sqrt(p+d*d)},e.prototype.calculateRawInLab=function(t,n){var r=t.L,i=t.a,o=t.b,s=n.L,a=n.a,u=n.b,c=Math.sqrt(i*i+o*o),l=Math.sqrt(a*a+u*u),h=Math.pow((c+l)/2,7),f=.5*(1-Math.sqrt(h/(h+e._pow25to7))),d=(1+f)*i,p=(1+f)*a,m=Math.sqrt(d*d+o*o),g=Math.sqrt(p*p+u*u),v=m*g,y=e._calculatehp(o,d),b=e._calculatehp(u,p),_=Math.abs(y-b),w=s-r,E=g-m,S=e._calculate_dHp(v,_,b,y),I=e._calculate_ahp(v,_,y,b),x=e._calculateT(I),T=(m+g)/2,k=Math.pow((r+s)/2-50,2),C=1+.015*k/Math.sqrt(20+k),A=1+.045*T,O=1+.015*x*T,R=e._calculateRT(I,T),P=E/A,N=S/O;return Math.pow(w/C,2)+Math.pow(P,2)+Math.pow(N,2)+R*P*N},e._calculatehp=function(t,n){var r=Math.atan2(t,n);return r>=0?r:r+e._deg360InRad},e._calculateRT=function(t,n){var r=Math.pow(n,7),i=2*Math.sqrt(r/(r+e._pow25to7)),o=e._deg30InRad*Math.exp(-Math.pow((t-e._deg275InRad)/e._deg25InRad,2));return-Math.sin(2*o)*i},e._calculateT=function(t){return 1-.17*Math.cos(t-e._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+e._deg6InRad)-.2*Math.cos(4*t-e._deg63InRad)},e._calculate_ahp=function(t,n,r,i){var o=r+i;return 0==t?o:n<=e._deg180InRad?o/2:o<e._deg360InRad?(o+e._deg360InRad)/2:(o-e._deg360InRad)/2},e._calculate_dHp=function(t,n,r,i){var o;return o=0==t?0:n<=e._deg180InRad?r-i:r<=i?r-i+e._deg360InRad:r-i-e._deg360InRad,2*Math.sqrt(t)*Math.sin(o/2)},e._kA=25/255,e._pow25to7=Math.pow(25,7),e._deg360InRad=s.degrees2radians(360),e._deg180InRad=s.degrees2radians(180),e._deg30InRad=s.degrees2radians(30),e._deg6InRad=s.degrees2radians(6),e._deg63InRad=s.degrees2radians(63),e._deg275InRad=s.degrees2radians(275),e._deg25InRad=s.degrees2radians(25),e}(i.AbstractDistanceCalculator);e.CIEDE2000=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,s,a){var u=(t+i)/2*this._whitePoint.r,c=(t-i)*this._whitePoint.r,l=(e-o)*this._whitePoint.g,h=(n-s)*this._whitePoint.b,f=(a-r)*this._whitePoint.a;return Math.sqrt(((512+u)*c*c>>8)+4*l*l+((767-u)*h*h>>8)+f*f)},e}(n(13).AbstractDistanceCalculator);e.CMETRIC=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(2),s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,s,a){var u=i-t,c=o-e,l=s-n,h=a-r;return Math.sqrt(this._kR*u*u+this._kG*c*c+this._kB*l*l+this._kA*h*h)},e}(i.AbstractDistanceCalculator);e.AbstractEuclidean=s;var a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},e}(s);e.Euclidean=a;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=o.Y.RED,this._kG=o.Y.GREEN,this._kB=o.Y.BLUE,this._kA=1},e}(s);e.EuclideanRgbQuantWithAlpha=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=o.Y.RED,this._kG=o.Y.GREEN,this._kB=o.Y.BLUE,this._kA=0},e}(s);e.EuclideanRgbQuantWOAlpha=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(2),s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,s,a){var u=i-t,c=o-e,l=s-n,h=a-r;return u<0&&(u=0-u),c<0&&(c=0-c),l<0&&(l=0-l),h<0&&(h=0-h),this._kR*u+this._kG*c+this._kB*l+this._kA*h},e}(i.AbstractDistanceCalculator);e.AbstractManhattan=s;var a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},e}(s);e.Manhattan=a;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},e}(s);e.ManhattanNommyde=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=o.Y.RED,this._kG=o.Y.GREEN,this._kB=o.Y.BLUE,this._kA=1},e}(s);e.ManhattanSRGB=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,s,a){var u=(a-r)*this._whitePoint.a;return this._colordifference_ch(t*this._whitePoint.r,i*this._whitePoint.r,u)+this._colordifference_ch(e*this._whitePoint.g,o*this._whitePoint.g,u)+this._colordifference_ch(n*this._whitePoint.b,s*this._whitePoint.b,u)},e.prototype._colordifference_ch=function(t,e,n){var r=t-e,i=r+n;return r*r+i*i},e}(n(13).AbstractDistanceCalculator);e.PNGQUANT=i},function(t,e,n){"use strict";var r=n(21);e.NeuQuant=r.NeuQuant;var i=n(25);e.NeuQuantFloat=i.NeuQuantFloat;var o=n(26);e.RGBQuant=o.RGBQuant;var s=n(27);e.ColorHistogram=s.ColorHistogram;var a=n(29);e.WuQuant=a.WuQuant,e.WuColorCube=a.WuColorCube},function(t,e,n){"use strict";var r=n(22),i=n(24),o=function(){function t(t){this.r=this.g=this.b=this.a=t}return t.prototype.toPoint=function(){return i.Point.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)},t.prototype.subtract=function(t,e,n,r){this.r-=0|t,this.g-=0|e,this.b-=0|n,this.a-=0|r},t}(),s=function(){function t(t,e){void 0===e&&(e=256),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(2040,2040,2040,2040)}return t.prototype.sample=function(t){this._pointArray=this._pointArray.concat(t.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var e=0;e<this._networkSize;e++)this._network[e]=new o((e<<11)/this._networkSize|0),this._freq[e]=t._initialBias/this._networkSize|0,this._bias[e]=0},t.prototype._learn=function(){var e=this._sampleFactor,n=this._pointArray.length;n<t._minpicturebytes&&(e=1);var r,i=30+(e-1)/3|0,o=n/e|0,s=o/t._nCycles|0,a=t._initAlpha,u=(this._networkSize>>3)*t._radiusBias,c=u>>t._radiusBiasShift;c<=1&&(c=0);for(var l=0;l<c;l++)this._radPower[l]=a*((c*c-l*l)*t._radBias/(c*c))>>>0;r=n<t._minpicturebytes?1:n%t._prime1!=0?t._prime1:n%t._prime2!=0?t._prime2:n%t._prime3!=0?t._prime3:t._prime4,l=0;for(var h=0;l<o;){var f=this._pointArray[h],d=f.b<<3,p=f.g<<3,m=f.r<<3,g=f.a<<3,v=this._contest(d,p,m,g);if(this._alterSingle(a,v,d,p,m,g),0!==c&&this._alterNeighbour(c,v,d,p,m,g),(h+=r)>=n&&(h-=n),0===s&&(s=1),++l%s==0){a-=a/i|0,(c=(u-=u/t._radiusDecrease|0)>>t._radiusBiasShift)<=1&&(c=0);for(var y=0;y<c;y++)this._radPower[y]=a*((c*c-y*y)*t._radBias/(c*c))>>>0}}},t.prototype._buildPalette=function(){var t=new r.Palette;return this._network.forEach((function(e){t.add(e.toPoint())})),t.sort(),t},t.prototype._alterNeighbour=function(e,n,r,i,o,s){var a=n-e;a<-1&&(a=-1);var u=n+e;u>this._networkSize&&(u=this._networkSize);for(var c=n+1,l=n-1,h=1;c<u||l>a;){var f,d=this._radPower[h++]/t._alphaRadBias;c<u&&(f=this._network[c++]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-s)),l>a&&(f=this._network[l--]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-s))}},t.prototype._alterSingle=function(e,n,r,i,o,s){var a=this._network[n];a.subtract((e/=t._initAlpha)*(a.r-o),e*(a.g-i),e*(a.b-r),e*(a.a-s))},t.prototype._contest=function(e,n,r,i){for(var o=~(1<<31),s=o,a=-1,u=a,c=0;c<this._networkSize;c++){var l=8160*this._distance.calculateNormalized(this._network[c],{r,g:n,b:e,a:i})|0;l<o&&(o=l,a=c);var h=l-(this._bias[c]>>t._initialBiasShift-3);h<s&&(s=h,u=c);var f=this._freq[c]>>t._betaShift;this._freq[c]-=f,this._bias[c]+=f<<t._gammaShift}return this._freq[a]+=t._beta,this._bias[a]-=t._betaGamma,u},t._prime1=499,t._prime2=491,t._prime3=487,t._minpicturebytes=t._prime4=503,t._nCycles=100,t._initialBias=1<<(t._initialBiasShift=16),t._gammaShift=10,t._beta=t._initialBias>>(t._betaShift=10),t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBias=1<<(t._radiusBiasShift=6),t._radiusDecrease=30,t._initAlpha=1<<(t._alphaBiasShift=10),t._radBias=1<<(t._radBiasShift=8),t._alphaRadBias=1<<(t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift),t}();e.NeuQuant=s},function(t,e,n){"use strict";var r=n(23),i=n(5);function o(t,e){for(var n=360/e,r=1,i=n-n/2;r<e;r++,i+=n)if(t>=i&&t<i+n)return r;return 0}e.hueGroup=o;var s=function(){function t(){this._pointArray=[],this._i32idx={},this._pointContainer=new r.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return t.prototype.add=function(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)},t.prototype.has=function(t){for(var e=this._pointArray.length-1;e>=0;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1},t.prototype.getNearestColor=function(t,e){return this._pointArray[0|this.getNearestIndex(t,e)]},t.prototype.getPointContainer=function(){return this._pointContainer},t.prototype._nearestPointFromCache=function(t){return"number"==typeof this._i32idx[t]?this._i32idx[t]:-1},t.prototype.getNearestIndex=function(t,e){var n=this._nearestPointFromCache(""+e.uint32);if(n>=0)return n;var r=Number.MAX_VALUE;n=0;for(var i=0,o=this._pointArray.length;i<o;i++){var s=this._pointArray[i],a=t.calculateRaw(e.r,e.g,e.b,e.a,s.r,s.g,s.b,s.a);a<r&&(r=a,n=i)}return this._i32idx[e.uint32]=n,n},t.prototype.sort=function(){this._i32idx={},this._pointArray.sort((function(t,e){var n=i.rgb2hsl(t.r,t.g,t.b),r=i.rgb2hsl(e.r,e.g,e.b),s=t.r===t.g&&t.g===t.b?0:1+o(n.h,10),a=(e.r===e.g&&e.g===e.b?0:1+o(r.h,10))-s;if(a)return-a;var u=t.getLuminosity(!0),c=e.getLuminosity(!0);if(c-u!=0)return c-u;var l=(100*r.s|0)-(100*n.s|0);return l?-l:0}))},t}();e.Palette=s},function(t,e,n){"use strict";var r=n(24),i=function(){function t(){this._width=0,this._height=0,this._pointArray=[]}return t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.setWidth=function(t){this._width=t},t.prototype.setHeight=function(t){this._height=t},t.prototype.getPointArray=function(){return this._pointArray},t.prototype.clone=function(){var e=new t;e._width=this._width,e._height=this._height;for(var n=0,i=this._pointArray.length;n<i;n++)e._pointArray[n]=r.Point.createByUint32(0|this._pointArray[n].uint32);return e},t.prototype.toUint32Array=function(){for(var t=this._pointArray.length,e=new Uint32Array(t),n=0;n<t;n++)e[n]=this._pointArray[n].uint32;return e},t.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},t.fromHTMLImageElement=function(e){var n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");return i.width=n,i.height=r,i.getContext("2d").drawImage(e,0,0,n,r,0,0,n,r),t.fromHTMLCanvasElement(i)},t.fromHTMLCanvasElement=function(e){var n=e.width,r=e.height,i=e.getContext("2d").getImageData(0,0,n,r);return t.fromImageData(i)},t.fromNodeCanvas=function(e){return t.fromHTMLCanvasElement(e)},t.fromImageData=function(e){return t.fromCanvasPixelArray(e.data,e.width,e.height)},t.fromArray=function(e,n,r){var i=new Uint8Array(e);return t.fromUint8Array(i,n,r)},t.fromCanvasPixelArray=function(e,n,r){return t.fromArray(e,n,r)},t.fromUint8Array=function(e,n,r){return t.fromUint32Array(new Uint32Array(e.buffer),n,r)},t.fromUint32Array=function(e,n,i){var o=new t;o._width=n,o._height=i;for(var s=0,a=e.length;s<a;s++)o._pointArray[s]=r.Point.createByUint32(0|e[s]);return o},t}();e.PointContainer=i},function(t,e,n){"use strict";var r=n(2),i=function(){function t(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return t.createByQuadruplet=function(e){var n=new t;return n.r=0|e[0],n.g=0|e[1],n.b=0|e[2],n.a=0|e[3],n._loadUINT32(),n._loadQuadruplet(),n},t.createByRGBA=function(e,n,r,i){var o=new t;return o.r=0|e,o.g=0|n,o.b=0|r,o.a=0|i,o._loadUINT32(),o._loadQuadruplet(),o},t.createByUint32=function(e){var n=new t;return n.uint32=e>>>0,n._loadRGBA(),n._loadQuadruplet(),n},t.prototype.from=function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a},t.prototype.getLuminosity=function(t){var e=this.r,n=this.g,i=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),n=Math.min(255,255-this.a+this.a*n/255),i=Math.min(255,255-this.a+this.a*i/255)),e*r.Y.RED+n*r.Y.GREEN+i*r.Y.BLUE},t.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},t.prototype._loadRGBA=function(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},t.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},t}();e.Point=i},function(t,e,n){"use strict";var r=n(22),i=n(24),o=function(){function t(t){this.r=this.g=this.b=this.a=t}return t.prototype.toPoint=function(){return i.Point.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)},t.prototype.subtract=function(t,e,n,r){this.r-=t,this.g-=e,this.b-=n,this.a-=r},t}(),s=function(){function t(t,e){void 0===e&&(e=256),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(2040,2040,2040,2040)}return t.prototype.sample=function(t){this._pointArray=this._pointArray.concat(t.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var e=0;e<this._networkSize;e++)this._network[e]=new o((e<<11)/this._networkSize),this._freq[e]=t._initialBias/this._networkSize,this._bias[e]=0},t.prototype._learn=function(){var e=this._sampleFactor,n=this._pointArray.length;n<t._minpicturebytes&&(e=1);var r,i=30+(e-1)/3,o=n/e,s=o/t._nCycles|0,a=t._initAlpha,u=(this._networkSize>>3)*t._radiusBias,c=u>>t._radiusBiasShift;c<=1&&(c=0);for(var l=0;l<c;l++)this._radPower[l]=a*((c*c-l*l)*t._radBias/(c*c));r=n<t._minpicturebytes?1:n%t._prime1!=0?t._prime1:n%t._prime2!=0?t._prime2:n%t._prime3!=0?t._prime3:t._prime4,l=0;for(var h=0;l<o;){var f=this._pointArray[h],d=f.b<<3,p=f.g<<3,m=f.r<<3,g=f.a<<3,v=this._contest(d,p,m,g);if(this._alterSingle(a,v,d,p,m,g),0!=c&&this._alterNeighbour(c,v,d,p,m,g),(h+=r)>=n&&(h-=n),0==s&&(s=1),++l%s==0){a-=a/i,(c=(u-=u/t._radiusDecrease)>>t._radiusBiasShift)<=1&&(c=0);for(var y=0;y<c;y++)this._radPower[y]=a*((c*c-y*y)*t._radBias/(c*c))}}},t.prototype._buildPalette=function(){var t=new r.Palette;return this._network.forEach((function(e){t.add(e.toPoint())})),t.sort(),t},t.prototype._alterNeighbour=function(e,n,r,i,o,s){var a=n-e;a<-1&&(a=-1);var u=n+e;u>this._networkSize&&(u=this._networkSize);for(var c=n+1,l=n-1,h=1;c<u||l>a;){var f,d=this._radPower[h++]/t._alphaRadBias;c<u&&(f=this._network[c++]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-s)),l>a&&(f=this._network[l--]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-s))}},t.prototype._alterSingle=function(e,n,r,i,o,s){var a=this._network[n];a.subtract((e/=t._initAlpha)*(a.r-o),e*(a.g-i),e*(a.b-r),e*(a.a-s))},t.prototype._contest=function(e,n,r,i){for(var o=~(1<<31),s=o,a=-1,u=a,c=0;c<this._networkSize;c++){var l=8160*this._distance.calculateNormalized(this._network[c],{r,g:n,b:e,a:i});l<o&&(o=l,a=c);var h=l-(this._bias[c]>>t._initialBiasShift-3);h<s&&(s=h,u=c);var f=this._freq[c]>>t._betaShift;this._freq[c]-=f,this._bias[c]+=f<<t._gammaShift}return this._freq[a]+=t._beta,this._bias[a]-=t._betaGamma,u},t._prime1=499,t._prime2=491,t._prime3=487,t._minpicturebytes=t._prime4=503,t._nCycles=100,t._initialBias=1<<(t._initialBiasShift=16),t._gammaShift=10,t._beta=t._initialBias>>(t._betaShift=10),t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBias=1<<(t._radiusBiasShift=6),t._radiusDecrease=30,t._initAlpha=1<<(t._alphaBiasShift=10),t._radBias=1<<(t._radBiasShift=8),t._alphaRadBias=1<<(t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift),t}();e.NeuQuantFloat=s},function(t,e,n){"use strict";var r=n(22),i=n(24),o=n(27),s=n(6),a=function(t,e,n){this.index=t,this.color=e,this.distance=n},u=function(){function t(t,e,n){void 0===e&&(e=256),void 0===n&&(n=2),this._distance=t,this._colors=e,this._histogram=new o.ColorHistogram(n,e),this._initialDistance=.01,this._distanceIncrement=.005}return t.prototype.sample=function(t){this._histogram.sample(t)},t.prototype.quantize=function(){var t=this._histogram.getImportanceSortedColorsIDXI32();if(0===t.length)throw new Error("No colors in image");var e=this._buildPalette(t);return e.sort(),e},t.prototype._buildPalette=function(t){for(var e=new r.Palette,n=e.getPointContainer().getPointArray(),o=new Array(t.length),u=0;u<t.length;u++)n.push(i.Point.createByUint32(t[u])),o[u]=1;for(var c=n.length,l=[],h=c,f=this._initialDistance;h>this._colors;){for(l.length=0,u=0;u<c;u++)if(0!==o[u])for(var d=n[u],p=u+1;p<c;p++)if(0!==o[p]){var m=n[p],g=this._distance.calculateNormalized(d,m);g<f&&(l.push(new a(p,m,g)),o[p]=0,h--)}f+=h>3*this._colors?this._initialDistance:this._distanceIncrement}if(h<this._colors){s.stableSort(l,(function(t,e){return e.distance-t.distance}));for(var v=0;h<this._colors&&v<l.length;)o[l[v].index]=1,h++,v++}for(var y=n.length,b=y-1;b>=0;b--)0===o[b]&&(b!==y-1&&(n[b]=n[y-1]),--y);return n.length=y,e},t}();e.RGBQuant=u},function(t,e,n){"use strict";var r=n(28),i=n(6),o=function(){function t(e,n){this._method=e,this._minHueCols=n<<2,this._initColors=n<<2,this._hueStats=new r.HueStatistics(t._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return t.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}},t.prototype.getImportanceSortedColorsIDXI32=function(){var t,e=this,n=i.stableSort(Object.keys(this._histogram),(function(t,n){return e._histogram[n]-e._histogram[t]}));if(0===n.length)return[];switch(this._method){case 1:var r=Math.min(n.length,this._initColors),o=this._histogram[n[r-1]];t=n.slice(0,r);for(var s=r,a=n.length;s<a&&this._histogram[n[s]]==o;)t.push(n[s++]);this._hueStats.injectIntoArray(t);break;case 2:t=n;break;default:throw new Error("Incorrect method")}return t.map((function(t){return+t}))},t.prototype._colorStats1D=function(t){for(var e=this._histogram,n=t.getPointArray(),r=n.length,i=0;i<r;i++){var o=n[i].uint32;this._hueStats.check(o),o in e?e[o]++:e[o]=1}},t.prototype._colorStats2D=function(e){var n=this,r=e.getWidth(),i=e.getHeight(),o=e.getPointArray(),s=t._boxSize[0],a=t._boxSize[1],u=s*a,c=this._makeBoxes(r,i,s,a),l=this._histogram;c.forEach((function(e){var i=Math.round(e.w*e.h/u)*t._boxPixels;i<2&&(i=2);var s={};n._iterateBox(e,r,(function(t){var e=o[t].uint32;n._hueStats.check(e),e in l?l[e]++:e in s?++s[e]>=i&&(l[e]=s[e]):s[e]=1}))})),this._hueStats.injectIntoDictionary(l)},t.prototype._iterateBox=function(t,e,n){var r=t,i=(r.y+r.h-1)*e+(r.x+r.w-1),o=e-r.w+1,s=0,a=r.y*e+r.x;do{n.call(this,a),a+=++s%r.w==0?o:1}while(a<=i)},t.prototype._makeBoxes=function(t,e,n,r){for(var i=t%n,o=e%r,s=t-i,a=e-o,u=[],c=0;c<e;c+=r)for(var l=0;l<t;l+=n)u.push({x:l,y:c,w:l==s?i:n,h:c==a?o:r});return u},t._boxSize=[64,64],t._boxPixels=2,t._hueGroups=10,t}();e.ColorHistogram=o},function(t,e,n){"use strict";var r=n(5),i=n(22),o=function(){this.num=0,this.cols=[]},s=function(){function t(t,e){this._numGroups=t,this._minCols=e,this._stats=[];for(var n=0;n<=t;n++)this._stats[n]=new o;this._groupsFull=0}return t.prototype.check=function(t){this._groupsFull==this._numGroups+1&&(this.check=function(){});var e=255&t,n=t>>>8&255,o=t>>>16&255,s=e==n&&n==o?0:1+i.hueGroup(r.rgb2hsl(e,n,o).h,this._numGroups),a=this._stats[s],u=this._minCols;a.num++,a.num>u||(a.num==u&&this._groupsFull++,a.num<=u&&this._stats[s].cols.push(t))},t.prototype.injectIntoDictionary=function(t){for(var e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((function(e){t[e]?t[e]++:t[e]=1}))},t.prototype.injectIntoArray=function(t){for(var e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((function(e){-1==t.indexOf(e)&&t.push(e)}))},t}();e.HueStatistics=s},function(t,e,n){"use strict";var r=n(22),i=n(24);function o(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}function s(t,e,n,r){for(var i=new Array(t),o=0;o<t;o++){i[o]=new Array(e);for(var s=0;s<e;s++){i[o][s]=new Array(n);for(var a=0;a<n;a++){i[o][s][a]=new Array(r);for(var u=0;u<r;u++)i[o][s][a][u]=0}}}return i}function a(t,e,n){for(var r=new Array(t),i=0;i<t;i++){r[i]=new Array(e);for(var o=0;o<e;o++){r[i][o]=new Array(n);for(var s=0;s<n;s++)r[i][o][s]=0}}return r}function u(t,e,n,r,i){for(var o=0;o<e;o++){t[o]=[];for(var s=0;s<n;s++){t[o][s]=[];for(var a=0;a<r;a++)t[o][s][a]=i}}}function c(t,e,n){for(var r=0;r<e;r++)t[r]=n}var l=function(){};e.WuColorCube=l;var h=function(){function t(t,e,n){void 0===e&&(e=256),void 0===n&&(n=5),this._distance=t,this._setQuality(n),this._initialize(e)}return t.prototype.sample=function(t){for(var e=t.getPointArray(),n=0,r=e.length;n<r;n++)this._addColor(e[n]);this._pixels=this._pixels.concat(e)},t.prototype.quantize=function(){this._preparePalette();for(var t=new r.Palette,e=0;e<this._colors;e++)if(this._sums[e]>0){var n=this._sums[e],o=i.Point.createByRGBA(0|this._reds[e]/n,0|this._greens[e]/n,0|this._blues[e]/n,0|this._alphas[e]/n);t.add(o)}return t.sort(),t},t.prototype._preparePalette=function(){this._calculateMoments();for(var e=0,n=o(this._colors),r=1;r<this._colors;++r){this._cut(this._cubes[e],this._cubes[r])?(n[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,n[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(n[e]=0,r--),e=0;for(var i=n[0],s=1;s<=r;++s)n[s]>i&&(i=n[s],e=s);if(i<=0){this._colors=r+1;break}}for(var a=[],u=[],c=[],l=[],h=0;h<this._colors;++h){var f=t._volume(this._cubes[h],this._weights);f>0?(a[h]=t._volume(this._cubes[h],this._momentsRed)/f|0,u[h]=t._volume(this._cubes[h],this._momentsGreen)/f|0,c[h]=t._volume(this._cubes[h],this._momentsBlue)/f|0,l[h]=t._volume(this._cubes[h],this._momentsAlpha)/f|0):(a[h]=0,u[h]=0,c[h]=0,l[h]=0)}this._reds=o(this._colors+1),this._greens=o(this._colors+1),this._blues=o(this._colors+1),this._alphas=o(this._colors+1),this._sums=o(this._colors+1),s=0;for(var d=this._pixels.length;s<d;s++){for(var p=this._pixels[s],m=-1,g=Number.MAX_VALUE,v=0;v<this._colors;v++){var y=this._distance.calculateRaw(a[v],u[v],c[v],l[v],p.r,p.g,p.b,p.a);y<g&&(g=y,m=v)}this._reds[m]+=p.r,this._greens[m]+=p.g,this._blues[m]+=p.b,this._alphas[m]+=p.a,this._sums[m]++}},t.prototype._addColor=function(t){var e=8-this._significantBitsPerChannel,n=1+(t.r>>e),r=1+(t.g>>e),i=1+(t.b>>e),o=1+(t.a>>e);this._weights[o][n][r][i]++,this._momentsRed[o][n][r][i]+=t.r,this._momentsGreen[o][n][r][i]+=t.g,this._momentsBlue[o][n][r][i]+=t.b,this._momentsAlpha[o][n][r][i]+=t.a,this._moments[o][n][r][i]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]},t.prototype._calculateMoments=function(){for(var t=[],e=[],n=[],r=[],i=[],o=[],s=a(this._sideSize,this._sideSize,this._sideSize),l=a(this._sideSize,this._sideSize,this._sideSize),h=a(this._sideSize,this._sideSize,this._sideSize),f=a(this._sideSize,this._sideSize,this._sideSize),d=a(this._sideSize,this._sideSize,this._sideSize),p=a(this._sideSize,this._sideSize,this._sideSize),m=1;m<=this._alphaMaxSideIndex;++m){u(s,this._sideSize,this._sideSize,this._sideSize,0),u(l,this._sideSize,this._sideSize,this._sideSize,0),u(h,this._sideSize,this._sideSize,this._sideSize,0),u(f,this._sideSize,this._sideSize,this._sideSize,0),u(d,this._sideSize,this._sideSize,this._sideSize,0),u(p,this._sideSize,this._sideSize,this._sideSize,0);for(var g=1;g<=this._maxSideIndex;++g){c(t,this._sideSize,0),c(e,this._sideSize,0),c(n,this._sideSize,0),c(r,this._sideSize,0),c(i,this._sideSize,0),c(o,this._sideSize,0);for(var v=1;v<=this._maxSideIndex;++v)for(var y=0,b=0,_=0,w=0,E=0,S=0,I=1;I<=this._maxSideIndex;++I)b+=this._momentsRed[m][g][v][I],_+=this._momentsGreen[m][g][v][I],w+=this._momentsBlue[m][g][v][I],E+=this._momentsAlpha[m][g][v][I],S+=this._moments[m][g][v][I],t[I]+=y+=this._weights[m][g][v][I],e[I]+=b,n[I]+=_,r[I]+=w,i[I]+=E,o[I]+=S,s[g][v][I]=s[g-1][v][I]+t[I],l[g][v][I]=l[g-1][v][I]+e[I],h[g][v][I]=h[g-1][v][I]+n[I],f[g][v][I]=f[g-1][v][I]+r[I],d[g][v][I]=d[g-1][v][I]+i[I],p[g][v][I]=p[g-1][v][I]+o[I],this._weights[m][g][v][I]=this._weights[m-1][g][v][I]+s[g][v][I],this._momentsRed[m][g][v][I]=this._momentsRed[m-1][g][v][I]+l[g][v][I],this._momentsGreen[m][g][v][I]=this._momentsGreen[m-1][g][v][I]+h[g][v][I],this._momentsBlue[m][g][v][I]=this._momentsBlue[m-1][g][v][I]+f[g][v][I],this._momentsAlpha[m][g][v][I]=this._momentsAlpha[m-1][g][v][I]+d[g][v][I],this._moments[m][g][v][I]=this._moments[m-1][g][v][I]+p[g][v][I]}}},t._volumeFloat=function(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])},t._volume=function(e,n){return 0|t._volumeFloat(e,n)},t._top=function(e,n,r,i){var o;switch(n){case t.alpha:o=i[r][e.redMaximum][e.greenMaximum][e.blueMaximum]-i[r][e.redMaximum][e.greenMinimum][e.blueMaximum]-i[r][e.redMinimum][e.greenMaximum][e.blueMaximum]+i[r][e.redMinimum][e.greenMinimum][e.blueMaximum]-(i[r][e.redMaximum][e.greenMaximum][e.blueMinimum]-i[r][e.redMaximum][e.greenMinimum][e.blueMinimum]-i[r][e.redMinimum][e.greenMaximum][e.blueMinimum]+i[r][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case t.red:o=i[e.alphaMaximum][r][e.greenMaximum][e.blueMaximum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMaximum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMaximum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMaximum]-(i[e.alphaMaximum][r][e.greenMaximum][e.blueMinimum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMinimum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMinimum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMinimum]);break;case t.green:o=i[e.alphaMaximum][e.redMaximum][r][e.blueMaximum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMaximum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMaximum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMaximum]-(i[e.alphaMaximum][e.redMaximum][r][e.blueMinimum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMinimum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMinimum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMinimum]);break;case t.blue:o=i[e.alphaMaximum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMaximum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMaximum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMaximum][e.redMinimum][e.greenMinimum][r]-(i[e.alphaMinimum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMinimum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMinimum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMinimum][e.redMinimum][e.greenMinimum][r]);break;default:throw new Error("impossible")}return 0|o},t._bottom=function(e,n,r){switch(n){case t.alpha:return-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case t.red:return-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case t.green:return-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case t.blue:return-r[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}},t.prototype._calculateVariance=function(e){var n=t._volume(e,this._momentsRed),r=t._volume(e,this._momentsGreen),i=t._volume(e,this._momentsBlue),o=t._volume(e,this._momentsAlpha);return t._volumeFloat(e,this._moments)-(n*n+r*r+i*i+o*o)/t._volume(e,this._weights)},t.prototype._maximize=function(e,n,r,i,o,s,a,u,c){for(var l=0|t._bottom(e,n,this._momentsRed),h=0|t._bottom(e,n,this._momentsGreen),f=0|t._bottom(e,n,this._momentsBlue),d=0|t._bottom(e,n,this._momentsAlpha),p=0|t._bottom(e,n,this._weights),m=0,g=-1,v=r;v<i;++v){var y=l+t._top(e,n,v,this._momentsRed),b=h+t._top(e,n,v,this._momentsGreen),_=f+t._top(e,n,v,this._momentsBlue),w=d+t._top(e,n,v,this._momentsAlpha),E=p+t._top(e,n,v,this._weights);if(0!=E){var S=y*y+b*b+_*_+w*w,I=S/E;y=o-y,b=s-b,_=a-_,w=u-w,0!=(E=c-E)&&(I+=(S=y*y+b*b+_*_+w*w)/E)>m&&(m=I,g=v)}}return{max:m,position:g}},t.prototype._cut=function(e,n){var r,i=t._volume(e,this._momentsRed),o=t._volume(e,this._momentsGreen),s=t._volume(e,this._momentsBlue),a=t._volume(e,this._momentsAlpha),u=t._volume(e,this._weights),c=this._maximize(e,t.red,e.redMinimum+1,e.redMaximum,i,o,s,a,u),l=this._maximize(e,t.green,e.greenMinimum+1,e.greenMaximum,i,o,s,a,u),h=this._maximize(e,t.blue,e.blueMinimum+1,e.blueMaximum,i,o,s,a,u),f=this._maximize(e,t.alpha,e.alphaMinimum+1,e.alphaMaximum,i,o,s,a,u);if(f.max>=c.max&&f.max>=l.max&&f.max>=h.max){if(r=t.alpha,f.position<0)return!1}else r=c.max>=f.max&&c.max>=l.max&&c.max>=h.max?t.red:l.max>=f.max&&l.max>=c.max&&l.max>=h.max?t.green:t.blue;switch(n.redMaximum=e.redMaximum,n.greenMaximum=e.greenMaximum,n.blueMaximum=e.blueMaximum,n.alphaMaximum=e.alphaMaximum,r){case t.red:n.redMinimum=e.redMaximum=c.position,n.greenMinimum=e.greenMinimum,n.blueMinimum=e.blueMinimum,n.alphaMinimum=e.alphaMinimum;break;case t.green:n.greenMinimum=e.greenMaximum=l.position,n.redMinimum=e.redMinimum,n.blueMinimum=e.blueMinimum,n.alphaMinimum=e.alphaMinimum;break;case t.blue:n.blueMinimum=e.blueMaximum=h.position,n.redMinimum=e.redMinimum,n.greenMinimum=e.greenMinimum,n.alphaMinimum=e.alphaMinimum;break;case t.alpha:n.alphaMinimum=e.alphaMaximum=f.position,n.blueMinimum=e.blueMinimum,n.redMinimum=e.redMinimum,n.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),n.volume=(n.redMaximum-n.redMinimum)*(n.greenMaximum-n.greenMinimum)*(n.blueMaximum-n.blueMinimum)*(n.alphaMaximum-n.alphaMinimum),!0},t.prototype._initialize=function(t){this._colors=t,this._cubes=[];for(var e=0;e<t;e++)this._cubes[e]=new l;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var n=0;n<256;++n)this._table[n]=n*n;this._pixels=[]},t.prototype._setQuality=function(t){void 0===t&&(t=5),this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},t.alpha=3,t.red=2,t.green=1,t.blue=0,t}();e.WuQuant=h},function(t,e,n){"use strict";var r=n(31);e.NearestColor=r.NearestColor;var i=n(32);e.ErrorDiffusionArray=i.ErrorDiffusionArray,e.ErrorDiffusionArrayKernel=i.ErrorDiffusionArrayKernel;var o=n(33);e.ErrorDiffusionRiemersma=o.ErrorDiffusionRiemersma},function(t,e){"use strict";var n=function(){function t(t){this._distance=t}return t.prototype.quantize=function(t,e){for(var n=t.getPointArray(),r=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var s=0,a=o*r;s<r;s++,a++){var u=n[a];u.from(e.getNearestColor(this._distance,u))}return t},t}();e.NearestColor=n},function(t,e,n){"use strict";var r=n(24),i=n(6);!function(t){t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite"}(e.ErrorDiffusionArrayKernel||(e.ErrorDiffusionArrayKernel={}));var o=e.ErrorDiffusionArrayKernel,s=function(){function t(t,e,n,r,i){void 0===n&&(n=!0),void 0===r&&(r=0),void 0===i&&(i=!1),this._setKernel(e),this._distance=t,this._minColorDistance=r,this._serpentine=n,this._calculateErrorLikeGIMP=i}return t.prototype.quantize=function(t,e){for(var n=t.getPointArray(),o=new r.Point,s=t.getWidth(),a=t.getHeight(),u=[],c=1,l=1,h=0;h<this._kernel.length;h++){var f=this._kernel[h][2]+1;l<f&&(l=f)}for(h=0;h<l;h++)this._fillErrorLine(u[h]=[],s);for(var d=0;d<a;d++){this._serpentine&&(c*=-1);var p=d*s,m=1==c?0:s-1,g=1==c?s:-1;this._fillErrorLine(u[0],s),u.push(u.shift());for(var v=u[0],y=m,b=p+m;y!==g;y+=c,b+=c){var _=n[b],w=v[y];o.from(_);var E=r.Point.createByRGBA(i.inRange0to255Rounded(_.r+w[0]),i.inRange0to255Rounded(_.g+w[1]),i.inRange0to255Rounded(_.b+w[2]),i.inRange0to255Rounded(_.a+w[3])),S=e.getNearestColor(this._distance,E);if(_.from(S),!(this._minColorDistance&&this._distance.calculateNormalized(_,S)<this._minColorDistance)){var I=void 0,x=void 0,T=void 0,k=void 0;this._calculateErrorLikeGIMP?(I=E.r-S.r,x=E.g-S.g,T=E.b-S.b,k=E.a-S.a):(I=o.r-S.r,x=o.g-S.g,T=o.b-S.b,k=o.a-S.a);var C=1==c?this._kernel.length:-1;for(h=1==c?0:this._kernel.length-1;h!==C;h+=c){var A=this._kernel[h][1]*c,O=this._kernel[h][2];if(A+y>=0&&A+y<s&&O+d>=0&&O+d<a){var R=this._kernel[h][0],P=u[O][A+y];P[0]=P[0]+I*R,P[1]=P[1]+x*R,P[2]=P[2]+T*R,P[3]=P[3]+k*R}}}}}return t},t.prototype._fillErrorLine=function(t,e){t.length>e&&(t.length=e);for(var n=t.length,r=0;r<n;r++){var i=t[r];i[0]=i[1]=i[2]=i[3]=0}for(r=n;r<e;r++)t[r]=[0,0,0,0]},t.prototype._setKernel=function(t){switch(t){case o.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case o.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case o.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case o.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case o.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case o.Burkes:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case o.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case o.TwoSierra:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case o.SierraLite:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+t)}},t}();e.ErrorDiffusionArray=s},function(t,e,n){"use strict";var r=n(34),i=n(24),o=n(6),s=function(){function t(t,e,n){void 0===e&&(e=16),void 0===n&&(n=1),this._distance=t,this._errorPropagation=n,this._errorQueueSize=e,this._max=this._errorQueueSize,this._createWeights()}return t.prototype.quantize=function(t,e){for(var n=this,s=new r.HilbertCurveBase,a=t.getPointArray(),u=t.getWidth(),c=t.getHeight(),l=[],h=0,f=0;f<this._errorQueueSize;f++)l[f]={r:0,g:0,b:0,a:0};return s.walk(u,c,(function(t,r){for(var s=a[t+r*u],c=s.r,f=s.g,d=s.b,p=s.a,m=0;m<n._errorQueueSize;m++){var g=n._weights[m],v=l[(m+h)%n._errorQueueSize];c+=v.r*g,f+=v.g*g,d+=v.b*g,p+=v.a*g}var y=i.Point.createByRGBA(o.inRange0to255Rounded(c),o.inRange0to255Rounded(f),o.inRange0to255Rounded(d),o.inRange0to255Rounded(p)),b=e.getNearestColor(n._distance,y),_=((h=(h+1)%n._errorQueueSize)+n._errorQueueSize-1)%n._errorQueueSize;l[_].r=s.r-b.r,l[_].g=s.g-b.g,l[_].b=s.b-b.b,l[_].a=s.a-b.a,s.from(b)})),t},t.prototype._createWeights=function(){this._weights=[];for(var t=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),e=0,n=1;e<this._errorQueueSize;e++)this._weights[e]=(n+.5|0)/this._max*this._errorPropagation,n*=t},t}();e.ErrorDiffusionRiemersma=s},function(t,e){"use strict";var n;!function(t){t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t[t.DOWN=4]="DOWN"}(n||(n={}));var r=function(){function t(){}return t.prototype.walk=function(t,e,r){this._x=0,this._y=0,this._d=0,this._width=t,this._height=e,this._callback=r;var i=Math.max(t,e);this._level=Math.log(i)/Math.log(2)+1|0,this._walkHilbert(n.UP),this._visit(n.NONE)},t.prototype._walkHilbert=function(t){if(!(this._level<1)){switch(this._level--,t){case n.LEFT:this._walkHilbert(n.UP),this._visit(n.RIGHT),this._walkHilbert(n.LEFT),this._visit(n.DOWN),this._walkHilbert(n.LEFT),this._visit(n.LEFT),this._walkHilbert(n.DOWN);break;case n.RIGHT:this._walkHilbert(n.DOWN),this._visit(n.LEFT),this._walkHilbert(n.RIGHT),this._visit(n.UP),this._walkHilbert(n.RIGHT),this._visit(n.RIGHT),this._walkHilbert(n.UP);break;case n.UP:this._walkHilbert(n.LEFT),this._visit(n.DOWN),this._walkHilbert(n.UP),this._visit(n.RIGHT),this._walkHilbert(n.UP),this._visit(n.UP),this._walkHilbert(n.RIGHT);break;case n.DOWN:this._walkHilbert(n.RIGHT),this._visit(n.UP),this._walkHilbert(n.DOWN),this._visit(n.LEFT),this._walkHilbert(n.DOWN),this._visit(n.DOWN),this._walkHilbert(n.LEFT)}this._level++}},t.prototype._visit=function(t){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),t){case n.LEFT:this._x--;break;case n.RIGHT:this._x++;break;case n.UP:this._y--;break;case n.DOWN:this._y++}},t}();e.HilbertCurveBase=r},function(t,e,n){"use strict";var r=n(36);e.SSIM=r.SSIM},function(t,e,n){"use strict";var r=n(2),i=function(){function t(){}return t.prototype.compare=function(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw new Error("Images have different sizes!");var n=Math.pow(.01*255,2),r=Math.pow(.03*255,2),i=0,o=0;return this._iterate(t,e,(function(t,e,s,a){for(var u=0,c=0,l=0,h=0;h<t.length;h++)c+=Math.pow(t[h]-s,2),l+=Math.pow(e[h]-a,2),u+=(t[h]-s)*(e[h]-a);var f=t.length-1;c/=f,l/=f;var d=(2*s*a+n)*(2*(u/=f)+r),p=(Math.pow(s,2)+Math.pow(a,2)+n)*(c+l+r);o+=d/p,i++})),o/i},t.prototype._iterate=function(t,e,n){for(var r=t.getWidth(),i=t.getHeight(),o=0;o<i;o+=8)for(var s=0;s<r;s+=8){var a=Math.min(8,r-s),u=Math.min(8,i-o),c=this._calculateLumaValuesForWindow(t,s,o,a,u),l=this._calculateLumaValuesForWindow(e,s,o,a,u);n(c,l,this._calculateAverageLuma(c),this._calculateAverageLuma(l))}},t.prototype._calculateLumaValuesForWindow=function(t,e,n,i,o){for(var s=t.getPointArray(),a=[],u=0,c=n;c<n+o;c++)for(var l=c*t.getWidth(),h=e;h<e+i;h++){var f=s[l+h];a[u]=f.r*r.Y.RED+f.g*r.Y.GREEN+f.b*r.Y.BLUE,u++}return a},t.prototype._calculateAverageLuma=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e/t.length},t}();e.SSIM=i},function(t,e,n){"use strict";var r=n(6);e.arithmetic=r;var i=n(28);e.HueStatistics=i.HueStatistics;var o=n(22);e.Palette=o.Palette;var s=n(24);e.Point=s.Point;var a=n(23);e.PointContainer=a.PointContainer}])},"object"==typeof n&&"object"==typeof e?e.exports=r():"object"==typeof n?n.iq=r():this.iq=r()},{}],75:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},{}],76:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],77:[function(t,e,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function(t){try{var e=r.call(t);return i.test(e)}catch(n){return!1}},s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(a)return function(t){try{return!o(t)&&(r.call(t),!0)}catch(e){return!1}}(t);if(o(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},{}],78:[function(t,e,n){e.exports=function(t){var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var i=Object.prototype.toString},{}],79:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],80:[function(t,e,n){var r=t("./lib/encoder"),i=t("./lib/decoder");e.exports={encode:r,decode:i}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(t,e,n){(function(t){var n=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function e(){}function n(t,e){for(var n,r,i=0,o=[],s=16;s>0&&!t[s-1];)s--;o.push({children:[],index:0});var a,u=o[0];for(n=0;n<s;n++){for(r=0;r<t[n];r++){for((u=o.pop()).children[u.index]=e[i];u.index>0;){if(0===o.length)throw new Error("Could not recreate Huffman Table");u=o.pop()}for(u.index++,o.push(u);o.length<=n;)o.push(a={children:[],index:0}),u.children[u.index]=a.children,u=a;i++}n+1<s&&(o.push(a={children:[],index:0}),u.children[u.index]=a.children,u=a)}return o[0].children}function r(e,n,r,i,o,s,a,u,c,l){var h=r.mcusPerLine,f=n,d=0,p=0;function m(){if(p>0)return p--,d>>p&1;if(255==(d=e[n++])){var t=e[n++];if(t)throw new Error("unexpected marker: "+(d<<8|t).toString(16))}return p=7,d>>>7}function g(t){for(var e,n=t;null!==(e=m());){if("number"==typeof(n=n[e]))return n;if("object"!=typeof n)throw new Error("invalid huffman sequence")}return null}function v(t){for(var e=0;t>0;){var n=m();if(null===n)return;e=e<<1|n,t--}return e}function y(t){var e=v(t);return e>=1<<t-1?e:e+(-1<<t)+1}var b,_=0,w=0;function E(t,e,n,r,i){var o=(n/h|0)*t.v+r;void 0===t.blocks[o]&&l.tolerantDecoding||e(t,t.blocks[o][n%h*t.h+i])}function S(t,e,n){var r=n/t.blocksPerLine|0;void 0===t.blocks[r]&&l.tolerantDecoding||e(t,t.blocks[r][n%t.blocksPerLine])}var I,x,T,k,C,A,O=i.length;A=r.progressive?0===s?0===u?function(t,e){var n=g(t.huffmanTableDC),r=0===n?0:y(n)<<c;e[0]=t.pred+=r}:function(t,e){e[0]|=m()<<c}:0===u?function(e,n){if(_>0)_--;else for(var r=s,i=a;r<=i;){var o=g(e.huffmanTableAC),u=15&o,l=o>>4;if(0!==u)n[t[r+=l]]=y(u)*(1<<c),r++;else{if(l<15){_=v(l)+(1<<l)-1;break}r+=16}}}:function(e,n){for(var r=s,i=a,o=0;r<=i;){var u=t[r],l=n[u]<0?-1:1;switch(w){case 0:var h=g(e.huffmanTableAC),f=15&h;if(o=h>>4,0===f)o<15?(_=v(o)+(1<<o),w=4):(o=16,w=1);else{if(1!==f)throw new Error("invalid ACn encoding");b=y(f),w=o?2:3}continue;case 1:case 2:n[u]?n[u]+=(m()<<c)*l:0==--o&&(w=2==w?3:0);break;case 3:n[u]?n[u]+=(m()<<c)*l:(n[u]=b<<c,w=0);break;case 4:n[u]&&(n[u]+=(m()<<c)*l)}r++}4===w&&0==--_&&(w=0)}:function(e,n){var r=g(e.huffmanTableDC),i=0===r?0:y(r);n[0]=e.pred+=i;for(var o=1;o<64;){var s=g(e.huffmanTableAC),a=15&s,u=s>>4;if(0!==a)n[t[o+=u]]=y(a),o++;else{if(u<15)break;o+=16}}};var R,P,N,M,D=0;for(P=1==O?i[0].blocksPerLine*i[0].blocksPerColumn:h*r.mcusPerColumn,o||(o=P);D<P;){for(x=0;x<O;x++)i[x].pred=0;if(_=0,1==O)for(I=i[0],C=0;C<o;C++)S(I,A,D),D++;else for(C=0;C<o;C++){for(x=0;x<O;x++)for(N=(I=i[x]).h,M=I.v,T=0;T<M;T++)for(k=0;k<N;k++)E(I,A,D,T,k);if(++D===P)break}if(D===P)do{if(255===e[n]&&0!==e[n+1])break;n+=1}while(n<e.length-2);if(p=0,(R=e[n]<<8|e[n+1])<65280)throw new Error("marker was not found");if(!(R>=65488&&R<=65495))break;n+=2}return n-f}function i(t,e){var n,r,i=[],o=e.blocksPerLine,s=e.blocksPerColumn,a=o<<3,c=new Int32Array(64),l=new Uint8Array(64);function h(t,n,r){var i,o,s,a,u,c,l,h,f,d,p=e.quantizationTable,m=r;for(d=0;d<64;d++)m[d]=t[d]*p[d];for(d=0;d<8;++d){var g=8*d;0!=m[1+g]||0!=m[2+g]||0!=m[3+g]||0!=m[4+g]||0!=m[5+g]||0!=m[6+g]||0!=m[7+g]?(f=(i=5793*m[0+g]+128>>8)-(o=5793*m[4+g]+128>>8)+1>>1,i=i+o+1>>1,o=f,f=3784*(s=m[2+g])+1567*(a=m[6+g])+128>>8,s=1567*s-3784*a+128>>8,a=f,f=(u=2896*(m[1+g]-m[7+g])+128>>8)-(l=m[5+g]<<4)+1>>1,u=u+l+1>>1,l=f,f=(h=2896*(m[1+g]+m[7+g])+128>>8)+(c=m[3+g]<<4)+1>>1,c=h-c+1>>1,h=f,f=i-a+1>>1,i=i+a+1>>1,a=f,f=o-s+1>>1,o=o+s+1>>1,s=f,f=2276*u+3406*h+2048>>12,u=3406*u-2276*h+2048>>12,h=f,f=799*c+4017*l+2048>>12,c=4017*c-799*l+2048>>12,l=f,m[0+g]=i+h,m[7+g]=i-h,m[1+g]=o+l,m[6+g]=o-l,m[2+g]=s+c,m[5+g]=s-c,m[3+g]=a+u,m[4+g]=a-u):(m[0+g]=f=5793*m[0+g]+512>>10,m[1+g]=f,m[2+g]=f,m[3+g]=f,m[4+g]=f,m[5+g]=f,m[6+g]=f,m[7+g]=f)}for(d=0;d<8;++d){var v=d;0!=m[8+v]||0!=m[16+v]||0!=m[24+v]||0!=m[32+v]||0!=m[40+v]||0!=m[48+v]||0!=m[56+v]?(f=(i=5793*m[0+v]+2048>>12)-(o=5793*m[32+v]+2048>>12)+1>>1,i=i+o+1>>1,o=f,f=3784*(s=m[16+v])+1567*(a=m[48+v])+2048>>12,s=1567*s-3784*a+2048>>12,a=f,f=(u=2896*(m[8+v]-m[56+v])+2048>>12)-(l=m[40+v])+1>>1,u=u+l+1>>1,l=f,f=(h=2896*(m[8+v]+m[56+v])+2048>>12)+(c=m[24+v])+1>>1,c=h-c+1>>1,h=f,f=i-a+1>>1,i=i+a+1>>1,a=f,f=o-s+1>>1,o=o+s+1>>1,s=f,f=2276*u+3406*h+2048>>12,u=3406*u-2276*h+2048>>12,h=f,f=799*c+4017*l+2048>>12,c=4017*c-799*l+2048>>12,l=f,m[0+v]=i+h,m[56+v]=i-h,m[8+v]=o+l,m[48+v]=o-l,m[16+v]=s+c,m[40+v]=s-c,m[24+v]=a+u,m[32+v]=a-u):(m[0+v]=f=5793*r[d+0]+8192>>14,m[8+v]=f,m[16+v]=f,m[24+v]=f,m[32+v]=f,m[40+v]=f,m[48+v]=f,m[56+v]=f)}for(d=0;d<64;++d){var y=128+(m[d]+8>>4);n[d]=y<0?0:y>255?255:y}}u(a*s*8);for(var f=0;f<s;f++){var d=f<<3;for(n=0;n<8;n++)i.push(new Uint8Array(a));for(var p=0;p<o;p++){h(e.blocks[f][p],l,c);var m=0,g=p<<3;for(r=0;r<8;r++){var v=i[d+r];for(n=0;n<8;n++)v[g+n]=l[m++]}}}return i}function o(t){return t<0?0:t>255?255:t}e.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=(function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}).bind(this),e.send(null)},parse:function(e){var o=1e3*this.opts.maxResolutionInMP*1e3,s=0;function a(){var t=e[s]<<8|e[s+1];return s+=2,t}function c(t){var e,n,r=0,i=0;for(n in t.components)t.components.hasOwnProperty(n)&&(r<(e=t.components[n]).h&&(r=e.h),i<e.v&&(i=e.v));var o=Math.ceil(t.samplesPerLine/8/r),s=Math.ceil(t.scanLines/8/i);for(n in t.components)if(t.components.hasOwnProperty(n)){e=t.components[n];var a=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/r),c=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),l=o*e.h,h=s*e.v,f=[];u(h*l*256);for(var d=0;d<h;d++){for(var p=[],m=0;m<l;m++)p.push(new Int32Array(64));f.push(p)}e.blocksPerLine=a,e.blocksPerColumn=c,e.blocks=f}t.maxH=r,t.maxV=i,t.mcusPerLine=o,t.mcusPerColumn=s}var l,h,f,d,p=null,m=null,g=[],v=[],y=[],b=[],_=a();if(65496!=_)throw new Error("SOI not found");for(_=a();65497!=_;){switch(_){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=(void 0,void 0,f=a(),d=e.subarray(s,s+f-2),s+=d.length,d);65504===_&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(p={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65505===_&&69===w[0]&&120===w[1]&&105===w[2]&&102===w[3]&&0===w[4]&&(this.exifBuffer=w.subarray(5,w.length)),65518===_&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(m={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var E=a()+s-2;s<E;){var S=e[s++];u(256);var I=new Int32Array(64);if(S>>4==0)for(W=0;W<64;W++)I[t[W]]=e[s++];else{if(S>>4!=1)throw new Error("DQT: invalid table spec");for(W=0;W<64;W++)I[t[W]]=a()}g[15&S]=I}break;case 65472:case 65473:case 65474:a(),(l={}).extended=65473===_,l.progressive=65474===_,l.precision=e[s++],l.scanLines=a(),l.samplesPerLine=a(),l.components={},l.componentsOrder=[];var x=l.scanLines*l.samplesPerLine;if(x>o){var T=Math.ceil((x-o)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${T}MP`)}var k,C=e[s++];for(H=0;H<C;H++){var A=e[s+1]>>4,O=15&e[s+1],R=e[s+2];l.componentsOrder.push(k=e[s]),l.components[k]={h:A,v:O,quantizationIdx:R},s+=3}c(l),v.push(l);break;case 65476:var P=a();for(H=2;H<P;){var N=e[s++],M=new Uint8Array(16),D=0;for(W=0;W<16;W++,s++)D+=M[W]=e[s];u(16+D);var L=new Uint8Array(D);for(W=0;W<D;W++,s++)L[W]=e[s];H+=17+D,(N>>4==0?b:y)[15&N]=n(M,L)}break;case 65501:a(),h=a();break;case 65498:a();var j=e[s++],U=[];for(H=0;H<j;H++){K=l.components[e[s++]];var F=e[s++];K.huffmanTableDC=b[F>>4],K.huffmanTableAC=y[15&F],U.push(K)}var B=e[s++],z=e[s++],q=e[s++],V=r(e,s,l,U,h,B,z,q>>4,15&q,this.opts);s+=V;break;case 65535:255!==e[s]&&s--;break;default:if(255==e[s-3]&&e[s-2]>=192&&e[s-2]<=254){s-=3;break}throw new Error("unknown JPEG marker "+_.toString(16))}_=a()}if(1!=v.length)throw new Error("only single frame JPEGs supported");for(var H=0;H<v.length;H++){var G=v[H].components;for(var W in G)G[W].quantizationTable=g[G[W].quantizationIdx],delete G[W].quantizationIdx}for(this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=p,this.adobe=m,this.components=[],H=0;H<l.componentsOrder.length;H++){var K;this.components.push({lines:i(0,K=l.components[l.componentsOrder[H]]),scaleX:K.h/l.maxH,scaleY:K.v/l.maxV})}},getData:function(t,e){var n,r,i,s,a,c,l,h,f,d,p,m,g,v,y,b,_,w,E,S,I,x=this.width/t,T=this.height/e,k=0,C=t*e*this.components.length;u(C);var A=new Uint8Array(C);switch(this.components.length){case 1:for(n=this.components[0],d=0;d<e;d++)for(a=n.lines[0|d*n.scaleY*T],f=0;f<t;f++)A[k++]=p=a[0|f*n.scaleX*x];break;case 2:for(n=this.components[0],r=this.components[1],d=0;d<e;d++)for(a=n.lines[0|d*n.scaleY*T],c=r.lines[0|d*r.scaleY*T],f=0;f<t;f++)A[k++]=p=a[0|f*n.scaleX*x],A[k++]=p=c[0|f*r.scaleX*x];break;case 3:for(I=!0,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],i=this.components[2],d=0;d<e;d++)for(a=n.lines[0|d*n.scaleY*T],c=r.lines[0|d*r.scaleY*T],l=i.lines[0|d*i.scaleY*T],f=0;f<t;f++)I?(m=c[0|f*r.scaleX*x],w=o((p=a[0|f*n.scaleX*x])+1.402*((g=l[0|f*i.scaleX*x])-128)),E=o(p-.3441363*(m-128)-.71413636*(g-128)),S=o(p+1.772*(m-128))):(w=a[0|f*n.scaleX*x],E=c[0|f*r.scaleX*x],S=l[0|f*i.scaleX*x]),A[k++]=w,A[k++]=E,A[k++]=S;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(I=!1,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],i=this.components[2],s=this.components[3],d=0;d<e;d++)for(a=n.lines[0|d*n.scaleY*T],c=r.lines[0|d*r.scaleY*T],l=i.lines[0|d*i.scaleY*T],h=s.lines[0|d*s.scaleY*T],f=0;f<t;f++)I?(m=c[0|f*r.scaleX*x],v=h[0|f*s.scaleX*x],y=255-o((p=a[0|f*n.scaleX*x])+1.402*((g=l[0|f*i.scaleX*x])-128)),b=255-o(p-.3441363*(m-128)-.71413636*(g-128)),_=255-o(p+1.772*(m-128))):(y=a[0|f*n.scaleX*x],b=c[0|f*r.scaleX*x],_=l[0|f*i.scaleX*x],v=h[0|f*s.scaleX*x]),A[k++]=255-y,A[k++]=255-b,A[k++]=255-_,A[k++]=255-v;break;default:throw new Error("Unsupported color mode")}return A},copyToImageData:function(t,e){var n,r,i,s,a,u,c,l,h,f=t.width,d=t.height,p=t.data,m=this.getData(f,d),g=0,v=0;switch(this.components.length){case 1:for(r=0;r<d;r++)for(n=0;n<f;n++)i=m[g++],p[v++]=i,p[v++]=i,p[v++]=i,e&&(p[v++]=255);break;case 3:for(r=0;r<d;r++)for(n=0;n<f;n++)c=m[g++],l=m[g++],h=m[g++],p[v++]=c,p[v++]=l,p[v++]=h,e&&(p[v++]=255);break;case 4:for(r=0;r<d;r++)for(n=0;n<f;n++)a=m[g++],u=m[g++],i=m[g++],c=255-o(a*(1-(s=m[g++])/255)+s),l=255-o(u*(1-s/255)+s),h=255-o(i*(1-s/255)+s),p[v++]=c,p[v++]=l,p[v++]=h,e&&(p[v++]=255);break;default:throw new Error("Unsupported color mode")}}};var s=0,a=0;function u(t=0){var e=s+t;if(e>a){var n=Math.ceil((e-a)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${n}MB`)}s=e}return e.resetMaxMemoryUsage=function(t){s=0,a=t},e.getBytesAllocated=function(){return s},e.requestMemoryAllocation=u,e}();function i(e,r={}){var i={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...r},o=new Uint8Array(e),s=new n;s.opts=i,n.resetMaxMemoryUsage(1024*i.maxMemoryUsageInMB*1024),s.parse(o);var a=s.width*s.height*(i.formatAsRGBA?4:3);try{n.requestMemoryAllocation(a);var u={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:i.useTArray?new Uint8Array(a):new t(a)}}catch(c){throw c instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+a):c}return s.copyToImageData(u,i.formatAsRGBA),u}void 0!==e?e.exports=i:void 0!==r&&(r["jpeg-js"]=r["jpeg-js"]||{},r["jpeg-js"].decode=i)}).call(this,t("buffer").Buffer)},{buffer:48}],82:[function(t,e,n){(function(t){function n(n){Math;var r,i,o,s,a,u=Math.floor,c=new Array(64),l=new Array(64),h=new Array(64),f=new Array(64),d=new Array(65535),p=new Array(65535),m=new Array(64),g=new Array(64),v=[],y=0,b=7,_=new Array(64),w=new Array(64),E=new Array(64),S=new Array(256),I=new Array(2048),x=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(t,e){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var s=1;s<=t[o];s++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=o,r++,n++;n*=2}return i}function D(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(y|=1<<b),n--,--b<0&&(255==y?(L(255),L(0)):L(y),b=7,y=0)}function L(t){v.push(t)}function j(t){L(t>>8&255),L(255&t)}function U(t,e,n,r,i){for(var o,s=i[0],a=i[240],u=function(t,e){var n,r,i,o,s,a,u,c,l,h,f=0;for(l=0;l<8;++l){var d=(n=t[f])+(c=t[f+7]),p=n-c,g=(r=t[f+1])+(u=t[f+6]),v=r-u,y=(i=t[f+2])+(a=t[f+5]),b=i-a,_=(o=t[f+3])+(s=t[f+4]),w=o-s,E=d+_,S=d-_,I=g+y,x=g-y;t[f]=E+I,t[f+4]=E-I;var T=.707106781*(x+S);t[f+2]=S+T,t[f+6]=S-T;var k=.382683433*((E=w+b)-(x=v+p)),C=.5411961*E+k,A=1.306562965*x+k,O=.707106781*(I=b+v),R=p+O,P=p-O;t[f+5]=P+C,t[f+3]=P-C,t[f+1]=R+A,t[f+7]=R-A,f+=8}for(f=0,l=0;l<8;++l){var N=(n=t[f])+(c=t[f+56]),M=n-c,D=(r=t[f+8])+(u=t[f+48]),L=r-u,j=(i=t[f+16])+(a=t[f+40]),U=i-a,F=(o=t[f+24])+(s=t[f+32]),B=o-s,z=N+F,q=N-F,V=D+j,H=D-j;t[f]=z+V,t[f+32]=z-V;var G=.707106781*(H+q);t[f+16]=q+G,t[f+48]=q-G;var W=.382683433*((z=B+U)-(H=L+M)),K=.5411961*z+W,Y=1.306562965*H+W,$=.707106781*(V=U+L),Z=M+$,Q=M-$;t[f+40]=Q+K,t[f+24]=Q-K,t[f+8]=Z+Y,t[f+56]=Z-Y,f++}for(l=0;l<64;++l)m[l]=(h=t[l]*e[l])>0?h+.5|0:h-.5|0;return m}(t,e),c=0;c<64;++c)g[x[c]]=u[c];var l=g[0]-n;n=g[0],0==l?D(r[0]):(D(r[p[o=32767+l]]),D(d[o]));for(var h=63;h>0&&0==g[h];h--);if(0==h)return D(s),n;for(var f,v=1;v<=h;){for(var y=v;0==g[v]&&v<=h;++v);var b=v-y;if(b>=16){f=b>>4;for(var _=1;_<=f;++_)D(a);b&=15}D(i[(b<<4)+p[o=32767+g[v]]]),D(d[o]),v++}return 63!=h&&D(s),n}function F(t){t<=0&&(t=1),t>100&&(t=100),a!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=u((e[n]*t+50)/100);r<1?r=1:r>255&&(r=255),c[x[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var s=u((i[o]*t+50)/100);s<1?s=1:s>255&&(s=255),l[x[o]]=s}for(var a=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)h[d]=1/(c[x[d]]*a[p]*a[m]*8),f[d]=1/(l[x[d]]*a[p]*a[m]*8),d++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),a=t)}this.encode=function(n,a){(new Date).getTime(),a&&F(a),v=new Array,y=0,b=7,j(65496),j(65504),j(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),j(1),j(1),L(0),L(0),function(t){if(t){j(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?j(t.length+2):(j(t.length+5+2),L(69),L(120),L(105),L(102),L(0));for(var e=0;e<t.length;e++)L(t[e])}}(n.exifBuffer),function(){j(65499),j(132),L(0);for(var t=0;t<64;t++)L(c[t]);L(1);for(var e=0;e<64;e++)L(l[e])}(),function(t,e){j(65472),j(17),L(8),j(e),j(t),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(n.width,n.height),function(){j(65476),j(418),L(0);for(var t=0;t<16;t++)L(T[t+1]);for(var e=0;e<=11;e++)L(k[e]);L(16);for(var n=0;n<16;n++)L(C[n+1]);for(var r=0;r<=161;r++)L(A[r]);L(1);for(var i=0;i<16;i++)L(O[i+1]);for(var o=0;o<=11;o++)L(R[o]);L(17);for(var s=0;s<16;s++)L(P[s+1]);for(var a=0;a<=161;a++)L(N[a])}(),j(65498),j(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var u=0,d=0,p=0;y=0,b=7,this.encode.displayName="_encode_";for(var m,g,S,x,M,B,z,q,V,H=n.data,G=n.height,W=4*n.width,K=0;K<G;){for(m=0;m<W;){for(B=M=W*K+m,z=-1,q=0,V=0;V<64;V++)B=M+(q=V>>3)*W+(z=4*(7&V)),K+q>=G&&(B-=W*(K+1+q-G)),m+z>=W&&(B-=m+z-W+4),g=H[B++],S=H[B++],x=H[B++],_[V]=(I[g]+I[S+256>>0]+I[x+512>>0]>>16)-128,w[V]=(I[g+768>>0]+I[S+1024>>0]+I[x+1280>>0]>>16)-128,E[V]=(I[g+1280>>0]+I[S+1536>>0]+I[x+1792>>0]>>16)-128;u=U(_,h,u,r,o),d=U(w,f,d,i,s),p=U(E,f,p,i,s),m+=32}K+=8}if(b>=0){var Y=[];Y[1]=b+1,Y[0]=(1<<b+1)-1,D(Y)}return j(65497),void 0===e?new Uint8Array(v):new t(v)},(new Date).getTime(),n||(n=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)S[e]=t(e)}(),r=M(T,k),i=M(O,R),o=M(C,A),s=M(P,N),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)p[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)p[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)I[t]=19595*t,I[t+256>>0]=38470*t,I[t+512>>0]=7471*t+32768,I[t+768>>0]=-11059*t,I[t+1024>>0]=-21709*t,I[t+1280>>0]=32768*t+8421375,I[t+1536>>0]=-27439*t,I[t+1792>>0]=-5329*t}(),F(n),(new Date).getTime()}function i(t,e){return void 0===e&&(e=50),{data:new n(e).encode(t,e),width:t.width,height:t.height}}void 0!==e?e.exports=i:void 0!==r&&(r["jpeg-js"]=r["jpeg-js"]||{},r["jpeg-js"].encode=i)}).call(this,t("buffer").Buffer)},{buffer:48}],83:[function(t,e,n){(function(n){var r=t("path"),i=t("fs"),o=parseInt("0777",8);function s(t,e,a,u){"function"==typeof e?(a=e,e={}):e&&"object"==typeof e||(e={mode:e});var c=e.mode,l=e.fs||i;void 0===c&&(c=o&~n.umask()),u||(u=null);var h=a||function(){};t=r.resolve(t),l.mkdir(t,c,(function(n){if(!n)return h(null,u=u||t);switch(n.code){case"ENOENT":s(r.dirname(t),e,(function(n,r){n?h(n,r):s(t,e,h,r)}));break;default:l.stat(t,(function(t,e){t||!e.isDirectory()?h(n,u):h(null,u)}))}}))}e.exports=s.mkdirp=s.mkdirP=s,s.sync=function t(e,s,a){s&&"object"==typeof s||(s={mode:s});var u=s.mode,c=s.fs||i;void 0===u&&(u=o&~n.umask()),a||(a=null),e=r.resolve(e);try{c.mkdirSync(e,u),a=a||e}catch(h){switch(h.code){case"ENOENT":a=t(r.dirname(e),s,a),t(e,s,a);break;default:var l;try{l=c.statSync(e)}catch(f){throw h}if(!l.isDirectory())throw h}}return a}}).call(this,t("_process"))},{_process:133,fs:47,path:107}],84:[function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,u=s(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},{}],85:[function(t,e,n){arguments[4][64][0].apply(n,arguments)},{dup:64}],86:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/messages"),a=t("./zlib/zstream"),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(s[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(s[n]);this._dict_set=!0}}function l(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(t,e){var n,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,a.input="string"==typeof t?o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?new Uint8Array(t):t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=r.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||this.onData("string"===this.options.to?o.buf2binstring(i.shrinkBuf(a.output,a.next_out)):i.shrinkBuf(a.output,a.next_out))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=c,n.deflate=l,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/constants"),a=t("./zlib/messages"),u=t("./zlib/zstream"),c=t("./zlib/gzheader"),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,u,c,h,f,d=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,d.input="string"==typeof t?o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?new Uint8Array(t):t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(n=r.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&m&&(f="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===l.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(d.output,d.next_out),c=d.next_out-u,h=o.buf2string(d.output,u),d.next_out=c,d.avail_out=p-c,c&&i.arraySet(d.output,d.output,u,c,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=h,n.inflate=f,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},n.ungzip=f},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(t,e,n){arguments[4][36][0].apply(n,arguments)},{dup:36}],90:[function(t,e,n){"use strict";var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,n.string2buf=function(t){var e,n,i,o,s,a=t.length,u=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),s=0,o=0;s<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},n.buf2binstring=function(t){return u(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,o,a=e||t.length,c=new Array(2*a);for(r=0,n=0;n<a;)if((i=t[n++])<128)c[r++]=i;else if((o=s[i])>4)c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&t[n++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(c[r++]=55296|(i-=65536)>>10&1023,c[r++]=56320|1023&i)}return u(c,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}},{"./common":89}],91:[function(t,e,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],92:[function(t,e,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],93:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],94:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),s=t("./adler32"),a=t("./crc32"),u=t("./messages");function c(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function g(t,e){var n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,h=t.prev,f=t.strstart+258,d=c[o+s-1],p=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(c[(n=e)+s]===p&&c[n+s-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=258-(f-o),o=f-258,r>s){if(t.match_start=e,s=r,r>=a)break;d=c[o+s-1],p=c[o+s]}}}while((e=h[e&l])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead}function v(t){var e,n,r,o,u,c,l,h,f,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(l=t.window,h=t.strstart+t.lookahead,d=void 0,(d=(c=t.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(c.avail_in-=d,i.arraySet(l,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=s(c.adler,l,d,h):2===c.state.wrap&&(c.adler=a(c.adler,l,d,h)),c.next_in+=d,c.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[u=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function y(t,e){for(var n,r;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=g(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var n,r,i;;){if(t.lookahead<262){if(v(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=g(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function _(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):c(t,-2)}function S(t){var e,n=E(t);return 0===n&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function I(t,e,n,r,o,s){if(!t)return-2;var a=1;if(-1===e&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||s<0||s>4)return c(t,-2);8===r&&(r=9);var u=new w;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,S(t)}r=[new _(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(v(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&d(t,!1),1)})),new _(4,4,8,4,y),new _(4,5,16,8,y),new _(4,6,32,32,y),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],n.deflateInit=function(t,e){return I(t,e,8,15,8,0)},n.deflateInit2=I,n.deflateReset=S,n.deflateResetKeep=E,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},n.deflate=function(t,e){var n,i,s,u;if(!t||!t.state||e>5||e<0)return t?c(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return c(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=a(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=113,m(i,g),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),f(t),s=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return c(t,-5);if(666===i.status&&0!==t.avail_in)return c(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var y=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(v(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,s,a=t.window;;){if(t.lookahead<=258){if(v(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=a[i=t.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=t.strstart+258;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);t.match_length=258-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==y&&4!==y||(i.status=666),1===y||3===y)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?c(t,-2):(t.state=null,113===e?c(t,-3):0):-2},n.deflateSetDictionary=function(t,e){var n,r,o,a,u,c,l,f,d=e.length;if(!t||!t.state)return-2;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(t.adler=s(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,v(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],96:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],97:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{"../utils/common":89,dup:43}],99:[function(t,e,n){arguments[4][44][0].apply(n,arguments)},{dup:44}],100:[function(t,e,n){"use strict";var r=t("../utils/common");function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var l=new Array(60);i(l);var h=new Array(512);i(h);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,m,g,v=new Array(30);function y(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function E(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function S(t,e,n){E(t,n[2*e],n[2*e+1])}function I(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function x(t,e,n){var r,i,o=new Array(16),s=0;for(r=1;r<=15;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=I(o[a]++,a))}}function T(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function k(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function C(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function A(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&C(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!C(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function O(t,e,n){var r,i,a,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?S(t,i,e):(S(t,(a=f[i])+256+1,e),0!==(u=o[a])&&E(t,i-=d[a],u),S(t,a=_(--r),n),0!==(u=s[a])&&E(t,r-=v[a],u))}while(c<t.last_lit);S(t,256,e)}function R(t,e){var n,r,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)A(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,A(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,s,a,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*r+1]=o,r>c||(t.bl_count[o]++,s=0,r>=d&&(s=f[r-d]),t.opt_len+=(a=u[2*r])*(o+s),h&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),x(o,c,t.bl_count)}function P(t,e,n){var r,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<u&&i===s||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4))}function N(t,e,n){var r,i,o=-1,s=e[1],a=0,u=7,c=4;for(0===s&&(u=138,c=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<u&&i===s)){if(a<c)do{S(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(S(t,i,t.bl_tree),a--),S(t,16,t.bl_tree),E(t,a-3,2)):a<=10?(S(t,17,t.bl_tree),E(t,a-3,3)):(S(t,18,t.bl_tree),E(t,a-11,7));a=0,o=i,0===s?(u=138,c=3):i===s?(u=6,c=3):(u=7,c=4)}}i(v);var M=!1;function D(t,e,n,i){E(t,0+(i?1:0),3),function(t,e,n,i){k(t),w(t,n),w(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){M||(function(){var t,e,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<o[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(v[r]=i,t=0;t<1<<s[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,t=0;t<1<<s[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(x(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=I(t,5);p=new y(c,o,257,286,15),m=new y(l,s,0,30,15),g=new y(new Array(0),a,0,19,7)}(),M=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,m),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,T(t)},n._tr_stored_block=D,n._tr_flush_block=function(t,e,n,r){var i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),R(t,t.l_desc),R(t,t.d_desc),s=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(o=t.static_len+3+7>>>3)<=(i=t.opt_len+3+7>>>3)&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?D(t,e,n,r):4===t.strategy||o===i?(E(t,2+(r?1:0),3),O(t,c,l)):(E(t,4+(r?1:0),3),function(t,e,n,r){var i;for(E(t,e-257,5),E(t,n-1,5),E(t,r-4,4),i=0;i<r;i++)E(t,t.bl_tree[2*u[i]+1],3);N(t,t.dyn_ltree,e-1),N(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),O(t,t.dyn_ltree,t.dyn_dtree)),T(t),r&&k(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){E(t,2,3),S(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":89}],101:[function(t,e,n){arguments[4][46][0].apply(n,arguments)},{dup:46}],102:[function(t,e,n){function r(t,e){if(!(t=t.replace(/\t+/g," ").trim()))return null;var n=t.indexOf(" ");if(-1===n)throw new Error("no named row at line "+e);var r=t.substring(0,n);t=(t=(t=(t=t.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var o=[],s=0;s<t.length;s++){var a=t[s];0===s?o.push({key:a[0],data:""}):s===t.length-1?o[o.length-1].data=i(a[0]):(o[o.length-1].data=i(a[0]),o.push({key:a[1],data:""}))}var u={key:r,data:{}};return o.forEach((function(t){u.data[t.key]=t.data})),u}function i(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?function(t){return t.split(",").map((function(t){return parseInt(t,10)}))}(t):parseInt(t,10):""}e.exports=function(t){if(!t)throw new Error("no data provided");var e={pages:[],chars:[],kernings:[]},n=(t=t.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var o=r(n[i],i);if(o)if("page"===o.key){if("number"!=typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');e.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?e.chars.push(o.data):"kerning"===o.key?e.kernings.push(o.data):e[o.key]=o.data)}return e}},{}],103:[function(t,e,n){var r=[66,77,70];function i(t,e,n){if(n>e.length-1)return 0;var r=e.readUInt8(n++),i=e.readInt32LE(n);switch(n+=4,r){case 1:t.info=function(t,e){var n={};n.size=t.readInt16LE(e);var r=t.readUInt8(e+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=t.readUInt8(e+3)||"",n.stretchH=t.readUInt16LE(e+4),n.aa=t.readUInt8(e+6),n.padding=[t.readInt8(e+7),t.readInt8(e+8),t.readInt8(e+9),t.readInt8(e+10)],n.spacing=[t.readInt8(e+11),t.readInt8(e+12)],n.outline=t.readUInt8(e+13),n.face=function(t,e){return o(t,e).toString("utf8")}(t,e+14),n}(e,n);break;case 2:t.common=function(t,e){var n={};return n.lineHeight=t.readUInt16LE(e),n.base=t.readUInt16LE(e+2),n.scaleW=t.readUInt16LE(e+4),n.scaleH=t.readUInt16LE(e+6),n.pages=t.readUInt16LE(e+8),t.readUInt8(e+10),n.packed=0,n.alphaChnl=t.readUInt8(e+11),n.redChnl=t.readUInt8(e+12),n.greenChnl=t.readUInt8(e+13),n.blueChnl=t.readUInt8(e+14),n}(e,n);break;case 3:t.pages=function(t,e,n){for(var r=[],i=o(t,e),s=i.length+1,a=n/s,u=0;u<a;u++)r[u]=t.slice(e,e+i.length).toString("utf8"),e+=s;return r}(e,n,i);break;case 4:t.chars=function(t,e,n){for(var r=[],i=n/20,o=0;o<i;o++){var s={},a=20*o;s.id=t.readUInt32LE(e+0+a),s.x=t.readUInt16LE(e+4+a),s.y=t.readUInt16LE(e+6+a),s.width=t.readUInt16LE(e+8+a),s.height=t.readUInt16LE(e+10+a),s.xoffset=t.readInt16LE(e+12+a),s.yoffset=t.readInt16LE(e+14+a),s.xadvance=t.readInt16LE(e+16+a),s.page=t.readUInt8(e+18+a),s.chnl=t.readUInt8(e+19+a),r[o]=s}return r}(e,n,i);break;case 5:t.kernings=function(t,e,n){for(var r=[],i=n/10,o=0;o<i;o++){var s={},a=10*o;s.first=t.readUInt32LE(e+0+a),s.second=t.readUInt32LE(e+4+a),s.amount=t.readInt16LE(e+8+a),r[o]=s}return r}(e,n,i)}return 5+i}function o(t,e){for(var n=e;n<t.length&&0!==t[n];n++);return t.slice(e,n)}e.exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");if(!r.every((function(e,n){return t.readUInt8(n)===e})))throw new Error("BMFont missing BMF byte header");var e=3;if(t.readUInt8(e++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var n={kernings:[],chars:[]},o=0;o<5;o++)e+=i(n,t,e);return n}},{}],104:[function(t,e,n){var r=t("./parse-attribs"),i=t("xml-parse-from-string"),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function s(t){return function(t){for(var e=[],n=0;n<t.attributes.length;n++)e.push(t.attributes[n]);return e}(t).reduce((function(t,e){var n;return t[o[(n=e.nodeName).toLowerCase()]||n]=e.nodeValue,t}),{})}e.exports=function(t){t=t.toString();var e=i(t),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(t){var i=e.getElementsByTagName(t)[0];i&&(n[t]=r(s(i)))}));var o=e.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var a=o.getElementsByTagName("page"),u=0;u<a.length;u++){var c=a[u],l=parseInt(c.getAttribute("id"),10),h=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(l,10)]=h}return["chars","kernings"].forEach((function(t){var i=e.getElementsByTagName(t)[0];if(i)for(var o=t.substring(0,t.length-1),a=i.getElementsByTagName(o),u=0;u<a.length;u++)n[t].push(r(s(a[u])))})),n}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(t,e,n){e.exports=function(t){for(var e in"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset),t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?t[e].split(",").map((function(t){return parseInt(t,10)})):parseInt(t[e],10));return t}},{}],106:[function(t,e,n){var r=t("trim"),i=t("for-each");e.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),(function(t){var n=t.indexOf(":"),i=r(t.slice(0,n)).toLowerCase(),o=r(t.slice(n+1));void 0===e[i]?e[i]=o:"[object Array]"===Object.prototype.toString.call(e[i])?e[i].push(o):e[i]=[e[i],o]})),e}},{"for-each":63,trim:179}],107:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,i="/"===s.charAt(0))}return(i?"/":"")+(n=e(r(n.split("/"),(function(t){return!!t})),!i).join("/"))||"."},n.normalize=function(t){var o=n.isAbsolute(t),s="/"===i(t,-1);return(t=e(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},n.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=s+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:133}],108:[function(t,e,n){(function(n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("http"),o=t("https"),s=t("url"),a=t("querystring"),u=t("zlib"),c=t("util"),l=function(t,e){if("string"!=typeof t&&!t.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var c="object"===(void 0===t?"undefined":r(t))?s.parse(t.url):s.parse(t),l={hostname:c.hostname,port:c.port||("http:"===c.protocol.toLowerCase()?80:443),path:c.path,method:"GET",headers:{},auth:c.auth||null,parse:"none",stream:!1};if("object"===(void 0===t?"undefined":r(t))&&(l=Object.assign(l,t)),l.port=Number(l.port),l.hasOwnProperty("timeout")&&delete l.timeout,!0===l.compressed&&(l.headers["accept-encoding"]="gzip, deflate"),t.hasOwnProperty("form")){if("object"!==r(t.form))throw new Error("phin 'form' option must be of type Object if present.");var h=a.stringify(t.form);l.headers["Content-Type"]="application/x-www-form-urlencoded",l.headers["Content-Length"]=n.byteLength(h),t.data=h}var f=void 0,d=function(t){var r=t;!0===l.compressed&&("gzip"===t.headers["content-encoding"]?r=t.pipe(u.createGunzip()):"deflate"===t.headers["content-encoding"]&&(r=t.pipe(u.createInflate()))),!0===l.stream?(t.stream=r,e(null,t)):(t.body=new n([]),r.on("data",(function(e){t.body=n.concat([t.body,e])})),r.on("end",(function(){if(e){if("json"===l.parse)try{t.body=JSON.parse(t.body.toString())}catch(n){return void e("Invalid JSON received.",t)}e(null,t)}})))};switch(c.protocol.toLowerCase()){case"http:":f=i.request(l,d);break;case"https:":f=o.request(l,d);break;default:return void(e&&e(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null))}if("number"==typeof t.timeout&&f.setTimeout(t.timeout,(function(){f.abort(),e(new Error("Timeout has been reached."),null),e=null})),f.on("error",(function(t){e&&e(t,null)})),t.hasOwnProperty("data")){var p=t.data;if(!(t.data instanceof n)&&"object"===r(t.data))if("application/x-www-form-urlencoded"===(l.headers["content-type"]||l.headers["Content-Type"]))p=a.stringify(t.data);else try{p=JSON.stringify(t.data)}catch(m){e(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}f.write(p)}f.end()};l.promisified=function(t,e){return new Promise((function(e,n){l(t,(function(t,r){t?n(t):e(r)}))}))},c.promisify&&(l[c.promisify.custom]=l.promisified),e.exports=l}).call(this,t("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(t,e,n){"use strict";function r(t,e,n,o,s,a){for(var u,c,l,h,f=Math.max(e-1,0),d=Math.max(n-1,0),p=Math.min(e+1,o-1),m=Math.min(n+1,s-1),g=4*(n*o+e),v=0,y=0,b=0,_=0,w=0,E=f;E<=p;E++)for(var S=d;S<=m;S++)if(E!==e||S!==n){var I=i(t,t,g,4*(S*o+E),!0);if(0===I?v++:I<0?b++:I>0&&y++,v>2)return!1;a&&(I<_&&(_=I,u=E,c=S),I>w&&(w=I,l=E,h=S))}return!a||0!==b&&0!==y&&(!r(t,u,c,o,s)&&!r(a,u,c,o,s)||!r(t,l,h,o,s)&&!r(a,l,h,o,s))}function i(t,e,n,r,i){var c=t[n+3]/255,l=e[r+3]/255,h=u(t[n+0],c),f=u(t[n+1],c),d=u(t[n+2],c),p=u(e[r+0],l),m=u(e[r+1],l),g=u(e[r+2],l),v=o(h,f,d)-o(p,m,g);if(i)return v;var y=s(h,f,d)-s(p,m,g),b=a(h,f,d)-a(p,m,g);return.5053*v*v+.299*y*y+.1957*b*b}function o(t,e,n){return.29889531*t+.58662247*e+.11448223*n}function s(t,e,n){return.59597799*t-.2741761*e-.32180189*n}function a(t,e,n){return.21147017*t-.52261711*e+.31114694*n}function u(t,e){return 255+(t-255)*e}function c(t,e,n,r,i){t[e+0]=n,t[e+1]=r,t[e+2]=i,t[e+3]=255}e.exports=function(t,e,n,s,a,l){l||(l={});for(var h=void 0===l.threshold?.1:l.threshold,f=35215*h*h,d=0,p=0;p<a;p++)for(var m=0;m<s;m++){var g=4*(p*s+m);if(i(t,e,g,g)>f)l.includeAA||!r(t,m,p,s,a,e)&&!r(e,m,p,s,a,t)?(n&&c(n,g,255,0,0),d++):n&&c(n,g,255,255,0);else if(n){var v=u(o(u((y=t)[(b=g)+0],_=y[b+3]/255),u(y[b+1],_),u(y[b+2],_)),.1);c(n,g,v,v,v)}}var y,b,_;return d}},{}],110:[function(t,e,n){(function(e){"use strict";var r=t("./interlace"),i={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function o(t,e,n,r,o,s){for(var a=t.width,u=t.height,c=t.index,l=0;l<u;l++)for(var h=0;h<a;h++){for(var f=n(h,l,c),d=0;d<4;d++){var p=i[r][d];if(255===p)e[f+d]=255;else{var m=p+s;if(m===o.length)throw new Error("Ran out of data");e[f+d]=o[m]}}s+=r}return s}function s(t,e,n,r,o,s){for(var a=t.width,u=t.height,c=t.index,l=0;l<u;l++){for(var h=0;h<a;h++)for(var f=o.get(r),d=n(h,l,c),p=0;p<4;p++){var m=i[r][p];e[d+p]=255!==m?f[m]:s}o.resetAfterLine()}}n.dataToBitMap=function(t,n){var i,a=n.width,u=n.height,c=n.depth,l=n.bpp,h=n.interlace;if(8!==c)var f=function(t,e){var n=[],r=0;function i(){if(r===t.length)throw new Error("Ran out of data");var i,o=t[r];switch(r++,e){default:throw new Error("unrecognised depth");case 16:i=t[r],r++,n.push((o<<8)+i);break;case 4:n.push(o>>4,i=15&o);break;case 2:n.push(o>>6&3,i=o>>4&3,o>>2&3,3&o);break;case 1:n.push(o>>7&1,i=o>>6&1,o>>5&1,o>>4&1,o>>3&1,o>>2&1,o>>1&1,1&o)}}return{get:function(t){for(;n.length<t;)i();var e=n.slice(0,t);return n=n.slice(t),e},resetAfterLine:function(){n.length=0},end:function(){if(r!==t.length)throw new Error("extra data found")}}}(t,c);i=c<=8?new e(a*u*4):new Uint16Array(a*u*4);var d,p,m=Math.pow(2,c)-1,g=0;if(h)d=r.getImagePasses(a,u),p=r.getInterlaceIterator(a,u);else{var v=0;p=function(){var t=v;return v+=4,t},d=[{width:a,height:u}]}for(var y=0;y<d.length;y++)8===c?g=o(d[y],i,p,l,t,g):s(d[y],i,p,l,f,m);if(8===c){if(g!==t.length)throw new Error("extra data found")}else f.end();return i}}).call(this,t("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(t,e,n){(function(n){"use strict";var r=t("./constants");e.exports=function(t,e,i,o){var s,a=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType);if(o.colorType===o.inputColorType){var u=(s=new ArrayBuffer(2),new DataView(s).setInt16(0,256,!0),256!==new Int16Array(s)[0]);if(8===o.bitDepth||16===o.bitDepth&&u)return t}var c=16!==o.bitDepth?t:new Uint16Array(t.buffer),l=255,h=r.COLORTYPE_TO_BPP_MAP[o.inputColorType];4!=h||o.inputHasAlpha||(h=3);var f=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(l=65535,f*=2);var d=new n(e*i*f),p=0,m=0,g=o.bgColor||{};function v(t,e){var n,i,s,u=l;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:u=t[e+3],n=t[e],i=t[e+1],s=t[e+2];break;case r.COLORTYPE_COLOR:n=t[e],i=t[e+1],s=t[e+2];break;case r.COLORTYPE_ALPHA:u=t[e+1],i=n=t[e],s=n;break;case r.COLORTYPE_GRAYSCALE:i=n=t[e],s=n;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(a||(u/=l,n=Math.min(Math.max(Math.round((1-u)*g.red+u*n),0),l),i=Math.min(Math.max(Math.round((1-u)*g.green+u*i),0),l),s=Math.min(Math.max(Math.round((1-u)*g.blue+u*s),0),l))),{red:n,green:i,blue:s,alpha:u}}void 0===g.red&&(g.red=l),void 0===g.green&&(g.green=l),void 0===g.blue&&(g.blue=l);for(var y=0;y<i;y++)for(var b=0;b<e;b++){var _=v(c,p);switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(d[m]=_.red,d[m+1]=_.green,d[m+2]=_.blue,a&&(d[m+3]=_.alpha)):(d.writeUInt16BE(_.red,m),d.writeUInt16BE(_.green,m+2),d.writeUInt16BE(_.blue,m+4),a&&d.writeUInt16BE(_.alpha,m+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:var w=(_.red+_.green+_.blue)/3;8===o.bitDepth?(d[m]=w,a&&(d[m+1]=_.alpha)):(d.writeUInt16BE(w,m),a&&d.writeUInt16BE(_.alpha,m+2))}p+=h,m+=f}return d}}).call(this,t("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(t,e,n){(function(n,r){"use strict";var i=t("util"),o=t("stream"),s=e.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(s,o),s.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),n.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},s.prototype.write=function(t,e){return this.writable?(n=r.isBuffer(t)?t:new r(t,e||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var n},s.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},s.prototype.destroySoon=s.prototype.end,s.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},s.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},s.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},s.prototype._processRead=function(t){this._reads.shift();for(var e=0,n=0,i=new r(t.length);e<t.length;){var o=this._buffers[n++],s=Math.min(o.length,t.length-e);o.copy(i,e,0,s),e+=s,s!==o.length&&(this._buffers[--n]=o.slice(s))}n>0&&this._buffers.splice(0,n),this._buffered-=t.length,t.func.call(this,i)},s.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&this._buffers.length>0&&null===this._buffers[0]&&this._end()}catch(e){this.emit("error",e)}}}).call(this,t("_process"),t("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(t,e,n){"use strict";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(t,e,n){"use strict";var r=[];!function(){for(var t=0;t<256;t++){for(var e=t,n=0;n<8;n++)1&e?e=3988292384^e>>>1:e>>>=1;r[t]=e}}();var i=e.exports=function(){this._crc=-1};i.prototype.write=function(t){for(var e=0;e<t.length;e++)this._crc=r[255&(this._crc^t[e])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return-1^this._crc},i.crc32=function(t){for(var e=-1,n=0;n<t.length;n++)e=r[255&(e^t[n])]^e>>>8;return-1^e}},{}],115:[function(t,e,n){(function(n){"use strict";var r=t("./paeth-predictor"),i={0:function(t,e,n,r,i){for(var o=0;o<n;o++)r[i+o]=t[e+o]},1:function(t,e,n,r,i,o){for(var s=0;s<n;s++)r[i+s]=t[e+s]-(s>=o?t[e+s-o]:0)},2:function(t,e,n,r,i){for(var o=0;o<n;o++)r[i+o]=t[e+o]-(e>0?t[e+o-n]:0)},3:function(t,e,n,r,i,o){for(var s=0;s<n;s++)r[i+s]=t[e+s]-((s>=o?t[e+s-o]:0)+(e>0?t[e+s-n]:0)>>1)},4:function(t,e,n,i,o,s){for(var a=0;a<n;a++){var u=t[e+a]-r(a>=s?t[e+a-s]:0,e>0?t[e+a-n]:0,e>0&&a>=s?t[e+a-(n+s)]:0);i[o+a]=u}}},o={0:function(t,e,n){for(var r=0,i=e+n,o=e;o<i;o++)r+=Math.abs(t[o]);return r},1:function(t,e,n,r){for(var i=0,o=0;o<n;o++)i+=Math.abs(t[e+o]-(o>=r?t[e+o-r]:0));return i},2:function(t,e,n){for(var r=0,i=e+n,o=e;o<i;o++)r+=Math.abs(t[o]-(e>0?t[o-n]:0));return r},3:function(t,e,n,r){for(var i=0,o=0;o<n;o++)i+=Math.abs(t[e+o]-((o>=r?t[e+o-r]:0)+(e>0?t[e+o-n]:0)>>1));return i},4:function(t,e,n,i){for(var o=0,s=0;s<n;s++){var a=t[e+s]-r(s>=i?t[e+s-i]:0,e>0?t[e+s-n]:0,e>0&&s>=i?t[e+s-(n+i)]:0);o+=Math.abs(a)}return o}};e.exports=function(t,e,r,s,a){var u;if("filterType"in s&&-1!==s.filterType){if("number"!=typeof s.filterType)throw new Error("unrecognised filter types");u=[s.filterType]}else u=[0,1,2,3,4];16===s.bitDepth&&(a*=2);for(var c=e*a,l=0,h=0,f=new n((c+1)*r),d=u[0],p=0;p<r;p++){if(u.length>1)for(var m=1/0,g=0;g<u.length;g++){var v=o[u[g]](t,h,c,a);v<m&&(d=u[g],m=v)}f[l]=d,l++,i[d](t,h,c,f,l,a),l+=c,h+=c}return f}}).call(this,t("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(t,e,n){(function(n){"use strict";var r=t("util"),i=t("./chunkstream"),o=t("./filter-parse"),s=e.exports=function(t){i.call(this);var e=[],r=this;this._filter=new o(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){r.emit("complete",n.concat(e))}}),this._filter.start()};r.inherits(s,i)}).call(this,t("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(t,e,n){(function(e){"use strict";var r=t("./sync-reader"),i=t("./filter-parse");n.process=function(t,n){var o=[],s=new r(t);return new i(n,{read:s.read.bind(s),write:function(t){o.push(t)},complete:function(){}}).start(),s.process(),e.concat(o)}}).call(this,t("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(t,e,n){(function(n){"use strict";var r=t("./interlace"),i=t("./paeth-predictor");function o(t,e,n){var r=t*e;return 8!==n&&(r=Math.ceil(r/(8/n))),r}var s=e.exports=function(t,e){var n=t.width,i=t.height,s=t.interlace,a=t.bpp,u=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],s)for(var c=r.getImagePasses(n,i),l=0;l<c.length;l++)this._images.push({byteWidth:o(c[l].width,a,u),height:c[l].height,lineIndex:0});else this._images.push({byteWidth:o(n,a,u),height:i,lineIndex:0});this._xComparison=8===u?a:16===u?2*a:1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(t,e,n){for(var r=this._xComparison,i=r-1,o=0;o<n;o++)e[o]=t[1+o]+(o>i?e[o-r]:0)},s.prototype._unFilterType2=function(t,e,n){for(var r=this._lastLine,i=0;i<n;i++)e[i]=t[1+i]+(r?r[i]:0)},s.prototype._unFilterType3=function(t,e,n){for(var r=this._xComparison,i=r-1,o=this._lastLine,s=0;s<n;s++){var a=t[1+s],u=Math.floor(((s>i?e[s-r]:0)+(o?o[s]:0))/2);e[s]=a+u}},s.prototype._unFilterType4=function(t,e,n){for(var r=this._xComparison,o=r-1,s=this._lastLine,a=0;a<n;a++){var u=t[1+a],c=i(a>o?e[a-r]:0,s?s[a]:0,a>o&&s?s[a-r]:0);e[a]=u+c}},s.prototype._reverseFilterLine=function(t){var e,r=t[0],i=this._images[this._imageIndex],o=i.byteWidth;if(0===r)e=t.slice(1,o+1);else switch(e=new n(o),r){case 1:this._unFilterType1(t,e,o);break;case 2:this._unFilterType2(t,e,o);break;case 3:this._unFilterType3(t,e,o);break;case 4:this._unFilterType4(t,e,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(e),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=e,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,t("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(t,e,n){(function(t){"use strict";e.exports=function(e,n){var r=n.depth,i=n.width,o=n.height,s=n.transColor,a=e;return 3===n.colorType?function(t,e,n,r,i){for(var o=0,s=0;s<r;s++)for(var a=0;a<n;a++){var u=i[t[o]];if(!u)throw new Error("index "+t[o]+" not in palette");for(var c=0;c<4;c++)e[o+c]=u[c];o+=4}}(e,a,i,o,n.palette):(s&&function(t,e,n,r,i){for(var o=0,s=0;s<r;s++)for(var a=0;a<n;a++){var u=!1;if(1===i.length?i[0]===t[o]&&(u=!0):i[0]===t[o]&&i[1]===t[o+1]&&i[2]===t[o+2]&&(u=!0),u)for(var c=0;c<4;c++)e[o+c]=0;o+=4}}(e,a,i,o,s),8!==r&&(16===r&&(a=new t(i*o*4)),function(t,e,n,r,i){for(var o=Math.pow(2,i)-1,s=0,a=0;a<r;a++)for(var u=0;u<n;u++){for(var c=0;c<4;c++)e[s+c]=Math.floor(255*t[s+c]/o+.5);s+=4}}(e,a,i,o,r))),a}}).call(this,t("buffer").Buffer)},{buffer:48}],120:[function(t,e,n){"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(t,e){for(var n=[],i=t%8,o=e%8,s=(t-i)/8,a=(e-o)/8,u=0;u<r.length;u++){for(var c=r[u],l=s*c.x.length,h=a*c.y.length,f=0;f<c.x.length&&c.x[f]<i;f++)l++;for(f=0;f<c.y.length&&c.y[f]<o;f++)h++;l>0&&h>0&&n.push({width:l,height:h,index:u})}return n},n.getInterlaceIterator=function(t){return function(e,n,i){var o=e%r[i].x.length,s=n%r[i].y.length;return 4*((e-o)/r[i].x.length*8+r[i].x[o])+((n-s)/r[i].y.length*8+r[i].y[s])*t*4}}},{}],121:[function(t,e,n){(function(n){"use strict";var r=t("util"),i=t("stream"),o=t("./constants"),s=t("./packer"),a=e.exports=function(t){i.call(this),this._packer=new s(t||{}),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(a,i),a.prototype.pack=function(t,e,r,i){this.emit("data",new n(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),i&&this.emit("data",this._packer.packGAMA(i));var s=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(t){this.emit("data",this._packer.packIDAT(t))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(s)}}).call(this,t("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(t,e,n){(function(n){"use strict";var r=!0,i=t("zlib");i.deflateSync||(r=!1);var o=t("./constants"),s=t("./packer");e.exports=function(t,e){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var a=new s(e||{}),u=[];u.push(new n(o.PNG_SIGNATURE)),u.push(a.packIHDR(t.width,t.height)),t.gamma&&u.push(a.packGAMA(t.gamma));var c=a.filterData(t.data,t.width,t.height),l=i.deflateSync(c,a.getDeflateOptions());if(c=null,!l||!l.length)throw new Error("bad png - invalid compressed data response");return u.push(a.packIDAT(l)),u.push(a.packIEND()),n.concat(u)}}).call(this,t("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(t,e,n){(function(n){"use strict";var r=t("./constants"),i=t("./crc"),o=t("./bitpacker"),s=t("./filter-pack"),a=t("zlib"),u=e.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||a.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:r.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(t.colorType))throw new Error("option color type:"+t.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(t,e,n){var i=o(t,e,n,this._options);return s(i,e,n,this._options,r.COLORTYPE_TO_BPP_MAP[this._options.colorType])},u.prototype._packChunk=function(t,e){var r=e?e.length:0,o=new n(r+12);return o.writeUInt32BE(r,0),o.writeUInt32BE(t,4),e&&e.copy(o,8),o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4),o},u.prototype.packGAMA=function(t){var e=new n(4);return e.writeUInt32BE(Math.floor(t*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,e)},u.prototype.packIHDR=function(t,e){var i=new n(13);return i.writeUInt32BE(t,0),i.writeUInt32BE(e,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(r.TYPE_IHDR,i)},u.prototype.packIDAT=function(t){return this._packChunk(r.TYPE_IDAT,t)},u.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}).call(this,t("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}},{}],125:[function(t,e,n){"use strict";var r=t("util"),i=t("zlib"),o=t("./chunkstream"),s=t("./filter-parse-async"),a=t("./parser"),u=t("./bitmapper"),c=t("./format-normaliser"),l=e.exports=function(t){o.call(this),this._parser=new a(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};r.inherits(l,o),l.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0},l.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,n=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:n});var r=e,o=this.emit.bind(this,"error");this._inflate.on("error",(function(t){r&&o(t)})),this._filter.on("complete",this._complete.bind(this));var s=this._filter.write.bind(this._filter);this._inflate.on("data",(function(t){r&&(t.length>r&&(t=t.slice(0,r)),r-=t.length,s(t))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)},l.prototype._handleMetaData=function(t){this.emit("metadata",t),this._bitmapInfo=Object.create(t),this._filter=new s(this._bitmapInfo)},l.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},l.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},l.prototype._complete=function(t){if(!this.errord){try{var e=u.dataToBitMap(t,this._bitmapInfo),n=c(e,this._bitmapInfo);e=null}catch(r){return void this._handleError(r)}this.emit("parsed",n)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(t,e,n){(function(n){"use strict";var r=!0,i=t("zlib"),o=t("./sync-inflate");i.deflateSync||(r=!1);var s=t("./sync-reader"),a=t("./filter-parse-sync"),u=t("./parser"),c=t("./bitmapper"),l=t("./format-normaliser");e.exports=function(t,e){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var h,f,d,p=[],m=new s(t);if(new u(e,{read:m.read.bind(m),error:function(t){h=t},metadata:function(t){f=t},gamma:function(t){d=t},palette:function(t){f.palette=t},transColor:function(t){f.transColor=t},inflateData:function(t){p.push(t)}}).start(),m.process(),h)throw h;var g,v=n.concat(p);if(p.length=0,f.interlace)g=i.inflateSync(v);else{var y=(1+(f.width*f.bpp*f.depth+7>>3))*f.height;g=o(v,{chunkSize:y,maxLength:y})}if(v=null,!g||!g.length)throw new Error("bad png - invalid inflate data response");var b=a.process(g,f);v=null;var _=c.dataToBitMap(b,f);b=null;var w=l(_,f);return f.data=w,f.gamma=d||0,f}}).call(this,t("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(t,e,n){(function(n){"use strict";var r=t("./constants"),i=t("./crc"),o=e.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[r.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[r.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[r.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[r.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[r.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[r.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished};o.prototype.start=function(){this.read(r.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(t){for(var e=r.PNG_SIGNATURE,n=0;n<e.length;n++)if(t[n]!==e[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),o=t.readUInt32BE(4),s="",a=4;a<8;a++)s+=String.fromCharCode(t[a]);var u=Boolean(32&t[4]);if(this._hasIHDR||o===r.TYPE_IHDR){if(this._crc=new i,this._crc.write(new n(s)),this._chunks[o])return this._chunks[o](e);u?this.read(e+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+s))}else this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==e?this.error(new Error("Crc error - "+e+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),n=t.readUInt32BE(4),i=t[8],o=t[9],s=t[12];if(8===i||4===i||2===i||1===i||16===i)if(o in r.COLORTYPE_TO_BPP_MAP)if(0===t[10])if(0===t[11])if(0===s||1===s){this._colorType=o;var a=r.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:n,depth:i,interlace:Boolean(s),palette:Boolean(o&r.COLORTYPE_PALETTE),color:Boolean(o&r.COLORTYPE_COLOR),alpha:Boolean(o&r.COLORTYPE_ALPHA),bpp:a,colorType:o}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+i))},o.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),n=0;n<e;n++)this._palette.push([t[3*n],t[3*n+1],t[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(t){this.read(t,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===r.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===r.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===r.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/r.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(t){this.read(-t,this._parseIDAT.bind(this,t))},o.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===r.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(e);var n=t-e.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},o.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},o.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,t("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(t,e,n){"use strict";var r=t("./parser-sync"),i=t("./packer-sync");n.read=function(t,e){return r(t,e||{})},n.write=function(t,e){return i(t,e)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(t,e,n){(function(e,r){"use strict";var i=t("util"),o=t("stream"),s=t("./parser-async"),a=t("./packer-async"),u=t("./png-sync"),c=n.PNG=function(t){o.call(this),this.width=0|(t=t||{}).width,this.height=0|t.height,this.data=this.width>0&&this.height>0?new r(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new s(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(t){this.data=t,this.emit("parsed",t)}).bind(this)),this._packer=new a(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(c,o),c.sync=u,c.prototype.pack=function(){return this.data&&this.data.length?(e.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(t,e){var n,r;return e&&(n=(function(t){this.removeListener("error",r),this.data=t,e(null,this)}).bind(this),r=(function(t){this.removeListener("parsed",n),e(t,null)}).bind(this),this.once("parsed",n),this.once("error",r)),this.end(t),this},c.prototype.write=function(t){return this._parser.write(t),!0},c.prototype.end=function(t){this._parser.end(t)},c.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},c.prototype._gamma=function(t){this.gamma=t},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(t,e,n,r,i,o,s,a){if(r|=0,i|=0,o|=0,s|=0,a|=0,(n|=0)>t.width||r>t.height||n+i>t.width||r+o>t.height)throw new Error("bitblt reading outside image");if(s>e.width||a>e.height||s+i>e.width||a+o>e.height)throw new Error("bitblt writing outside image");for(var u=0;u<o;u++)t.data.copy(e.data,(a+u)*e.width+s<<2,(r+u)*t.width+n<<2,(r+u)*t.width+n+i<<2)},c.prototype.bitblt=function(t,e,n,r,i,o,s){return c.bitblt(this,t,e,n,r,i,o,s),this},c.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var n=0;n<t.width;n++)for(var r=t.width*e+n<<2,i=0;i<3;i++){var o=t.data[r+i]/255;o=Math.pow(o,1/2.2/t.gamma),t.data[r+i]=Math.round(255*o)}t.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this,t("_process"),t("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(t,e,n){(function(r,i){"use strict";var o=t("assert").ok,s=t("zlib"),a=t("util"),u=t("buffer").kMaxLength;function c(t){if(!(this instanceof c))return new c(t);t&&t.chunkSize<s.Z_MIN_CHUNK&&(t.chunkSize=s.Z_MIN_CHUNK),s.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function l(t,e){e&&r.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function h(t,e){return function(t,e){if("string"==typeof e&&(e=i.from(e)),!(e instanceof i))throw new TypeError("Not a string or buffer");var n=t._finishFlushFlag;return null==n&&(n=s.Z_FINISH),t._processChunk(e,n)}(new c(e),t)}c.prototype._processChunk=function(t,e,n){if("function"==typeof n)return s.Inflate._processChunk.call(this,t,e,n);var r,a=this,c=t&&t.length,h=this._chunkSize-this._offset,f=this._maxLength,d=0,p=[],m=0;function g(t,e){if(!a._hadError){var n=h-e;if(o(n>=0,"have should not go down"),n>0){var r=a._buffer.slice(a._offset,a._offset+n);if(a._offset+=n,r.length>f&&(r=r.slice(0,f)),p.push(r),m+=r.length,0==(f-=r.length))return!1}return(0===e||a._offset>=a._chunkSize)&&(h=a._chunkSize,a._offset=0,a._buffer=i.allocUnsafe(a._chunkSize)),0===e&&(d+=c-t,c=t,!0)}}this.on("error",(function(t){r=t})),o(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(e,t,d,c,this._buffer,this._offset,h);v=v||this._writeState}while(!this._hadError&&g(v[0],v[1]));if(this._hadError)throw r;if(m>=u)throw l(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes");var y=i.concat(p,m);return l(this),y},a.inherits(c,s.Inflate),e.exports=n=h,n.Inflate=c,n.createInflate=function(t){return new c(t)},n.inflateSync=h}).call(this,t("_process"),t("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(t,e,n){"use strict";var r=e.exports=function(t){this._buffer=t,this._reads=[]};r.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=t.length||t.allowLess))break;this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}},{}],132:[function(t,e,n){(function(t){"use strict";e.exports=void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:t}).call(this,t("_process"))},{_process:133}],133:[function(t,e,n){var r,i,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var c,l=[],h=!1,f=-1;function d(){h&&c&&(h=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!h){var t=u(d);h=!0;for(var e=l.length;e;){for(c=l,l=[];++f<e;)c&&c[f].run();f=-1,e=l.length}c=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new m(t,e)),1!==l.length||h||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],134:[function(t,e,n){(function(t){!function(r){var i="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof e&&e&&!e.nodeType&&e,s="object"==typeof t&&t;s.global!==s&&s.window!==s&&s.self!==s||(r=s);var a,u,c=2147483647,l=/^xn--/,h=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function g(t){throw new RangeError(d[t])}function v(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function y(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+v((t=t.replace(f,".")).split("."),e).join(".")}function b(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function _(t){return v(t,(function(t){var e="";return t>65535&&(e+=m((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+m(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function E(t,e,n){var r=0;for(t=n?p(t/700):t>>1,t+=p(t/e);t>455;r+=36)t=p(t/35);return p(r+36*t/(t+38))}function S(t){var e,n,r,i,o,s,a,u,l,h,f,d=[],m=t.length,v=0,y=128,b=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&g("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=v,s=1,a=36;i>=m&&g("invalid-input"),((u=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>p((c-v)/s))&&g("overflow"),v+=u*s,!(u<(l=a<=b?1:a>=b+26?26:a-b));a+=36)s>p(c/(h=36-l))&&g("overflow"),s*=h;b=E(v-o,e=d.length+1,0==o),p(v/e)>c-y&&g("overflow"),y+=p(v/e),v%=e,d.splice(v++,0,y)}return _(d)}function I(t){var e,n,r,i,o,s,a,u,l,h,f,d,v,y,_,S=[];for(d=(t=b(t)).length,e=128,n=0,o=72,s=0;s<d;++s)(f=t[s])<128&&S.push(m(f));for(r=i=S.length,i&&S.push("-");r<d;){for(a=c,s=0;s<d;++s)(f=t[s])>=e&&f<a&&(a=f);for(a-e>p((c-n)/(v=r+1))&&g("overflow"),n+=(a-e)*v,e=a,s=0;s<d;++s)if((f=t[s])<e&&++n>c&&g("overflow"),f==e){for(u=n,l=36;!(u<(h=l<=o?1:l>=o+26?26:l-o));l+=36)S.push(m(w(h+(_=u-h)%(y=36-h),0))),u=p(_/y);S.push(m(w(u,0))),o=E(n,v,r==i),n=0,++r}++n,++e}return S.join("")}if(a={version:"1.4.1",ucs2:{decode:b,encode:_},decode:S,encode:I,toASCII:function(t){return y(t,(function(t){return h.test(t)?"xn--"+I(t):t}))},toUnicode:function(t){return y(t,(function(t){return l.test(t)?S(t.slice(4).toLowerCase()):t}))}},i&&o)if(e.exports==i)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(i[u]=a[u]);else r.punycode=a}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],135:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e=e||"&");var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,m=t[l].replace(a,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),f=m.substr(g+1)):(h=m,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],136:[function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(r(s))+n;return i(t[s])?o(t[s],(function(t){return a+encodeURIComponent(r(t))})).join(e):a+encodeURIComponent(r(t[s]))})).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],137:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":135,"./encode":136}],138:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(t,e,n){"use strict";var r=t("process-nextick-args"),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=h;var o=t("core-util-is");o.inherits=t("inherits");var s=t("./_stream_readable"),a=t("./_stream_writable");o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(t,e,n){"use strict";e.exports=o;var r=t("./_stream_transform"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=t("inherits"),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(t,e,n){(function(n,r){"use strict";var i=t("process-nextick-args");e.exports=b;var o,s=t("isarray");b.ReadableState=y,t("events");var a=function(t,e){return t.listeners(e).length},u=t("./internal/streams/stream"),c=t("safe-buffer").Buffer,l=r.Uint8Array||function(){},h=t("core-util-is");h.inherits=t("inherits");var f=t("util"),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=t("./internal/streams/BufferList"),g=t("./internal/streams/destroy");h.inherits(b,u);var v=["error","close","destroy","pause","resume"];function y(e,n){var r=n instanceof(o=o||t("./_stream_duplex"));this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||t("./_stream_duplex"),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}}(t,s)):(i||(o=function(t,e){var n,r;return c.isBuffer(r=e)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):x(t,s)):w(t,s,e,!1))):r||(s.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),x(t,e)}function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(I,t):I(t))}function I(t){d("emit readable"),t.emit("readable"),A(t)}function x(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function k(t){d("readable nexttick read 0"),t.read(0)}function C(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(i+=s===o.length?o:o.slice(0,t),0==(t-=s)){s===o.length?(++r,e.head=n.next?n.next:e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++i,e.head=r.next?r.next:e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},b.prototype.unshift=function(t){return _(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=t("string_decoder/").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):S(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&R(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(r=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&R(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=e&&!1===e.end||t===n.stdout||t===n.stderr?y:c;function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",(function e(n,i){d("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",g),t.removeListener("finish",v),t.removeListener("drain",l),t.removeListener("error",m),t.removeListener("unpipe",e),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",p),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}));var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(r);t.on("drain",l);var h=!1,f=!1;function p(e){d("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!h&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function m(e){d("onerror",e),y(),t.removeListener("error",m),0===a(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",v),y()}function v(){d("onfinish"),t.removeListener("close",g),y()}function y(){d("unpipe"),r.unpipe(t)}return r.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener("error",n);t._events&&t._events.error?s(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on("error",n)}(t,0,m),t.once("close",g),t.once("finish",v),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=N(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.addListener=b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(k,this))}return n},b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(C,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(t,e,n){"use strict";e.exports=s;var r=t("./_stream_duplex"),i=t("core-util-is");function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){u(t,e,n)})):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=t("inherits"),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(t,e,n){(function(n,r,i){"use strict";var o=t("process-nextick-args");function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}e.exports=y;var a,u=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?i:o.nextTick;y.WritableState=v;var c=t("core-util-is");c.inherits=t("inherits");var l,h={deprecate:t("util-deprecate")},f=t("./internal/streams/stream"),d=t("safe-buffer").Buffer,p=r.Uint8Array||function(){},m=t("./internal/streams/destroy");function g(){}function v(e,n){a=a||t("./_stream_duplex");var r=n instanceof a;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(I,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),I(t,e))}(t,n,r,e,i);else{var s=E(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?u(_,t,n,s,i):_(t,n,s,i)}}(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(e){if(a=a||t("./_stream_duplex"),!(l.call(y,this)||this instanceof a))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),I(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=new Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=n;for(var o=0,a=!0;n;)r[o]=n,n.isBuf||(a=!1),n=n.next,o+=1;r.allBuffers=a,b(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(b(t,e,!1,e.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),I(t,e)}))}function I(t,e){var n=E(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(y,f),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===y&&t&&t._writableState instanceof v}})):l=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(d.isBuffer(r=t)||r instanceof p);return a&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,r,i,o);return u}(this,i,a,t,e,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,I(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{},t("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("util");e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e=r.allocUnsafe(t>>>0),n=this.head,i=0;n;)n.data.copy(e,i),i+=n.data.length,n=n.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":147,util:33}],145:[function(t,e,n){"use strict";var r=t("process-nextick-args");function i(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":132}],146:[function(t,e,n){e.exports=t("events").EventEmitter},{events:52}],147:[function(t,e,n){var r=t("buffer"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,n),n.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},{buffer:48}],148:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}n.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":147}],149:[function(t,e,n){e.exports=t("./readable").PassThrough},{"./readable":150}],150:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(t,e,n){e.exports=t("./readable").Transform},{"./readable":150}],152:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(t,e,n,r){var i=Object.create((e&&e.prototype instanceof l?e:l).prototype),o=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=b(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,o),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=a;var c={};function l(){}function h(){}function f(){}var d={};d[i]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(S([])));m&&m!==e&&n.call(m,i)&&(d=m);var g=f.prototype=l.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){var e;this._invoke=function(r,i){function o(){return new Promise((function(e,o){!function e(r,i,o,s){var a=u(t[r],t,i);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,s)}))}s(a.arg)}(r,i,e,o)}))}return e=e?e.then(o,o):o()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=g.constructor=f,f.constructor=h,f[s]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,i){var o=new y(a(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},v(g),g[s]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}("object"==typeof e?e.exports:{});try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},{}],154:[function(t,e,n){var r=t("buffer"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},{buffer:48}],155:[function(t,e,n){e.exports=i;var r=t("events").EventEmitter;function i(){r.call(this)}t("inherits")(i,r),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",c),t.on("error",c),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(t,e,n){(function(e){var r=t("./lib/request"),i=t("./lib/response"),o=t("xtend"),s=t("builtin-status-codes"),a=t("url"),u=n;u.request=function(t,n){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},u.get=function(t,e){var n=u.request(t,e);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(t,e,n){(function(t){var e;function r(){if(void 0!==e)return e;if(t.XMLHttpRequest){e=new t.XMLHttpRequest;try{e.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(n){e=null}}else e=null;return e}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(n){}return!1}function o(t){return"function"==typeof t}n.fetch=o(t.fetch)&&o(t.ReadableStream),n.writableStream=o(t.WritableStream),n.abortController=o(t.AbortController),n.arraybuffer=n.fetch||i("arraybuffer"),n.msstream=!n.fetch&&i("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&i("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||!!r()&&o(r().overrideMimeType),e=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],158:[function(t,e,n){(function(n,r,i){var o=t("./capability"),s=t("inherits"),a=t("./response"),u=t("readable-stream"),c=a.IncomingMessage,l=a.readyStates,h=e.exports=function(t){var e,n=this;u.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+i.from(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){n.setHeader(e,t.headers[e])}));var r=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)r=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}n._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":"text"}(e,r),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};s(h,u.Writable),h.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===f.indexOf(n)&&(this._headers[n]={name:t,value:e})},h.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},h.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},h.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts,i=t._headers,s=null;"GET"!==e.method&&"HEAD"!==e.method&&(s=new Blob(t._body,{type:(i["content-type"]||{}).value||""}));var a=[];if(Object.keys(i).forEach((function(t){var e=i[t].name,n=i[t].value;Array.isArray(n)?n.forEach((function(t){a.push([e,t])})):a.push([e,n])})),"fetch"===t._mode){var u=null;if(o.abortController){var c=new AbortController;u=c.signal,t._fetchAbortController=c,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=r.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),e.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:u}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)}))}else{var h=t._xhr=new r.XMLHttpRequest;try{h.open(t._opts.method,t._opts.url,!0)}catch(f){return void n.nextTick((function(){t.emit("error",f)}))}"responseType"in h&&(h.responseType=t._mode),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(h.timeout=e.requestTimeout,h.ontimeout=function(){t.emit("requestTimeout")}),a.forEach((function(t){h.setRequestHeader(t[0],t[1])})),t._response=null,h.onreadystatechange=function(){switch(h.readyState){case l.LOADING:case l.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(h.onprogress=function(){t._onXHRProgress()}),h.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{h.send(s)}catch(f){return void n.nextTick((function(){t.emit("error",f)}))}}}},h.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(n){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var t=this;t._destroyed||(t._response=new c(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},h.prototype._write=function(t,e,n){this._body.push(t),n()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),u.Writable.prototype.end.call(this,t,e,n)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{},t("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(t,e,n){(function(e,r,i){var o=t("./capability"),s=t("inherits"),a=t("readable-stream"),u=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=n.IncomingMessage=function(t,n,s,u){var c=this;if(a.Readable.call(c),c._mode=s,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===s){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach((function(t,e){c.headers[e.toLowerCase()]=t,c.rawHeaders.push(e,t)})),o.writableStream){var l=new WritableStream({write:function(t){return new Promise((function(e,n){c._destroyed?n():c.push(i.from(t))?e():c._resumeFetch=e}))},close:function(){r.clearTimeout(u),c._destroyed||c.push(null)},abort:function(t){c._destroyed||c.emit("error",t)}});try{return void n.body.pipeTo(l).catch((function(t){r.clearTimeout(u),c._destroyed||c.emit("error",t)}))}catch(p){}}var h=n.body.getReader();!function t(){h.read().then((function(e){if(!c._destroyed){if(e.done)return r.clearTimeout(u),void c.push(null);c.push(i.from(e.value)),t()}})).catch((function(t){r.clearTimeout(u),c._destroyed||c.emit("error",t)}))}()}else if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(e[2])):void 0!==c.headers[n]?c.headers[n]+=", "+e[2]:c.headers[n]=e[2],c.rawHeaders.push(e[1],e[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var d=f.match(/;\s*charset=([^;])(;|$)/);d&&(c._charset=d[1].toLowerCase())}c._charset||(c._charset="utf-8")}};s(c,a.Readable),c.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text":if((n=e.responseText).length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var s=i.alloc(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);t.push(s)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(i.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(i.from(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==u.LOADING)break;var c=new r.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(i.from(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{},t("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,s,a;if("string"==typeof e&&"not "===e.substr(0,"not ".length)?(r="must not be",e=e.replace(/^not /,"")):r="must be",s=t,(void 0===a||a>s.length)&&(a=s.length)," argument"===s.substring(a-" argument".length,a))i="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var u=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+".".length>t.length)&&-1!==t.indexOf(".",n)}(t)?"property":"argument";i='The "'.concat(t,'" ').concat(u," ").concat(r," ").concat(o(e,"type"))}return i+". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},{}],161:[function(t,e,n){(function(t){"use strict";var n=new Set;e.exports.emitExperimentalWarning=t.emitWarning?function(e){if(!n.has(e)){var r=e+" is an experimental feature. This feature could change at any time";n.add(e),t.emitWarning(r,"ExperimentalWarning")}}:function(){}}).call(this,t("_process"))},{_process:133}],162:[function(t,e,n){(function(n){"use strict";var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=c;var i=t("./_stream_readable"),o=t("./_stream_writable");t("inherits")(c,i);for(var s=r(o.prototype),a=0;a<s.length;a++){var u=s[a];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,t("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(t,e,n){"use strict";e.exports=i;var r=t("./_stream_transform");function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}t("inherits")(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":165,inherits:75}],164:[function(t,e,n){(function(n,r){"use strict";var i;e.exports=I,I.ReadableState=S,t("events");var o,s=function(t,e){return t.listeners(e).length},a=t("./internal/streams/stream"),u=t("buffer").Buffer,c=r.Uint8Array||function(){},l=t("util");o=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,d=t("./internal/streams/buffer_list"),p=t("./internal/streams/destroy"),m=t("./internal/streams/state").getHighWaterMark,g=t("../errors").codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=t("../experimentalWarning").emitExperimentalWarning;t("inherits")(I,a);var E=["error","close","destroy","pause","resume"];function S(e,n,r){i=i||t("./_stream_duplex"),"boolean"!=typeof r&&(r=n instanceof i),this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=t("string_decoder/").StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function I(e){if(i=i||t("./_stream_duplex"),!(this instanceof I))return new I(e);this._readableState=new S(e,this,this instanceof i),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(t,e,n,r,i){o("readableAddChunk",e);var s,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?C(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,A(t)))}}(t,a);else if(i||(s=function(t,e){var n,r;return u.isBuffer(r=e)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],e)),n}(a,e)),s)t.emit("error",s);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r)a.endEmitted?t.emit("error",new _):T(t,a,e,!0);else if(a.ended)t.emit("error",new y);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?T(t,a,e,!1):O(t,a)):T(t,a,e,!1)}else r||(a.reading=!1,O(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function T(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&C(t)),O(t,e)}function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(A,t))}function A(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||t.emit("readable"),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,D(t)}function O(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(R,t,e))}function R(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){o("readable nexttick read 0"),t.read(0)}function M(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function L(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function j(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(U,e,t))}function U(t,e){o("endReadableNT",t.endEmitted,t.length),t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function F(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(t,e){e(t)},I.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),x(this,t,e,!1,n)},I.prototype.unshift=function(t){return x(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){return h||(h=t("string_decoder/").StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=this._readableState.decoder.encoding,this},I.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):C(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&j(this),null;var r,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(r=t>0?L(t,e):null)?(e.needReadable=!0,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&j(this)),null!==r&&this.emit("data",r),r},I.prototype._read=function(t){this.emit("error",new b("_read()"))},I.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,e);var a=e&&!1===e.end||t===n.stdout||t===n.stderr?m:u;function u(){o("onend"),t.end()}i.endEmitted?n.nextTick(a):r.once("end",a),t.on("unpipe",(function e(n,s){o("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",e),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",h),l=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,D(t))}}(r);t.on("drain",c);var l=!1;function h(e){o("ondata");var n=t.write(e);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==F(i.pipes,t))&&!l&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(e){o("onerror",e),m(),t.removeListener("error",f),0===s(t,"error")&&t.emit("error",e)}function d(){t.removeListener("finish",p),m()}function p(){o("onfinish"),t.removeListener("close",d),m()}function m(){o("unpipe"),r.unpipe(t)}return r.on("data",h),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener("error",n);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on("error",n)}(t,0,f),t.once("close",d),t.once("finish",p),t.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},I.prototype.addListener=I.prototype.on=function(t,e){var r=a.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?C(this):i.reading||n.nextTick(N,this))),r},I.prototype.removeListener=function(t,e){var r=a.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(P,this),r},I.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(P,this),e},I.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(M,t,e))}(this,t)),t.paused=!1,this},I.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<E.length;s++)t.on(E[s],this.emit.bind(this,E[s]));return this._read=function(e){o("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return w("Readable[Symbol.asyncIterator]"),void 0===f&&(f=t("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),I._fromList=L,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(t,e,n){"use strict";e.exports=l;var r=t("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function c(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}t("inherits")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(t,e,n){(function(n,r){"use strict";function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;e.exports=I,I.WritableState=S;var s,a={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),c=t("buffer").Buffer,l=r.Uint8Array||function(){},h=t("./internal/streams/destroy"),f=t("./internal/streams/state").getHighWaterMark,d=t("../errors").codes,p=d.ERR_INVALID_ARG_TYPE,m=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING;function E(){}function S(e,r,s){o=o||t("./_stream_duplex"),"boolean"!=typeof s&&(s=r instanceof o),this.objectMode=!!(e=e||{}).objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,o){--e.pendingcb,r?(n.nextTick(o,i),n.nextTick(O,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),O(t,e))}(t,r,i,e,o);else{var s=C(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||k(t,r),i?n.nextTick(T,t,r,s,o):T(t,r,s,o)}}(r,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(e){var n=this instanceof(o=o||t("./_stream_duplex"));if(!n&&!s.call(I,this))return new I(e);this._writableState=new S(e,this,n),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function x(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function T(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),O(t,e)}function k(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=new Array(e.bufferedRequestCount),o=e.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)r[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;r.allBuffers=a,x(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(x(t,e,!1,e.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function A(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),O(t,e)}))}function O(t,e){var r=C(e);return r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(A,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}t("inherits")(I,u),S.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(S.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===I&&t&&t._writableState instanceof S}})):s=function(t){return t instanceof this},I.prototype.pipe=function(){this.emit("error",new v)},I.prototype.write=function(t,e,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(c.isBuffer(i=t)||i instanceof l);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(t,e){var r=new _;t.emit("error",r),n.nextTick(e,r)}(this,r):(a||function(t,e,r,i){var o;return null===r?o=new b:"string"==typeof r||e.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(t.emit("error",o),n.nextTick(i,o),!1)}(this,o,t,r))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x(t,e,!1,a,r,i,o);return u}(this,o,a,t,e,r)),s},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||k(this,t))},I.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(t,e,n){n(new m("_write()"))},I.prototype._writev=null,I.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,O(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),I.prototype.destroy=h.destroy,I.prototype._undestroy=h.undestroy,I.prototype._destroy=function(t,e){e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(t,e,n){(function(n){"use strict";var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=t("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[s];if(null!==e){var n=t[f].read();null!==n&&(t[l]=null,t[s]=null,t[a]=null,e(d(n,!1)))}}function m(t){n.nextTick(p,t)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise((function(e,r){n.nextTick((function(){t[u]?r(t[u]):e(d(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(t,e){return function(n,r){t.then((function(){e[c]?n(d(void 0,!0)):e[h](n,r)}),r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var t=this;return new Promise((function(e,n){t[f].destroy(null,(function(t){t?n(t):e(d(void 0,!0))}))}))})),r),g);e.exports=function(t){var e,n=Object.create(v,(i(e={},f,{value:t,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,c,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var r=n[f].read();r?(n[l]=null,n[s]=null,n[a]=null,t(d(r,!1))):(n[s]=t,n[a]=e)},writable:!0}),e));return n[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[a];return null!==e&&(n[l]=null,n[s]=null,n[a]=null,e(t)),void(n[u]=t)}var r=n[s];null!==r&&(n[l]=null,n[s]=null,n[a]=null,r(d(void 0,!0))),n[c]=!0})),t.on("readable",m.bind(null,n)),n}}).call(this,t("_process"))},{"./end-of-stream":170,_process:133}],168:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=t("buffer").Buffer,o=t("util").inspect,s=o&&o.custom||"inspect";e.exports=function(){function t(){this.head=null,this.tail=null,this.length=0}var e=t.prototype;return e.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},e.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},e.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},e.clear=function(){this.head=this.tail=null,this.length=0},e.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},e.concat=function(t){if(0===this.length)return i.alloc(0);for(var e=i.allocUnsafe(t>>>0),n=this.head,r=0;n;)i.prototype.copy.call(n.data,e,r),r+=n.data.length,n=n.next;return e},e.consume=function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n},e.first=function(){return this.head.data},e._getString=function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(r+=o===i.length?i:i.slice(0,t),0==(t-=o)){o===i.length?(++n,this.head=e.next?e.next:this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r},e._getBuffer=function(t){var e=i.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(e,e.length-t,0,s),0==(t-=s)){s===o.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=o.slice(s));break}++r}return this.length-=r,e},e[s]=function(t,e){return o(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}({},e,{depth:0,customInspect:!1}))},t}()},{buffer:48,util:33}],169:[function(t,e,n){(function(t){"use strict";function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}e.exports={destroy:function(e,o){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(o?o(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?(t.nextTick(n,s,e),s._writableState&&(s._writableState.errorEmitted=!0)):o?(t.nextTick(r,s),o(e)):t.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}).call(this,t("_process"))},{_process:133}],170:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){a=!1,c=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},m=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?m():e.on("request",m)):a&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",f),e.on("finish",l),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},{"../../../errors":160}],171:[function(t,e,n){"use strict";var r,i=t("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(e,n,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=t("./end-of-stream")),r(e,{readable:n,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}e.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var s=e.map((function(t,n){var o=n<e.length-1;return u(t,o,n>0,(function(t){r||(r=t),t&&s.forEach(c),o||(s.forEach(c),i(r))}))}));return e.reduce(l)}},{"../../../errors":160,"./end-of-stream":170}],172:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},{"../../../errors":160}],173:[function(t,e,n){arguments[4][146][0].apply(n,arguments)},{dup:146,events:52}],174:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(t,e,n){arguments[4][148][0].apply(n,arguments)},{dup:148,"safe-buffer":154}],176:[function(t,e,n){(function(e,i){var o=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(s.call(setTimeout,r,arguments),clearTimeout)},n.setInterval=function(){return new l(s.call(setInterval,r,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(r,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof i?i:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(t,e,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){throw new Error(t)}function i(t){var e=Object.keys(t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e}n.clone=s,n.addLast=c,n.addFirst=l,n.removeLast=h,n.removeFirst=f,n.insert=d,n.removeAt=p,n.replaceAt=m,n.getIn=g,n.set=v,n.setIn=y,n.update=b,n.updateIn=_,n.merge=w,n.mergeDeep=E,n.mergeIn=S,n.omit=I,n.addDefaults=x;var o={}.hasOwnProperty;function s(t){if(Array.isArray(t))return t.slice();for(var e=i(t),n={},r=0;r<e.length;r++){var o=e[r];n[o]=t[o]}return n}function a(e,n,o){var c=o;null==c&&r("production"!==t.env.NODE_ENV?"At least one object should be provided to merge()":"INVALID_ARGS");for(var l=!1,h=arguments.length,f=Array(h>3?h-3:0),d=3;d<h;d++)f[d-3]=arguments[d];for(var p=0;p<f.length;p++){var m=f[p];if(null!=m){var g=i(m);if(g.length)for(var v=0;v<=g.length;v++){var y=g[v];if(!e||void 0===c[y]){var b=m[y];n&&u(c[y])&&u(b)&&(b=a(e,n,c[y],b)),void 0!==b&&b!==c[y]&&(l||(l=!0,c=s(c)),c[y]=b)}}}}return c}function u(t){var n=void 0===t?"undefined":e(t);return null!=t&&"object"===n}function c(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}function l(t,e){return Array.isArray(e)?e.concat(t):[e].concat(t)}function h(t){return t.length?t.slice(0,t.length-1):t}function f(t){return t.length?t.slice(1):t}function d(t,e,n){return t.slice(0,e).concat(Array.isArray(n)?n:[n]).concat(t.slice(e))}function p(t,e){return e>=t.length||e<0?t:t.slice(0,e).concat(t.slice(e+1))}function m(t,e,n){if(t[e]===n)return t;for(var r=t.length,i=Array(r),o=0;o<r;o++)i[o]=t[o];return i[e]=n,i}function g(e,n){if(!Array.isArray(n)&&r("production"!==t.env.NODE_ENV?"A path array should be provided when calling getIn()":"INVALID_ARGS"),null!=e){for(var i=e,o=0;o<n.length;o++)if(void 0===(i=null!=i?i[n[o]]:void 0))return i;return i}}function v(t,e,n){var r=null==t?"number"==typeof e?[]:{}:t;if(r[e]===n)return r;var i=s(r);return i[e]=n,i}function y(t,e,n){return e.length?function t(e,n,r,i){var o=n[i];return v(e,o,i===n.length-1?r:t(u(e)&&u(e[o])?e[o]:"number"==typeof n[i+1]?[]:{},n,r,i+1))}(t,e,n,0):n}function b(t,e,n){return v(t,e,n(null==t?void 0:t[e]))}function _(t,e,n){return y(t,e,n(g(t,e)))}function w(t,e,n,r,i,o){for(var s=arguments.length,u=Array(s>6?s-6:0),c=6;c<s;c++)u[c-6]=arguments[c];return u.length?a.call.apply(a,[null,!1,!1,t,e,n,r,i,o].concat(u)):a(!1,!1,t,e,n,r,i,o)}function E(t,e,n,r,i,o){for(var s=arguments.length,u=Array(s>6?s-6:0),c=6;c<s;c++)u[c-6]=arguments[c];return u.length?a.call.apply(a,[null,!1,!0,t,e,n,r,i,o].concat(u)):a(!1,!0,t,e,n,r,i,o)}function S(t,e,n,r,i,o,s){var u=g(t,e);null==u&&(u={});for(var c=arguments.length,l=Array(c>7?c-7:0),h=7;h<c;h++)l[h-7]=arguments[h];return y(t,e,l.length?a.call.apply(a,[null,!1,!1,u,n,r,i,o,s].concat(l)):a(!1,!1,u,n,r,i,o,s))}function I(t,e){for(var n=Array.isArray(e)?e:[e],r=!1,s=0;s<n.length;s++)if(o.call(t,n[s])){r=!0;break}if(!r)return t;for(var a={},u=i(t),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)>=0||(a[l]=t[l])}return a}function x(t,e,n,r,i,o){for(var s=arguments.length,u=Array(s>6?s-6:0),c=6;c<s;c++)u[c-6]=arguments[c];return u.length?a.call.apply(a,[null,!0,!1,t,e,n,r,i,o].concat(u)):a(!0,!1,t,e,n,r,i,o)}n.default={clone:s,addLast:c,addFirst:l,removeLast:h,removeFirst:f,insert:d,removeAt:p,replaceAt:m,getIn:g,set:v,setIn:y,update:b,updateIn:_,merge:w,mergeDeep:E,mergeIn:S,omit:I,addDefaults:x}}).call(this,t("_process"))},{_process:133}],178:[function(t,e,n){!function(t){var n=/^\s+/,i=/\s+$/,o=0,s=t.round,a=t.min,u=t.max,c=t.random;function l(e,r){if(r=r||{},(e=e||"")instanceof l)return e;if(!(this instanceof l))return new l(e,r);var c=function(e){var r,o,s={r:0,g:0,b:0},c=1,l=null,h=null,f=null,d=!1,p=!1;return"string"==typeof e&&(e=function(t){t=t.replace(n,"").replace(i,"").toLowerCase();var e,r=!1;if(C[t])t=C[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=z.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=z.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=z.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=z.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=z.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=z.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=z.hex8.exec(t))?{r:N(e[1]),g:N(e[2]),b:N(e[3]),a:j(e[4]),format:r?"name":"hex8"}:(e=z.hex6.exec(t))?{r:N(e[1]),g:N(e[2]),b:N(e[3]),format:r?"name":"hex"}:(e=z.hex4.exec(t))?{r:N(e[1]+""+e[1]),g:N(e[2]+""+e[2]),b:N(e[3]+""+e[3]),a:j(e[4]+""+e[4]),format:r?"name":"hex8"}:!!(e=z.hex3.exec(t))&&{r:N(e[1]+""+e[1]),g:N(e[2]+""+e[2]),b:N(e[3]+""+e[3]),format:r?"name":"hex"}}(e)),"object"==typeof e&&(q(e.r)&&q(e.g)&&q(e.b)?(r=e.g,o=e.b,s={r:255*R(e.r,255),g:255*R(r,255),b:255*R(o,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):q(e.h)&&q(e.s)&&q(e.v)?(l=D(e.s),h=D(e.v),s=function(e,n,r){e=6*R(e,360),n=R(n,100),r=R(r,100);var i=t.floor(e),o=e-i,s=r*(1-n),a=r*(1-o*n),u=r*(1-(1-o)*n),c=i%6;return{r:255*[r,a,s,s,u,r][c],g:255*[u,r,r,a,s,s][c],b:255*[s,s,u,r,r,a][c]}}(e.h,l,h),d=!0,p="hsv"):q(e.h)&&q(e.s)&&q(e.l)&&(l=D(e.s),f=D(e.l),s=function(t,e,n){var r,i,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=R(t,360),e=R(e,100),n=R(n,100),0===e)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=s(u,a,t+1/3),i=s(u,a,t),o=s(u,a,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,l,f),d=!0,p="hsl"),e.hasOwnProperty("a")&&(c=e.a)),c=O(c),{ok:d,format:e.format||p,r:a(255,u(s.r,0)),g:a(255,u(s.g,0)),b:a(255,u(s.b,0)),a:c}}(e);this._originalInput=e,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=s(100*this._a)/100,this._format=r.format||c.format,this._gradientType=r.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=c.ok,this._tc_id=o++}function h(t,e,n){t=R(t,255),e=R(e,255),n=R(n,255);var r,i,o=u(t,e,n),s=a(t,e,n),c=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=c>.5?l/(2-o-s):l/(o+s),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:c}}function f(t,e,n){t=R(t,255),e=R(e,255),n=R(n,255);var r,i,o=u(t,e,n),s=a(t,e,n),c=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:c}}function d(t,e,n,r){var i=[M(s(t).toString(16)),M(s(e).toString(16)),M(s(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(t,e,n,r){return[M(L(r)),M(s(t).toString(16)),M(s(e).toString(16)),M(s(n).toString(16))].join("")}function m(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=P(n.s),l(n)}function g(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=P(n.s),l(n)}function v(t){return l(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=P(n.l),l(n)}function b(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=u(0,a(255,n.r-s(-e/100*255))),n.g=u(0,a(255,n.g-s(-e/100*255))),n.b=u(0,a(255,n.b-s(-e/100*255))),l(n)}function _(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=P(n.l),l(n)}function w(t,e){var n=l(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,l(n)}function E(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function S(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function I(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function x(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function T(t,e,n){e=e||6,n=n||30;var r=l(t).toHsl(),i=360/n,o=[l(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(l(r));return o}function k(t,e){e=e||6;for(var n=l(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(l({h:r,s:i,v:o})),o=(o+a)%1;return s}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return n=i.g/255,r=i.b/255,.2126*((e=i.r/255)<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=O(t),this._roundA=s(100*this._a)/100,this},toHsv:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=f(this._r,this._g,this._b),e=s(360*t.h),n=s(100*t.s),r=s(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=h(this._r,this._g,this._b),e=s(360*t.h),n=s(100*t.s),r=s(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[M(s(t).toString(16)),M(s(e).toString(16)),M(s(n).toString(16)),M(L(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*R(this._r,255))+"%",g:s(100*R(this._g,255))+"%",b:s(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*R(this._r,255))+"%, "+s(100*R(this._g,255))+"%, "+s(100*R(this._b,255))+"%)":"rgba("+s(100*R(this._r,255))+"%, "+s(100*R(this._g,255))+"%, "+s(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=l(t);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1;return e||!(this._a<1&&this._a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return l(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:D(t[r]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:c(),g:c(),b:c()})},l.mix=function(t,e,n){n=0===n?0:n||50;var r=l(t).toRgb(),i=l(e).toRgb(),o=n/100;return l({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},l.readability=function(e,n){var r=l(e),i=l(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},l.isReadable=function(t,e,n){var r,i,o,s,a,u=l.readability(t,e);switch(i=!1,(o=n,s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),a=(o.size||"small").toLowerCase(),"AA"!==s&&"AAA"!==s&&(s="AA"),"small"!==a&&"large"!==a&&(a="small"),r={level:s,size:a}).level+r.size){case"AAsmall":case"AAAlarge":i=u>=4.5;break;case"AAlarge":i=u>=3;break;case"AAAsmall":i=u>=7}return i},l.mostReadable=function(t,e,n){var r,i,o,s,a=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<e.length;c++)(r=l.readability(t,e[c]))>u&&(u=r,a=l(e[c]));return l.isReadable(t,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,l.mostReadable(t,["#fff","#000"],n))};var C=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(C);function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function R(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=a(n,u(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function P(t){return a(1,u(0,t))}function N(t){return parseInt(t,16)}function M(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function L(e){return t.round(255*parseFloat(e)).toString(16)}function j(t){return N(t)/255}var U,F,B,z=(F="[\\s|\\(]+("+(U="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",B="[\\s|\\(]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")[,|\\s]+("+U+")\\s*\\)?",{CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function q(t){return!!z.CSS_UNIT.exec(t)}void 0!==e&&e.exports?e.exports=l:r.tinycolor=l}(Math)},{}],179:[function(t,e,n){(n=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],180:[function(t,e,n){"use strict";var r=t("punycode"),i=t("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=b,n.resolve=function(t,e){return b(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},n.format=function(t){return i.isString(t)&&(t=b(t)),t instanceof o?t.format():o.prototype.format.call(t)},n.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=t("querystring");function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(a);if(b=b.trim(),!n&&1===t.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(b);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!v[w])){for(var I,x,T=-1,k=0;k<f.length;k++)-1!==(C=b.indexOf(f[k]))&&(-1===T||C<T)&&(T=C);for(-1!==(x=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(I=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(I)),T=-1,k=0;k<h.length;k++){var C;-1!==(C=b.indexOf(h[k]))&&(-1===T||C<T)&&(T=C)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var O=this.hostname.split(/\./),R=(k=0,O.length);k<R;k++){var P=O[k];if(P&&!P.match(d)){for(var N="",M=0,D=P.length;M<D;M++)P.charCodeAt(M)>127?N+="x":N+=P[M];if(!N.match(d)){var L=O.slice(0,k),j=O.slice(k+1),U=P.match(p);U&&(L.push(U[1]),j.unshift(U[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=L.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[E])for(k=0,R=l.length;k<R;k++){var F=l[k];if(-1!==b.indexOf(F)){var B=encodeURIComponent(F);B===F&&(B=escape(F)),b=b.split(F).join(B)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var q=b.indexOf("?");return-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,q)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||g[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||m||n.host&&t.pathname,_=b,w=n.pathname&&n.pathname.split("/")||[],E=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===w[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search))return E&&(n.hostname=n.host=w.shift(),(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var S=w.slice(-1)[0],I=(n.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,x=0,T=w.length;T>=0;T--)"."===(S=w[T])?w.splice(T,1):".."===S?(w.splice(T,1),x++):x&&(w.splice(T,1),x--);if(!b&&!_)for(;x--;x)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),I&&"/"!==w.join("/").substr(-1)&&w.push("");var k,C=""===w[0]||w[0]&&"/"===w[0].charAt(0);return E&&(n.hostname=n.host=C?"":w.length?w.shift():"",(k=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=k.shift(),n.host=n.hostname=k.shift())),(b=b||n.host&&w.length)&&!C&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":181,punycode:134,querystring:137}],181:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],182:[function(t,e,n){(function(n){!function(){var r={};function i(){void 0!==n&&"development"!=n.env.NODE_ENV||console.log.apply(console,arguments)}"object"==typeof e?e.exports=r:self.UTIF=r,function(t,e){var n,r,o;n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t){this.message="JPEG error: "+t}return(t.prototype=Error()).name="JpegError",t.constructor=t}(),o=function(){function t(t,e){this.message=t,this.g=e}return(t.prototype=Error()).name="DNLMarkerError",t.constructor=t}(),function(){function e(){this.M=null,this.B=-1}function i(t,e){for(var n,r,i=0,o=[],s=16;0<s&&!t[s-1];)s--;o.push({children:[],index:0});var a,u=o[0];for(n=0;n<s;n++){for(r=0;r<t[n];r++){for((u=o.pop()).children[u.index]=e[i];0<u.index;)u=o.pop();for(u.index++,o.push(u);o.length<=n;)o.push(a={children:[],index:0}),u.children[u.index]=a.children,u=a;i++}n+1<s&&(o.push(a={children:[],index:0}),u.children[u.index]=a.children,u=a)}return o[0].children}function s(t,e,i,s,a,l,h,f,d){function p(){if(0<M)return M--,N>>M&1;if(255===(N=t[e++])){var n=t[e++];if(n){if(220===n&&O){e+=2;var s=t[e++]<<8|t[e++];if(0<s&&s!==i.g)throw new o("Found DNL marker (0xFFDC) while parsing scan data",s)}throw new r("unexpected marker "+(N<<8|n).toString(16))}}return M=7,N>>>7}function m(t){for(;;){if("number"==typeof(t=t[p()]))return t;if("object"!==(void 0===t?"undefined":n(t)))throw new r("invalid huffman sequence")}}function g(t){for(var e=0;0<t;)e=e<<1|p(),t--;return e}function v(t){if(1===t)return 1===p()?1:-1;var e=g(t);return e>=1<<t-1?e:e+(-1<<t)+1}function y(t,e){var n=m(t.D);for(n=0===n?0:v(n),t.a[e]=t.m+=n,n=1;64>n;){var r=m(t.o),i=15&r;if(r>>=4,0===i){if(15>r)break;n+=16}else t.a[e+c[n+=r]]=v(i),n++}}function b(t,e){var n=m(t.D);n=0===n?0:v(n)<<d,t.a[e]=t.m+=n}function _(t,e){t.a[e]|=p()<<d}function w(t,e){if(0<D)D--;else for(var n=l;n<=h;){var r=m(t.o),i=15&r;if(r>>=4,0===i){if(15>r){D=g(r)+(1<<r)-1;break}n+=16}else t.a[e+c[n+=r]]=v(i)*(1<<d),n++}}function E(t,e){for(var n,i=l,o=0;i<=h;){var s=0>t.a[n=e+c[i]]?-1:1;switch(L){case 0:if(n=15&(o=m(t.o)),o>>=4,0===n)15>o?(D=g(o)+(1<<o),L=4):(o=16,L=1);else{if(1!==n)throw new r("invalid ACn encoding");S=v(n),L=o?2:3}continue;case 1:case 2:t.a[n]?t.a[n]+=s*(p()<<d):0==--o&&(L=2===L?3:0);break;case 3:t.a[n]?t.a[n]+=s*(p()<<d):(t.a[n]=S<<d,L=0);break;case 4:t.a[n]&&(t.a[n]+=s*(p()<<d))}i++}4===L&&0==--D&&(L=0)}for(var S,I,x,T,k,C,A,O=9<arguments.length&&void 0!==arguments[9]&&arguments[9],R=i.P,P=e,N=0,M=0,D=0,L=0,j=s.length,U=i.S?0===l?0===f?b:_:0===f?w:E:y,F=0,B=1===j?s[0].c*s[0].l:R*i.O;F<B;){var z=a?Math.min(B-F,a):B;for(I=0;I<j;I++)s[I].m=0;if(D=0,1===j){var q=s[0];for(k=0;k<z;k++)U(q,64*((q.c+1)*(F/q.c|0)+F%q.c)),F++}else for(k=0;k<z;k++){for(I=0;I<j;I++)for(C=(q=s[I]).h,A=q.j,x=0;x<A;x++)for(T=0;T<C;T++)U(q,64*((q.c+1)*((F/R|0)*q.j+x)+(F%R*q.h+T)));F++}if(M=0,(q=u(t,e))&&q.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+q.f),e=q.offset),!(q=q&&q.F)||65280>=q)throw new r("marker was not found");if(!(65488<=q&&65495>=q))break;e+=2}return(q=u(t,e))&&q.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+q.f),e=q.offset),e-P}function a(t,e){for(var n=e.c,i=e.l,o=new Int16Array(64),s=0;s<i;s++)for(var a=0;a<n;a++){var u=64*((e.c+1)*s+a),c=o,l=e.G,h=e.a;if(!l)throw new r("missing required Quantization Table.");for(var f=0;64>f;f+=8){var d=h[u+f],p=h[u+f+1],m=h[u+f+2],g=h[u+f+3],v=h[u+f+4],y=h[u+f+5],b=h[u+f+6],_=h[u+f+7];if(d*=l[f],0==(p|m|g|v|y|b|_))c[f]=d=5793*d+512>>10,c[f+1]=d,c[f+2]=d,c[f+3]=d,c[f+4]=d,c[f+5]=d,c[f+6]=d,c[f+7]=d;else{g*=l[f+3],y*=l[f+5];var w=5793*d+128>>8,E=5793*(v*=l[f+4])+128>>8,S=m*=l[f+2],I=b*=l[f+6];E=(w=w+E+1>>1)-E,d=3784*S+1567*I+128>>8,S=1567*S-3784*I+128>>8,y=(v=(v=2896*((p*=l[f+1])-(_*=l[f+7]))+128>>8)+(y<<=4)+1>>1)-y,g=(_=(_=2896*(p+_)+128>>8)+(g<<=4)+1>>1)-g,I=(w=w+(I=d)+1>>1)-I,S=(E=E+S+1>>1)-S,d=2276*v+3406*_+2048>>12,v=3406*v-2276*_+2048>>12,_=d,d=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=d,c[f]=w+_,c[f+7]=w-_,c[f+1]=E+y,c[f+6]=E-y,c[f+2]=S+g,c[f+5]=S-g,c[f+3]=I+v,c[f+4]=I-v}}for(l=0;8>l;++l)d=c[l],0==((p=c[l+8])|(m=c[l+16])|(g=c[l+24])|(v=c[l+32])|(y=c[l+40])|(b=c[l+48])|(_=c[l+56]))?(h[u+l]=d=-2040>(d=5793*d+8192>>14)?0:2024<=d?255:d+2056>>4,h[u+l+8]=d,h[u+l+16]=d,h[u+l+24]=d,h[u+l+32]=d,h[u+l+40]=d,h[u+l+48]=d,h[u+l+56]=d):(E=(w=4112+((w=5793*d+2048>>12)+(E=5793*v+2048>>12)+1>>1))-E,d=3784*(S=m)+1567*(I=b)+2048>>12,S=1567*S-3784*I+2048>>12,I=d,y=(v=(v=2896*(p-_)+2048>>12)+y+1>>1)-y,g=(_=(_=2896*(p+_)+2048>>12)+g+1>>1)-g,d=2276*v+3406*_+2048>>12,v=3406*v-2276*_+2048>>12,_=d,d=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=d,d=(w=w+I+1>>1)+_,p=(E=E+S+1>>1)+y,b=E-y,y=(S=E-S)-g,p=16>p?0:4080<=p?255:p>>4,m=16>(m=S+g)?0:4080<=m?255:m>>4,g=16>(g=(I=w-I)+v)?0:4080<=g?255:g>>4,v=16>(v=I-v)?0:4080<=v?255:v>>4,y=16>y?0:4080<=y?255:y>>4,b=16>b?0:4080<=b?255:b>>4,_=16>(_=w-_)?0:4080<=_?255:_>>4,h[u+l]=d=16>d?0:4080<=d?255:d>>4,h[u+l+8]=p,h[u+l+16]=m,h[u+l+24]=g,h[u+l+32]=v,h[u+l+40]=y,h[u+l+48]=b,h[u+l+56]=_)}return e.a}function u(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,r=t.length-1;if(e>=r)return null;var i=t[e]<<8|t[e+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:e};for(var o=t[n=n<e?n:e]<<8|t[n+1];!(65472<=o&&65534>=o);){if(++n>=r)return null;o=t[n]<<8|t[n+1]}return{f:i.toString(16),F:o,offset:n}}var c=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);e.prototype={parse:function(t){function e(){var e=t[d]<<8|t[d+1];return d+=2,e}function n(){var n=e(),r=u(t,n=d+n-2,d);return r&&r.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+r.f),n=r.offset),n=t.subarray(d,n),d+=n.length,n}function l(t){for(var e=Math.ceil(t.v/8/t.s),n=Math.ceil(t.g/8/t.u),r=0;r<t.b.length;r++){k=t.b[r];var i=Math.ceil(Math.ceil(t.v/8)*k.h/t.s),o=Math.ceil(Math.ceil(t.g/8)*k.j/t.u);k.a=new Int16Array(64*n*k.j*(e*k.h+1)),k.c=i,k.l=o}t.P=e,t.O=n}var h=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,f=void 0===h?null:h,d=0,p=null,m=0;h=[];var g=[],v=[],y=e();if(65496!==y)throw new r("SOI not found");for(y=e();65497!==y;){switch(y){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var b=n();65518===y&&65===b[0]&&100===b[1]&&111===b[2]&&98===b[3]&&101===b[4]&&(p={version:b[5]<<8|b[6],Y:b[7]<<8|b[8],Z:b[9]<<8|b[10],W:b[11]});break;case 65499:y=e()+d-2;for(var _;d<y;){var w=t[d++],E=new Uint16Array(64);if(0==w>>4)for(b=0;64>b;b++)E[_=c[b]]=t[d++];else{if(1!=w>>4)throw new r("DQT - invalid table spec");for(b=0;64>b;b++)E[_=c[b]]=e()}h[15&w]=E}break;case 65472:case 65473:case 65474:if(S)throw new r("Only single frame JPEGs supported");e();var S={};for(S.X=65473===y,S.S=65474===y,S.precision=t[d++],y=e(),S.g=f||y,S.v=e(),S.b=[],S.C={},b=t[d++],y=E=w=0;y<b;y++){_=t[d];var I=t[d+1]>>4,x=15&t[d+1];w<I&&(w=I),E<x&&(E=x),I=S.b.push({h:I,j:x,T:t[d+2],G:null}),S.C[_]=I-1,d+=3}S.s=w,S.u=E,l(S);break;case 65476:for(_=e(),y=2;y<_;){for(w=t[d++],E=new Uint8Array(16),b=I=0;16>b;b++,d++)I+=E[b]=t[d];for(x=new Uint8Array(I),b=0;b<I;b++,d++)x[b]=t[d];y+=17+I,(0==w>>4?v:g)[15&w]=i(E,x)}break;case 65501:e();var T=e();break;case 65498:for(b=1==++m&&!f,e(),w=t[d++],_=[],y=0;y<w;y++){E=S.C[t[d++]];var k=S.b[E];E=t[d++],k.D=v[E>>4],k.o=g[15&E],_.push(k)}y=t[d++],w=t[d++],E=t[d++];try{var C=s(t,d,S,_,T,y,w,E>>4,15&E,b);d+=C}catch(A){if(A instanceof o)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(t,{N:A.g});throw A}break;case 65500:d+=4;break;case 65535:255!==t[d]&&d--;break;default:if(255===t[d-3]&&192<=t[d-2]&&254>=t[d-2])d-=3;else{if(!(b=u(t,d-2))||!b.f)throw new r("unknown marker "+y.toString(16));(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+b.f),d=b.offset}}y=e()}for(this.width=S.v,this.height=S.g,this.A=p,this.b=[],y=0;y<S.b.length;y++)(T=h[(k=S.b[y]).T])&&(k.G=T),this.b.push({R:a(0,k),U:k.h/S.s,V:k.j/S.u,c:k.c,l:k.l});this.i=this.b.length},L:function(t,e){var n,r,i=this.width/t,o=this.height/e,s=this.b.length,a=t*e*s,u=new Uint8ClampedArray(a),c=new Uint32Array(t);for(r=0;r<s;r++){var l=this.b[r],h=l.U*i,f=l.V*o,d=r,p=l.R,m=l.c+1<<3;for(n=0;n<t;n++)c[n]=(4294967288&(l=0|n*h))<<3|7&l;for(h=0;h<e;h++)for(l=m*(4294967288&(l=0|h*f))|(7&l)<<3,n=0;n<t;n++)u[d]=p[l+c[n]],d+=s}if(o=this.M)for(r=0;r<a;)for(i=l=0;l<s;l++,r++,i+=2)u[r]=(u[r]*o[i]>>8)+o[i+1];return u},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=3)n=t[i+1],t[i]=(e=t[i])-179.456+1.402*(r=t[i+2]),t[i+1]=e+135.459-.344*n-.714*r,t[i+2]=e-226.816+1.772*n;return t},K:function(t){for(var e,n,r,i,o=0,s=0,a=t.length;s<a;s+=4)t[o++]=(n=t[s+1])*(-660635669420364e-19*n+.000437130475926232*(r=t[s+2])-54080610064599e-18*(e=t[s])+.00048449797120281*(i=t[s+3])-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),t[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*e+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),t[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return t.subarray(0,o)},J:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=4)n=t[i+1],t[i]=434.456-(e=t[i])-1.402*(r=t[i+2]),t[i+1]=119.541-e+.344*n+.714*r,t[i+2]=481.816-e-1.772*n;return t},H:function(t){for(var e,n,r,i,o=0,s=1/255,a=0,u=t.length;a<u;a+=4)t[o++]=255+(e=t[a]*s)*(-4.387332384609988*e+54.48615194189176*(n=t[a+1]*s)+18.82290502165302*(r=t[a+2]*s)+212.25662451639585*(i=t[a+3]*s)-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),t[o++]=255+e*(8.841041422036149*e+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),t[o++]=255+e*(.8842522430003296*e+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return t.subarray(0,o)},getData:function(t,e,n){if(4<this.i)throw new r("Unsupported color mode");if(t=this.L(t,e),1===this.i&&n){n=t.length,e=new Uint8ClampedArray(3*n);for(var i=0,o=0;o<n;o++){var s=t[o];e[i++]=s,e[i++]=s,e[i++]=s}return e}if(3===this.i&&this.w())return this.I(t);if(4===this.i){if(this.w())return n?this.K(t):this.J(t);if(n)return this.H(t)}return t}},t.JpegDecoder=e}(),t.encodeImage=function(e,n,r,i){var o={t256:[n],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[n*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var s in i)o[s]=i[s];var a=new Uint8Array(t.encode([o])),u=new Uint8Array(e),c=new Uint8Array(1e3+n*r*4);for(s=0;s<a.length;s++)c[s]=a[s];for(s=0;s<u.length;s++)c[1e3+s]=u[s];return c.buffer},t.encode=function(e){var n=new Uint8Array(2e4),r=4,i=t._binBE;n[0]=77,n[1]=77,n[3]=42;var o=8;i.writeUint(n,r,o),r+=4;for(var s=0;s<e.length;s++){var a=t._writeIFD(i,n,o,e[s]);o=a[1],s<e.length-1&&i.writeUint(n,a[0],o)}return n.slice(0,o).buffer},t.decode=function(e){t.decode._decodeG3.allow2D=null;var n=new Uint8Array(e),r=0,i="II"==t._binBE.readASCII(n,r,2)?t._binLE:t._binBE,o=(i.readUshort(n,r+=2),i.readUint(n,r+=2));r+=4;for(var s=[];;){var a=t._readIFD(i,n,o,s);if(0==(o=i.readUint(n,a)))break}return s},t.decodeImages=function(e,n){for(var r=new Uint8Array(e),o=t._binBE.readASCII(r,0,2),s=0;s<n.length;s++){var a=n[s];if(null!=a.t256){a.isLE="II"==o,a.width=a.t256[0],a.height=a.t257[0];var u=a.t259?a.t259[0]:1,c=a.t266?a.t266[0]:1;a.t284&&2==a.t284[0]&&i("PlanarConfiguration 2 should not be used!");var l=(a.t258?Math.min(32,a.t258[0]):1)*(a.t277?a.t277[0]:1),h=8*Math.ceil(a.width*l/8),f=a.t273;null==f&&(f=a.t324);var d=a.t279;1==u&&1==f.length&&(d=[a.height*(h>>>3)]),null==d&&(d=a.t325);var p=new Uint8Array(a.height*(h>>>3)),m=0;if(null!=a.t322){for(var g=a.t322[0],v=a.t323[0],y=Math.floor((a.width+g-1)/g),b=Math.floor((a.height+v-1)/v),_=new Uint8Array(0|Math.ceil(g*v*l/8)),w=0;w<b;w++)for(var E=0;E<y;E++){for(var S=w*y+E,I=0;I<_.length;I++)_[I]=0;t.decode._decompress(a,r,f[S],d[S],u,_,0,c),6==u?p=_:t._copyTile(_,0|Math.ceil(g*l/8),v,p,0|Math.ceil(a.width*l/8),a.height,0|Math.ceil(E*g*l/8),w*v)}m=8*p.length}else{var x=a.t278?a.t278[0]:a.height;for(x=Math.min(x,a.height),S=0;S<f.length;S++)t.decode._decompress(a,r,f[S],d[S],u,p,0|Math.ceil(m/8),c),m+=h*x;m=Math.min(m,8*p.length)}a.data=new Uint8Array(p.buffer,0,0|Math.ceil(m/8))}}},t.decode._decompress=function(n,r,o,s,a,u,c,l){if(1==a)for(var h=0;h<s;h++)u[c+h]=r[o+h];else if(3==a)t.decode._decodeG3(r,o,s,u,c,n.width,l);else if(4==a)t.decode._decodeG4(r,o,s,u,c,n.width,l);else if(5==a)t.decode._decodeLZW(r,o,u,c);else if(6==a)t.decode._decodeOldJPEG(n,r,o,s,u,c);else if(7==a)t.decode._decodeNewJPEG(n,r,o,s,u,c);else if(8==a)for(var f=new Uint8Array(r.buffer,o,s),d=e.inflate(f),p=0;p<d.length;p++)u[c+p]=d[p];else 32773==a?t.decode._decodePackBits(r,o,s,u,c):32809==a?t.decode._decodeThunder(r,o,s,u,c):i("Unknown compression",a);if(n.t317&&2==n.t317[0])for(var m=n.t277?n.t277[0]:1,g=n.t278?n.t278[0]:n.height,v=n.width*m,y=0;y<g;y++){var b=c+y*v;if(3==m)for(h=3;h<v;h+=3)u[b+h]=u[b+h]+u[b+h-3]&255,u[b+h+1]=u[b+h+1]+u[b+h-2]&255,u[b+h+2]=u[b+h+2]+u[b+h-1]&255;else for(h=m;h<v;h++)u[b+h]=u[b+h]+u[b+h-m]&255}},t.decode._decodeNikon=function(t,e,n,r,o){var s,a;i(t.slice(e,e+100)),s=t[e],a=t[++e],e++,i(s.toString(16),a.toString(16),n)},t.decode._decodeNewJPEG=function(e,n,r,i,o,s){var a=e.t347,u=a?a.length:0,c=new Uint8Array(u+i);if(a){for(var l=0,h=0;h<u-1&&(255!=a[h]||217!=a[h+1]);h++)c[l++]=a[h];var f=n[r],d=n[r+1];for(255==f&&216==d||(c[l++]=f,c[l++]=d),h=2;h<i;h++)c[l++]=n[r+h]}else for(h=0;h<i;h++)c[h]=n[r+h];if(32803==e.t262){var p=e.t258[0],m=(new LosslessJpegDecoder).decode(c),g=m.length;if(16==p)for(h=0;h<g;h++)o[s++]=255&m[h],o[s++]=m[h]>>>8;else{if(12!=p)throw new Error("unsupported bit depth "+p);for(h=0;h<g;h+=2)o[s++]=m[h]>>>4,o[s++]=255&(m[h]<<4|m[h+1]>>>8),o[s++]=255&m[h+1]}}else{var v=new t.JpegDecoder;v.parse(c);var y=v.getData(v.width,v.height);for(h=0;h<y.length;h++)o[s+h]=y[h]}6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodeOldJPEGInit=function(t,e,n,r){var o,s,a,u,c,l=0,h=0,f=!1,d=t.t513,p=d?d[0]:0,m=t.t514,g=m?m[0]:0,v=t.t324||t.t273||d,y=t.t530,b=0,_=0,w=t.t277?t.t277[0]:1,E=t.t515;if(v&&(h=v[0],f=v.length>1),!f){if(255==e[n]&&216==e[n+1])return{jpegOffset:n};if(null!=d&&(255==e[n+p]&&216==e[n+p+1]?l=n+p:i("JPEGInterchangeFormat does not point to SOI"),null==m?i("JPEGInterchangeFormatLength field is missing"):(p>=h||p+g<=h)&&i("JPEGInterchangeFormatLength field value is invalid"),null!=l))return{jpegOffset:l}}if(null!=y&&(b=y[0],_=y[1]),null!=d&&null!=m)if(g>=2&&p+g<=h){for(o=255==e[n+p+g-2]&&216==e[n+p+g-1]?new Uint8Array(g-2):new Uint8Array(g),a=0;a<o.length;a++)o[a]=e[n+p+a];i("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else i("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==o){var S=0,I=[];I[S++]=255,I[S++]=216;var x=t.t519;if(null==x)throw new Error("JPEGQTables tag is missing");for(a=0;a<x.length;a++)for(I[S++]=255,I[S++]=219,I[S++]=0,I[S++]=67,I[S++]=a,u=0;u<64;u++)I[S++]=e[n+x[a]+u];for(c=0;c<2;c++){var T=t[0==c?"t520":"t521"];if(null==T)throw new Error((0==c?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(a=0;a<T.length;a++){I[S++]=255,I[S++]=196;var k=19;for(u=0;u<16;u++)k+=e[n+T[a]+u];for(I[S++]=k>>>8,I[S++]=255&k,I[S++]=a|c<<4,u=0;u<16;u++)I[S++]=e[n+T[a]+u];for(u=0;u<k;u++)I[S++]=e[n+T[a]+16+u]}}if(I[S++]=255,I[S++]=192,I[S++]=0,I[S++]=8+3*w,I[S++]=8,I[S++]=t.height>>>8&255,I[S++]=255&t.height,I[S++]=t.width>>>8&255,I[S++]=255&t.width,I[S++]=w,1==w)I[S++]=1,I[S++]=17,I[S++]=0;else for(a=0;a<3;a++)I[S++]=a+1,I[S++]=0!=a?17:(15&b)<<4|15&_,I[S++]=a;null!=E&&0!=E[0]&&(I[S++]=255,I[S++]=221,I[S++]=0,I[S++]=4,I[S++]=E[0]>>>8&255,I[S++]=255&E[0]),o=new Uint8Array(I)}var C=-1;for(a=0;a<o.length-1;){if(255==o[a]&&192==o[a+1]){C=a;break}a++}if(-1==C){var A=new Uint8Array(o.length+10+3*w);A.set(o);var O=o.length;if(C=o.length,(o=A)[O++]=255,o[O++]=192,o[O++]=0,o[O++]=8+3*w,o[O++]=8,o[O++]=t.height>>>8&255,o[O++]=255&t.height,o[O++]=t.width>>>8&255,o[O++]=255&t.width,o[O++]=w,1==w)o[O++]=1,o[O++]=17,o[O++]=0;else for(a=0;a<3;a++)o[O++]=a+1,o[O++]=0!=a?17:(15&b)<<4|15&_,o[O++]=a}if(255==e[h]&&218==e[h+1]){var R=e[h+2]<<8|e[h+3];for((s=new Uint8Array(R+2))[0]=e[h],s[1]=e[h+1],s[2]=e[h+2],s[3]=e[h+3],a=0;a<R-2;a++)s[a+4]=e[h+a+4]}else{var P=0;if((s=new Uint8Array(8+2*w))[P++]=255,s[P++]=218,s[P++]=0,s[P++]=6+2*w,s[P++]=w,1==w)s[P++]=1,s[P++]=0;else for(a=0;a<3;a++)s[P++]=a+1,s[P++]=a<<4|a;s[P++]=0,s[P++]=63,s[P++]=0}return{jpegOffset:n,tables:o,sosMarker:s,sofPosition:C}},t.decode._decodeOldJPEG=function(e,n,r,i,o,s){var a,u,c=t.decode._decodeOldJPEGInit(e,n,r,i);if(null!=c.jpegOffset)for(a=r+i-c.jpegOffset,u=new Uint8Array(a),f=0;f<a;f++)u[f]=n[c.jpegOffset+f];else{for((u=new Uint8Array(c.tables.length+c.sosMarker.length+i+2)).set(c.tables),u[c.sofPosition+5]=e.height>>>8&255,u[c.sofPosition+6]=255&e.height,u[c.sofPosition+7]=e.width>>>8&255,u[c.sofPosition+8]=255&e.width,255==n[r]&&n[r+1]==SOS||(u.set(c.sosMarker,bufoff),bufoff+=sosMarker.length),f=0;f<i;f++)u[bufoff++]=n[r+f];u[bufoff++]=255,u[bufoff++]=EOI}var l=new t.JpegDecoder;l.parse(u);for(var h=l.getData(l.width,l.height),f=0;f<h.length;f++)o[s+f]=h[f];6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodePackBits=function(t,e,n,r,i){for(var o=new Int8Array(t.buffer),s=new Int8Array(r.buffer),a=e+n;e<a;){var u=o[e];if(e++,u>=0&&u<128)for(var c=0;c<u+1;c++)s[i]=o[e],i++,e++;if(u>=-127&&u<0){for(c=0;c<1-u;c++)s[i]=o[e],i++;e++}}},t.decode._decodeThunder=function(t,e,n,r,i){for(var o=[0,1,0,-1],s=[0,1,2,3,0,-3,-2,-1],a=e+n,u=2*i,c=0;e<a;){var l=t[e],h=l>>>6,f=63&l;if(e++,3==h&&(r[u>>>1]|=(c=15&f)<<4*(1-u&1),u++),0==h)for(var d=0;d<f;d++)r[u>>>1]|=c<<4*(1-u&1),u++;if(2==h)for(d=0;d<2;d++)4!=(p=f>>>3*(1-d)&7)&&(r[u>>>1]|=(c+=s[p])<<4*(1-u&1),u++);if(1==h)for(d=0;d<3;d++){var p;2!=(p=f>>>2*(2-d)&3)&&(r[u>>>1]|=(c+=o[p])<<4*(1-u&1),u++)}}},t.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},t.decode._lens=function(){var t=function(t,e,n,r){for(var i=0;i<e.length;i++)t[e[i]]=n+i*r},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",r="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),n=n.split(","),r=r.split(","),i=i.split(","),o=o.split(",");var s={},a={};return t(s,e,0,1),t(s,r,64,64),t(s,o,1792,64),t(a,n,0,1),t(a,i,64,64),t(a,o,1792,64),[s,a]}(),t.decode._decodeG4=function(e,n,r,i,o,s,a){for(var u=t.decode,c=n<<3,l=0,h="",f=[],d=[],p=0;p<s;p++)d.push(0);d=u._makeDiff(d);for(var m=0,g=0,v=0,y=0,b=0,_=0,w="",E=0,S=8*Math.ceil(s/8);c>>>3<n+r;){v=u._findDiff(d,m+(0==m?0:1),1-b),y=u._findDiff(d,v,b);var I=0;if(1==a&&(I=e[c>>>3]>>>7-(7&c)&1),2==a&&(I=e[c>>>3]>>>(7&c)&1),c++,h+=I,"H"==w){if(null!=u._lens[b][h]){var x=u._lens[b][h];h="",l+=x,x<64&&(u._addNtimes(f,l,b),m+=l,b=1-b,l=0,0==--E&&(w=""))}}else"0001"==h&&(h="",u._addNtimes(f,y-m,b),m=y),"001"==h&&(h="",w="H",E=2),null!=u._dmap[h]&&(u._addNtimes(f,(g=v+u._dmap[h])-m,b),m=g,h="",b=1-b);f.length==s&&""==w&&(u._writeBits(f,i,8*o+_*S),b=0,_++,m=0,d=u._makeDiff(f),f=[])}},t.decode._findDiff=function(t,e,n){for(var r=0;r<t.length;r+=2)if(t[r]>=e&&t[r+1]==n)return t[r]},t.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var n=1;n<t.length;n++)t[n-1]!=t[n]&&e.push(n,t[n]);return e.push(t.length,0,t.length,1),e},t.decode._decodeG3=function(e,n,r,i,o,s,a){for(var u=t.decode,c=n<<3,l=0,h="",f=[],d=[],p=0;p<s;p++)f.push(0);for(var m=0,g=0,v=0,y=0,b=0,_=-1,w="",E=0,S=!1,I=8*Math.ceil(s/8);c>>>3<n+r;){v=u._findDiff(d,m+(0==m?0:1),1-b),y=u._findDiff(d,v,b);var x=0;if(1==a&&(x=e[c>>>3]>>>7-(7&c)&1),2==a&&(x=e[c>>>3]>>>(7&c)&1),c++,h+=x,S){if(null!=u._lens[b][h]){var T=u._lens[b][h];h="",l+=T,T<64&&(u._addNtimes(f,l,b),b=1-b,l=0)}}else"H"==w?null!=u._lens[b][h]&&(T=u._lens[b][h],h="",l+=T,T<64&&(u._addNtimes(f,l,b),m+=l,b=1-b,l=0,0==--E&&(w=""))):("0001"==h&&(h="",u._addNtimes(f,y-m,b),m=y),"001"==h&&(h="",w="H",E=2),null!=u._dmap[h]&&(u._addNtimes(f,(g=v+u._dmap[h])-m,b),m=g,h="",b=1-b));h.endsWith("000000000001")&&(_>=0&&u._writeBits(f,i,8*o+_*I),1==a&&(S=1==(e[c>>>3]>>>7-(7&c)&1)),2==a&&(S=1==(e[c>>>3]>>>(7&c)&1)),c++,null==u._decodeG3.allow2D&&(u._decodeG3.allow2D=S),u._decodeG3.allow2D||(S=!0,c--),h="",b=0,_++,m=0,d=u._makeDiff(f),f=[])}f.length==s&&u._writeBits(f,i,8*o+_*I)},t.decode._addNtimes=function(t,e,n){for(var r=0;r<e;r++)t.push(n)},t.decode._writeBits=function(t,e,n){for(var r=0;r<t.length;r++)e[n+r>>>3]|=t[r]<<7-(n+r&7)},t.decode._decodeLZW=function(e,n,r,i){if(null==t.decode._lzwTab){for(var o=new Uint32Array(65535),s=new Uint16Array(65535),a=new Uint8Array(2e6),u=0;u<256;u++)a[u<<2]=u,o[u]=u<<2,s[u]=1;t.decode._lzwTab=[o,s,a]}for(var c=t.decode._copyData,l=t.decode._lzwTab[0],h=t.decode._lzwTab[1],f=(a=t.decode._lzwTab[2],258),d=1032,p=9,m=n<<3,g=0,v=0;g=(e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,257!=g;){if(256==g){if(f=258,d=1032,g=(e[m>>>3]<<16|e[m+8>>>3]<<8|e[m+16>>>3])>>24-(7&m)-(p=9)&(1<<p)-1,m+=p,257==g)break;r[i]=g,i++}else if(g<f){var y=l[g],b=h[g];c(a,y,r,i,b),i+=b,v>=f?(l[f]=d,a[l[f]]=y[0],h[f]=1,d=d+1+3&-4,f++):(l[f]=d,c(a,l[v],a,d,_=h[v]),a[d+_]=a[y],_++,h[f]=_,f++,d=d+_+3&-4),f+1==1<<p&&p++}else{var _;v>=f?(l[f]=d,h[f]=0,f++):(l[f]=d,c(a,l[v],a,d,_=h[v]),a[d+_]=a[d],_++,h[f]=_,f++,c(a,d,r,i,_),i+=_,d=d+_+3&-4),f+1==1<<p&&p++}v=g}},t.decode._copyData=function(t,e,n,r,i){for(var o=0;o<i;o+=4)n[r+o]=t[e+o],n[r+o+1]=t[e+o+1],n[r+o+2]=t[e+o+2],n[r+o+3]=t[e+o+3]},t.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},t.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},t._readIFD=function(e,n,r,o){var s=e.readUshort(n,r);r+=2;var a={};o.push(a);for(var u=0;u<s;u++){var c=e.readUshort(n,r),l=e.readUshort(n,r+=2),h=e.readUint(n,r+=2),f=e.readUint(n,r+=4);r+=4;var d=[];if(a["t"+c]=d,1==l||7==l)for(var p=0;p<h;p++)d.push(n[(h<5?r-4:f)+p]);if(2==l&&d.push(e.readASCII(n,h<5?r-4:f,h-1)),3==l)for(p=0;p<h;p++)d.push(e.readUshort(n,(h<3?r-4:f)+2*p));if(4==l)for(p=0;p<h;p++)d.push(e.readUint(n,(h<2?r-4:f)+4*p));if(5==l)for(p=0;p<h;p++)d.push(e.readUint(n,f+8*p)/e.readUint(n,f+8*p+4));if(8==l)for(p=0;p<h;p++)d.push(e.readShort(n,(h<3?r-4:f)+2*p));if(9==l)for(p=0;p<h;p++)d.push(e.readInt(n,(h<2?r-4:f)+4*p));if(10==l)for(p=0;p<h;p++)d.push(e.readInt(n,f+8*p)/e.readInt(n,f+8*p+4));if(11==l)for(p=0;p<h;p++)d.push(e.readFloat(n,f+4*p));if(12==l)for(p=0;p<h;p++)d.push(e.readDouble(n,f+8*p));if(0!=h&&0==d.length&&i("unknown TIFF tag type: ",l,"num:",h),330==c)for(p=0;p<h;p++)t._readIFD(e,n,d[p],o)}return r},t._writeIFD=function(e,n,r,i){var o=Object.keys(i);e.writeUshort(n,r,o.length);for(var s=(r+=2)+12*o.length+4,a=0;a<o.length;a++){var u=o[a],c=parseInt(u.slice(1)),l=t.ttypes[c];if(null==l)throw new Error("unknown type of tag: "+c);var h=i[u];2==l&&(h=h[0]+"\0");var f=h.length;e.writeUshort(n,r,c),e.writeUshort(n,r+=2,l),e.writeUint(n,r+=2,f);var d=[-1,1,1,2,4,8,0,0,0,0,0,0,8][l]*f,p=r+=4;if(d>4&&(e.writeUint(n,r,s),p=s),2==l&&e.writeASCII(n,p,h),3==l)for(var m=0;m<f;m++)e.writeUshort(n,p+2*m,h[m]);if(4==l)for(m=0;m<f;m++)e.writeUint(n,p+4*m,h[m]);if(5==l)for(m=0;m<f;m++)e.writeUint(n,p+8*m,Math.round(1e4*h[m])),e.writeUint(n,p+8*m+4,1e4);if(12==l)for(m=0;m<f;m++)e.writeDouble(n,p+8*m,h[m]);d>4&&(s+=d+=1&d),r+=4}return[r,s]},t.toRGBA8=function(t){var e=t.width,n=t.height,r=e*n,o=4*r,s=t.data,a=new Uint8Array(4*r),u=t.t262[0],c=t.t258?Math.min(32,t.t258[0]):1,l=t.isLE?1:0;if(0==u)for(var h=Math.ceil(c*e/8),f=0;f<n;f++){var d=f*h,p=f*e;if(1==c)for(var m=0;m<e;m++)a[E=p+m<<2]=a[E+1]=a[E+2]=255*(1-(g=s[d+(m>>3)]>>7-(7&m)&1)),a[E+3]=255;if(4==c)for(m=0;m<e;m++)a[E=p+m<<2]=a[E+1]=a[E+2]=17*(15-(g=s[d+(m>>1)]>>4-4*(1&m)&15)),a[E+3]=255;if(8==c)for(m=0;m<e;m++)a[E=p+m<<2]=a[E+1]=a[E+2]=255-(g=s[d+m]),a[E+3]=255}else if(1==u)for(h=Math.ceil(c*e/8),f=0;f<n;f++){if(d=f*h,p=f*e,1==c)for(m=0;m<e;m++)a[E=p+m<<2]=a[E+1]=a[E+2]=255*(g=s[d+(m>>3)]>>7-(7&m)&1),a[E+3]=255;if(2==c)for(m=0;m<e;m++)a[E=p+m<<2]=a[E+1]=a[E+2]=85*(g=s[d+(m>>2)]>>6-2*(3&m)&3),a[E+3]=255;if(8==c)for(m=0;m<e;m++)a[E=p+m<<2]=a[E+1]=a[E+2]=g=s[d+m],a[E+3]=255;if(16==c)for(m=0;m<e;m++){var g=s[d+(2*m+l)];a[E=p+m<<2]=a[E+1]=a[E+2]=Math.min(255,g),a[E+3]=255}}else if(2==u)if(8==c)if(t.t338)if(t.t338[0]>0)for(m=0;m<o;m++)a[m]=s[m];else for(m=0;m<o;m+=4)a[m]=s[m],a[m+1]=s[m+1],a[m+2]=s[m+2],a[m+3]=255;else{if(4==(_=t.t258?t.t258.length:3))for(m=0;m<o;m++)a[m]=s[m];if(3==_)for(m=0;m<r;m++)a[E=m<<2]=s[v=3*m],a[E+1]=s[v+1],a[E+2]=s[v+2],a[E+3]=255}else for(m=0;m<r;m++){var v;a[E=m<<2]=s[v=6*m],a[E+1]=s[v+2],a[E+2]=s[v+4],a[E+3]=255}else if(3==u){var y=t.t320;for(m=0;m<r;m++){var b=s[m];a[E=m<<2]=y[b]>>8,a[E+1]=y[256+b]>>8,a[E+2]=y[512+b]>>8,a[E+3]=255}}else if(5==u){var _,w=(_=t.t258?t.t258.length:4)>4?1:0;for(m=0;m<r;m++){var E,S=m*_,I=255-s[S+1],x=255-s[S+2],T=1/255*(255-s[S+3]);a[E=m<<2]=~~((255-s[S])*T+.5),a[E+1]=~~(I*T+.5),a[E+2]=~~(x*T+.5),a[E+3]=255*(1-w)+s[S+4]*w}}else i("Unknown Photometric interpretation: "+u);return a},t.replaceIMG=function(){for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++){var r=e[n],i=r.getAttribute("src");if(null!=i){var o=i.split(".").pop().toLowerCase();if("tif"==o||"tiff"==o){var s=new XMLHttpRequest;t._xhrs.push(s),t._imgs.push(r),s.open("GET",i),s.responseType="arraybuffer",s.onload=t._imgLoaded,s.send()}}}},t._xhrs=[],t._imgs=[],t._imgLoaded=function(e){var n=e.target.response,r=t.decode(n),i=r[0];t.decodeImages(n,r);var o=t.toRGBA8(i),s=i.width,a=i.height,u=t._xhrs.indexOf(e.target),c=t._imgs[u];t._xhrs.splice(u,1),t._imgs.splice(u,1);var l=document.createElement("canvas");l.width=s,l.height=a;for(var h=l.getContext("2d"),f=h.createImageData(s,a),d=0;d<o.length;d++)f.data[d]=o[d];h.putImageData(f,0,0);var p=["style","class","id"];for(d=0;d<p.length;d++)l.setAttribute(p[d],c.getAttribute(p[d]));c.parentNode.replaceChild(l,c)},t._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readShort:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+1],r[1]=e[n+0],t._binBE.i16[0]},readInt:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n+0],t._binBE.i32[0]},readUint:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n+0],t._binBE.ui32[0]},readASCII:function(t,e,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(t[e+i]);return r},readFloat:function(e,n){for(var r=t._binBE.ui8,i=0;i<4;i++)r[i]=e[n+3-i];return t._binBE.fl32[0]},readDouble:function(e,n){for(var r=t._binBE.ui8,i=0;i<8;i++)r[i]=e[n+7-i];return t._binBE.fl64[0]},writeUshort:function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},writeUint:function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n>>0&255},writeASCII:function(t,e,n){for(var r=0;r<n.length;r++)t[e+r]=n.charCodeAt(r)},writeDouble:function(e,n,r){t._binBE.fl64[0]=r;for(var i=0;i<8;i++)e[n+i]=t._binBE.ui8[7-i]}},t._binBE.ui8=new Uint8Array(8),t._binBE.i16=new Int16Array(t._binBE.ui8.buffer),t._binBE.i32=new Int32Array(t._binBE.ui8.buffer),t._binBE.ui32=new Uint32Array(t._binBE.ui8.buffer),t._binBE.fl32=new Float32Array(t._binBE.ui8.buffer),t._binBE.fl64=new Float64Array(t._binBE.ui8.buffer),t._binLE={nextZero:t._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readShort:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+0],r[1]=e[n+1],t._binBE.i16[0]},readInt:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+0],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t._binBE.i32[0]},readUint:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+0],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t._binBE.ui32[0]},readASCII:t._binBE.readASCII,readFloat:function(e,n){for(var r=t._binBE.ui8,i=0;i<4;i++)r[i]=e[n+i];return t._binBE.fl32[0]},readDouble:function(e,n){for(var r=t._binBE.ui8,i=0;i<8;i++)r[i]=e[n+i];return t._binBE.fl64[0]}},t._copyTile=function(t,e,n,r,i,o,s,a){for(var u=Math.min(e,i-s),c=Math.min(n,o-a),l=0;l<c;l++)for(var h=(a+l)*i+s,f=l*e,d=0;d<u;d++)r[h+d]=t[f+d]}}(r,"function"==typeof t?t("pako"):self.pako)}()}).call(this,t("_process"))},{_process:133,pako:86}],183:[function(t,e,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],184:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],185:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],186:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(t,e,n){"use strict";var r=t("global/window"),i=t("is-function"),o=t("parse-headers"),s=t("xtend");function a(t,e,n){var r=t;return i(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=s(e,{uri:t}),r.callback=n,r}function u(t,e,n){return c(e=a(t,e,n))}function c(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,r,i){e||(e=!0,t.callback(n,r,i))};function r(){var t=void 0;if(t=l.response?l.response:l.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;if(""===t.responseType&&(!t.responseXML||"parsererror"!==t.responseXML.documentElement.nodeName))return t.responseXML}catch(e){}return null}(l),v)try{t=JSON.parse(t)}catch(e){}return t}function i(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,y)}function s(){if(!c){var e;clearTimeout(h);var i=y,s=null;return 0!==(e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status)?(i={body:r(),statusCode:e,method:d,headers:{},url:f,rawRequest:l},l.getAllResponseHeaders&&(i.headers=o(l.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),n(s,i,i.body)}}var a,c,l=t.xhr||null;l||(l=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var h,f=l.url=t.uri||t.url,d=l.method=t.method||"GET",p=t.body||t.data,m=l.headers=t.headers||{},g=!!t.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:d,url:f,rawRequest:l};if("json"in t&&!1!==t.json&&(v=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),p=JSON.stringify(!0===t.json?p:t.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(s,0)},l.onload=s,l.onerror=i,l.onprogress=function(){},l.onabort=function(){c=!0},l.ontimeout=i,l.open(d,f,!g,t.username,t.password),g||(l.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(h=setTimeout((function(){if(!c){c=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}}),t.timeout)),l.setRequestHeader)for(a in m)m.hasOwnProperty(a)&&l.setRequestHeader(a,m[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(p||null),l}e.exports=u,e.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){u["delete"===t?"del":t]=function(e,n,r){return(n=a(e,n,r)).method=t.toUpperCase(),c(n)}}))},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(t,e,n){e.exports=void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new self.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e}},{}],189:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},{}],190:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.srcOver=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=(t.r*t.a+e.r*e.a*(1-t.a))/r,o=(t.g*t.a+e.g*e.a*(1-t.a))/r,s=(t.b*t.a+e.b*e.a*(1-t.a))/r;return{r:i,g:o,b:s,a:r}},n.dstOver=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=(e.r*e.a+t.r*t.a*(1-e.a))/r,o=(e.g*e.a+t.g*t.a*(1-e.a))/r,s=(e.b*e.a+t.b*t.a*(1-e.a))/r;return{r:i,g:o,b:s,a:r}},n.multiply=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i*a+i*(1-e.a)+a*(1-t.a))/r,h=(o*u+o*(1-e.a)+u*(1-t.a))/r,f=(s*c+s*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i+a)/r,h=(o+u)/r,f=(s+c)/r;return{r:l,g:h,b:f,a:r}},n.screen=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i*e.a+a*t.a-i*a+i*(1-e.a)+a*(1-t.a))/r,h=(o*e.a+u*t.a-o*u+o*(1-e.a)+u*(1-t.a))/r,f=(s*e.a+c*t.a-s*c+s*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.overlay=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(2*a<=e.a?2*i*a+i*(1-e.a)+a*(1-t.a):i*(1+e.a)+a*(1+t.a)-2*a*i-e.a*t.a)/r,h=(2*u<=e.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/r,f=(2*c<=e.a?2*s*c+s*(1-e.a)+c*(1-t.a):s*(1+e.a)+c*(1+t.a)-2*c*s-e.a*t.a)/r;return{r:l,g:h,b:f,a:r}},n.darken=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(Math.min(i*e.a,a*t.a)+i*(1-e.a)+a*(1-t.a))/r,h=(Math.min(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/r,f=(Math.min(s*e.a,c*t.a)+s*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.lighten=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(Math.max(i*e.a,a*t.a)+i*(1-e.a)+a*(1-t.a))/r,h=(Math.max(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/r,f=(Math.max(s*e.a,c*t.a)+s*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.hardLight=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(2*i<=t.a?2*i*a+i*(1-e.a)+a*(1-t.a):i*(1+e.a)+a*(1+t.a)-2*a*i-e.a*t.a)/r,h=(2*o<=t.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/r,f=(2*s<=t.a?2*s*c+s*(1-e.a)+c*(1-t.a):s*(1+e.a)+c*(1+t.a)-2*c*s-e.a*t.a)/r;return{r:l,g:h,b:f,a:r}},n.difference=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i+a-2*Math.min(i*e.a,a*t.a))/r,h=(o+u-2*Math.min(o*e.a,u*t.a))/r,f=(s+c-2*Math.min(s*e.a,c*t.a))/r;return{r:l,g:h,b:f,a:r}},n.exclusion=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,s=t.b*t.a,a=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i*e.a+a*t.a-2*i*a+i*(1-e.a)+a*(1-t.a))/r,h=(o*e.a+u*t.a-2*o*u+o*(1-e.a)+u*(1-t.a))/r,f=(s*e.a+c*t.a-2*s*c+s*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}}},{}],191:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;if("function"==typeof r&&(a=r,r={}),!(t instanceof this.constructor))return i.throwError.call(this,"The source must be a Jimp image",a);if("number"!=typeof e||"number"!=typeof n)return i.throwError.call(this,"x and y must be numbers",a);var u=r,c=u.mode,l=u.opacitySource,h=u.opacityDest;c||(c=o.BLEND_SOURCE_OVER),("number"!=typeof l||l<0||l>1)&&(l=1),("number"!=typeof h||h<0||h>1)&&(h=1);var f=s[c];e=Math.round(e),n=Math.round(n);var d=this;return 1!==h&&d.opacity(h),t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,(function(t,r,i){var s=d.getPixelIndex(e+t,n+r,o.EDGE_CROP),a=f({r:this.bitmap.data[i+0]/255,g:this.bitmap.data[i+1]/255,b:this.bitmap.data[i+2]/255,a:this.bitmap.data[i+3]/255},{r:d.bitmap.data[s+0]/255,g:d.bitmap.data[s+1]/255,b:d.bitmap.data[s+2]/255,a:d.bitmap.data[s+3]/255},l);d.bitmap.data[s+0]=this.constructor.limit255(255*a.r),d.bitmap.data[s+1]=this.constructor.limit255(255*a.g),d.bitmap.data[s+2]=this.constructor.limit255(255*a.b),d.bitmap.data[s+3]=this.constructor.limit255(255*a.a)})),(0,i.isNodePattern)(a)&&a.call(this,null,this),this};var i=t("@jimp/utils"),o=r(t("../constants")),s=r(t("./composite-modes"));e.exports=n.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EDGE_CROP=n.EDGE_WRAP=n.EDGE_EXTEND=n.BLEND_EXCLUSION=n.BLEND_DIFFERENCE=n.BLEND_HARDLIGHT=n.BLEND_LIGHTEN=n.BLEND_DARKEN=n.BLEND_OVERLAY=n.BLEND_SCREEN=n.BLEND_ADD=n.BLEND_MULTIPLY=n.BLEND_DESTINATION_OVER=n.BLEND_SOURCE_OVER=n.VERTICAL_ALIGN_BOTTOM=n.VERTICAL_ALIGN_MIDDLE=n.VERTICAL_ALIGN_TOP=n.HORIZONTAL_ALIGN_RIGHT=n.HORIZONTAL_ALIGN_CENTER=n.HORIZONTAL_ALIGN_LEFT=n.AUTO=void 0,n.AUTO=-1,n.HORIZONTAL_ALIGN_LEFT=1,n.HORIZONTAL_ALIGN_CENTER=2,n.HORIZONTAL_ALIGN_RIGHT=4,n.VERTICAL_ALIGN_TOP=8,n.VERTICAL_ALIGN_MIDDLE=16,n.VERTICAL_ALIGN_BOTTOM=32,n.BLEND_SOURCE_OVER="srcOver",n.BLEND_DESTINATION_OVER="dstOver",n.BLEND_MULTIPLY="multiply",n.BLEND_ADD="add",n.BLEND_SCREEN="screen",n.BLEND_OVERLAY="overlay",n.BLEND_DARKEN="darken",n.BLEND_LIGHTEN="lighten",n.BLEND_HARDLIGHT="hardLight",n.BLEND_DIFFERENCE="difference",n.BLEND_EXCLUSION="exclusion",n.EDGE_EXTEND=1,n.EDGE_WRAP=2,n.EDGE_CROP=3},{}],193:[function(t,e,n){(function(e){"use strict";var i=t("@babel/runtime/helpers/interopRequireWildcard"),o=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.addConstants=G,n.addJimpMethods=W,n.jimpEvMethod=K,n.jimpEvChange=Y,Object.defineProperty(n,"addType",{enumerable:!0,get:function(){return C.addType}}),n.default=void 0;for(var s=o(t("@babel/runtime/helpers/construct")),a=o(t("@babel/runtime/helpers/slicedToArray")),u=o(t("@babel/runtime/helpers/classCallCheck")),c=o(t("@babel/runtime/helpers/createClass")),l=o(t("@babel/runtime/helpers/possibleConstructorReturn")),h=o(t("@babel/runtime/helpers/getPrototypeOf")),f=o(t("@babel/runtime/helpers/assertThisInitialized")),d=o(t("@babel/runtime/helpers/inherits")),p=o(t("@babel/runtime/helpers/defineProperty")),m=o(t("@babel/runtime/helpers/typeof")),g=o(t("fs")),v=o(t("path")),y=o(t("events")),b=t("@jimp/utils"),_=o(t("any-base")),w=o(t("mkdirp")),E=o(t("pixelmatch")),S=o(t("tinycolor2")),I=o(t("./modules/phash")),x=o(t("./request")),T=o(t("./composite")),k=o(t("./utils/promisify")),C=i(t("./utils/mime")),A=t("./utils/image-bitmap"),O=i(t("./constants")),R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",P=[NaN,NaN],N=2;N<65;N++){var M=(0,_.default)(_.default.BIN,R.slice(0,N))(new Array(65).join("1"));P.push(M.length)}function D(){}function L(t){return Object.prototype.toString.call(t).toLowerCase().indexOf("arraybuffer")>-1}function j(t){for(var n=e.alloc(t.byteLength),r=new Uint8Array(t),i=0;i<n.length;++i)n[i]=r[i];return n}function U(t,n){(0,x.default)(t,(function(r,i,o){return r?n(r):"headers"in i&&"location"in i.headers?(t.url=i.headers.location,U(t,n)):"object"===(0,m.default)(o)&&e.isBuffer(o)?n(null,o):new Error("Could not load Buffer from <"+t.url+"> (HTTP: "+i.statusCode+")")}))}function F(t,e){g.default&&"function"==typeof g.default.readFile&&!t.match(/^(http|ftp)s?:\/\/./)?g.default.readFile(t,e):U({url:t},e)}function B(t){return t&&"object"===(0,m.default)(t)&&"number"==typeof t.width&&"number"==typeof t.height&&(e.isBuffer(t.data)||t.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&t.data instanceof Uint8ClampedArray)&&(t.data.length===t.width*t.height*4||t.data.length===t.width*t.height*3)}function z(t){if(t.length%3!=0)throw new Error("Buffer length is incorrect");for(var n=e.allocUnsafe(t.length/3*4),r=0,i=0;i<t.length;i++)n[r]=t[i],(i+1)%3==0&&(n[++r]=255),r++;return n}var q,V={data:null,width:null,height:null},H=function(t){function n(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(0,u.default)(this,n),t=(0,l.default)(this,(0,h.default)(n).call(this)),(0,p.default)((0,f.default)(t),"bitmap",V),(0,p.default)((0,f.default)(t),"_background",0),(0,p.default)((0,f.default)(t),"_originalMime",n.MIME_PNG),(0,p.default)((0,f.default)(t),"_exif",null),(0,p.default)((0,f.default)(t),"_rgba",!0),(0,p.default)((0,f.default)(t),"writeAsync",(function(e){return(0,k.default)(t.write,(0,f.default)(t),e)})),(0,p.default)((0,f.default)(t),"getBase64Async",(function(e){return(0,k.default)(t.getBase64,(0,f.default)(t),e)})),(0,p.default)((0,f.default)(t),"getBuffer",A.getBuffer),(0,p.default)((0,f.default)(t),"getBufferAsync",A.getBufferAsync),(0,p.default)((0,f.default)(t),"getPixelColour",t.getPixelColor),(0,p.default)((0,f.default)(t),"setPixelColour",t.setPixelColor);var s=(0,f.default)(t),a=D;function c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=r||{};i.methodName="constructor",setTimeout((function(){var t;r&&a===D?s.emitError("constructor",r):r||s.emitMulti("constructor","initialized"),(t=a).call.apply(t,[s].concat(e))}),1)}if(L(i[0])&&(i[0]=j(i[0])),"number"==typeof i[0]&&"number"==typeof i[1]||parseInt(i[0],10)&&parseInt(i[1],10)){var d=parseInt(i[0],10),g=parseInt(i[1],10);if(a=i[2],"number"==typeof i[2]&&(t._background=i[2],a=i[3]),"string"==typeof i[2]&&(t._background=n.cssColorToHex(i[2]),a=i[3]),void 0===a&&(a=D),"function"!=typeof a)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));t.bitmap={data:e.alloc(d*g*4),width:d,height:g};for(var v=0;v<t.bitmap.data.length;v+=4)t.bitmap.data.writeUInt32BE(t._background,v);c(null,(0,f.default)(t))}else if("object"===(0,m.default)(i[0])&&i[0].url){if("function"!=typeof(a=i[1]||D))return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));U(i[0],(function(e,n){if(e)return b.throwError.call((0,f.default)(t),e,c);t.parseBitmap(n,i[0].url,c)}))}else if(i[0]instanceof n){var y=i[0];if(void 0===(a=i[1])&&(a=D),"function"!=typeof a)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));t.bitmap={data:e.from(y.bitmap.data),width:y.bitmap.width,height:y.bitmap.height},t._quality=y._quality,t._deflateLevel=y._deflateLevel,t._deflateStrategy=y._deflateStrategy,t._filterType=y._filterType,t._rgba=y._rgba,t._background=y._background,t._originalMime=y._originalMime,c(null,(0,f.default)(t))}else if(B(i[0])){var _=i[0];a=i[1]||D;var w=_.width*_.height*4===_.data.length,E=w?e.from(_.data):z(_.data);t.bitmap={data:E,width:_.width,height:_.height},c(null,(0,f.default)(t))}else if("string"==typeof i[0]){var S=i[0];if(void 0===(a=i[1])&&(a=D),"function"!=typeof a)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));F(S,(function(e,n){if(e)return b.throwError.call((0,f.default)(t),e,c);t.parseBitmap(n,S,c)}))}else if("object"===(0,m.default)(i[0])&&e.isBuffer(i[0])){var I=i[0];if("function"!=typeof(a=i[1]))return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));t.parseBitmap(I,null,c)}else{"function"!=typeof(a=i[i.length-1])&&"function"!=typeof(a=i[i.length-2])&&(a=D);var x=n.__extraConstructors.find((function(t){return t.test.apply(t,i)}));if(!x)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",c));new Promise((function(e,n){var r;return(r=x.run).call.apply(r,[(0,f.default)(t),e,n].concat(i))})).then((function(){return c(null,(0,f.default)(t))})).catch(c)}return t}return(0,d.default)(n,t),(0,c.default)(n,[{key:"parseBitmap",value:function(t,e,n){A.parseBitmap.call(this,t,null,n)}},{key:"rgba",value:function(t,e){return"boolean"!=typeof t?b.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",e):(this._rgba=t,(0,b.isNodePattern)(e)&&e.call(this,null,this),this)}},{key:"emitMulti",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign(n,{methodName:t,eventName:e}),this.emit("any",n),t&&this.emit(t,n),this.emit(e,n)}},{key:"emitError",value:function(t,e){this.emitMulti(t,"error",e)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===V?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){return this._originalMime||n.MIME_PNG}},{key:"getExtension",value:function(){var t=this.getMIME();return C.getExtension(t)}},{key:"write",value:function(t,e){var n=this;if(!g.default||!g.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof t)return b.throwError.call(this,"path must be a string",e);if(void 0===e&&(e=D),"function"!=typeof e)return b.throwError.call(this,"cb must be a function",e);var r=C.getType(t)||this.getMIME(),i=v.default.parse(t);return i.dir&&w.default.sync(i.dir),this.getBuffer(r,(function(r,i){if(r)return b.throwError.call(n,r,e);var o=g.default.createWriteStream(t);o.on("open",(function(){o.write(i),o.end()})).on("error",(function(t){return b.throwError.call(n,t,e)})),o.on("finish",(function(){e.call(n,null,n)}))})),this}},{key:"getBase64",value:function(t,e){return t===n.AUTO&&(t=this.getMIME()),"string"!=typeof t?b.throwError.call(this,"mime must be a string",e):"function"!=typeof e?b.throwError.call(this,"cb must be a function",e):(this.getBuffer(t,(function(n,r){if(n)return b.throwError.call(this,n,e);var i="data:"+t+";base64,"+r.toString("base64");e.call(this,null,i)})),this)}},{key:"hash",value:function(t,e){if("function"==typeof(t=t||64)&&(e=t,t=64),"number"!=typeof t)return b.throwError.call(this,"base must be a number",e);if(t<2||t>64)return b.throwError.call(this,"base must be a number between 2 and 64",e);var n=this.pHash();for(n=(0,_.default)(_.default.BIN,R.slice(0,t))(n);n.length<P[t];)n="0"+n;return(0,b.isNodePattern)(e)&&e.call(this,null,n),n}},{key:"pHash",value:function(){return(new I.default).getHash(this)}},{key:"distanceFromHash",value:function(t){var e=new I.default,n=e.getHash(this);return e.distance(n,t)}},{key:"getPixelIndex",value:function(t,e,r,i){var o,s;if("function"==typeof r&&void 0===i&&(i=r,r=null),r||(r=n.EDGE_EXTEND),"number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",i);o=t=Math.round(t),s=e=Math.round(e),r===n.EDGE_EXTEND&&(t<0&&(o=0),t>=this.bitmap.width&&(o=this.bitmap.width-1),e<0&&(s=0),e>=this.bitmap.height&&(s=this.bitmap.height-1)),r===n.EDGE_WRAP&&(t<0&&(o=this.bitmap.width+t),t>=this.bitmap.width&&(o=t%this.bitmap.width),e<0&&(o=this.bitmap.height+e),e>=this.bitmap.height&&(s=e%this.bitmap.height));var a=this.bitmap.width*s+o<<2;return(o<0||o>=this.bitmap.width)&&(a=-1),(s<0||s>=this.bitmap.height)&&(a=-1),(0,b.isNodePattern)(i)&&i.call(this,null,a),a}},{key:"getPixelColor",value:function(t,e,n){if("number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",n);t=Math.round(t),e=Math.round(e);var r=this.getPixelIndex(t,e),i=this.bitmap.data.readUInt32BE(r);return(0,b.isNodePattern)(n)&&n.call(this,null,i),i}},{key:"setPixelColor",value:function(t,e,n,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n)return b.throwError.call(this,"hex, x and y must be numbers",r);e=Math.round(e),n=Math.round(n);var i=this.getPixelIndex(e,n);return this.bitmap.data.writeUInt32BE(t,i),(0,b.isNodePattern)(r)&&r.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var t=0;t<this.bitmap.height;t++)for(var e=0;e<this.bitmap.width;e++)if(255!==this.bitmap.data[3+(this.bitmap.width*t+e<<2)])return!0;return!1}},{key:"scanIterator",value:function(t,e,n,r){return"number"!=typeof t||"number"!=typeof e?b.throwError.call(this,"x and y must be numbers"):"number"!=typeof n||"number"!=typeof r?b.throwError.call(this,"w and h must be numbers"):(0,b.scanIterator)(this,t,e,n,r)}}]),n}(y.default);function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;Object.entries(t).forEach((function(t){var n=(0,a.default)(t,2);e[n[0]]=n[1]}))}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;Object.entries(t).forEach((function(t){var n=(0,a.default)(t,2);e.prototype[n[0]]=n[1]}))}function K(t,e,n){var r="before-"+e,i=e.replace(/e$/,"")+"ed";H.prototype[t]=function(){for(var e,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u,c=s[n.length-1],l=this;"function"==typeof c?(e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0],s=n[1];o?l.emitError(t,o):l.emitMulti(t,i,(0,p.default)({},t,s)),c.apply(this,n)},s[s.length-1]=e):e=!1,this.emitMulti(t,r);try{u=n.apply(this,s),e||this.emitMulti(t,i,(0,p.default)({},t,u))}catch(h){h.methodName=t,this.emitError(t,h)}return u},H.prototype[t+"Quiet"]=n}function Y(t,e){K(t,"change",e)}G(O),W({composite:T.default}),H.__extraConstructors=[],H.appendConstructorOption=function(t,e,n){H.__extraConstructors.push({name:t,test:e,run:n})},H.read=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t,n){(0,s.default)(H,e.concat([function(e,r){e?n(e):t(r)}]))}))},H.create=H.read,H.rgbaToInt=function(t,e,n,r,i){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n||"number"!=typeof r)return b.throwError.call(this,"r, g, b and a must be numbers",i);if(t<0||t>255)return b.throwError.call(this,"r must be between 0 and 255",i);if((e<0||e>255)&&b.throwError.call(this,"g must be between 0 and 255",i),n<0||n>255)return b.throwError.call(this,"b must be between 0 and 255",i);if(r<0||r>255)return b.throwError.call(this,"a must be between 0 and 255",i);t=Math.round(t),n=Math.round(n),e=Math.round(e),r=Math.round(r);var o=t*Math.pow(256,3)+e*Math.pow(256,2)+n*Math.pow(256,1)+r*Math.pow(256,0);return(0,b.isNodePattern)(i)&&i.call(this,null,o),o},H.intToRGBA=function(t,e){if("number"!=typeof t)return b.throwError.call(this,"i must be a number",e);var n={};return n.r=Math.floor(t/Math.pow(256,3)),n.g=Math.floor((t-n.r*Math.pow(256,3))/Math.pow(256,2)),n.b=Math.floor((t-n.r*Math.pow(256,3)-n.g*Math.pow(256,2))/Math.pow(256,1)),n.a=Math.floor((t-n.r*Math.pow(256,3)-n.g*Math.pow(256,2)-n.b*Math.pow(256,1))/Math.pow(256,0)),(0,b.isNodePattern)(e)&&e.call(this,null,n),n},H.cssColorToHex=function(t){return"number"==typeof(t=t||0)?Number(t):parseInt((0,S.default)(t).toHex8(),16)},H.limit255=function(t){return t=Math.max(t,0),Math.min(t,255)},H.diff=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(t instanceof H&&e instanceof H))return b.throwError.call(this,"img1 and img2 must be an Jimp images");var r=t.bitmap,i=e.bitmap;if(r.width===i.width&&r.height===i.height||(r.width*r.height>i.width*i.height?t=t.cloneQuiet().resize(i.width,i.height):e=e.cloneQuiet().resize(r.width,r.height)),"number"!=typeof n||n<0||n>1)return b.throwError.call(this,"threshold must be a number between 0 and 1");var o=new H(r.width,r.height,4294967295),s=(0,E.default)(r.data,i.data,o.bitmap.data,o.bitmap.width,o.bitmap.height,{threshold:n});return{percent:s/(o.bitmap.width*o.bitmap.height),image:o}},H.distance=function(t,e){var n=new I.default,r=n.getHash(t),i=n.getHash(e);return n.distance(r,i)},H.compareHashes=function(t,e){return(new I.default).distance(t,e)},H.colorDiff=function(t,e){var n=function(t){return Math.pow(t,2)},r=Math.max;return 0===t.a||t.a||(t.a=255),0===e.a||e.a||(e.a=255),(r(n(t.r-e.r),n(t.r-e.r-t.a+e.a))+r(n(t.g-e.g),n(t.g-e.g-t.a+e.a))+r(n(t.b-e.b),n(t.b-e.b-t.a+e.a)))/195075},K("clone","clone",(function(t){var e=new H(this);return(0,b.isNodePattern)(t)&&t.call(e,null,e),e})),Y("background",(function(t,e){return"number"!=typeof t?b.throwError.call(this,"hex must be a hexadecimal rgba value",e):(this._background=t,(0,b.isNodePattern)(e)&&e.call(this,null,this),this)})),Y("scan",(function(t,e,n,r,i,o){if("number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof r)return b.throwError.call(this,"w and h must be numbers",o);if("function"!=typeof i)return b.throwError.call(this,"f must be a function",o);var s=(0,b.scan)(this,t,e,n,r,i);return(0,b.isNodePattern)(o)&&o.call(this,null,s),s})),void 0!==r&&"object"===(void 0===r?"undefined":(0,m.default)(r))&&(q=r),"undefined"!=typeof self&&"object"===("undefined"==typeof self?"undefined":(0,m.default)(self))&&(q=self),q.Jimp=H,q.Buffer=e,n.default=H}).call(this,t("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(t,e,n){"use strict";function r(t,e){this.size=this.size||t,this.smallerSize=this.smallerSize||e,function(t){for(var e=1;e<t;e++)i[e]=1;i[0]=1/Math.sqrt(2)}(this.size)}r.prototype.size=32,r.prototype.smallerSize=8,r.prototype.distance=function(t,e){for(var n=0,r=0;r<t.length;r++)t[r]!==e[r]&&n++;return n/t.length},r.prototype.getHash=function(t){(t=t.clone().resize(this.size,this.size)).grayscale();for(var e=[],n=0;n<t.bitmap.width;n++){e[n]=[];for(var r=0;r<t.bitmap.height;r++)e[n][r]=(o=t.getPixelColor(n,r),s=void 0,s={},s.r=Math.floor(o/Math.pow(256,3)),s.g=Math.floor((o-s.r*Math.pow(256,3))/Math.pow(256,2)),s.b=Math.floor((o-s.r*Math.pow(256,3)-s.g*Math.pow(256,2))/Math.pow(256,1)),s.a=Math.floor((o-s.r*Math.pow(256,3)-s.g*Math.pow(256,2)-s.b*Math.pow(256,1))/Math.pow(256,0)),s).b}for(var o,s,a=function(t,e){for(var n=e,r=[],o=0;o<n;o++){r[o]=[];for(var s=0;s<n;s++){for(var a=0,u=0;u<n;u++)for(var c=0;c<n;c++)a+=Math.cos((2*u+1)/(2*n)*o*Math.PI)*Math.cos((2*c+1)/(2*n)*s*Math.PI)*t[u][c];r[o][s]=a*=i[o]*i[s]/4}}return r}(e,this.size),u=0,c=0;c<this.smallerSize;c++)for(var l=0;l<this.smallerSize;l++)u+=a[c][l];for(var h=u/(this.smallerSize*this.smallerSize),f="",d=0;d<this.smallerSize;d++)for(var p=0;p<this.smallerSize;p++)f+=a[d][p]>h?"1":"0";return f};var i=[];e.exports=r},{}],195:[function(t,e,n){(function(n,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");i(t("@babel/runtime/helpers/defineProperty")),i(t("@babel/runtime/helpers/extends")),e.exports=function(t,e){var n=new XMLHttpRequest;n.open("GET",t.url,!0),n.responseType="arraybuffer",n.addEventListener("load",(function(){if(n.status<400)try{var i=r.from(this.response);e(null,n,i)}catch(o){return e(new Error("Response is not a buffer for url "+t.url+". Error: "+o.message))}else e(new Error("HTTP Status "+n.status+" for url "+t.url))})),n.addEventListener("error",(function(t){e(t)})),n.send()}}).call(this,t("_process"),t("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(t,e,n){(function(e){"use strict";var r=t("@babel/runtime/helpers/interopRequireWildcard"),i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.parseBitmap=function(t,n,r){var i=function(t,e){var n=(0,s.default)(t);return n?n.mime:e?l.getType(e):null}(t,n);if("string"!=typeof i)return r(new Error("Could not find MIME for Buffer <"+n+">"));this._originalMime=i.toLowerCase();try{var c=this.getMIME();if(!this.constructor.decoders[c])return u.throwError.call(this,"Unsupported MIME type: "+c,r);this.bitmap=this.constructor.decoders[c](t)}catch(h){return r.call(this,h,this)}try{this._exif=a.default.create(t).parse(),function(t){if(!(f(t)<2)){var n=function(t){var e=t.getWidth(),n=t.getHeight();switch(f(t)){case 1:return null;case 2:return function(t,n){return[e-t-1,n]};case 3:return function(t,r){return[e-t-1,n-r-1]};case 4:return function(t,e){return[t,n-e-1]};case 5:return function(t,e){return[e,t]};case 6:return function(t,e){return[e,n-t-1]};case 7:return function(t,r){return[e-r-1,n-t-1]};case 8:return function(t,n){return[e-n-1,t]};default:return null}}(t),r=f(t)>4;!function(t,n,r,i){for(var s=t.bitmap.data,a=t.bitmap.width,u=e.alloc(s.length),c=0;c<n;c++)for(var l=0;l<r;l++){var h=i(c,l),f=(0,o.default)(h,2),d=n*l+c<<2,p=s.readUInt32BE(a*f[1]+f[0]<<2);u.writeUInt32BE(p,d)}t.bitmap.data=u,t.bitmap.width=n,t.bitmap.height=r}(t,r?t.bitmap.height:t.bitmap.width,r?t.bitmap.width:t.bitmap.height,n)}}(this)}catch(h){}return r.call(this,null,this),this},n.getBuffer=d,n.getBufferAsync=function(t){return(0,h.default)(d,this,t)};var o=i(t("@babel/runtime/helpers/slicedToArray")),s=i(t("file-type")),a=i(t("exif-parser")),u=t("@jimp/utils"),c=r(t("../constants")),l=r(t("./mime")),h=i(t("./promisify"));function f(t){return t._exif&&t._exif.tags&&t._exif.tags.Orientation||1}function d(t,n){if(t===c.AUTO&&(t=this.getMIME()),"string"!=typeof t)return u.throwError.call(this,"mime must be a string",n);if("function"!=typeof n)return u.throwError.call(this,"cb must be a function",n);var r;if(t=t.toLowerCase(),this.bitmap.data=this._rgba&&this.constructor.hasAlpha[t]?e.from(this.bitmap.data):(r=this.constructor,new r(this.bitmap.width,this.bitmap.height,this._background).composite(this,0,0).bitmap).data,this.constructor.encoders[t]){var i=this.constructor.encoders[t](this);n.call(this,null,i)}else n.call(this,"Unsupported MIME type: "+t);return this}}).call(this,t("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getExtension=n.getType=n.addType=void 0;var r={};n.addType=function(t,e){r[t]=e},n.getType=function(t){var e,n=t.split("/").slice(-1);return(e=n[n.length-1].split(".").pop(),Object.entries(r).find((function(t){return t[1].includes(e)}))||[])[0]},n.getExtension=function(t){return(r[t.toLowerCase()]||[])[0]}},{}],198:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return new Promise((function(n,i){r.push((function(t,e){t&&i(t),n(e)})),t.bind(e).apply(void 0,r)}))},e.exports=n.default},{}],199:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireWildcard"),i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function r(t){Object.entries(t).forEach((function(t){var e=(0,a.default)(t,2),r=e[0];n[r]=l({},n[r],{},e[1])}))}function i(t){var e=t();Array.isArray(e.mime)?u.addType.apply(void 0,(0,o.default)(e.mime)):Object.entries(e.mime).forEach((function(t){return u.addType.apply(void 0,(0,o.default)(t))})),delete e.mime,r(e)}function s(t){var e=t(u.jimpEvChange)||{};r(e.class||e.constants?e:{class:e})}return t.types&&(t.types.forEach(i),e.decoders=l({},e.decoders,{},n.decoders),e.encoders=l({},e.encoders,{},n.encoders),e.hasAlpha=l({},e.hasAlpha,{},n.hasAlpha)),t.plugins&&t.plugins.forEach(s),(0,u.addJimpMethods)(n.class,e),(0,u.addConstants)(n.constants,e),u.default};var o=i(t("@babel/runtime/helpers/toConsumableArray")),s=i(t("@babel/runtime/helpers/defineProperty")),a=i(t("@babel/runtime/helpers/slicedToArray")),u=r(t("@jimp/core"));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){(0,s.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@jimp/custom")),o=r(t("@jimp/types")),s=r(t("@jimp/plugins")),a=(0,i.default)({types:[o.default],plugins:[s.default]});n.default=a,e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/typeof")),o=t("@jimp/utils");n.default=function(){return{blit:function(t,e,n,r,s,a,u,c){if(!(t instanceof this.constructor))return o.throwError.call(this,"The source must be a Jimp image",c);if("number"!=typeof e||"number"!=typeof n)return o.throwError.call(this,"x and y must be numbers",c);if("function"==typeof r)c=r,r=0,s=0,a=t.bitmap.width,u=t.bitmap.height;else{if((0,i.default)(r)!==(0,i.default)(s)||(0,i.default)(s)!==(0,i.default)(a)||(0,i.default)(a)!==(0,i.default)(u))return o.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",c);r=r||0,s=s||0,a=a||t.bitmap.width,u=u||t.bitmap.height}e=Math.round(e),n=Math.round(n),r=Math.round(r),s=Math.round(s),a=Math.round(a),u=Math.round(u);var l=this.bitmap.width,h=this.bitmap.height,f=this;return t.scanQuiet(r,s,a,u,(function(t,i,o){var a=e+t-r,u=n+i-s;if(a>=0&&u>=0&&l-a>0&&h-u>0){var c=f.getPixelIndex(a,u),d={r:this.bitmap.data[o],g:this.bitmap.data[o+1],b:this.bitmap.data[o+2],a:this.bitmap.data[o+3]},p={r:f.bitmap.data[c],g:f.bitmap.data[c+1],b:f.bitmap.data[c+2],a:f.bitmap.data[c+3]};f.bitmap.data[c]=(d.a*(d.r-p.r)-p.r+255>>8)+p.r,f.bitmap.data[c+1]=(d.a*(d.g-p.g)-p.g+255>>8)+p.g,f.bitmap.data[c+2]=(d.a*(d.b-p.b)-p.b+255>>8)+p.b,f.bitmap.data[c+3]=this.constructor.limit255(p.a+d.a)}})),(0,o.isNodePattern)(c)&&c.call(this,null,this),this}}},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shgTable=n.mulTable=void 0,n.mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],n.shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18]},{}],203:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils"),i=t("./blur-tables");n.default=function(){return{blur:function(t,e){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",e);if(t<1)return r.throwError.call(this,"r must be greater than 0",e);for(var n,o,s,a,u,c,l,h,f,d,p,m,g,v,y=this.bitmap.width-1,b=this.bitmap.height-1,_=t+1,w=i.mulTable[t],E=i.shgTable[t],S=[],I=[],x=[],T=[],k=[],C=[],A=2;A-- >0;){for(m=0,g=0,c=0;c<this.bitmap.height;c++){for(n=this.bitmap.data[g]*_,o=this.bitmap.data[g+1]*_,s=this.bitmap.data[g+2]*_,a=this.bitmap.data[g+3]*_,l=1;l<=t;l++)h=g+((l>y?y:l)<<2),n+=this.bitmap.data[h++],o+=this.bitmap.data[h++],s+=this.bitmap.data[h++],a+=this.bitmap.data[h];for(u=0;u<this.bitmap.width;u++)S[m]=n,I[m]=o,x[m]=s,T[m]=a,0===c&&(k[u]=((h=u+_)<y?h:y)<<2,C[u]=(h=u-t)>0?h<<2:0),f=g+k[u],d=g+C[u],n+=this.bitmap.data[f++]-this.bitmap.data[d++],o+=this.bitmap.data[f++]-this.bitmap.data[d++],s+=this.bitmap.data[f++]-this.bitmap.data[d++],a+=this.bitmap.data[f]-this.bitmap.data[d],m++;g+=this.bitmap.width<<2}for(u=0;u<this.bitmap.width;u++){for(n=S[p=u]*_,o=I[p]*_,s=x[p]*_,a=T[p]*_,l=1;l<=t;l++)n+=S[p+=l>b?0:this.bitmap.width],o+=I[p],s+=x[p],a+=T[p];for(m=u<<2,c=0;c<this.bitmap.height;c++)this.bitmap.data[m+3]=v=a*w>>>E,v>255&&(this.bitmap.data[m+3]=255),v>0?(this.bitmap.data[m]=(n*w>>>E)*(v=255/v),this.bitmap.data[m+1]=(o*w>>>E)*v,this.bitmap.data[m+2]=(s*w>>>E)*v):(this.bitmap.data[m+2]=0,this.bitmap.data[m+1]=0,this.bitmap.data[m]=0),0===u&&(k[c]=((h=c+_)<b?h:b)*this.bitmap.width,C[c]=(h=c-t)>0?h*this.bitmap.width:0),n+=S[f=u+k[c]]-S[d=u+C[c]],o+=I[f]-I[d],s+=x[f]-x[d],a+=T[f]-T[d],m+=this.bitmap.width<<2}}return(0,r.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=n.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{circle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(e=t,t={});var n=t.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,i={x:"number"==typeof t.x?t.x:this.bitmap.width/2,y:"number"==typeof t.y?t.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,r){var o=Math.sqrt(Math.pow(t-i.x,2)+Math.pow(e-i.y,2));n-o<=0?this.bitmap.data[r+3]=0:n-o<1&&(this.bitmap.data[r+3]=255*(n-o))})),(0,r.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],205:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/toConsumableArray")),s=i(t("tinycolor2")),a=t("@jimp/utils");function u(t,e,n,r){for(var i=[0,0,0],o=(e.length-1)/2,s=0;s<e.length;s+=1)for(var a=0;a<e[s].length;a+=1){var u=t.getPixelIndex(n+s-o,r+a-o);i[0]+=t.bitmap.data[u]*e[s][a],i[1]+=t.bitmap.data[u+1]*e[s][a],i[2]+=t.bitmap.data[u+2]*e[s][a]}return i}var c=function(t){return null!=t};function l(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){var r=parseInt(.2126*this.bitmap.data[n]+.7152*this.bitmap.data[n+1]+.0722*this.bitmap.data[n+2],10);this.bitmap.data[n]=r,this.bitmap.data[n+1]=r,this.bitmap.data[n+2]=r})),(0,a.isNodePattern)(t)&&t.call(this,null,this),this}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:n/100*(e.r-t.r)+t.r,g:n/100*(e.g-t.g)+t.g,b:n/100*(e.b-t.b)+t.b}}function f(t,e){var n=this;return t&&Array.isArray(t)?(t=t.map((function(t){return"xor"!==t.apply&&"mix"!==t.apply||(t.params[0]=(0,s.default)(t.params[0]).toRgb()),t})),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(r,i,u){var c={r:n.bitmap.data[u],g:n.bitmap.data[u+1],b:n.bitmap.data[u+2]},l=function(t,e){return n.constructor.limit255(c[t]+e)};t.forEach((function(t){if("mix"===t.apply)c=h(c,t.params[0],t.params[1]);else if("tint"===t.apply)c=h(c,{r:255,g:255,b:255},t.params[0]);else if("shade"===t.apply)c=h(c,{r:0,g:0,b:0},t.params[0]);else if("xor"===t.apply)c={r:c.r^t.params[0].r,g:c.g^t.params[0].g,b:c.b^t.params[0].b};else if("red"===t.apply)c.r=l("r",t.params[0]);else if("green"===t.apply)c.g=l("g",t.params[0]);else if("blue"===t.apply)c.b=l("b",t.params[0]);else{var r;if("hue"===t.apply&&(t.apply="spin"),!(c=(0,s.default)(c))[t.apply])return a.throwError.call(n,"action "+t.apply+" not supported",e);c=(r=c)[t.apply].apply(r,(0,o.default)(t.params)).toRgb()}})),n.bitmap.data[u]=c.r,n.bitmap.data[u+1]=c.g,n.bitmap.data[u+2]=c.b})),(0,a.isNodePattern)(e)&&e.call(this,null,this),this):a.throwError.call(this,"actions must be an array",e)}n.default=function(){return{brightness:function(t,e){return"number"!=typeof t?a.throwError.call(this,"val must be numbers",e):t<-1||t>1?a.throwError.call(this,"val must be a number between -1 and +1",e):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){t<0?(this.bitmap.data[r]=this.bitmap.data[r]*(1+t),this.bitmap.data[r+1]=this.bitmap.data[r+1]*(1+t),this.bitmap.data[r+2]=this.bitmap.data[r+2]*(1+t)):(this.bitmap.data[r]=this.bitmap.data[r]+(255-this.bitmap.data[r])*t,this.bitmap.data[r+1]=this.bitmap.data[r+1]+(255-this.bitmap.data[r+1])*t,this.bitmap.data[r+2]=this.bitmap.data[r+2]+(255-this.bitmap.data[r+2])*t)})),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)},contrast:function(t,e){if("number"!=typeof t)return a.throwError.call(this,"val must be numbers",e);if(t<-1||t>1)return a.throwError.call(this,"val must be a number between -1 and +1",e);var n=(t+1)/(1-t);function r(t){return(t=Math.floor(n*(t-127)+127))<0?0:t>255?255:t}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data[n]=r(this.bitmap.data[n]),this.bitmap.data[n+1]=r(this.bitmap.data[n+1]),this.bitmap.data[n+2]=r(this.bitmap.data[n+2])})),(0,a.isNodePattern)(e)&&e.call(this,null,this),this},posterize:function(t,e){return"number"!=typeof t?a.throwError.call(this,"n must be numbers",e):(t<2&&(t=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){this.bitmap.data[r]=Math.floor(this.bitmap.data[r]/255*(t-1))/(t-1)*255,this.bitmap.data[r+1]=Math.floor(this.bitmap.data[r+1]/255*(t-1))/(t-1)*255,this.bitmap.data[r+2]=Math.floor(this.bitmap.data[r+2]/255*(t-1))/(t-1)*255})),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)},greyscale:l,grayscale:l,opacity:function(t,e){return"number"!=typeof t?a.throwError.call(this,"f must be a number",e):t<0||t>1?a.throwError.call(this,"f must be a number from 0 to 1",e):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){this.bitmap.data[r+3]=this.bitmap.data[r+3]*t})),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)},sepia:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){var r=this.bitmap.data[n],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2];o=.272*(r=.393*r+.769*i+.189*o)+.534*(i=.349*r+.686*i+.168*o)+.131*o,this.bitmap.data[n]=r<255?r:255,this.bitmap.data[n+1]=i<255?i:255,this.bitmap.data[n+2]=o<255?o:255})),(0,a.isNodePattern)(t)&&t.call(this,null,this),this},fade:function(t,e){return"number"!=typeof t?a.throwError.call(this,"f must be a number",e):t<0||t>1?a.throwError.call(this,"f must be a number from 0 to 1",e):(this.opacity(1-t),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)},convolution:function(t,e,n){"function"==typeof e&&void 0===n&&(n=e,e=null),e||(e=this.constructor.EDGE_EXTEND);var i,o,s,u,c,l,h,f,d=r.from(this.bitmap.data),p=t[0].length,m=Math.floor(t.length/2),g=Math.floor(p/2),v=-m,y=-g;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(n,r,a){u=0,s=0,o=0;for(var p=v;p<=m;p++)for(var b=y;b<=g;b++)i=t[p+m][b+g],-1===(f=this.getPixelIndex(n+b,r+p,e))?(h=0,l=0,c=0):(c=this.bitmap.data[f+0],l=this.bitmap.data[f+1],h=this.bitmap.data[f+2]),o+=i*c,s+=i*l,u+=i*h;o<0&&(o=0),s<0&&(s=0),u<0&&(u=0),o>255&&(o=255),s>255&&(s=255),u>255&&(u=255),d[a+0]=o,d[a+1]=s,d[a+2]=u})),this.bitmap.data=d,(0,a.isNodePattern)(n)&&n.call(this,null,this),this},opaque:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data[n+3]=255})),(0,a.isNodePattern)(t)&&t.call(this,null,this),this},pixelate:function(t,e,n,r,i,o){if("function"==typeof e)o=e,i=null,r=null,n=null,e=null;else{if("number"!=typeof t)return a.throwError.call(this,"size must be a number",o);if(c(e)&&"number"!=typeof e)return a.throwError.call(this,"x must be a number",o);if(c(n)&&"number"!=typeof n)return a.throwError.call(this,"y must be a number",o);if(c(r)&&"number"!=typeof r)return a.throwError.call(this,"w must be a number",o);if(c(i)&&"number"!=typeof i)return a.throwError.call(this,"h must be a number",o)}var s=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]];e=e||0,n=n||0,r=c(r)?r:this.bitmap.width-e,i=c(i)?i:this.bitmap.height-n;var l=this.cloneQuiet();return this.scanQuiet(e,n,r,i,(function(e,n,r){e=t*Math.floor(e/t),n=t*Math.floor(n/t);var i=u(l,s,e,n);this.bitmap.data[r]=i[0],this.bitmap.data[r+1]=i[1],this.bitmap.data[r+2]=i[2]})),(0,a.isNodePattern)(o)&&o.call(this,null,this),this},convolute:function(t,e,n,r,i,o){if(!Array.isArray(t))return a.throwError.call(this,"the kernel must be an array",o);if("function"==typeof e)o=e,e=null,n=null,r=null,i=null;else{if(c(e)&&"number"!=typeof e)return a.throwError.call(this,"x must be a number",o);if(c(n)&&"number"!=typeof n)return a.throwError.call(this,"y must be a number",o);if(c(r)&&"number"!=typeof r)return a.throwError.call(this,"w must be a number",o);if(c(i)&&"number"!=typeof i)return a.throwError.call(this,"h must be a number",o)}var s=(t.length-1)/2;e=c(e)?e:s,n=c(n)?n:s,r=c(r)?r:this.bitmap.width-e,i=c(i)?i:this.bitmap.height-n;var l=this.cloneQuiet();return this.scanQuiet(e,n,r,i,(function(e,n,r){var i=u(l,t,e,n);this.bitmap.data[r]=this.constructor.limit255(i[0]),this.bitmap.data[r+1]=this.constructor.limit255(i[1]),this.bitmap.data[r+2]=this.constructor.limit255(i[2])})),(0,a.isNodePattern)(o)&&o.call(this,null,this),this},color:f,colour:f}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{contain:function(t,e,n,i,o){if("number"!=typeof t||"number"!=typeof e)return r.throwError.call(this,"w and h must be numbers",o);"string"==typeof n&&("function"==typeof i&&void 0===o&&(o=i),i=n,n=null),"function"==typeof n&&(void 0===o&&(o=n),i=null,n=null),"function"==typeof i&&void 0===o&&(o=i,i=null);var s=7&(n=n||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),a=n>>3;if((0===s||s&s-1)&&(0===a||a&a-1))return r.throwError.call(this,"only use one flag per alignment direction",o);var u=s>>1,c=a>>1,l=t/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:t/this.bitmap.width,h=this.cloneQuiet().scale(l,i);return this.resize(t,e,i),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data.writeUInt32BE(this._background,n)})),this.blit(h,(this.bitmap.width-h.bitmap.width)/2*u,(this.bitmap.height-h.bitmap.height)/2*c),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],207:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{cover:function(t,e,n,i,o){if("number"!=typeof t||"number"!=typeof e)return r.throwError.call(this,"w and h must be numbers",o);n&&"function"==typeof n&&void 0===o?(o=n,n=null,i=null):"function"==typeof i&&void 0===o&&(o=i,i=null);var s=7&(n=n||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),a=n>>3;if((0===s||s&s-1)&&(0===a||a&a-1))return r.throwError.call(this,"only use one flag per alignment direction",o);var u=s>>1,c=a>>1;return this.scale(t/e>this.bitmap.width/this.bitmap.height?t/this.bitmap.width:e/this.bitmap.height,i),this.crop((this.bitmap.width-t)/2*u,(this.bitmap.height-e)/2*c,t,e),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],208:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return t("crop",(function(t,e,n,i,o){if("number"!=typeof t||"number"!=typeof e)return s.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof i)return s.throwError.call(this,"w and h must be numbers",o);if(t=Math.round(t),e=Math.round(e),n=Math.round(n),i=Math.round(i),0===t&&n===this.bitmap.width){var a=n*e+t<<2;this.bitmap.data=this.bitmap.data.slice(a,a+i*n<<2)}else{var u=r.allocUnsafe(n*i*4),c=0;this.scanQuiet(t,e,n,i,(function(t,e,n){var r=this.bitmap.data.readUInt32BE(n,!0);u.writeUInt32BE(r,c,!0),c+=4})),this.bitmap.data=u}return this.bitmap.width=n,this.bitmap.height=i,(0,s.isNodePattern)(o)&&o.call(this,null,this),this})),{class:{autocrop:function(){for(var t,e=this.bitmap.width,n=this.bitmap.height,r=1,i=0,a=2e-4,u=!0,c=!1,l=arguments.length,h=new Array(l),f=0;f<l;f++)h[f]=arguments[f];for(var d=0,p=h.length;d<p;d++)if("number"==typeof h[d]&&(a=h[d]),"boolean"==typeof h[d]&&(u=h[d]),"function"==typeof h[d]&&(t=h[d]),"object"===(0,o.default)(h[d])){var m=h[d];void 0!==m.tolerance&&(a=m.tolerance),void 0!==m.cropOnlyFrames&&(u=m.cropOnlyFrames),void 0!==m.cropSymmetric&&(c=m.cropSymmetric),void 0!==m.leaveBorder&&(i=m.leaveBorder)}var g=this.getPixelColor(0,0),v=this.constructor.intToRGBA(g),y=0,b=0,_=0,w=0;g=this.getPixelColor(0,0);t:for(var E=0;E<n-r;E++){for(var S=0;S<e;S++){var I=this.getPixelColor(S,E),x=this.constructor.intToRGBA(I);if(this.constructor.colorDiff(v,x)>a)break t}y++}g=this.getPixelColor(e,0);t:for(var T=0;T<e-r;T++){for(var k=0+y;k<n;k++){var C=this.getPixelColor(T,k),A=this.constructor.intToRGBA(C);if(this.constructor.colorDiff(v,A)>a)break t}b++}g=this.getPixelColor(0,n);t:for(var O=n-1;O>=y+r;O--){for(var R=e-b-1;R>=0;R--){var P=this.getPixelColor(R,O),N=this.constructor.intToRGBA(P);if(this.constructor.colorDiff(v,N)>a)break t}_++}g=this.getPixelColor(e,n);t:for(var M=e-1;M>=0+b+r;M--){for(var D=n-1;D>=0+y;D--){var L=this.getPixelColor(M,D),j=this.constructor.intToRGBA(L);if(this.constructor.colorDiff(v,j)>a)break t}w++}if(w-=i,b-=i,y-=i,_-=i,c){var U=Math.min(b,w),F=Math.min(y,_);w=U,b=U,y=F,_=F}var B=e-((w=w>=0?w:0)+(b=b>=0?b:0)),z=n-((_=_>=0?_:0)+(y=y>=0?y:0));return(u?0!==b&&0!==y&&0!==w&&0!==_:0!==b||0!==y||0!==w||0!==_)&&this.crop(b,y,B,z),(0,s.isNodePattern)(t)&&t.call(this,null,this),this}}}};var o=i(t("@babel/runtime/helpers/typeof")),s=t("@jimp/utils");e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/typeof")),o=t("@jimp/utils");n.default=function(){return{displace:function(t,e,n){if("object"!==(0,i.default)(t)||t.constructor!==this.constructor)return o.throwError.call(this,"The source must be a Jimp image",n);if("number"!=typeof e)return o.throwError.call(this,"factor must be a number",n);var r=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(n,i,o){var s=t.bitmap.data[o]/256*e;s=Math.round(s);var a=this.getPixelIndex(n+s,i);this.bitmap.data[a]=r.bitmap.data[o],this.bitmap.data[a+1]=r.bitmap.data[o+1],this.bitmap.data[a+2]=r.bitmap.data[o+2]})),(0,o.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");function i(t){var e=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,n,r){var i=e[((3&n)<<2)+t%4];this.bitmap.data[r]=Math.min(this.bitmap.data[r]+i,255),this.bitmap.data[r+1]=Math.min(this.bitmap.data[r+1]+i,255),this.bitmap.data[r+2]=Math.min(this.bitmap.data[r+2]+i,255)})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}n.default=function(){return{dither565:i,dither16:i}},e.exports=n.default},{"@jimp/utils":235}],211:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{fisheye:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={r:2.5});var i=this.cloneQuiet(),o=i.bitmap,s=o.width,a=o.height;return i.scanQuiet(0,0,s,a,(function(n,r){var o=n/s,u=r/a,c=Math.sqrt(Math.pow(o-.5,2)+Math.pow(u-.5,2)),l=2*Math.pow(c,e.r),h=(u-.5)/c,f=Math.round((l*((o-.5)/c)+.5)*s),d=Math.round((l*h+.5)*a),p=i.getPixelColor(f,d);t.setPixelColor(p,n,r)})),this.setPixelColor(i.getPixelColor(s/2,a/2),s/2,a/2),(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],212:[function(t,e,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("@jimp/utils");function o(t,e,n){if("boolean"!=typeof t||"boolean"!=typeof e)return i.throwError.call(this,"horizontal and vertical must be Booleans",n);var o=r.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(n,r,i){var s=this.bitmap.width*(e?this.bitmap.height-1-r:r)+(t?this.bitmap.width-1-n:n)<<2,a=this.bitmap.data.readUInt32BE(i);o.writeUInt32BE(a,s)})),this.bitmap.data=r.from(o),(0,i.isNodePattern)(n)&&n.call(this,null,this),this}n.default=function(){return{flip:o,mirror:o}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{gaussian:function(t,e){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",e);if(t<1)return r.throwError.call(this,"r must be greater than 0",e);for(var n=Math.ceil(2.57*t),i=2*n+1,o=t*t*2,s=o*Math.PI,a=[],u=0;u<i;u++){a[u]=[];for(var c=0;c<i;c++){var l=Math.pow(c-n,2)+Math.pow(u-n,2);a[u][c]=Math.exp(-l/o)/s}}for(var h=0;h<this.bitmap.height;h++)for(var f=0;f<this.bitmap.width;f++)for(var d=0,p=0,m=0,g=0,v=0,y=0;y<i;y++){for(var b=0;b<i;b++){var _=Math.min(this.bitmap.width-1,Math.max(0,b+f-n)),w=Math.min(this.bitmap.height-1,Math.max(0,y+h-n)),E=a[y][b],S=w*this.bitmap.width+_<<2;d+=this.bitmap.data[S]*E,p+=this.bitmap.data[S+1]*E,m+=this.bitmap.data[S+2]*E,g+=this.bitmap.data[S+3]*E,v+=E}var I=h*this.bitmap.width+f<<2;this.bitmap.data[I]=Math.round(d/v),this.bitmap.data[I+1]=Math.round(p/v),this.bitmap.data[I+2]=Math.round(m/v),this.bitmap.data[I+3]=Math.round(g/v)}return(0,r.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],214:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{invert:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data[n]=255-this.bitmap.data[n],this.bitmap.data[n+1]=255-this.bitmap.data[n+1],this.bitmap.data[n+2]=255-this.bitmap.data[n+2]})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],215:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{mask:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(!(t instanceof this.constructor))return r.throwError.call(this,"The source must be a Jimp image",i);if("number"!=typeof e||"number"!=typeof n)return r.throwError.call(this,"x and y must be numbers",i);e=Math.round(e),n=Math.round(n);var o=this.bitmap.width,s=this.bitmap.height,a=this;return t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,(function(t,r,i){var u=e+t,c=n+r;if(u>=0&&c>=0&&u<o&&c<s){var l=a.getPixelIndex(u,c),h=this.bitmap.data;a.bitmap.data[l+3]*=(h[i+0]+h[i+1]+h[i+2])/3/255}})),(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],216:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");function i(){var t={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){t.r[this.bitmap.data[r+0]]++,t.g[this.bitmap.data[r+1]]++,t.b[this.bitmap.data[r+2]]++})),t}var o=function(t,e,n){return 255*(t-e)/(n-e)},s=function(t){return[t.findIndex((function(t){return t>0})),255-t.slice().reverse().findIndex((function(t){return t>0}))]};n.default=function(){return{normalize:function(t){var e=i.call(this),n={r:s(e.r),g:s(e.g),b:s(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,r){var i=this.bitmap.data[r+1],s=this.bitmap.data[r+2];this.bitmap.data[r+0]=o(this.bitmap.data[r+0],n.r[0],n.r[1]),this.bitmap.data[r+1]=o(i,n.g[0],n.g[1]),this.bitmap.data[r+2]=o(s,n.b[0],n.b[1])})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],217:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/typeof")),s=i(t("@babel/runtime/helpers/toConsumableArray")),a=i(t("path")),u=i(t("load-bmfont")),c=t("@jimp/utils"),l=t("./measure-text");function h(t,e,n,r,i){return i.width>0&&i.height>0&&t.blit(e.pages[i.page],n+i.xoffset,r+i.yoffset,i.x,i.y,i.width,i.height),t}function f(t,e,n,r,i){for(var o=0;o<r.length;o++){var s;s=t.chars[r[o]]?r[o]:/\s/.test(r[o])?"":"?";var a=t.chars[s]||{},u=t.kernings[s];h(this,t,e,n,a||{}),e+=(u&&u[r[o+1]]?u[r[o+1]]:0)+(a.xadvance||i)}}var d="browser/lib/";n.default=function(){return{constants:{measureText:l.measureText,measureTextHeight:l.measureTextHeight,FONT_SANS_8_BLACK:a.default.join(d,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:a.default.join(d,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:a.default.join(d,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:a.default.join(d,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:a.default.join(d,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:a.default.join(d,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:a.default.join(d,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:a.default.join(d,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:a.default.join(d,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:a.default.join(d,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:a.default.join(d,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:a.default.join(d,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:a.default.join(d,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(t,e){var n=this;return"string"!=typeof t?c.throwError.call(this,"file must be a string",e):new Promise((function(r,i){e=e||function(t,e){t?i(t):r(e)},(0,u.default)(t,(function(r,i){var o={},s={};if(r)return c.throwError.call(n,r,e);for(var u=0;u<i.chars.length;u++)o[String.fromCharCode(i.chars[u].id)]=i.chars[u];for(var l=0;l<i.kernings.length;l++){var h=String.fromCharCode(i.kernings[l].first);s[h]=s[h]||{},s[h][String.fromCharCode(i.kernings[l].second)]=i.kernings[l].amount}(function(t,e,n){var r=n.map((function(n){return t.read(e+"/"+n)}));return Promise.all(r)})(n,a.default.dirname(t),i.pages).then((function(t){e(null,{chars:o,kernings:s,pages:t,common:i.common,info:i.info})}))}))}))}},class:{print:function(t,e,n,r,i,a,u){var h,d,p=this;if("function"==typeof i&&void 0===u&&(u=i,i=1/0),void 0===i&&(i=1/0),"function"==typeof a&&void 0===u&&(u=a,a=1/0),void 0===a&&(a=1/0),"object"!==(0,o.default)(t))return c.throwError.call(this,"font must be a Jimp loadFont",u);if("number"!=typeof e||"number"!=typeof n||"number"!=typeof i)return c.throwError.call(this,"x, y and maxWidth must be numbers",u);if("number"!=typeof i)return c.throwError.call(this,"maxWidth must be a number",u);if("number"!=typeof a)return c.throwError.call(this,"maxHeight must be a number",u);"object"===(0,o.default)(r)&&null!=r.text?(h=r.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,d=r.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,r=r.text):(h=this.constructor.HORIZONTAL_ALIGN_LEFT,d=this.constructor.VERTICAL_ALIGN_TOP,r=r.toString()),a!==1/0&&d===this.constructor.VERTICAL_ALIGN_BOTTOM?n+=a-(0,l.measureTextHeight)(t,r,i):a!==1/0&&d===this.constructor.VERTICAL_ALIGN_MIDDLE&&(n+=a/2-(0,l.measureTextHeight)(t,r,i)/2);var m=Object.entries(t.chars)[0][1].xadvance,g=function(t,e,n){var r=e.split(" "),i=[],o=[],a=0;return r.forEach((function(e){var r=[].concat((0,s.default)(o),[e]).join(" "),u=(0,l.measureText)(t,r);u<=n?(u>a&&(a=u),o.push(e)):(i.push(o),o=[e])})),i.push(o),{lines:i,longestLine:a}}(t,r,i),v=g.longestLine;return g.lines.forEach((function(r){var o=r.join(" "),s=function(t,e,n,r,i){return i===t.HORIZONTAL_ALIGN_LEFT?0:i===t.HORIZONTAL_ALIGN_CENTER?(r-(0,l.measureText)(e,n))/2:r-(0,l.measureText)(e,n)}(p.constructor,t,o,i,h);f.call(p,t,e+s,n,o,m),n+=t.common.lineHeight})),(0,c.isNodePattern)(u)&&u.call(this,null,this,{x:e+v,y:n}),this}}}},e.exports=n.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=0;r<e.length;r++)t.chars[e[r]]&&(n+=(t.chars[e[r]].xadvance||0)+(t.kernings[e[r]]&&t.kernings[e[r]][e[r+1]]?t.kernings[e[r]][e[r+1]]:0));return n}Object.defineProperty(n,"__esModule",{value:!0}),n.measureText=r,n.measureTextHeight=function(t,e,n){for(var i=e.split(" "),o="",s=t.common.lineHeight,a=0;a<i.length;a++){var u=o+i[a]+" ";r(t,u)>n&&a>0?(s+=t.common.lineHeight,o=i[a]+" "):o=u}return s}},{}],219:[function(t,e,n){(function(n){var r=t("xhr"),i=function(){},o=t("parse-bmfont-ascii"),s=t("parse-bmfont-xml"),a=t("parse-bmfont-binary"),u=t("./lib/is-binary"),c=t("xtend"),l=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(t,e){e="function"==typeof e?e:i,"string"==typeof t?t={uri:t}:t||(t={}),t.binary&&(t=function(t){if(l)return c(t,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),c({xhr:e},t)}(t)),r(t,(function(r,c,l){if(r)return e(r);if(!/^2/.test(c.statusCode))return e(new Error("http status code: "+c.statusCode));if(!l)return e(new Error("no body result"));var h,f=!1;if("[object ArrayBuffer]"===Object.prototype.toString.call(l)){var d=new Uint8Array(l);l=new n(d,"binary")}u(l)&&(f=!0,"string"==typeof l&&(l=new n(l,"binary"))),f||(n.isBuffer(l)&&(l=l.toString(t.encoding)),l=l.trim());try{var p=c.headers["content-type"];h=f?a(l):/json/.test(p)||"{"===l.charAt(0)?JSON.parse(l):/xml/.test(p)||"<"===l.charAt(0)?s(l):o(l)}catch(m){e(new Error("error parsing font "+m.message)),e=i}e(null,h)}))}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(t,e,n){(function(n){var r=t("buffer-equal"),i=new n([66,77,70,3]);e.exports=function(t){return"string"==typeof t?"BMF"===t.substring(0,3):t.length>4&&r(t.slice(0,4),i)}}).call(this,t("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("@jimp/utils"),s=i(t("./modules/resize")),a=i(t("./modules/resize2"));n.default=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(t,e,n,i){if("number"!=typeof t||"number"!=typeof e)return o.throwError.call(this,"w and h must be numbers",i);if("function"==typeof n&&void 0===i&&(i=n,n=null),t===this.constructor.AUTO&&e===this.constructor.AUTO)return o.throwError.call(this,"w and h cannot both be set to auto",i);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(e/this.bitmap.height)),e===this.constructor.AUTO&&(e=this.bitmap.height*(t/this.bitmap.width)),t<0||e<0)return o.throwError.call(this,"w and h must be positive numbers",i);if(t=Math.round(t),e=Math.round(e),"function"==typeof a.default[n]){var u={data:r.alloc(t*e*4),width:t,height:e};a.default[n](this.bitmap,u),this.bitmap=u}else{var c=this;new s.default(this.bitmap.width,this.bitmap.height,t,e,!0,!0,(function(n){c.bitmap.data=r.from(n),c.bitmap.width=t,c.bitmap.height=e})).resize(this.bitmap.data)}return(0,o.isNodePattern)(i)&&i.call(this,null,this),this}}}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,s){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(e)||0),this.targetWidth=Math.abs(Math.floor(n)||0),this.targetHeight=Math.abs(Math.floor(r)||0),this.colorChannels=i?4:3,this.interpolationPass=Boolean(o),this.resizeCallback="function"==typeof s?s:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}r.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},r.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},r.prototype._resizeWidthInterpolatedRGBChannels=function(t,e){var n,r,i=e?4:3,o=this.ratioWeightWidthPass,s=this.widthBuffer,a=0,u=0,c=0,l=0,h=0;for(n=0;a<1/3;n+=i,a+=o)for(u=n,c=0;u<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)s[u]=t[c],s[u+1]=t[c+1],s[u+2]=t[c+2],e&&(s[u+3]=t[c+3]);for(a-=1/3,r=this.widthOriginal-1;a<r;n+=i,a+=o)for(l=1-(h=a%1),u=n,c=Math.floor(a)*i;u<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)s[u+0]=t[c+0]*l+t[c+i+0]*h,s[u+1]=t[c+1]*l+t[c+i+1]*h,s[u+2]=t[c+2]*l+t[c+i+2]*h,e&&(s[u+3]=t[c+3]*l+t[c+i+3]*h);for(r=this.originalWidthMultipliedByChannels-i;n<this.targetWidthMultipliedByChannels;n+=i)for(u=n,c=r;u<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)s[u]=t[c],s[u+1]=t[c+1],s[u+2]=t[c+2],e&&(s[u+3]=t[c+3]);return s},r.prototype._resizeWidthRGBChannels=function(t,e){var n=e?4:3,r=this.ratioWeightWidthPass,i=1/r,o=this.originalWidthMultipliedByChannels-n+1,s=this.targetWidthMultipliedByChannels-n+1,a=this.outputWidthWorkBench,u=this.widthBuffer,c=this.outputWidthWorkBenchOpaquePixelsCount,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=1,y=0,b=0,_=0,w=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)a[p++]=0,a[p++]=0,a[p++]=0,e&&(a[p++]=0,c[p/n-1]=0);l=r;do{for(h=1+f-d,v=Math.min(l,h),p=0,m=f;p<this.originalHeightMultipliedByChannels;m+=o)y=t[m],b=t[++m],_=t[++m],w=e?t[++m]:255,a[p++]+=(w?y:0)*v,a[p++]+=(w?b:0)*v,a[p++]+=(w?_:0)*v,e&&(a[p++]+=w*v,c[p/n-1]+=w?v:0);if(!(l>=h)){d+=l;break}d=f+=n,l-=h}while(l>0&&f<this.originalWidthMultipliedByChannels);for(p=0,m=g;p<this.originalHeightMultipliedByChannels;m+=s)l=e?c[p/n]:1,u[m]=a[p++]*(v=e?l?1/l:0:i),u[++m]=a[p++]*v,u[++m]=a[p++]*v,e&&(u[++m]=a[p++]*i);g+=n}while(g<this.targetWidthMultipliedByChannels);return u},r.prototype._resizeHeightRGBChannels=function(t,e){var n=this.ratioWeightHeightPass,r=1/n,i=this.outputHeightWorkBench,o=this.heightBuffer,s=this.outputHeightWorkBenchOpaquePixelsCount,a=0,u=0,c=0,l=0,h=0,f=0,d=0,p=1,m=0,g=0,v=0,y=0;do{for(h=0;h<this.targetWidthMultipliedByChannels;)i[h++]=0,i[h++]=0,i[h++]=0,e&&(i[h++]=0,s[h/4-1]=0);a=n;do{for(u=1+c-l,p=Math.min(a,u),d=c,h=0;h<this.targetWidthMultipliedByChannels;)m=t[d++],g=t[d++],v=t[d++],y=e?t[d++]:255,i[h++]+=(y?m:0)*p,i[h++]+=(y?g:0)*p,i[h++]+=(y?v:0)*p,e&&(i[h++]+=y*p,s[h/4-1]+=y?p:0);if(!(a>=u)){l+=a;break}l=c=d,a-=u}while(a>0&&c<this.widthPassResultSize);for(h=0;h<this.targetWidthMultipliedByChannels;)a=e?s[h/4]:1,p=e?a?1/a:0:r,o[f++]=Math.round(i[h++]*p),o[f++]=Math.round(i[h++]*p),o[f++]=Math.round(i[h++]*p),e&&(o[f++]=Math.round(i[h++]*r))}while(f<this.finalResultSize);return o},r.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},r.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},r.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},r.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},r.prototype.resizeHeightInterpolated=function(t){for(var e,n=this.ratioWeightHeightPass,r=this.heightBuffer,i=0,o=0,s=0,a=0,u=0,c=0,l=0;i<1/3;i+=n)for(s=0;s<this.targetWidthMultipliedByChannels;)r[o++]=Math.round(t[s++]);for(i-=1/3,e=this.heightOriginal-1;i<e;i+=n)for(c=1-(l=i%1),u=(a=Math.floor(i)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels,s=0;s<this.targetWidthMultipliedByChannels;++s)r[o++]=Math.round(t[a++]*c+t[u++]*l);for(;o<this.finalResultSize;)for(s=0,a=e*this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)r[o++]=Math.round(t[a++]);return r},r.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},r.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},r.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},r.prototype.bypassResizer=function(t){return t},r.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),t||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},r.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),t||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},r.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(e){return[]}},r.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(e){return[]}},r.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(e){return[]}},e.exports=r},{}],223:[function(t,e,n){(function(t){"use strict";e.exports={nearestNeighbor:function(t,e){for(var n=t.width,r=t.height,i=e.width,o=e.height,s=t.data,a=e.data,u=0;u<o;u++)for(var c=0;c<i;c++){var l=4*(u*i+c),h=4*(Math.floor(u*r/o)*n+Math.floor(c*n/i));a[l++]=s[h++],a[l++]=s[h++],a[l++]=s[h++],a[l++]=s[h++]}},bilinearInterpolation:function(t,e){for(var n=t.width,r=t.height,i=e.width,o=e.height,s=t.data,a=e.data,u=function(t,e,n,r,i){return e===r?n:Math.round((t-e)*i+(r-t)*n)},c=function(t,e,r,i,o,c,l,h){var f=4*(l*n+i)+e,d=4*(l*n+o)+e,p=u(r,i,s[f],o,s[d]);if(h===l)a[t+e]=p;else{var m=u(r,i,s[f=4*(h*n+i)+e],o,s[d=4*(h*n+o)+e]);a[t+e]=u(c,l,p,h,m)}},l=0;l<o;l++)for(var h=0;h<i;h++){var f=4*(l*i+h),d=h*n/i,p=Math.floor(d),m=Math.min(Math.ceil(d),n-1),g=l*r/o,v=Math.floor(g),y=Math.min(Math.ceil(g),r-1);c(f,0,d,p,m,g,v,y),c(f,1,d,p,m,g,v,y),c(f,2,d,p,m,g,v,y),c(f,3,d,p,m,g,v,y)}},_interpolate2D:function(e,n,r,i){for(var o=e.data,s=n.data,a=e.width,u=e.height,c=n.width,l=n.height,h=Math.max(1,Math.floor(a/c)),f=c*h,d=Math.max(1,Math.floor(u/l)),p=l*d,m=t.alloc(f*u*4),g=0;g<u;g++)for(var v=0;v<f;v++)for(var y=v*(a-1)/f,b=Math.floor(y),_=y-b,w=4*(g*a+b),E=4*(g*f+v),S=0;S<4;S++){var I=w+S;m[E+S]=i(b>0?o[I-4]:2*o[I]-o[I+4],o[I],o[I+4],b<a-2?o[I+8]:2*o[I+4]-o[I],_)}for(var x=t.alloc(f*p*4),T=0;T<p;T++)for(var k=0;k<f;k++)for(var C=T*(u-1)/p,A=Math.floor(C),O=C-A,R=4*(A*f+k),P=4*(T*f+k),N=0;N<4;N++){var M=R+N;x[P+N]=i(A>0?m[M-4*f]:2*m[M]-m[M+4*f],m[M],m[M+4*f],A<u-2?m[M+8*f]:2*m[M+4*f]-m[M],O)}var D=h*d;if(D>1)for(var L=0;L<l;L++)for(var j=0;j<c;j++){for(var U=0,F=0,B=0,z=0,q=0,V=0;V<d;V++)for(var H=L*d+V,G=0;G<h;G++){var W=4*(H*f+(j*h+G)),K=x[W+3];K&&(U+=x[W],F+=x[W+1],B+=x[W+2],q++),z+=K}var Y=4*(L*c+j);s[Y]=q?Math.round(U/q):0,s[Y+1]=q?Math.round(F/q):0,s[Y+2]=q?Math.round(B/q):0,s[Y+3]=Math.round(z/D)}else n.data=x},bicubicInterpolation:function(t,e,n){return this._interpolate2D(t,e,n,(function(t,e,n,r,i){var o=r-n-t+e;return Math.max(0,Math.min(255,o*(i*i*i)+i*i*(t-e-o)+(n-t)*i+e))}))},hermiteInterpolation:function(t,e,n){return this._interpolate2D(t,e,n,(function(t,e,n,r,i){return Math.max(0,Math.min(255,Math.round((((.5*(r-t)+1.5*(e-n))*i+(t-2.5*e+2*n-.5*r))*i+.5*(n-t))*i+e)))}))},bezierInterpolation:function(t,e,n){return this._interpolate2D(t,e,n,(function(t,e,n,r,i){var o=1-i;return Math.max(0,Math.min(255,Math.round(e*o*o*o+3*(e+(n-t)/4)*o*o*i+3*(n-(r-e)/4)*o*i*i+n*i*i*i)))}))}}}).call(this,t("buffer").Buffer)},{buffer:48}],224:[function(t,e,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("@jimp/utils");function o(t,e){var n=(t%=360)*Math.PI/180,i=Math.cos(n),o=Math.sin(n),s=this.bitmap.width,a=this.bitmap.height;if(!0===e||"string"==typeof e){(s=Math.ceil(Math.abs(this.bitmap.width*i)+Math.abs(this.bitmap.height*o))+1)%2!=0&&s++,(a=Math.ceil(Math.abs(this.bitmap.width*o)+Math.abs(this.bitmap.height*i))+1)%2!=0&&a++;var u=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data.writeUInt32BE(this._background,n)}));var c=Math.max(s,a,this.bitmap.width,this.bitmap.height);this.resize(c,c,e),this.blit(u,this.bitmap.width/2-u.bitmap.width/2,this.bitmap.height/2-u.bitmap.height/2)}var l=this.bitmap.width,h=this.bitmap.height,f=r.alloc(this.bitmap.data.length);function d(t,e){return function(n,r){return{x:n+t,y:r+e}}}for(var p=d(-l/2,-h/2),m=d(l/2+.5,h/2+.5),g=1;g<=h;g++)for(var v=1;v<=l;v++){var y=p(v,g),b=m(i*y.x-o*y.y,i*y.y+o*y.x),_=l*(g-1)+v-1<<2;if(b.x>=0&&b.x<l&&b.y>=0&&b.y<h){var w=this.bitmap.data.readUInt32BE((l*(0|b.y)+b.x|0)<<2);f.writeUInt32BE(w,_)}else f.writeUInt32BE(this._background,_)}this.bitmap.data=f,(!0===e||"string"==typeof e)&&this.crop(l/2-s/2,h/2-a/2,s,a)}n.default=function(){return{rotate:function(t,e,n){return null==e&&(e=!0),"function"==typeof e&&void 0===n&&(n=e,e=!0),"number"!=typeof t?i.throwError.call(this,"deg must be a number",n):"boolean"!=typeof e&&"string"!=typeof e?i.throwError.call(this,"mode must be a boolean or a string",n):(o.call(this,t,e,n),(0,i.isNodePattern)(n)&&n.call(this,null,this),this)}}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{scale:function(t,e,n){return"number"!=typeof t?r.throwError.call(this,"f must be a number",n):t<0?r.throwError.call(this,"f must be a positive number",n):("function"==typeof e&&void 0===n&&(n=e,e=null),this.resize(this.bitmap.width*t,this.bitmap.height*t,e),(0,r.isNodePattern)(n)&&n.call(this,null,this),this)},scaleToFit:function(t,e,n,i){return"number"!=typeof t||"number"!=typeof e?r.throwError.call(this,"w and h must be numbers",i):("function"==typeof n&&void 0===i&&(i=n,n=null),this.scale(t/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:t/this.bitmap.width,n),(0,r.isNodePattern)(i)&&i.call(this,null,this),this)}}},e.exports=n.default},{"@jimp/utils":235}],226:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{shadow:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={});var i=e,o=i.opacity,s=void 0===o?.7:o,a=i.size,u=void 0===a?1.1:a,c=i.x,l=void 0===c?-25:c,h=i.y,f=void 0===h?25:h,d=i.blur,p=void 0===d?5:d,m=this.clone(),g=this.clone();return g.scan(0,0,g.bitmap.width,g.bitmap.height,(function(e,n,r){g.bitmap.data[r]=0,g.bitmap.data[r+1]=0,g.bitmap.data[r+2]=0,g.bitmap.data[r+3]=g.constructor.limit255(g.bitmap.data[r+3]*s),t.bitmap.data[r]=0,t.bitmap.data[r+1]=0,t.bitmap.data[r+2]=0,t.bitmap.data[r+3]=0})),g.resize(g.bitmap.width*u,g.bitmap.height*u).blur(p),this.composite(g,l,f),this.composite(m,0,0),(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],227:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{threshold:function(t,e){var n=this,i=t.max,o=t.replace,s=void 0===o?255:o,a=t.autoGreyscale,u=void 0===a||a;return"number"!=typeof i?r.throwError.call(this,"max must be a number",e):"number"!=typeof s?r.throwError.call(this,"replace must be a number",e):"boolean"!=typeof u?r.throwError.call(this,"autoGreyscale must be a boolean",e):(i=this.constructor.limit255(i),s=this.constructor.limit255(s),u&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,r){var o=n.bitmap.data[r]<i?n.bitmap.data[r]:s;n.bitmap.data[r]=o,n.bitmap.data[r+1]=o,n.bitmap.data[r+2]=o})),(0,r.isNodePattern)(e)&&e.call(this,null,this),this)}}},e.exports=n.default},{"@jimp/utils":235}],228:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/toConsumableArray")),o=t("timm"),s=r(t("@jimp/plugin-blit")),a=r(t("@jimp/plugin-blur")),u=r(t("@jimp/plugin-circle")),c=r(t("@jimp/plugin-color")),l=r(t("@jimp/plugin-contain")),h=r(t("@jimp/plugin-cover")),f=r(t("@jimp/plugin-crop")),d=r(t("@jimp/plugin-displace")),p=r(t("@jimp/plugin-dither")),m=r(t("@jimp/plugin-fisheye")),g=r(t("@jimp/plugin-flip")),v=r(t("@jimp/plugin-gaussian")),y=r(t("@jimp/plugin-invert")),b=r(t("@jimp/plugin-mask")),_=r(t("@jimp/plugin-normalize")),w=r(t("@jimp/plugin-print")),E=r(t("@jimp/plugin-resize")),S=r(t("@jimp/plugin-rotate")),I=r(t("@jimp/plugin-scale")),x=r(t("@jimp/plugin-shadow")),T=r(t("@jimp/plugin-threshold")),k=[s.default,a.default,u.default,c.default,l.default,h.default,f.default,d.default,p.default,m.default,g.default,v.default,y.default,b.default,_.default,w.default,E.default,S.default,I.default,x.default,T.default];n.default=function(t){var e=k.map((function(e){var n=e(t)||{};return n.class||n.constants||(n={class:n}),n}));return o.mergeDeep.apply(void 0,(0,i.default)(e))},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/defineProperty")),o=r(t("bmp-js")),s=t("@jimp/utils"),a=function(t){return e=o.default.decode(t),(0,s.scan)({bitmap:e},0,0,e.width,e.height,(function(t,n,r){var i=this.bitmap.data[r+0],o=this.bitmap.data[r+1],s=this.bitmap.data[r+2];this.bitmap.data[r+0]=this.bitmap.data[r+3],this.bitmap.data[r+1]=s,this.bitmap.data[r+2]=o,this.bitmap.data[r+3]=e.is_with_alpha?i:255})).bitmap;var e},u=function(t){return o.default.encode(function(t){return(0,s.scan)(t,0,0,t.bitmap.width,t.bitmap.height,(function(t,e,n){var r=this.bitmap.data[n+0],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2];this.bitmap.data[n+0]=this.bitmap.data[n+3],this.bitmap.data[n+1]=o,this.bitmap.data[n+2]=i,this.bitmap.data[n+3]=r})).bitmap}(t)).data};n.default=function(){var t,e;return{mime:(0,i.default)({},"image/bmp",["bmp"]),constants:{MIME_BMP:"image/bmp",MIME_X_MS_BMP:"image/x-ms-bmp"},decoders:(t={},(0,i.default)(t,"image/bmp",a),(0,i.default)(t,"image/x-ms-bmp",a),t),encoders:(e={},(0,i.default)(e,"image/bmp",u),(0,i.default)(e,"image/x-ms-bmp",u),e)}},e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/defineProperty")),s=i(t("omggif")),a=t("gifwrap");n.default=function(){return{mime:(0,o.default)({},"image/gif",["gif"]),constants:{MIME_GIF:"image/gif"},decoders:(0,o.default)({},"image/gif",(function(t){var e=new s.default.GifReader(t),n=r.alloc(e.width*e.height*4);return e.decodeAndBlitFrameRGBA(0,n),{data:n,width:e.width,height:e.height}})),encoders:(0,o.default)({},"image/gif",(function(t){var e=new a.BitmapImage(t.bitmap);a.GifUtil.quantizeDekker(e,256);var n=new a.GifFrame(e);return(new a.GifCodec).encodeGif([n],{}).then((function(t){return t.buffer}))}))}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/defineProperty")),o=r(t("jpeg-js")),s=t("@jimp/utils");n.default=function(){return{mime:(0,i.default)({},"image/jpeg",["jpeg","jpg","jpe"]),constants:{MIME_JPEG:"image/jpeg"},decoders:(0,i.default)({},"image/jpeg",o.default.decode),encoders:(0,i.default)({},"image/jpeg",(function(t){return o.default.encode(t.bitmap,t._quality).data})),class:{_quality:100,quality:function(t,e){return"number"!=typeof t?s.throwError.call(this,"n must be a number",e):t<0||t>100?s.throwError.call(this,"n must be a number 0 - 100",e):(this._quality=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)}}}},e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/defineProperty")),o=t("pngjs"),s=t("@jimp/utils");n.default=function(){return{mime:(0,i.default)({},"image/png",["png"]),constants:{MIME_PNG:"image/png",PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:(0,i.default)({},"image/png",!0),decoders:(0,i.default)({},"image/png",o.PNG.sync.read),encoders:(0,i.default)({},"image/png",(function(t){var e=new o.PNG({width:t.bitmap.width,height:t.bitmap.height});return e.data=t.bitmap.data,o.PNG.sync.write(e,{width:t.bitmap.width,height:t.bitmap.height,deflateLevel:t._deflateLevel,deflateStrategy:t._deflateStrategy,filterType:t._filterType,colorType:"number"==typeof t._colorType?t._colorType:t._rgba?6:2,inputHasAlpha:t._rgba})})),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel:function(t,e){return"number"!=typeof t?s.throwError.call(this,"l must be a number",e):t<0||t>9?s.throwError.call(this,"l must be a number 0 - 9",e):(this._deflateLevel=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},deflateStrategy:function(t,e){return"number"!=typeof t?s.throwError.call(this,"s must be a number",e):t<0||t>3?s.throwError.call(this,"s must be a number 0 - 3",e):(this._deflateStrategy=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},filterType:function(t,e){return"number"!=typeof t?s.throwError.call(this,"n must be a number",e):t<-1||t>4?s.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",e):(this._filterType=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},colorType:function(t,e){return"number"!=typeof t?s.throwError.call(this,"s must be a number",e):0!==t&&2!==t&&4!==t&&6!==t?s.throwError.call(this,"s must be a number 0, 2, 4, 6.",e):(this._colorType=Math.round(t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)}}}},e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/defineProperty")),s=i(t("utif"));n.default=function(){return{mime:(0,o.default)({},"image/tiff",["tiff","tif"]),constants:{MIME_TIFF:"image/tiff"},decoders:(0,o.default)({},"image/tiff",(function(t){var e=s.default.decode(t),n=e[0];s.default.decodeImages(t,e);var i=s.default.toRGBA8(n);return{data:r.from(i),width:n.t256[0],height:n.t257[0]}})),encoders:(0,o.default)({},"image/tiff",(function(t){var e=s.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return r.from(e)}))}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("timm"),o=r(t("@jimp/jpeg")),s=r(t("@jimp/png")),a=r(t("@jimp/bmp")),u=r(t("@jimp/tiff")),c=r(t("@jimp/gif"));n.default=function(){return(0,i.mergeDeep)((0,o.default)(),(0,s.default)(),(0,a.default)(),(0,u.default)(),(0,c.default)())},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.isNodePattern=function(t){if(void 0===t)return!1;if("function"!=typeof t)throw new TypeError("Callback must be a function");return!0},n.throwError=function(t,e){if("string"==typeof t&&(t=new Error(t)),"function"==typeof e)return e.call(this,t);throw t},n.scan=function(t,e,n,r,i,o){e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i);for(var s=n;s<n+i;s++)for(var a=e;a<e+r;a++)o.call(t,a,s,t.bitmap.width*s+a<<2);return t},n.scanIterator=s;var i=r(t("@babel/runtime/regenerator")),o=i.default.mark(s);function s(t,e,n,r,s){var a,u,c;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=Math.round(e),n=Math.round(n),r=Math.round(r),s=Math.round(s),a=n;case 5:if(!(a<n+s)){i.next=17;break}u=e;case 7:if(!(u<e+r)){i.next=14;break}return c=t.bitmap.width*a+u<<2,i.next=11,{x:u,y:a,idx:c,image:t};case 11:u++,i.next=7;break;case 14:a++,i.next=5;break;case 17:case"end":return i.stop()}}),o)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},hfgl:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function t(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function e(t){return!0===(t&&t.__isLong__)}Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var n={},r={};function i(t,e){var i,o,a;return e?(a=0<=(t>>>=0)&&t<256)&&(o=r[t])?o:(i=s(t,(0|t)<0?-1:0,!0),a&&(r[t]=i),i):(a=-128<=(t|=0)&&t<128)&&(o=n[t])?o:(i=s(t,t<0?-1:0,!1),a&&(n[t]=i),i)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?m:p;if(e){if(t<0)return m;if(t>=h)return _}else{if(t<=-f)return w;if(t+1>=f)return b}return t<0?o(-t,e).neg():s(t%l|0,t/l|0,e)}function s(e,n,r){return new t(e,n,r)}t.fromInt=i,t.fromNumber=o,t.fromBits=s;var a=Math.pow;function u(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return p;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(t.substring(1),e,n).neg();for(var i=o(a(n,8)),s=p,c=0;c<t.length;c+=8){var l=Math.min(8,t.length-c),h=parseInt(t.substring(c,c+l),n);if(l<8){var f=o(a(n,l));s=s.mul(f).add(o(h))}else s=(s=s.mul(i)).add(o(h))}return s.unsigned=e,s}function c(e){return e instanceof t?e:"number"==typeof e?o(e):"string"==typeof e?u(e):s(e.low,e.high,e.unsigned)}t.fromString=u,t.fromValue=c;var l=4294967296,h=l*l,f=h/2,d=i(1<<24),p=i(0);t.ZERO=p;var m=i(0,!0);t.UZERO=m;var g=i(1);t.ONE=g;var v=i(1,!0);t.UONE=v;var y=i(-1);t.NEG_ONE=y;var b=s(-1,2147483647,!1);t.MAX_VALUE=b;var _=s(-1,-1,!0);t.MAX_UNSIGNED_VALUE=_;var w=s(0,-2147483648,!1);t.MIN_VALUE=w;var E=t.prototype;return E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},E.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var e=o(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=o(a(t,6),this.unsigned),s=this,u="";;){var c=s.div(i),l=(s.sub(c.mul(i)).toInt()>>>0).toString(t);if((s=c).isZero())return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},E.isZero=function(){return 0===this.high&&0===this.low},E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(t){return e(t)||(t=c(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},E.eq=E.equals,E.notEquals=function(t){return!this.eq(t)},E.neq=E.notEquals,E.lessThan=function(t){return this.comp(t)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(t){return this.comp(t)<=0},E.lte=E.lessThanOrEqual,E.greaterThan=function(t){return this.comp(t)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(t){return this.comp(t)>=0},E.gte=E.greaterThanOrEqual,E.compare=function(t){if(e(t)||(t=c(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(g)},E.neg=E.negate,E.add=function(t){e(t)||(t=c(t));var n=0,r=0,i=0,o=0;return i+=(o+=(65535&this.low)+(65535&t.low))>>>16,r+=(i+=(this.low>>>16)+(t.low>>>16))>>>16,n+=(r+=(65535&this.high)+(65535&t.high))>>>16,n+=(this.high>>>16)+(t.high>>>16),s((i&=65535)<<16|(o&=65535),(n&=65535)<<16|(r&=65535),this.unsigned)},E.subtract=function(t){return e(t)||(t=c(t)),this.add(t.neg())},E.sub=E.subtract,E.multiply=function(t){if(this.isZero())return p;if(e(t)||(t=c(t)),t.isZero())return p;if(this.eq(w))return t.isOdd()?w:p;if(t.eq(w))return this.isOdd()?w:p;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(d)&&t.lt(d))return o(this.toNumber()*t.toNumber(),this.unsigned);var n=65535&this.high,r=this.low>>>16,i=65535&this.low,a=65535&t.high,u=t.low>>>16,l=65535&t.low,h=0,f=0,m=0,g=0;return m+=(g+=i*l)>>>16,f+=(m+=r*l)>>>16,m&=65535,f+=(m+=i*u)>>>16,h+=(f+=n*l)>>>16,f&=65535,h+=(f+=r*u)>>>16,f&=65535,h+=(f+=i*a)>>>16,h+=(this.high>>>16)*l+n*u+r*a+i*(t.high>>>16),s((m&=65535)<<16|(g&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(t){if(e(t)||(t=c(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?m:p;var n,r,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return m;if(t.gt(this.shru(1)))return v;i=m}else{if(this.eq(w))return t.eq(g)||t.eq(y)?w:t.eq(w)?g:(n=this.shr(1).div(t).shl(1)).eq(p)?t.isNegative()?g:y:(r=this.sub(t.mul(n)),i=n.add(r.div(t)));if(t.eq(w))return this.unsigned?m:p;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=p}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:a(2,s-48),l=o(n),h=l.mul(t);h.isNegative()||h.gt(r);)h=(l=o(n-=u,this.unsigned)).mul(t);l.isZero()&&(l=g),i=i.add(l),r=r.sub(h)}return i},E.div=E.divide,E.modulo=function(t){return e(t)||(t=c(t)),this.sub(this.div(t).mul(t))},E.mod=E.modulo,E.not=function(){return s(~this.low,~this.high,this.unsigned)},E.and=function(t){return e(t)||(t=c(t)),s(this.low&t.low,this.high&t.high,this.unsigned)},E.or=function(t){return e(t)||(t=c(t)),s(this.low|t.low,this.high|t.high,this.unsigned)},E.xor=function(t){return e(t)||(t=c(t)),s(this.low^t.low,this.high^t.high,this.unsigned)},E.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?s(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):s(0,this.low<<t-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?s(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):s(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;return t<32?s(this.low>>>t|n<<32-t,n>>>t,this.unsigned):s(32===t?n:n>>>t-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},E.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},E.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})?r.apply(e,[]):r)||(t.exports=i)},iInd:function(t,e,n){"use strict";var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),s=n("Cfvw"),a=n("2Vo4"),u=n("HDdC");function c(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}c.prototype=Object.create(Error.prototype);const l=c;var h=n("itXk"),f=n("NXyV"),d=n("XNiG"),p=n("EY2u"),m=n("lJxs"),g=n("0EUg"),v=n("pLZG"),y=n("7o/Q"),b=n("4I5i");function _(t){return function(e){return 0===t?Object(p.b)():e.lift(new w(t))}}class w{constructor(t){if(this.total=t,this.total<0)throw new b.a}call(t,e){return e.subscribe(new E(t,this.total))}}class E extends y.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var S=n("vkgz");const I=(t=x)=>Object(S.a)({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function x(){return new l}function T(t=null){return e=>e.lift(new k(t))}class k{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new C(t,this.defaultValue))}}class C extends y.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var A=n("SpAZ");function O(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(v.a)((e,n)=>t(e,n,r)):A.a,_(1),n?T(e):I(()=>new l))}var R=n("JIr8"),P=n("IzEk");function N(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(v.a)((e,n)=>t(e,n,r)):A.a,Object(P.a)(1),n?T(e):I(()=>new l))}var M=n("5+tZ");class D{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new L(t,this.predicate,this.thisArg,this.source))}}class L extends y.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var j=n("eIep"),U=n("JX91"),F=n("Kqap"),B=n("bOdf"),z=n("mCNh"),q=n("nYR2"),V=n("bHdf"),H=n("cUpR");n.d(e,"D",(function(){return ut})),n.d(e,"u",(function(){return Sn})),n.d(e,"A",(function(){return Nn})),n.d(e,"w",(function(){return kn})),n.d(e,"B",(function(){return Mn})),n.d(e,"C",(function(){return Dn})),n.d(e,"x",(function(){return An})),n.d(e,"z",(function(){return Pn})),n.d(e,"v",(function(){return xn})),n.d(e,"y",(function(){return Rn})),n.d(e,"E",(function(){return wn})),n.d(e,"m",(function(){return cn})),n.d(e,"o",(function(){return ln})),n.d(e,"n",(function(){return fn})),n.d(e,"q",(function(){return mn})),n.d(e,"d",(function(){return K})),n.d(e,"k",(function(){return Xe})),n.d(e,"l",(function(){return un})),n.d(e,"j",(function(){return tn})),n.d(e,"h",(function(){return En})),n.d(e,"i",(function(){return Ln})),n.d(e,"p",(function(){return Tn})),n.d(e,"b",(function(){return pn})),n.d(e,"e",(function(){return bn})),n.d(e,"f",(function(){return yn})),n.d(e,"g",(function(){return vn})),n.d(e,"r",(function(){return _n})),n.d(e,"a",(function(){return Qt})),n.d(e,"s",(function(){return nn})),n.d(e,"c",(function(){return Ot})),n.d(e,"t",(function(){return At}));class G{constructor(t,e){this.id=t,this.url=e}}class W extends G{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class K extends G{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Y extends G{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $ extends G{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z extends G{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends G{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends G{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J extends G{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends G{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rt{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ut{}class ct{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lt(t){return new ct(t)}function ht(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ft(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class dt{constructor(t,e){this.routes=t,this.module=e}}function pt(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];mt(r,gt(e,r))}}function mt(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&pt(t.children,e)}function gt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function vt(t){const e=t.children&&t.children.map(vt),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ut),n}function yt(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function bt(t){return Array.prototype.concat.apply([],t)}function _t(t){return t.length>0?t[t.length-1]:null}function wt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Et(t){return Object(i.xb)(t)?t:Object(i.yb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function St(t,e,n){return n?function(t,e){return yt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!kt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!kt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!kt(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!kt(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class It{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return Rt.serialize(this)}}class xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pt(this)}}class Tt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}toString(){return Ut(this)}}function kt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ct(t,e){let n=[];return wt(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),wt(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class At{}class Ot{parse(t){const e=new Vt(t);return new It(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Pt(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return wt(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ct(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Pt(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Mt(e)}=${Mt(t)}`).join("&"):`${Mt(e)}=${Mt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Rt=new Ot;function Pt(t){return t.segments.map(t=>Ut(t)).join("/")}function Nt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mt(t){return Nt(t).replace(/%3B/gi,";")}function Dt(t){return Nt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(t){return decodeURIComponent(t)}function jt(t){return Lt(t.replace(/\+/g,"%20"))}function Ut(t){return`${Dt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Dt(t)}=${Dt(e[t])}`).join("")}`;var e}const Ft=/^[^\/()?;=#]+/;function Bt(t){const e=t.match(Ft);return e?e[0]:""}const zt=/^[^=?&#]+/,qt=/^[^?&#]+/;class Vt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new xt(t,e)),n}parseSegment(){const t=Bt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Tt(Lt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Bt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Bt(this.remaining);t&&(n=t,this.capture(n))}t[Lt(e)]=Lt(n)}parseQueryParam(t){const e=function(t){const e=t.match(zt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(qt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=jt(e),i=jt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Bt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new xt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ht{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Gt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Wt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Wt(t,this._root).map(t=>t.value)}}function Gt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Gt(t,n);if(e)return e}return null}function Wt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Wt(t,n);if(r.length)return r.unshift(e),r}return[]}class Kt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $t extends Ht{constructor(t,e){super(t),this.snapshot=e,ee(this,t)}toString(){return this.snapshot.toString()}}function Zt(t,e){const n=function(t,e){const n=new Jt([],{},{},"",{},"primary",e,null,t.root,-1,{});return new te("",new Kt(n,[]))}(t,e),r=new a.a([new Tt("",{})]),i=new a.a({}),o=new a.a({}),s=new a.a({}),u=new a.a(""),c=new Qt(r,i,s,u,o,"primary",e,n.root);return c.snapshot=n.root,new $t(new Kt(c,[]),n)}class Qt{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(m.a)(t=>lt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(m.a)(t=>lt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Jt{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class te extends Ht{constructor(t,e){super(e),this.url=t,ee(this,e)}toString(){return ne(this._root)}}function ee(t,e){e.value._routerState=t,e.children.forEach(e=>ee(t,e))}function ne(t){const e=t.children.length>0?` { ${t.children.map(ne).join(", ")} } `:"";return`${t.value}${e}`}function re(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ie(t,e){var n,r;return yt(t.params,e.params)&&kt(n=t.url,r=e.url)&&n.every((t,e)=>yt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ie(t.parent,e.parent))}function oe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function se(t,e,n,r,i){let o={};return r&&wt(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new It(n.root===t?e:function t(e,n,r){const i={};return wt(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new xt(e.segments,i)}(n.root,t,e),o,i)}class ae{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&oe(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==_t(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ue{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ce(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function le(t,e,n){if(t||(t=new xt([],{})),0===t.segments.length&&t.hasChildren())return he(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=ce(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!me(s,a,e))return o;r+=2}else{if(!me(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new xt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new xt(t.segments.slice(r.pathIndex),t.children),he(e,0,i)}return r.match&&0===i.length?new xt(t.segments,{}):r.match&&!t.hasChildren()?fe(t,e,n):r.match?he(t,0,i):fe(t,e,n)}function he(t,e,n){if(0===n.length)return new xt(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return wt(r,(n,r)=>{null!==n&&(i[r]=le(t.children[r],e,n))}),wt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new xt(t.segments,i)}}function fe(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=de(n[i].outlets);return new xt(r,t)}if(0===i&&oe(n[0])){r.push(new Tt(t.segments[e].path,n[0])),i++;continue}const o=ce(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&oe(s)?(r.push(new Tt(o,pe(s))),i+=2):(r.push(new Tt(o,{})),i++)}return new xt(r,{})}function de(t){const e={};return wt(t,(t,n)=>{null!==t&&(e[n]=fe(new xt([],{}),0,t))}),e}function pe(t){const e={};return wt(t,(t,n)=>e[n]=""+t),e}function me(t,e,n){return t==n.path&&yt(e,n.parameters)}class ge{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),re(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Yt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),wt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Yt(t),i=t.value.component?n.children:e;wt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Yt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new st(t.value.snapshot))}),t.children.length&&this.forwardEvent(new it(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(re(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ve(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ve(t){re(t.value),t.children.forEach(ve)}function ye(t){return"function"==typeof t}function be(t){return t instanceof It}class _e{constructor(t){this.segmentGroup=t||null}}class we{constructor(t){this.urlTree=t}}function Ee(t){return new u.a(e=>e.error(new _e(t)))}function Se(t){return new u.a(e=>e.error(new we(t)))}function Ie(t){return new u.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class xe{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.v)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(m.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(R.a)(t=>{if(t instanceof we)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof _e)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(m.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(R.a)(t=>{if(t instanceof _e)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new xt([],{primary:t}):t;return new It(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(m.a)(t=>new xt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(o.a)({});const n=[],r=[],i={};return wt(t,(t,o)=>{const s=e(o,t).pipe(Object(m.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),o.a.apply(null,n.concat(r)).pipe(Object(g.a)(),O(),Object(m.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(o.a)(...n).pipe(Object(m.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,s).pipe(Object(R.a)(t=>{if(t instanceof _e)return Object(o.a)(null);throw t}))),Object(g.a)(),N(t=>!!t),Object(R.a)((t,n)=>{if(t instanceof l||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(o.a)(new xt([],{}));throw new _e(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Ae(r)!==o?Ee(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ee(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Se(i):this.lineralizeSegments(n,i).pipe(Object(M.a)(n=>{const i=new xt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Te(e,r,i);if(!s)return Ee(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Se(l):this.lineralizeSegments(r,l).pipe(Object(M.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(m.a)(t=>(n._loadedConfig=t,new xt(r,{})))):Object(o.a)(new xt(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=Te(e,n,r);if(!i)return Ee(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(M.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ce(t,e,n)&&"primary"!==Ae(n))}(t,n,r)?{segmentGroup:ke(new xt(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Ae(r)&&(n[Ae(r)]=new xt([],{}));return n}(r,new xt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ce(t,e,n))}(t,n,r)?{segmentGroup:ke(new xt(t.segments,function(t,e,n,r){const i={};for(const o of n)Ce(t,e,o)&&!r[Ae(o)]&&(i[Ae(o)]=new xt([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(m.a)(t=>new xt(s,t))):0===r.length&&0===a.length?Object(o.a)(new xt(s,{})):this.expandSegment(n,i,r,a,"primary",!0).pipe(Object(m.a)(t=>new xt(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new dt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(s.a)(r).pipe(Object(m.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&ye(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ye(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Et(o)})).pipe(Object(g.a)(),(i=t=>!0===t,t=>t.lift(new D(i,void 0,t)))):Object(o.a)(!0);var i}(t.injector,e,n).pipe(Object(M.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(m.a)(t=>(e._loadedConfig=t,t))):function(t){return new u.a(e=>e.error(ht(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new dt([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ie(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new It(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return wt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return wt(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new xt(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Te(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||ft)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ke(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new xt(t.segments.concat(e.segments),e.children)}return t}function Ce(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ae(t){return t.outlet||"primary"}class Oe{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Re{constructor(t,e){this.component=t,this.route=e}}function Pe(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yt(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!kt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kt(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ie(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!ie(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Oe(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Re(u&&u.outlet&&u.outlet.component||null,a))}else a&&Me(n,u,o),o.canActivateChecks.push(new Oe(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),wt(s,(t,e)=>Me(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Ne(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Me(t,e,n){const r=Yt(t),i=t.value;wt(r,(t,r)=>{Me(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Re(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const De=Symbol("INITIAL_VALUE");function Le(){return Object(j.a)(t=>Object(h.a)(...t.map(t=>t.pipe(Object(P.a)(1),Object(U.a)(De)))).pipe(Object(F.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==De)return t;if(r===De&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||be(r))return r}return t},t)},De),Object(v.a)(t=>t!==De),Object(m.a)(t=>be(t)?t:!0===t),Object(P.a)(1)))}function je(t,e){return null!==t&&e&&e(new ot(t)),Object(o.a)(!0)}function Ue(t,e){return null!==t&&e&&e(new rt(t)),Object(o.a)(!0)}function Fe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>Object(f.a)(()=>{const i=Ne(r,e,n);let o;if(function(t){return t&&ye(t.canActivate)}(i))o=Et(i.canActivate(e,t));else{if(!ye(i))throw new Error("Invalid CanActivate guard");o=Et(i(e,t))}return o.pipe(N())}));return Object(o.a)(i).pipe(Le())}function Be(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(f.a)(()=>{const i=e.guards.map(i=>{const o=Ne(i,e.node,n);let s;if(function(t){return t&&ye(t.canActivateChild)}(o))s=Et(o.canActivateChild(r,t));else{if(!ye(o))throw new Error("Invalid CanActivateChild guard");s=Et(o(r,t))}return s.pipe(N())});return Object(o.a)(i).pipe(Le())}));return Object(o.a)(i).pipe(Le())}class ze{}class qe{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ge(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Jt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Kt(n,e),i=new te(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(t){return new u.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Xt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ct(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof ze))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new ze}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ze;if((t.outlet||"primary")!==r)throw new ze;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?_t(n).parameters:{};i=new Jt(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ye(t),r,t.component,t,Ve(e),He(e)+n.length,$e(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ze;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||ft)(n,t,e);if(!r)throw new ze;const i={};wt(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Jt(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ye(t),r,t.component,t,Ve(e),He(e)+o.length,$e(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ge(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Kt(i,t)]}if(0===a.length&&0===c.length)return[new Kt(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Kt(i,l)]}}function Ve(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function He(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ge(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>We(t,e,n)&&"primary"!==Ke(n))}(t,n,r)){const i=new xt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Ke(o)){const n=new xt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ke(o)]=n}return i}(t,e,r,new xt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>We(t,e,n))}(t,n,r)){const o=new xt(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(We(t,n,a)&&!i[Ke(a)]){const n=new xt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ke(a)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new xt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function We(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ke(t){return t.outlet||"primary"}function Ye(t){return t.data||{}}function $e(t){return t.resolve||{}}function Ze(t,e,n,r){const i=Ne(t,e,r);return Et(i.resolve?i.resolve(e,n):i(e,n))}function Qe(t){return function(e){return e.pipe(Object(j.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(m.a)(()=>e)):Object(s.a)([e])}))}}class Xe{}class Je{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const tn=new i.o("ROUTES");class en{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(m.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new dt(bt(r.injector.get(tn)).map(vt),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):Et(t()).pipe(Object(M.a)(t=>t instanceof i.t?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class nn{}class rn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function on(t){throw t}function sn(t,e,n){return e.parse("/")}function an(t,e){return Object(o.a)(null)}class un{constructor(t,e,n,r,o,s,u,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new d.a,this.errorHandler=on,this.malformedUriErrorHandler=sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:an,afterPreactivation:an},this.urlHandlingStrategy=new rn,this.routeReuseStrategy=new Je,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.v),this.console=o.get(i.bb);const l=o.get(i.x);this.isNgZoneEnabled=l instanceof i.x,this.resetConfig(c),this.currentUrlTree=new It(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new en(s,u,t=>this.triggerEvent(new et(t)),t=>this.triggerEvent(new nt(t))),this.routerState=Zt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(v.a)(t=>0!==t.id),Object(m.a)(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(j.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object(S.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(j.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(j.a)(t=>{const n=this.transitions.getValue();return e.next(new W(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?p.a:[t]}),Object(j.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(j.a)(t=>function(t,e,n,r,i){return new xe(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(m.a)(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),Object(S.a)(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(M.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new qe(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(m.a)(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(S.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(S.a)(t=>{const n=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new W(n,this.serializeUrl(r),i,s);e.next(u);const c=Zt(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign({},t,{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign({},a,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),p.a}),Qe(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(S.a)(t=>{const e=new Q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(m.a)(t=>Object.assign({},t,{guards:Pe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(M.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(M.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(o=>{const s=Ne(o,e,i);let a;if(function(t){return t&&ye(t.canDeactivate)}(s))a=Et(s.canDeactivate(t,e,n,r));else{if(!ye(s))throw new Error("Invalid CanDeactivate guard");a=Et(s(t,e,n,r))}return a.pipe(N())});return Object(o.a)(a).pipe(Le())}(t.component,t.route,n,e,r)),N(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(M.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(B.a)(e=>Object(s.a)([Ue(e.route.parent,r),je(e.route,r),Be(t,e.path,n),Fe(t,e.route,n)]).pipe(Object(g.a)(),N(t=>!0!==t,!0))),N(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(m.a)(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(S.a)(t=>{if(be(t.guardsResult)){const e=ht(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(S.a)(t=>{const e=new X(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(v.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Y(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Qe(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(S.a)(t=>{const e=new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(M.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(s.a)(i).pipe(Object(B.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});if(1===i.length){const o=i[0];return Ze(t[o],e,n,r).pipe(Object(m.a)(t=>({[o]:t})))}const a={};return Object(s.a)(i).pipe(Object(M.a)(i=>Ze(t[i],e,n,r).pipe(Object(m.a)(t=>(a[i]=t,t))))).pipe(O(),Object(m.a)(()=>a))}(t._resolve,t,e,r).pipe(Object(m.a)(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Xt(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(z.a)(Object(F.a)(t,e),_(1),T(e))(n)}:function(e){return Object(z.a)(Object(F.a)((e,n,r)=>t(e,n,r+1)),_(1))(e)}}((t,e)=>t),Object(m.a)(e=>t)):Object(o.a)(t)}))}),Object(S.a)(t=>{const e=new tt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Qe(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(m.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Kt(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Qt(new a.a((i=n.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Kt(r,o)}}var i}(t,e._root,n?n._root:void 0);return new $t(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Object(S.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,u=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(m.a)(t=>(new ge(u,t.targetRouterState,t.currentRouterState,c).activate(i),t))),Object(S.a)({next(){n=!0},complete(){n=!0}}),Object(q.a)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Y(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(R.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=be(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Y(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new $(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return p.a}));var i,u,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){pt(t),this.config=t.map(vt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(i.W)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return se(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ae(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return wt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ae(n,e,r)}(n);if(o.toRoot())return se(e.root,new xt([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ue(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ue(n.snapshot._urlSegment,!0,0);const r=oe(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ue(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?he(s.segmentGroup,s.index,o.commands):le(s.segmentGroup,s.index,o.commands);return se(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.W)()&&this.isNgZoneEnabled&&!i.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=be(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(be(t))return St(this.currentUrlTree,t,e);const n=this.parseUrl(t);return St(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class cn{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:hn(this.skipLocationChange),replaceUrl:hn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:hn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:hn(this.preserveFragment)})}}class ln{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof K&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:hn(this.skipLocationChange),replaceUrl:hn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:hn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:hn(this.preserveFragment)})}}function hn(t){return""===t||!!t}class fn{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof K&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class dn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new pn,this.attachRef=null}}class pn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new dn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class mn{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new gn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class gn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Qt?this.route:t===pn?this.childContexts:this.parent.get(t,e)}}class vn{}class yn{preload(t,e){return e().pipe(Object(R.a)(()=>Object(o.a)(null)))}}class bn{preload(t,e){return Object(o.a)(null)}}class _n{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new en(e,n,e=>t.triggerEvent(new et(e)),e=>t.triggerEvent(new nt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(v.a)(t=>t instanceof K),Object(B.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.v);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(V.a)(),Object(m.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(M.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class wn{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof W?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof K&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof at&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new at(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const En=new i.o("ROUTER_CONFIGURATION"),Sn=new i.o("ROUTER_FORROOT_GUARD"),In=[r.i,{provide:At,useClass:Ot},{provide:un,useFactory:Rn,deps:[i.g,At,pn,r.i,i.p,i.u,i.i,tn,En,[nn,new i.y],[Xe,new i.y]]},pn,{provide:Qt,useFactory:Pn,deps:[un]},{provide:i.u,useClass:i.J},_n,bn,yn,{provide:En,useValue:{enableTracing:!1}}];function xn(){return new i.w("Router",un)}class Tn{constructor(t,e){}static forRoot(t,e){return{ngModule:Tn,providers:[In,On(t),{provide:Sn,useFactory:An,deps:[[un,new i.y,new i.I]]},{provide:En,useValue:e||{}},{provide:r.j,useFactory:Cn,deps:[r.t,[new i.n(r.a),new i.y],En]},{provide:wn,useFactory:kn,deps:[un,r.u,En]},{provide:vn,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:bn},{provide:i.w,multi:!0,useFactory:xn},[Nn,{provide:i.d,multi:!0,useFactory:Mn,deps:[Nn]},{provide:Ln,useFactory:Dn,deps:[Nn]},{provide:i.b,multi:!0,useExisting:Ln}]]}}static forChild(t){return{ngModule:Tn,providers:[On(t)]}}}function kn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wn(t,e,n)}function Cn(t,e,n={}){return n.useHash?new r.f(t,e):new r.s(t,e)}function An(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function On(t){return[{provide:i.a,multi:!0,useValue:t},{provide:tn,multi:!0,useValue:t}]}function Rn(t,e,n,r,i,o,s,a,u={},c,l){const h=new un(null,e,n,r,i,o,s,bt(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Object(H.r)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Pn(t){return t.routerState.root}class Nn{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new d.a}appInitializer(){return this.injector.get(r.h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(un),r=this.injector.get(En);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(En),n=this.injector.get(_n),r=this.injector.get(wn),o=this.injector.get(un),s=this.injector.get(i.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Mn(t){return t.appInitializer.bind(t)}function Dn(t){return t.bootstrapListener.bind(t)}const Ln=new i.o("Router Initializer")},itXk:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),s=n("ZUHj"),a=n("yCtX");const u={};function c(...t){let e=null,n=null;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends o.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(s.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===u?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(...t){return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:r.a}},mrSG:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return r}))},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(t){return e=>e.lift(new s(t))}class s{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends r.a{constructor(t,e){super(t),this.add(new i.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},omvX:function(t,e,n){"use strict";n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return m})),n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return d}));var r=n("8Y7J"),i=(n("cUpR"),n("GS7A")),o=n("fDlF");class s extends i.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(i.i)(t):t;return c(this._renderer,null,e,"register",[n]),new a(e,this._renderer)}}class a extends i.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new u(this._id,t,e||{},this._renderer)}}class u{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return c(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function c(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}class l{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new h("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new f(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class h{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class f extends h{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class d extends o.b{constructor(t,e,n){super(t.body,e,n)}}function p(){return new o.g}function m(t,e,n){return new l(t,e,n)}const g=new r.o("AnimationModuleType");class v{}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pLzU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Lhse");const i=t=>e=>{const n=t[r.a]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e}},pMnS:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("8Y7J"),i=n("iInd"),o=r.qb({encapsulation:2,styles:[],data:{}});function s(t){return r.Nb(0,[(t()(),r.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(1,212992,null,0,i.q,[i.b,r.O,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}function a(t){return r.Nb(0,[(t()(),r.sb(0,0,null,null,1,"ng-component",[],null,null,null,s,o)),r.rb(1,49152,null,0,i.D,[],null,null)],null,null)}var u=r.ob("ng-component",i.D,a,{},{},[])},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return k})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return O})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return m})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return y})),n.d(e,"n",(function(){return b})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return v})),n.d(e,"r",(function(){return w})),n.d(e,"s",(function(){return _}));var o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){return function(t){var e=o(t);return s.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function u(t){return c(void 0,t)}function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=c(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return f().indexOf("Electron/")>=0}function b(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _(){return f().indexOf("MSAppHost/")>=0}function w(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?I(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new E(i,a,r);return u},t}();function I(t,e){return t.replace(x,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(){}function O(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}n.d(e,"a",(function(){return a}));const a=new s(i)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function s(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}s.prototype=Object.create(Error.prototype);const a=s;n.d(e,"a",(function(){return u}));let u=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:s,_unsubscribe:u,_subscriptions:l}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let h=-1,f=s?s.length:0;for(;n;)n.remove(this),n=++h<f&&s[h]||null;if(Object(o.a)(u))try{u.call(this)}catch(d){e=!0,t=d instanceof a?c(d.errors):[d]}if(Object(r.a)(l))for(h=-1,f=l.length;++h<f;){const n=l[h];if(Object(i.a)(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof a?t=t.concat(c(d.errors)):t.push(d)}}if(e)throw new a(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof a?e.errors:e),[])}},trGy:function(t,e,n){"use strict";var r=n("2Vo4"),i=n("Cfvw"),o=n("lJxs");class s{}n("6nsN");var a=n("Jgta"),u=n("yXDX"),c=n.n(u);n("Tlfp"),n("v/ix"),n("F/NL"),n("XBV3"),n("+OzK"),(function(){(function(){var t,e,n="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var r;t:{var i={};try{i.__proto__={xb:!0},r=i.xb;break t}catch($t){}r=!1}e=r?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var o=e;function s(t,e){if(t.prototype=n(e.prototype),t.prototype.constructor=t,o)o(t,e);else for(var r in e)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,r);i&&Object.defineProperty(t,r,i)}else t[r]=e[r];t.K=e.prototype}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},c="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function l(t,e){if(e){var n=c;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&u(n,t,{configurable:!0,writable:!0,value:e})}}l("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),l("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}}));var h=this;function f(t){return void 0!==t}function d(t){return"string"==typeof t}var p=/^[\w+/_-]+[=]{0,2}$/,m=null;function g(){}function v(t){t.W=void 0,t.Xa=function(){return t.W?t.W:t.W=new t}}function y(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function b(t){return"array"==y(t)}function _(t){var e=y(t);return"array"==e||"object"==e&&"number"==typeof t.length}function w(t){return"function"==y(t)}function E(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var S="closure_uid_"+(1e9*Math.random()>>>0),I=0;function x(t,e,n){return t.call.apply(t.bind,arguments)}function T(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function k(t,e,n){return(k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:T).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function A(t,e){for(var n in e)t[n]=e[n]}var O,R=Date.now||function(){return+new Date};function P(t,e){t=t.split(".");var n,r=h;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&f(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function N(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.wc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function L(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}N(M,Error),M.prototype.name="CustomError",N(D,M),D.prototype.name="AssertionError";var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(d(t))return d(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=d(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},F=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=d(t)?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=d(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=d(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=j(t,e)}function V(t,e){var n;return(n=0<=(e=j(t,e)))&&H(t,e),n}function H(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function G(t){return Array.prototype.concat.apply([],arguments)}function W(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function K(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$=/&/g,Z=/</g,Q=/>/g,X=/"/g,J=/'/g,tt=/\x00/g,et=/[\x00&<>"']/;function nt(t,e){return t<e?-1:t>e?1:0}function rt(t){return et.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace($,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(X,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(J,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(tt,"&#0;"))),t}function it(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ot(t){var e,n={};for(e in t)n[e]=t[e];return n}var st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<st.length;o++)n=st[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}var ut="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function ct(){}function lt(t){if(t instanceof ct)return t;if("function"==typeof t.ha)return t.ha(!1);if(_(t)){var e=0,n=new ct;return n.next=function(){for(;;){if(e>=t.length)throw ut;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function ht(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ht)for(n=t.ja(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ft(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];dt(t.g,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.h!=t.a.length){var i={};for(n=e=0;e<t.a.length;)dt(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}ct.prototype.next=function(){throw ut},ct.prototype.ha=function(){return this},(t=ht.prototype).la=function(){ft(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},t.ja=function(){return ft(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0},t.get=function(t,e){return dt(this.g,t)?this.g[t]:e},t.set=function(t,e){dt(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},t.forEach=function(t,e){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.ha=function(t){ft(this);var e=0,n=this.j,r=this,i=new ct;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(e>=r.a.length)throw ut;var i=r.a[e++];return t?i:r.g[i]},i};var pt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mt(t,e,n,r){for(var i=n.length;0<=(e=t.indexOf(n,e))&&e<r;){var o=t.charCodeAt(e-1);if(!(38!=o&&63!=o||(o=t.charCodeAt(e+i))&&61!=o&&38!=o&&35!=o))return e;e+=i+1}return-1}var gt=/#|$/;function vt(t,e){var n=t.search(gt),r=mt(t,0,e,n);if(0>r)return null;var i=t.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=e.length+1,decodeURIComponent(t.substr(r,i-r).replace(/\+/g," "))}var yt=/[?&]($|#)/;function bt(t,e){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,t instanceof bt?(this.i=f(e)?e:t.i,_t(this,t.j),this.A=t.A,this.h=t.h,wt(this,t.C),this.g=t.g,Et(this,Lt(t.a)),this.s=t.s):t&&(n=String(t).match(pt))?(this.i=!!e,_t(this,n[1]||"",!0),this.A=It(n[2]||""),this.h=It(n[3]||"",!0),wt(this,n[4]),this.g=It(n[5]||"",!0),Et(this,n[6]||"",!0),this.s=It(n[7]||"")):(this.i=!!e,this.a=new Pt(null,this.i))}function _t(t,e,n){t.j=n?It(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function Et(t,e,n){e instanceof Pt?(t.a=e,function(t,e){e&&!t.j&&(Nt(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Mt(this,e),Mt(this,n),0<t.length&&(this.h=null,this.a.set(jt(this,n),W(t)),this.g+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=xt(e,Ot)),t.a=new Pt(e,t.i))}function St(t){return t instanceof bt?new bt(t):new bt(t,void 0)}function It(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xt(t,e,n){return d(t)?(t=encodeURI(t).replace(e,Tt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Tt(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xt(e,kt,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.A)&&t.push(xt(e,kt,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(xt(n,"/"==n.charAt(0)?At:Ct,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.s)&&t.push("#",xt(n,Rt)),t.join("")};var kt=/[#\/\?@]/g,Ct=/[#\?:]/g,At=/[#\?]/g,Ot=/[#\?@]/g,Rt=/#/g;function Pt(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function Nt(t){t.a||(t.a=new ht,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Mt(t,e){Nt(t),e=jt(t,e),dt(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,dt((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&ft(t)))}function Dt(t,e){return Nt(t),e=jt(t,e),dt(t.a.g,e)}function Lt(t){var e=new Pt;return e.h=t.h,t.a&&(e.a=new ht(t.a),e.g=t.g),e}function jt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ut(t){this.a=St(t)}function Ft(t){return t.a.a.get(qt.Pa)||null}function Bt(t,e){e?t.a.a.set(qt.PROVIDER_ID,e):Mt(t.a.a,qt.PROVIDER_ID)}(t=Pt.prototype).add=function(t,e){Nt(this),this.h=null,t=jt(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},t.clear=function(){this.a=this.h=null,this.g=0},t.forEach=function(t,e){Nt(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.ja=function(){Nt(this);for(var t=this.a.la(),e=this.a.ja(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.la=function(t){Nt(this);var e=[];if(d(t))Dt(this,t)&&(e=G(e,this.a.get(jt(this,t))));else{t=this.a.la();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Nt(this),this.h=null,Dt(this,t=jt(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},t.get=function(t,e){return t&&0<(t=this.la(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ja(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.la(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.h=t.join("&")},Ut.prototype.toString=function(){return this.a.toString()};var zt,qt={Pa:"ui_auid",mc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};t:{var Vt=h.navigator;if(Vt){var Ht=Vt.userAgent;if(Ht){zt=Ht;break t}}zt=""}function Gt(t){return-1!=zt.indexOf(t)}function Wt(){return(Gt("Chrome")||Gt("CriOS"))&&!Gt("Edge")}function Kt(t){return Kt[" "](t),t}Kt[" "]=g;var Yt,$t,Zt=Gt("Opera"),Qt=Gt("Trident")||Gt("MSIE"),Xt=Gt("Edge"),Jt=Xt||Qt,te=Gt("Gecko")&&!(-1!=zt.toLowerCase().indexOf("webkit")&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),ee=-1!=zt.toLowerCase().indexOf("webkit")&&!Gt("Edge"),ne=ee&&Gt("Mobile"),re=Gt("Macintosh");function ie(){var t=h.document;return t?t.documentMode:void 0}t:{var oe="",se=($t=zt,te?/rv:([^\);]+)(\)|;)/.exec($t):Xt?/Edge\/([\d\.]+)/.exec($t):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($t):ee?/WebKit\/(\S+)/.exec($t):Zt?/(?:Version)[ \/]?(\S+)/.exec($t):void 0);if(se&&(oe=se?se[1]:""),Qt){var ae=ie();if(null!=ae&&ae>parseFloat(oe)){Yt=String(ae);break t}}Yt=oe}var ue,ce={};function le(t){return function(t,e){var n=ce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Y(String(Yt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=nt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||nt(0==s[2].length,0==a[2].length)||nt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var he=h.document;function fe(t,e){this.a=t===pe&&e||"",this.g=de}ue=he&&Qt?ie()||("CSS1Compat"==he.compatMode?parseInt(Yt,10):5):void 0,fe.prototype.ma=!0,fe.prototype.ka=function(){return this.a},fe.prototype.toString=function(){return"Const{"+this.a+"}"};var de={},pe={};function me(){this.a="",this.h=ve}function ge(t){return t instanceof me&&t.constructor===me&&t.h===ve?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+y(t)),"type_error:TrustedResourceUrl")}me.prototype.ma=!0,me.prototype.ka=function(){return this.a.toString()},me.prototype.g=function(){return 1},me.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ve={};function ye(){this.a="",this.h=Se}function be(t){return t instanceof ye&&t.constructor===ye&&t.h===Se?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+y(t)),"type_error:SafeUrl")}ye.prototype.ma=!0,ye.prototype.ka=function(){return this.a.toString()},ye.prototype.g=function(){return 1},ye.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var _e=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function we(t){return t instanceof ye?t:(t="object"==typeof t&&t.ma?t.ka():String(t),_e.test(t)||(t="about:invalid#zClosurez"),Ie(t))}function Ee(t){return t instanceof ye?t:(t="object"==typeof t&&t.ma?t.ka():String(t),_e.test(t)||(t="about:invalid#zClosurez"),Ie(t))}var Se={};function Ie(t){var e=new ye;return e.a=t,e}function xe(){this.a="",this.g=Te}Ie("about:blank"),xe.prototype.ma=!0;var Te={};function ke(){this.a="",this.j=Ae,this.h=null}function Ce(t){return t instanceof ke&&t.constructor===ke&&t.j===Ae?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+y(t)),"type_error:SafeHtml")}xe.prototype.ka=function(){return this.a},xe.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},ke.prototype.g=function(){return this.h},ke.prototype.ma=!0,ke.prototype.ka=function(){return this.a.toString()},ke.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ae={};function Oe(t,e){var n=new ke;return n.a=t,n.h=e,n}Oe("<!DOCTYPE html>",0);var Re=Oe("",0);Oe("<br>",0);var Pe,Ne,Me=(Ne=!1,function(){return Ne||(Pe=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=Ce(Re),!e.parentElement)}(),Ne=!0),Pe});function De(t,e){e=e instanceof ye?e:Ee(e),t.assign(be(e))}function Le(t,e){this.a=f(t)?t:0,this.g=f(e)?e:0}function je(t,e){this.width=t,this.height=e}function Ue(t){return t?new Ye(Ge(t)):O||(O=new Ye)}function Fe(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):ze(document,t,e)}function Be(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var r=e||n;t=r.querySelectorAll&&r.querySelector&&t?r.querySelector(t?"."+t:""):ze(n,t,e)[0]||null}return t||null}function ze(t,e,n){var r;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var i=t.getElementsByClassName(e);return i}if(i=t.getElementsByTagName("*"),e){var o={};for(n=r=0;t=i[n];n++){var s=t.className;"function"==typeof s.split&&q(s.split(/\s+/),e)&&(o[r++]=t)}return o.length=r,o}return i}Le.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Le.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Le.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Le.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(t=je.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var qe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ve(t){return t.scrollingElement?t.scrollingElement:(ee||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function He(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ge(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function We(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(Ge(t).createTextNode(String(e)))}}function Ke(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||d(t.className)&&q(t.className.split(/\s+/),e)})):null}function Ye(t){this.a=t||h.document||document}Ye.prototype.N=function(){return d(void 0)?this.a.getElementById(void 0):void 0};var $e={Gc:!0},Ze={Ic:!0},Qe={Fc:!0},Xe={Hc:!0};function Je(){throw Error("Do not instantiate directly")}function tn(t,e,n,r){if(t=t(e||nn,void 0,n),r=(r||Ue()).a.createElement("DIV"),(t=function(t){if(!E(t))return rt(String(t));if(t instanceof Je){if(t.fa===$e)return t.content;if(t.fa===Xe)return rt(t.content)}return L("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(en),t=Oe(t,null),Me())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ce(t),1==r.childNodes.length&&1==(t=r.firstChild).nodeType&&(r=t),r}Je.prototype.va=null,Je.prototype.toString=function(){return this.content};var en=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,nn={};function rn(){Je.call(this)}function on(t){return null!=t&&t.fa===$e?t:t instanceof ke?cn(Ce(t).toString(),t.g()):cn(rt(String(String(t))),function(t){if(null!=t)switch(t.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function sn(){Je.call(this)}function an(t,e){this.content=String(t),this.va=null!=e?e:null}function un(t){return new an(t,void 0)}N(rn,Je),rn.prototype.fa=$e,N(sn,Je),sn.prototype.fa=Ze,sn.prototype.va=1,N(an,Je),an.prototype.fa=Xe;var cn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.va=n),t}}(rn),ln=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(sn);function hn(t){return(t=String(t))?new an(t,void 0):""}var fn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.va=n),t):""}}(rn);function dn(t){return null!=t&&t.fa===$e?String(String(t.content).replace(In,"").replace(xn,"&lt;")).replace(_n,vn):rt(String(t))}function pn(t){return null!=t&&t.fa===Ze?t=String(t).replace(wn,bn):t instanceof ye?t=String(be(t).toString()).replace(wn,bn):(t=String(t),Sn.test(t)?t=t.replace(wn,bn):(L("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function mn(t){return null!=t&&t.fa===Qe?t=t.content:null==t?t="":t instanceof xe?t instanceof xe&&t.constructor===xe&&t.g===Te?t=t.a:(L("expected object of type SafeStyle, got '"+t+"' of type "+y(t)),t="type_error:SafeStyle"):(t=String(t),En.test(t)||(L("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var gn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function vn(t){return gn[t]}var yn={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function bn(t){return yn[t]}var _n=/[\x00\x22\x27\x3c\x3e]/g,wn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,En=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Sn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,In=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,xn=/</g;function Tn(){return un("Enter a valid phone number")}function kn(){return un("Unable to send password reset code to specified email")}function Cn(){return un("Something went wrong. Please try again.")}function An(){return un("This email already exists without any means of sign-in. Please reset the password to recover.")}function On(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return un(e)}function Rn(){return un("Please login again to perform this operation")}function Pn(t,e,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Nn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=Cn()}t=un(t).toString()}this.message=t||"",this.credential=n||null}s(Pn,Error),Pn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Nn="firebaseui/";function Mn(){0!=Dn&&(Ln[this[S]||(this[S]=++I)]=this),this.T=this.T,this.C=this.C}var Dn=0,Ln={};function jn(t,e){t.T?f(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(f(void 0)?k(e,void 0):e))}function Un(t){t&&"function"==typeof t.m&&t.m()}Mn.prototype.T=!1,Mn.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=Dn)){var t=this[S]||(this[S]=++I);if(0!=Dn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ln[t]}},Mn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Fn=Object.freeze||function(t){return t},Bn=!Qt||9<=Number(ue),zn=Qt&&!le("9"),qn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",g,e),h.removeEventListener("test",g,e)}catch(Pe){}return t}();function Vn(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.qb=!0}function Hn(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(te){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=d(t.pointerType)?t.pointerType:Gn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Vn.prototype.stopPropagation=function(){this.h=!0},Vn.prototype.preventDefault=function(){this.qb=!1},N(Hn,Vn);var Gn=Fn({2:"touch",3:"pen",4:"mouse"});Hn.prototype.stopPropagation=function(){Hn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Hn.prototype.preventDefault=function(){Hn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,zn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(Ne){}};var Wn="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Yn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++Kn,this.sa=this.Ia=!1}function $n(t){t.sa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Zn(t){this.src=t,this.a={},this.g=0}function Qn(t,e){var n=e.type;n in t.a&&V(t.a[n],e)&&($n(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function Xn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.sa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}Zn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var s=Xn(t,e,r,i);return-1<s?(e=t[s],n||(e.Ia=!1)):((e=new Yn(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var Jn="closure_lm_"+(1e6*Math.random()|0),tr={};function er(t,e,n,r,i){if(r&&r.once)return rr(t,e,n,r,i);if(b(e)){for(var o=0;o<e.length;o++)er(t,e[o],n,r,i);return null}return n=fr(n),t&&t[Wn]?t.J.add(String(e),n,!1,E(r)?!!r.capture:!!r,i):nr(t,e,n,!1,r,i)}function nr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=E(i)?!!i.capture:!!i,a=lr(t);if(a||(t[Jn]=a=new Zn(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=cr,e=Bn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function rr(t,e,n,r,i){if(b(e)){for(var o=0;o<e.length;o++)rr(t,e[o],n,r,i);return null}return n=fr(n),t&&t[Wn]?t.J.add(String(e),n,!0,E(r)?!!r.capture:!!r,i):nr(t,e,n,!0,r,i)}function ir(t,e,n,r,i){if(b(e))for(var o=0;o<e.length;o++)ir(t,e[o],n,r,i);else r=E(r)?!!r.capture:!!r,n=fr(n),t&&t[Wn]?(t=t.J,(e=String(e).toString())in t.a&&-1<(n=Xn(o=t.a[e],n,r,i))&&($n(o[n]),H(o,n),0==o.length&&(delete t.a[e],t.g--))):t&&(t=lr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xn(e,n,r,i)),(n=-1<t?e[t]:null)&&or(n))}function or(t){if("number"!=typeof t&&t&&!t.sa){var e=t.src;if(e&&e[Wn])Qn(e.J,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lr(e))?(Qn(n,t),0==n.g&&(n.src=null,e[Jn]=null)):$n(t)}}}function sr(t){return t in tr?tr[t]:tr[t]="on"+t}function ar(t,e,n,r){var i=!0;if((t=lr(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.sa&&(o=ur(o,r),i=i&&!1!==o)}return i}function ur(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&or(t),n.call(r,e)}function cr(t,e){if(t.sa)return!0;if(!Bn){if(!e)t:{e=["window","event"];for(var n=h,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Hn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.g;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.h&&0<=i;i--){e.g=r[i];var o=ar(r[i],t,!0,e);n=n&&o}for(i=0;!e.h&&i<r.length;i++)e.g=r[i],o=ar(r[i],t,!1,e),n=n&&o}return n}return ur(t,new Hn(e,this))}function lr(t){return(t=t[Jn])instanceof Zn?t:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(t){return w(t)?t:(t[hr]||(t[hr]=function(e){return t.handleEvent(e)}),t[hr])}function dr(){Mn.call(this),this.J=new Zn(this),this.wb=this,this.Ha=null}function pr(t,e){var n,r=t.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(t=t.wb,r=e.type||e,d(e))e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;at(e=new Vn(r,t),i)}if(i=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var s=e.g=n[o];i=mr(s,r,!0,e)&&i}if(e.h||(i=mr(s=e.g=t,r,!0,e)&&i,e.h||(i=mr(s,r,!1,e)&&i)),n)for(o=0;!e.h&&o<n.length;o++)i=mr(s=e.g=n[o],r,!1,e)&&i;return i}function mr(t,e,n,r){if(!(e=t.J.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.sa&&s.capture==n){var a=s.listener,u=s.La||s.src;s.Ia&&Qn(t.J,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.qb}N(dr,Mn),dr.prototype[Wn]=!0,dr.prototype.Za=function(t){this.Ha=t},dr.prototype.removeEventListener=function(t,e,n,r){ir(this,t,e,n,r)},dr.prototype.o=function(){if(dr.K.o.call(this),this.J){var t,e=this.J;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)$n(n[r]);delete e.a[t],e.g--}}this.Ha=null};var gr={},vr=0;function yr(t,e){if(!t)throw Error("Event target element must be provided!");if(t=br(t),gr[t]&&gr[t].length)for(var n=0;n<gr[t].length;n++)pr(gr[t][n],e)}function br(t){return void 0===t.a&&(t.a=vr,vr++),t.a}function _r(t){if(!t)throw Error("Event target element must be provided!");dr.call(this),this.a=t}function wr(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(Ne){return!1}}function Er(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function Sr(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function Ir(){this.g=this.a=null}s(_r,dr),_r.prototype.N=function(){return this.a},_r.prototype.register=function(){var t=br(this.N());gr[t]?q(gr[t],this)||gr[t].push(this):gr[t]=[this]},Er.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var xr,Tr,kr=new Er((function(){return new Ar}),(function(t){t.reset()}));function Cr(){var t=Nr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function Ar(){this.next=this.g=this.a=null}function Or(t){h.setTimeout((function(){throw t}),0)}function Rr(t,e){Tr||function(){if(h.Promise&&h.Promise.resolve){var t=h.Promise.resolve(void 0);Tr=function(){t.then(Mr)}}else Tr=function(){var t=Mr;!w(h.setImmediate)||h.Window&&h.Window.prototype&&!Gt("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(xr||(xr=function(){var t=h.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Gt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=k((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!Gt("Trident")&&!Gt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(f(n.next)){var t=(n=n.next).gb;n.gb=null,t()}},function(t){r.next={gb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){h.setTimeout(t,0)}}()),xr(t)):h.setImmediate(t)}}(),Pr||(Tr(),Pr=!0),Nr.add(t,e)}Ir.prototype.add=function(t,e){var n=kr.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},Ar.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},Ar.prototype.reset=function(){this.next=this.g=this.a=null};var Pr=!1,Nr=new Ir;function Mr(){for(var t;t=Cr();){try{t.a.call(t.g)}catch(Ne){Or(Ne)}Sr(kr,t)}Pr=!1}function Dr(t){if(this.a=Lr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,t!=g)try{var e=this;t.call(void 0,(function(t){Wr(e,jr,t)}),(function(t){if(!(t instanceof Xr))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(n){}Wr(e,Ur,t)}))}catch(Pe){Wr(this,Ur,Pe)}}var Lr=0,jr=2,Ur=3;function Fr(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Fr.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Br=new Er((function(){return new Fr}),(function(t){t.reset()}));function zr(t,e,n){var r=Br.get();return r.s=t,r.g=e,r.j=n,r}function qr(t){if(t instanceof Dr)return t;var e=new Dr(g);return Wr(e,jr,t),e}function Vr(t){return new Dr((function(e,n){n(t)}))}function Hr(t,e){t.g||t.a!=jr&&t.a!=Ur||Kr(t),t.j?t.j.next=e:t.g=e,t.j=e}function Gr(t,e,n,r){var i=zr(null,null,null);return i.a=new Dr((function(t,o){i.s=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.g=n?function(e){try{var i=n.call(r,e);!f(i)&&e instanceof Xr?o(e):t(i)}catch(s){o(s)}}:o})),i.a.h=t,Hr(t,i),i.a}function Wr(t,e,n){if(t.a==Lr){t===n&&(e=Ur,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var r=n,i=t.hc,o=t.ic;if(r instanceof Dr){Hr(r,zr(i||g,o||null,t));var s=!0}else if(wr(r))r.then(i,o,t),s=!0;else{if(E(r))try{var a=r.then;if(w(a)){!function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(r,a,i,o,t),s=!0;break t}}catch(u){o.call(t,u),s=!0;break t}s=!1}}s||(t.A=n,t.a=e,t.h=null,Kr(t),e!=Ur||n instanceof Xr||function(t,e){t.s=!0,Rr((function(){t.s&&Qr.call(null,e)}))}(t,n))}}function Kr(t){t.i||(t.i=!0,Rr(t.Hb,t))}function Yr(t){var e=null;return t.g&&(t.g=(e=t.g).next,e.next=null),t.g||(t.j=null),e}function $r(t,e,n,r){if(n==Ur&&e.g&&!e.h)for(;t&&t.s;t=t.h)t.s=!1;if(e.a)e.a.h=null,Zr(e,n,r);else try{e.h?e.s.call(e.j):Zr(e,n,r)}catch(i){Qr.call(null,i)}Sr(Br,e)}function Zr(t,e,n){e==jr?t.s.call(t.j,n):t.g&&t.g.call(t.j,n)}Dr.prototype.then=function(t,e,n){return Gr(this,w(t)?t:null,w(e)?e:null,n)},Dr.prototype.$goog_Thenable=!0,(t=Dr.prototype).fc=function(t,e){return(t=zr(t,t,e)).h=!0,Hr(this,t),this},t.Ca=function(t,e){return Gr(this,null,t,e)},t.cancel=function(t){this.a==Lr&&Rr((function(){!function t(e,n){if(e.a==Lr)if(e.h){var r=e.h;if(r.g){for(var i=0,o=null,s=null,a=r.g;a&&(a.h||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==Lr&&1==i?t(r,n):(s?((i=s).next==r.j&&(r.j=i),i.next=i.next.next):Yr(r),$r(r,o,Ur,n)))}e.h=null}else Wr(e,Ur,n)}(this,new Xr(t))}),this)},t.hc=function(t){this.a=Lr,Wr(this,jr,t)},t.ic=function(t){this.a=Lr,Wr(this,Ur,t)},t.Hb=function(){for(var t;t=Yr(this);)$r(this,t,this.a,this.A);this.i=!1};var Qr=Or;function Xr(t){M.call(this,t)}function Jr(t,e,n){e||(e={}),n=n||window;var r=t instanceof ye?t:we(void 0!==t.href?t.href:String(t));t=e.target||t.target;var i=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");return(Gt("iPhone")&&!Gt("iPod")&&!Gt("iPad")||Gt("iPad")||Gt("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),r=r instanceof ye?r:Ee(r),o.href=be(r),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=be(r).toString(),n&&(Jt&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rt(e)+'">',null),n.document.write(Ce(e)),n.document.close())):(n=n.open(be(r).toString(),t,o))&&e.noopener&&(n.opener=null),n}function ti(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(t){}return!1}function ei(t){Jr(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ni(t,e){if(null==(t=E(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function ri(){return window.location.href}function ii(t){var e=pi;this.s=[],this.T=e,this.O=t||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function oi(t,e,n){t.a=!0,t.h=n,t.j=!e,ci(t)}function si(t){if(t.a){if(!t.J)throw new li(t);t.J=!1}}function ai(t,e,n){t.s.push([e,n,void 0]),t.a&&ci(t)}function ui(t){return z(t.s,(function(t){return w(t[1])}))}function ci(t){if(t.i&&t.a&&ui(t)){var e=t.i,n=di[e];n&&(h.clearTimeout(n.a),delete di[e]),t.i=0}t.g&&(t.g.C--,delete t.g),e=t.h;for(var r=n=!1;t.s.length&&!t.A;){var i=t.s.shift(),o=i[0],s=i[1];if(i=i[2],o=t.j?s:o)try{var a=o.call(i||t.O,e);f(a)&&(t.j=t.j&&(a==e||a instanceof Error),t.h=e=a),(wr(e)||"function"==typeof h.Promise&&e instanceof h.Promise)&&(r=!0,t.A=!0)}catch(u){e=u,t.j=!0,ui(t)||(n=!0)}}t.h=e,r&&(a=k(t.L,t,!0),r=k(t.L,t,!1),e instanceof ii?(ai(e,a,r),e.l=!0):e.then(a,r)),n&&(e=new fi(e),di[e.a]=e,t.i=e.a)}function li(){M.call(this)}function hi(){M.call(this)}function fi(t){this.a=h.setTimeout(k(this.h,this),0),this.g=t}N(Xr,M),Xr.prototype.name="cancel",ii.prototype.cancel=function(t){if(this.a)this.h instanceof ii&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(t=new hi(this),si(this),oi(this,!1,t))}},ii.prototype.L=function(t,e){this.A=!1,oi(this,t,e)},ii.prototype.callback=function(t){si(this),oi(this,!0,t)},ii.prototype.then=function(t,e,n){var r,i,o=new Dr((function(t,e){r=t,i=e}));return ai(this,r,(function(t){t instanceof hi?o.cancel():i(t)})),o.then(t,e,n)},ii.prototype.$goog_Thenable=!0,N(li,M),li.prototype.message="Deferred has already fired",li.prototype.name="AlreadyCalledError",N(hi,M),hi.prototype.message="Deferred was canceled",hi.prototype.name="CanceledError",fi.prototype.h=function(){throw delete di[this.a],this.g};var di={};function pi(){if(this&&this.rb){var t=this.rb;t&&"SCRIPT"==t.tagName&&mi(t,!0,this.sb)}}function mi(t,e,n){null!=n&&h.clearTimeout(n),t.onload=g,t.onerror=g,t.onreadystatechange=g,e&&window.setTimeout((function(){He(t)}),0)}function gi(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function vi(){return h.google&&h.google.accounts&&h.google.accounts.id||null}function yi(t){this.a=t||vi(),this.h=!1,this.g=null}N(gi,M),yi.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},v(yi);var bi=new fe(pe,"https://accounts.google.com/gsi/client");function _i(){this.a=null}function wi(t,e){this.a=t,this.g=e||function(t){throw t}}function Ei(t,e,n){this.reset(t,e,n,void 0,void 0)}function Si(t){this.s=t,this.a=this.h=this.j=this.g=null}function Ii(t,e){this.name=t,this.value=e}_i.prototype.load=function(){var t=this;if(this.a)return this.a;var e=function(){var t=bi;t instanceof fe&&t.constructor===fe&&t.g===de?t=t.a:(L("expected object of type Const, got '"+t+"'"),t="type_error:Const");var e=new me;return e.a=t,e}();return vi()?qr():this.a=function(){var t=null;return new Dr((function(e){"complete"==h.document.readyState?e():(t=function(){e()},rr(window,"load",t))})).Ca((function(e){throw ir(window,"load",t),e}))}().then((function(){if(!vi())return new Dr((function(n,r){var i=setTimeout((function(){t.a=null,r(Error("Network error!"))}),1e4);h.onGoogleLibraryLoad=function(){clearTimeout(i),n()},qr(function(t){var e={},n=e.document||document,r=ge(t).toString(),i=document.createElement("SCRIPT"),o={rb:i,sb:void 0},s=new ii(o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout((function(){mi(i,!0);var t=new gi(1,"Timeout reached for loading script "+r);si(s),oi(s,!1,t)}),u),o.sb=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(mi(i,e.yc||!1,a),s.callback(null))},i.onerror=function(){mi(i,!0,a);var t=new gi(0,"Error while loading script "+r);si(s),oi(s,!1,t)},at(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){it(e,(function(e,n){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:qe.hasOwnProperty(n)?t.setAttribute(qe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(i,o),function(t,e){t.src=ge(e),null===m&&(m=(e=(e=h.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&p.test(e)?e:""),(e=m)&&t.setAttribute("nonce",e)}(i,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}(e)).then((function(){vi()&&n()})).Ca((function(e){clearTimeout(i),t.a=null,r(e)}))}))}))},v(_i),wi.prototype.confirm=function(t){return qr(this.a.confirm(t)).Ca(this.g)},Ei.prototype.a=null,Ei.prototype.reset=function(t,e,n,r,i){this.h=r||R(),this.j=t,this.s=e,this.g=n,delete this.a},Ii.prototype.toString=function(){return this.name};var xi=new Ii("SEVERE",1e3),Ti=new Ii("WARNING",900),ki=new Ii("CONFIG",700);Si.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.j?e.j:e.g?t(e.g):(L("Root logger has no level set."),null)}(this).value)for(w(e)&&(e=e()),t=new Ei(t,String(e),this.s),n&&(t.a=n),n=this;n;){var r=n,i=t;if(r.a)for(var o=0;e=r.a[o];o++)e(i);n=n.g}};var Ci={},Ai=null;function Oi(){Ai||(Ai=new Si(""),Ci[""]=Ai,Ai.j=ki)}function Ri(){this.a=R()}var Pi=null;function Ni(t){this.j=t||"",Pi||(Pi=new Ri),this.s=Pi}function Mi(t){return 10>t?"0"+t:String(t)}function Di(t){Ni.call(this,t)}function Li(){this.s=k(this.h,this),this.a=new Di,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Ri.prototype.set=function(t){this.a=t},Ri.prototype.reset=function(){this.set(R())},Ri.prototype.get=function(){return this.a},Ni.prototype.a=!0,Ni.prototype.g=!0,Ni.prototype.h=!1,N(Di,Ni),Li.prototype.h=function(t){if(!this.j[t.g]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.g){var r=new Date(e.h);n.push("[",Mi(r.getFullYear()-2e3)+Mi(r.getMonth()+1)+Mi(r.getDate())+" "+Mi(r.getHours())+":"+Mi(r.getMinutes())+":"+Mi(r.getSeconds())+"."+Mi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.s.get()),"s] "),n.push("[",e.g,"] "),n.push(e.s),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);Ui&&function(t,e,n,r){t[e]?t[e](n,r||""):t.log(n,r||"")}(Ui,function(t){if(t){if(t.value>=xi.value)return"error";if(t.value>=Ti.value)return"warn";if(t.value>=ki.value)return"log"}return"debug"}(t.j),e,t.a)}};var ji,Ui=h.console;function Fi(t,e){ji&&ji.log(xi,t,e)}ji=function t(e){var n;if(Oi(),!(n=Ci[e])){n=new Si(e);var r=e.lastIndexOf("."),i=e.substr(r+1);(r=t(e.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,Ci[e]=n}return n}("firebaseui");var Bi=new Li;if(1!=Bi.g){var zi;Oi();var qi=Bi.s;(zi=Ai).a||(zi.a=[]),zi.a.push(qi),Bi.g=!0}function Vi(t){ji&&ji.log(Ti,t,void 0)}function Hi(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Gi(t){t=(t.a.cookie||"").split(";");for(var e,n,r=[],i=[],o=0;o<t.length;o++)-1==(e=(n=Y(t[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,e)),i.push(n.substring(e+1)));return{keys:r,values:i}}(t=Hi.prototype).set=function(t,e,n,r,i,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');f(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(R()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+i+r+n+o},t.get=function(t,e){for(var n,r=t+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=Y(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==t)return""}return e},t.ja=function(){return Gi(this).keys},t.la=function(){return Gi(this).values},t.clear=function(){for(var t=Gi(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var Wi=new Hi;function Ki(){}function Yi(t,e,n,r){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!r}function $i(t,e){this.g=t,this.a=e||null}function Zi(t){return{email:t.g,credential:t.a&&t.a.toJSON()}}function Qi(t){if(t&&t.email){var e=t.credential&&a.a.auth.AuthCredential.fromJSON(t.credential);return new $i(t.email,e)}return null}function Xi(t){this.a=t||null}function Ji(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);255<i&&(e[n++]=255&i,i>>=8),e[n++]=i}return e}function to(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function eo(t){for(this.i=t,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(no*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.g;t<no*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,co(e),e[0]^=fo[t/this.g][0],e[1]^=fo[t/this.g][1],e[2]^=fo[t/this.g][2],e[3]^=fo[t/this.g][3]}else 6<this.g&&4==t%this.g&&co(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}s(Yi,Ki),Yi.prototype.set=function(t,e){Wi.set(t,e,this.h,this.g,this.a,this.j)},Yi.prototype.get=function(t){return Wi.get(t)||null},Yi.prototype.ra=function(t){var e=this.g,n=this.a;Wi.get(t),Wi.set(t,"",0,e,n)};var no=(eo.prototype.A=16)/4;function ro(t,e){for(var n=0;n<no;n++)for(var r=0;4>r;r++)t.h[n][r]=e[4*r+n]}function io(t){for(var e=[],n=0;n<no;n++)for(var r=0;4>r;r++)e[4*r+n]=t.h[n][r];return e}function oo(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]^=t.a[4*e+r][n]}function so(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]=e[t.h[n][r]]}function ao(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][(n+e)%no]}function uo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][(n+e)%no]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][n]}function co(t){t[0]=lo[t[0]],t[1]=lo[t[1]],t[2]=lo[t[2]],t[3]=lo[t[3]]}var lo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ho=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],fo=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],po=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],mo=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],go=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],vo=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],yo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],bo=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function _o(t,e){t=new eo(Eo(t));for(var n,r=(e=Ji(e)).splice(0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(ro(n=t,r),oo(n,0),r=1;r<n.j;++r){so(n,lo),ao(n),o=n.h;for(var s=n.s[0],a=0;4>a;a++)s[0]=o[0][a],s[1]=o[1][a],s[2]=o[2][a],s[3]=o[3][a],o[0][a]=po[s[0]]^mo[s[1]]^s[2]^s[3],o[1][a]=s[0]^po[s[1]]^mo[s[2]]^s[3],o[2][a]=s[0]^s[1]^po[s[2]]^mo[s[3]],o[3][a]=mo[s[0]]^s[1]^s[2]^po[s[3]];oo(n,r)}so(n,lo),ao(n),oo(n,n.j),i+=to(io(n)),r=e.splice(0,16)}return i}function wo(t,e){t=new eo(Eo(t));for(var n=[],r=0;r<e.length;r+=2)n.push(parseInt(e.substring(r,r+2),16));var i=n.splice(0,16);for(e="";i.length;){for(ro(r=t,i),oo(r,r.j),i=1;i<r.j;++i){uo(r),so(r,ho),oo(r,r.j-i);for(var o=r.h,s=r.s[0],a=0;4>a;a++)s[0]=o[0][a],s[1]=o[1][a],s[2]=o[2][a],s[3]=o[3][a],o[0][a]=bo[s[0]]^vo[s[1]]^yo[s[2]]^go[s[3]],o[1][a]=go[s[0]]^bo[s[1]]^vo[s[2]]^yo[s[3]],o[2][a]=yo[s[0]]^go[s[1]]^bo[s[2]]^vo[s[3]],o[3][a]=vo[s[0]]^yo[s[1]]^go[s[2]]^bo[s[3]]}if(uo(r),so(r,ho),oo(r,0),8192>=(r=io(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,K(r,o,o+8192));r=i}e+=r,i=n.splice(0,16)}return e.replace(/(\x00)+$/,"")}function Eo(t){for(var e=32-(t=Ji(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function So(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(b(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),ko(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ko(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Io,t,e),e.join("")}function Io(){}var xo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},To=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ko(t,e){e.push('"',t.replace(To,(function(t){var e=xo[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),xo[t]=e),e})),'"')}function Co(t){this.a=t}function Ao(){}function Oo(t){this.a=t}function Ro(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(Ne){return!1}}function Po(){var t=null;try{t=window.localStorage||null}catch(Ne){}this.a=t}function No(){var t=null;try{t=window.sessionStorage||null}catch(Ne){}this.a=t}function Mo(t,e){this.g=t,this.a=e+"::"}Co.prototype.set=function(t,e){f(e)?this.a.set(t,So(e)):this.a.ra(t)},Co.prototype.get=function(t){try{var e=this.a.get(t)}catch(Pe){return}if(null!==e)try{return JSON.parse(e)}catch(n){throw"Storage: Invalid value was encountered"}},N(Ao,Ki),Ao.prototype.clear=function(){var t=function(t){if(_(t))return W(t);t=lt(t);var e=[];return function(t,e){if(_(t))try{U(t,e,void 0)}catch(Pe){if(Pe!==ut)throw Pe}else{t=lt(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(n){if(n!==ut)throw n}}}(t,(function(t){e.push(t)})),e}(this.ha(!0)),e=this;U(t,(function(t){e.ra(t)}))},N(Oo,Ao),(t=Oo.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(Pe){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!d(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ra=function(t){this.a.removeItem(t)},t.ha=function(t){var e=0,n=this.a,r=new ct;return r.next=function(){if(e>=n.length)throw ut;var r=n.key(e++);if(t)return r;if(!d(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},N(Po,Oo),N(No,Oo),N(Mo,Ao),Mo.prototype.set=function(t,e){this.g.set(this.a+t,e)},Mo.prototype.get=function(t){return this.g.get(this.a+t)},Mo.prototype.ra=function(t){this.g.ra(this.a+t)},Mo.prototype.ha=function(t){var e=this.g.ha(!0),n=this,r=new ct;return r.next=function(){for(var r=e.next();r.substr(0,n.a.length)!=n.a;)r=e.next();return t?r.substr(n.a.length):n.g.get(r)},r},Ro(new Po);var Do=new No,Lo=new Co(Ro(Do)?new Mo(Do,"firebaseui"):null),jo={name:"pendingEmailCredential",storage:Lo},Uo={name:"redirectStatus",storage:Lo},Fo={name:"redirectUrl",storage:Lo},Bo={name:"emailForSignIn",storage:new Co(new Yi(3600,"/"))},zo={name:"pendingEncryptedCredential",storage:new Co(new Yi(3600,"/"))};function qo(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function Vo(t,e){t.storage.a.ra(e?t.name+":"+e:t.name)}function Ho(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function Go(t){return qo(Fo,t)||null}function Wo(t){return Qi(t=qo(jo,t)||null)}function Ko(t){Vo(jo,t)}function Yo(t,e){Ho(jo,Zi(t),e)}function $o(t){return(t=qo(Uo,t)||null)&&void 0!==t.tenantId?new Xi(t.tenantId):null}function Zo(){this.W={}}function Qo(t,e,n){if(e.toLowerCase()in t.W)throw Error("Configuration "+e+" has already been defined.");t.W[e.toLowerCase()]=n}function Xo(t,e,n){if(!(e.toLowerCase()in t.W))throw Error("Configuration "+e+" is not defined.");t.W[e.toLowerCase()]=n}function Jo(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function ts(){this.g=void 0,this.a={}}function es(t,e,n,r){for(var i=0;i<e.length;i++){var o=e.charAt(i);t.a[o]||(t.a[o]=new ts),t=t.a[o]}if(r&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function ns(t){for(this.a=t,this.g=new ts,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function rs(t,e){var n={},r=0;for(void 0!==(t=t.g).g&&(n[r]=t.g);r<e.length;r++){var i=e.charAt(r);if(!(i in t.a))break;void 0!==(t=t.a[i]).g&&(n[r]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function is(t){for(var e=0;e<us.length;e++)if(us[e].c===t)return us[e];return null}function os(t){t=t.toUpperCase();for(var e=[],n=0;n<us.length;n++)us[n].f===t&&e.push(us[n]);return e}function ss(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<us.length;n++)us[n].b==t&&e.push(us[n]);t=e}else t=os(t);return t}function as(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}Zo.prototype.get=function(t){if(!(t.toLowerCase()in this.W))throw Error("Configuration "+t+" is not defined.");return this.W[t.toLowerCase()]},(t=ts.prototype).set=function(t,e){es(this,t,e,!1)},t.add=function(t,e){es(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},t.la=function(){var t=[];return function t(e,n){for(var r in void 0!==e.g&&n.push(e.g),e.a)t(e.a[r],n)}(this,t),t},t.ja=function(){var t=[];return function t(e,n,r){for(var i in void 0!==e.g&&r.push(n),e.a)t(e.a[i],n+i,r)}(this,"",t),t},t.clear=function(){this.a={},this.g=void 0};var us=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];as(us);var cs=new ns(us);function ls(t,e){this.a=t,this.Aa=e}function hs(t){t=Y(t);var e=rs(cs,t);return 0<e.length?new ls("1"==e[0].b?"1-US-0":e[0].c,Y(t.substr(e[0].b.length+1))):null}function fs(t){var e=is(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.Aa}function ds(t,e){for(var n=0;n<t.length;n++)if(!q(ps,t[n])&&(null!==ms&&t[n]in ms||q(e,t[n])))return t[n];return null}var ps=["emailLink","password","phone"],ms={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function gs(){this.a=new Zo,Qo(this.a,"acUiConfig"),Qo(this.a,"autoUpgradeAnonymousUsers"),Qo(this.a,"callbacks"),Qo(this.a,"credentialHelper",Ws),Qo(this.a,"immediateFederatedRedirect",!1),Qo(this.a,"popupMode",!1),Qo(this.a,"privacyPolicyUrl"),Qo(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Qo(this.a,"queryParameterForWidgetMode","mode"),Qo(this.a,"signInFlow"),Qo(this.a,"signInOptions"),Qo(this.a,"signInSuccessUrl"),Qo(this.a,"siteName"),Qo(this.a,"tosUrl"),Qo(this.a,"widgetUrl"),Qo(this.a,"adminRestrictedOperation")}function vs(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!Us(t)&&Fi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function ys(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var r=t[n];(r=E(r)?r:{provider:r}).provider&&e.push(r)}return e}function bs(t,e){t=ys(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function _s(t){return ys(t).map((function(t){return t.provider}))}function ws(t,e){t=Es(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function Es(t){return ys(t).map((function(t){if(ms[t.provider]||q(Qs,t.provider)){for(var e in t={providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?be(we(t.iconUrl)).toString():null})null===t[e]&&delete t[e];return t}return{providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?be(we(t.iconUrl)).toString():null,Ob:t.loginHintKey||null}}))}function Ss(t){var e=bs(t,a.a.auth.GoogleAuthProvider.PROVIDER_ID);return e&&e.clientId&&function(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return Ws;if((t=t.a.get("credentialHelper"))===Hs)return Ws;for(var e in Ks)if(Ks[e]===t)return Ks[e];return Ws}(t)===Gs&&e.clientId||null}function Is(t){return!!((t=bs(t,a.a.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.status)}function xs(t){return!(!(t=t.a.get("adminRestrictedOperation")||null)||!t.status)}function Ts(t,e){return t=(t=bs(t,e))&&t.scopes,Array.isArray(t)?t:[]}function ks(t,e){return E(t=(t=bs(t,e))&&t.customParameters)?(t=ot(t),e===a.a.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===a.a.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function Cs(t){if(!(t=bs(t,a.a.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!Array.isArray(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return us;if(t=[],e){n={};for(var r=0;r<e.length;r++)for(var i=ss(e[r]),o=0;o<i.length;o++)n[i[o].c]=i[o];for(var s in n)n.hasOwnProperty(s)&&t.push(n[s])}else{for(s={},e=0;e<n.length;e++)for(i=ss(n[e]),r=0;r<i.length;r++)s[i[r].c]=i[r];for(i=0;i<us.length;i++)null!==s&&us[i].c in s||t.push(us[i])}return t}function As(t){return Jo(t.a,"queryParameterForWidgetMode")}function Os(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Vi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ei(e)}}return null}function Rs(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Vi("Term of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ei(n)}}return null}function Ps(t){return!(t=bs(t,a.a.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Ns(t){return!(!(t=bs(t,a.a.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==a.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Ms(t){var e=!!t.a.get("immediateFederatedRedirect"),n=_s(t);return t=Ds(t),e&&1==n.length&&!q(ps,n[0])&&t==Ys}function Ds(t){for(var e in t=t.a.get("signInFlow"),$s)if($s[e]==t)return $s[e];return Ys}function Ls(t){return Fs(t).signInSuccess||null}function js(t){return Fs(t).signInSuccessWithAuthResult||null}function Us(t){return Fs(t).signInFailure||null}function Fs(t){return t.a.get("callbacks")||{}}var Bs,zs,qs,Vs,Hs="accountchooser.com",Gs="googleyolo",Ws="none",Ks={lc:Hs,oc:Gs,NONE:Ws},Ys="redirect",$s={rc:"popup",sc:Ys},Zs={nc:"callback",RECOVER_EMAIL:"recoverEmail",tc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",uc:"select",vc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Qs=["anonymous"],Xs=["sitekey","tabindex","callback","expired-callback"],Js={};function ta(t,e,n,r){Js[t].apply(null,Array.prototype.slice.call(arguments,1))}function ea(t){return t.classList?t.classList:d(t=t.className)&&t.match(/\S+/g)||[]}function na(t,e){return t.classList?t.classList.contains(e):q(ea(t),e)}function ra(t,e){t.classList?t.classList.add(e):na(t,e)||(t.className+=0<t.className.length?" "+e:e)}function ia(t,e){t.classList?t.classList.remove(e):na(t,e)&&(t.className=F(ea(t),(function(t){return t!=e})).join(" "))}function oa(t){var e=t.type;switch(d(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,r=0;n=t.options[r];r++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function sa(t,e){var n=t.type;switch(d(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,d(e))for(var r=0;n=t.options[r];r++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(d(e)&&(e=[e]),r=0;n=t.options[r];r++)if(n.selected=!1,e)for(var i,o=0;i=e[o];o++)n.value==i&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function aa(t,e,n,r,i,o){if(ee&&!le("525"))return!0;if(re&&i)return ua(t);if(i&&!r)return!1;if(!te&&("number"==typeof e&&(e=ca(e)),(!n||re)&&(17==e||18==e||re&&91==e)||re&&16==e&&(r||o)))return!1;if((ee||Xt)&&r&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Qt&&r&&e==t)return!1;switch(t){case 13:return!(te&&(o||i||n&&r));case 27:return!(ee||Xt||te)}return(!te||!(r||i||o))&&ua(t)}function ua(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(ee||Xt)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return te;default:return!1}}function ca(t){if(te)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(re&&ee)switch(t){case 93:t=91}return t}function la(t){dr.call(this),this.a=t,er(t,"keydown",this.g,!1,this),er(t,"click",this.h,!1,this)}function ha(t,e){var n=new da(e);if(pr(t,n)){n=new fa(e);try{pr(t,n)}finally{e.stopPropagation()}}}function fa(t){Hn.call(this,t.a),this.type="action"}function da(t){Hn.call(this,t.a),this.type="beforeaction"}function pa(t){dr.call(this),this.a=t,t=Qt?"focusout":"blur",this.g=er(this.a,Qt?"focusin":"focus",this,!Qt),this.h=er(this.a,t,this,!Qt)}function ma(t,e){dr.call(this),this.g=t||1,this.a=e||h,this.h=k(this.gc,this),this.j=R()}function ga(t){t.Ka=!1,t.aa&&(t.a.clearTimeout(t.aa),t.aa=null)}function va(t){Mn.call(this),this.g=t,this.a={}}N(la,dr),la.prototype.g=function(t){(13==t.keyCode||ee&&3==t.keyCode)&&ha(this,t)},la.prototype.h=function(t){ha(this,t)},la.prototype.o=function(){la.K.o.call(this),ir(this.a,"keydown",this.g,!1,this),ir(this.a,"click",this.h,!1,this),delete this.a},N(fa,Hn),N(da,Hn),N(pa,dr),pa.prototype.handleEvent=function(t){var e=new Hn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",pr(this,e)},pa.prototype.o=function(){pa.K.o.call(this),or(this.g),or(this.h),delete this.a},N(ma,dr),(t=ma.prototype).Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var t=R()-this.j;0<t&&t<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-t):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),pr(this,"tick"),this.Ka&&(ga(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=R())},t.o=function(){ma.K.o.call(this),ga(this),delete this.a},N(va,Mn);var ya=[];function ba(t,e,n,r){b(n)||(n&&(ya[0]=n.toString()),n=ya);for(var i=0;i<n.length;i++){var o=er(e,n[i],r||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function _a(t){it(t.a,(function(t,e){this.a.hasOwnProperty(e)&&or(t)}),t),t.a={}}function wa(t){dr.call(this),this.a=null,this.g=t,t=Qt||Xt||ee&&!le("531")&&"TEXTAREA"==t.tagName,this.h=new va(this),ba(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function Ea(t){null!=t.a&&(h.clearTimeout(t.a),t.a=null)}function Sa(t){return(t=new Hn(t.a)).type="input",t}function Ia(t,e){dr.call(this),t&&(this.Oa&&Aa(this),this.qa=t,this.Na=er(this.qa,"keypress",this,e),this.Ya=er(this.qa,"keydown",this.Jb,e,this),this.Oa=er(this.qa,"keyup",this.Kb,e,this))}va.prototype.o=function(){va.K.o.call(this),_a(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N(wa,dr),wa.prototype.handleEvent=function(t){if("input"==t.type)Qt&&le(10)&&0==t.keyCode&&0==t.j||(Ea(this),pr(this,Sa(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(ua(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!te;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;Qt&&229==t.keyCode&&(e=null);var n=Sa(t);Ea(this),this.a=function(t,e){if(w(t))e&&(t=k(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=k(t.handleEvent,t)}return 2147483647<Number(0)?-1:h.setTimeout(t,0)}((function(){this.a=null,this.g.value!=e&&pr(this,n)}),this)}},wa.prototype.o=function(){wa.K.o.call(this),this.h.m(),Ea(this),delete this.g},N(Ia,dr),(t=Ia.prototype).qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var xa={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Ta={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ka=!ee||le("525"),Ca=re&&te;function Aa(t){t.Na&&(or(t.Na),or(t.Ya),or(t.Oa),t.Na=null,t.Ya=null,t.Oa=null),t.qa=null,t.R=-1,t.X=-1}function Oa(t,e,n,r){Hn.call(this,r),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function Ra(t,e,n,r){this.top=t,this.right=e,this.bottom=n,this.left=r}function Pa(t,e){var n=Ge(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function Na(t){try{var e=t.getBoundingClientRect()}catch(Pe){return{left:0,top:0,right:0,bottom:0}}return Qt&&t.ownerDocument.body&&(e.left-=(t=t.ownerDocument).documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function Ma(t){var e=Ge(t),n=new Le(0,0),r=e?Ge(e):document;return t==(r=!Qt||9<=Number(ue)||"CSS1Compat"==Ue(r).a.compatMode?r.documentElement:r.body)||(t=Na(t),e=Ve(r=Ue(e).a),r=r.parentWindow||r.defaultView,e=Qt&&le("10")&&r.pageYOffset!=e.scrollTop?new Le(e.scrollLeft,e.scrollTop):new Le(r.pageXOffset||e.scrollLeft,r.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g),n}(t=Ia.prototype).Jb=function(t){(ee||Xt)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||re&&91==this.R&&!t.metaKey)&&(this.X=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),ka&&!aa(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.X=ca(t.keyCode),Ca&&(this.Ua=t.altKey))},t.Kb=function(t){this.X=this.R=-1,this.Ua=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if(Qt&&"keypress"==t.type)var r=this.X,i=13!=r&&27!=r?e.keyCode:0;else(ee||Xt)&&"keypress"==t.type?(r=this.X,i=0<=e.charCode&&63232>e.charCode&&ua(r)?e.charCode:0):Zt&&!ee?i=ua(r=this.X)?e.keyCode:0:("keypress"==t.type?(Ca&&(n=this.Ua),e.keyCode==e.charCode?32>e.keyCode?(r=e.keyCode,i=0):(r=this.X,i=e.charCode):(r=e.keyCode||this.X,i=e.charCode||0)):(r=e.keyCode||this.X,i=e.charCode||0),re&&63==i&&224==r&&(r=191));var o=r=ca(r);r?63232<=r&&r in xa?o=xa[r]:25==r&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in Ta&&(o=Ta[e.keyIdentifier]),te&&ka&&"keypress"==t.type&&!aa(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new Oa(o,i,t,e)).altKey=n,pr(this,e))},t.N=function(){return this.qa},t.o=function(){Ia.K.o.call(this),Aa(this)},N(Oa,Hn),Ra.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Ra.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Ra.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Ra.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Da={thin:2,medium:4,thick:6};function La(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in Da)t=Da[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=r,t=+n}return t}function ja(){}function Ua(t){dr.call(this),this.s=t||Ue(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Fa(t,e){return t.g?Be(e,t.g||t.s.a):null}function Ba(t){return t.L||(t.L=new va(t)),t.L}function za(t,e){t.Ea&&U(t.Ea,e,void 0)}function qa(t,e){var n=Ke(t,"firebaseui-textfield");e?(ia(t,"firebaseui-input-invalid"),ra(t,"firebaseui-input"),n&&ia(n,"firebaseui-textfield-invalid")):(ia(t,"firebaseui-input"),ra(t,"firebaseui-input-invalid"),n&&ra(n,"firebaseui-textfield-invalid"))}function Va(t,e,n){jn(t,C(Un,e=new wa(e))),ba(Ba(t),e,"input",n)}function Ha(t,e,n){jn(t,C(Un,e=new Ia(e))),ba(Ba(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function Ga(t,e,n){jn(t,C(Un,e=new la(e))),ba(Ba(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function Wa(t){ra(t,"firebaseui-hidden")}function Ka(t,e){e&&We(t,e),ia(t,"firebaseui-hidden")}function Ya(t){return!na(t,"firebaseui-hidden")&&"none"!=t.style.display}function $a(t){var e=(t=t||{}).email,n=t.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=t.xc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+dn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',cn(r)}function Za(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+on(t):e+"Next",cn(e+"</button>")}function Qa(){var t=""+Za({label:hn("Sign In")});return cn(t)}function Xa(){var t=""+Za({label:hn("Save")});return cn(t)}function Ja(){var t=""+Za({label:hn("Continue")});return cn(t)}function tu(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+on(t):e+"Choose password",cn(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function eu(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return cn((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function nu(){return cn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ru(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+on(t):e+"Cancel",cn(e+"</button>")}function iu(t){var e="";return t.F&&t.D&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),cn(e)}function ou(t){var e="";return t.F&&t.D&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),cn(e)}function su(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+on(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',cn(t)}function au(t){var e=t.content;return cn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((t=t.Ab)?" "+dn(t):"")+'">'+on(e)+"</dialog>")}function uu(t){var e=t.message;return cn(au({content:fn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+dn(t.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+on(e)+"</div>")}))}function cu(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,r=0;r<n;r++){var i=t[r];e+='<button type="button" data-listboxid="'+dn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+dn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+on(i.label)+"</div></button>"}return e=""+au({Ab:hn("firebaseui-list-box-dialog"),content:fn(e+"</div>")}),cn(e)}function lu(t){return cn((t=t||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function hu(t,e){return un((t=(t=t||{}).ga).S?t.S:e.hb[t.providerId]?""+e.hb[t.providerId]:t.providerId&&0==t.providerId.indexOf("saml.")||t.providerId&&0==t.providerId.indexOf("oidc.")?t.providerId.substring(5):""+t.providerId)}function fu(t){mu(t,"upgradeElement")}function du(t){mu(t,"downgradeElements")}v(ja),ja.prototype.a=0,N(Ua,dr),(t=Ua.prototype).Lb=ja.Xa(),t.N=function(){return this.g},t.Za=function(t){if(this.Y&&this.Y!=t)throw Error("Method not supported");Ua.K.Za.call(this,t)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(t){if(this.na)throw Error("Component already rendered");this.g||this.kb(),t?t.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,za(this,(function(t){!t.na&&t.N()&&t.v()}))},t.ya=function(){za(this,(function(t){t.na&&t.ya()})),this.L&&_a(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),za(this,(function(t){t.m()})),this.g&&He(this.g),this.Y=this.g=this.oa=this.Ea=null,Ua.K.o.call(this)},t.removeChild=function(t,e){if(t){var n=d(t)?t:t.cb||(t.cb=":"+(t.Lb.a++).toString(36));if(t=this.oa&&n&&(null!==(t=this.oa)&&n in t?t[n]:void 0)||null,n&&t){var r=this.oa;if(n in r&&delete r[n],V(this.Ea,t),e&&(t.ya(),t.g&&He(t.g)),null==(e=t))throw Error("Unable to set parent component");e.Y=null,Ua.K.Za.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},su.a="firebaseui.auth.soy2.element.infoBar",uu.a="firebaseui.auth.soy2.element.progressDialog",cu.a="firebaseui.auth.soy2.element.listBoxDialog",lu.a="firebaseui.auth.soy2.element.busyIndicator";var pu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function mu(t,e){t&&window.componentHandler&&window.componentHandler[e]&&pu.forEach((function(n){na(t,n)&&window.componentHandler[e](t),U(Fe(n,t),(function(t){window.componentHandler[e](t)}))}))}function gu(t,e,n){if(vu.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),fu(t),e&&Ga(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&vu.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(t.open){var e=t.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,s=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,a=t.getBoundingClientRect().width,u=r.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",t.style.left=(e=s+(u-a)/2).toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-a).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function vu(){var t=yu.call(this);t&&(du(t),t.open&&t.close(),He(t),this.da&&window.removeEventListener("resize",this.da))}function yu(){return Be("firebaseui-id-dialog")}function bu(){He(_u.call(this))}function _u(){return Fa(this,"firebaseui-id-info-bar")}function wu(){return Fa(this,"firebaseui-id-dismiss-info-bar")}var Eu={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Su(t,e,n){for(var r in Vn.call(this,t,e),n)this[r]=n[r]}function Iu(t,e,n,r,i){Ua.call(this,n),this.fb=t,this.eb=e,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=ot(Eu),at(this.Z,i||{})}function xu(t){return t.N().parentElement||t.N().parentNode}function Tu(t,e,n){Ha(t,e,(function(){n.focus()}))}function ku(t,e,n){Ha(t,e,(function(){n()}))}function Cu(t,e,n){e=(t=t||{}).Va;var r=t.ia;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+$a(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ru(null):"")+Za(null)+'</div></div><div class="firebaseui-card-footer">'+(r?ou(n):iu(n))+"</div></form></div>",cn(t)}function Au(t,e,n){return e=(t=t||{}).ia,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+$a(t)+eu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+nu()+'</div><div class="firebaseui-form-actions">'+Qa()+'</div></div><div class="firebaseui-card-footer">'+(e?ou(n):iu(n))+"</div></form></div>",cn(t)}function Ou(t,e,n){var r=(t=t||{}).Tb;e=t.Ta;var i=t.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+$a(t);return r?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+dn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=cn(t)):t="",n=o+t+tu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ru(null):"")+Xa()+'</div></div><div class="firebaseui-card-footer">'+(i?ou(n):iu(n))+"</div></form></div>",cn(n)}function Ru(t,e,n){return e=(t=t||{}).Ta,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+$a(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ru(null):"")+Za({label:hn("Send")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(t)}function Pu(t,e,n){e=t.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+on(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(r+='<div class="firebaseui-form-actions">'+Za({label:hn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+iu(n)+"</div></div>",cn(r)}function Nu(t,e,n){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+lu(null)+"</div></div>")}function Mu(t,e,n){return cn('<div class="firebaseui-container firebaseui-id-page-spinner">'+lu({tb:!0})+"</div>")}function Du(){return cn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Lu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+on(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+ru({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function ju(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ru({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(t)}function Uu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+$a(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Za(null)+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(t)}function Fu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru({label:hn("Dismiss")})+"</div></div></div>";return cn(t)}function Bu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru({label:hn("Dismiss")})+"</div></div></div>";return cn(t)}function zu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="You\u2019ve already used <strong>"+on(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+eu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+nu()+'</div><div class="firebaseui-form-actions">'+Qa()+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function qu(t,e,n){var r=t.email;return e="",t=hn(t=""+hu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="You\u2019ve already used <strong>"+on(r)+"</strong>. You can connect your <strong>"+on(t)+"</strong> account with <strong>"+on(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+on(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Qa()+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Vu(t,e,n){e="";var r=""+hu(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+on(r=hn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+on(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ja()+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Hu(t,e,n){var r=t.email;return e="",t=hn(t=""+hu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="You\u2019ve already used <strong>"+on(r)+"</strong>. Sign in with "+on(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Za({label:hn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Gu(t,e,n){var r=(t=t||{}).kc;e=t.yb,t=t.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i+=r?r="<strong>"+on(r)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",i+="</p>",e&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(e="Please contact <strong>"+on(e)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',t&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+ru({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(i)}function Wu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+on(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Za({label:hn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Ku(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+on(t.email)+"</strong></p>"+tu(function(t){function e(){}var n={label:hn("New password")};for(var r in e.prototype=t,t=new e,n)t[r]=n[r];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Xa()+"</div></div></form></div>",cn(e)}function Yu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(t)}function $u(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(t)}function Zu(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+on(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></form></div>",cn(n)}function Qu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(t)}function Xu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(t)}function Ju(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(t)}function tc(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="You can now sign in with your new email <strong>"+on(t.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(n)}function ec(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(t)}function nc(t){var e=t.factorId,n=t.phoneNumber;t=t.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(e){case"phone":r+=e="The <strong>"+on(e)+" "+on(n)+"</strong> was removed as a second authentication step.";break;default:r+="The device or app was removed as a second authentication step."}return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></form></div>",cn(r)}function rc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+Ja()+"</div>":"")+"</div></div>",cn(t)}function ic(t){var e=t.zb;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+on(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=Za({label:hn("Retry")})),cn(t+"</div></div></div>")}function oc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+on(t.errorMessage)+"</p></div></div>",cn(t)}function sc(t,e,n){var r=t.Qb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+on(t.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+on(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Za({label:hn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function ac(t,e,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Sb).length;for(var i=0;i<e;i++){var o={ga:t[i]},s=n,a=(o=o||{}).ga,u=o,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+dn(un(c))+' firebaseui-id-idp-button" data-provider-id="'+dn(a.providerId)+'" style="background-color:')+dn(mn(un((c=(c=(c=o)||{}).ga).ta?c.ta:s.wa[c.providerId]?""+s.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+s.wa.saml:0==c.providerId.indexOf("oidc.")?""+s.wa.oidc:""+s.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;c=s,c=ln((l=(l=l||{}).ga).za?pn(l.za):c.xa[l.providerId]?pn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?pn(c.xa.saml):0==l.providerId.indexOf("oidc.")?pn(c.xa.oidc):pn(c.xa.password)),u=u+dn(pn(c))+'"></span>',"password"==a.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=a.V?on(a.V):a.S?o="Sign in with "+on(hu(o,s)):"Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=a.S?u+on(a.S):u+"Email",u+="</span>"):"phone"==a.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=a.V?on(a.V):a.S?o="Sign in with "+on(hu(o,s)):"Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=a.S?u+on(a.S):u+"Phone",u+="</span>"):"anonymous"==a.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=a.V?on(a.V):a.S?o="Sign in with "+on(hu(o,s)):"Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=a.S?u+on(a.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=a.V?on(a.V):c="Sign in with "+on(hu(o,s)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+on(a.S?a.S:hu(o,s))+"</span>"),r+='<li class="firebaseui-list-item">'+(a=cn(u+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ou(n)+"</div></div>",cn(r)}function uc(t,e,n){var r,i=(t=t||{}).Gb,o=t.Va;return e=t.ia,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+dn(null!=(t=(t=t||{}).Aa)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+cn(t))+(r=i?cn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?ru(null):"")+Za({label:hn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',n=cn((e=n.F&&n.D?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):n=cn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+iu(n),cn(r+n+"</div></form></div>")}function cc(t,e,n){var r="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+on(e=(t=t||{}).phoneNumber)+"</a>",on(e),e=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(r=cn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Za({label:hn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form>",t=cn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),cn(e+(n+t+"</div>"))}function lc(){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function hc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.ec).length;for(var i=0;i<e;i++){var o=t[i],s="",a=on(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";s+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+dn(u=hn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+dn(o.tenantId)+'"':"")+'style="background-color:'+dn(mn(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+dn(pn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',s+=o.V?on(o.V):o="Sign in to "+on(o.displayName),r+='<li class="firebaseui-list-item">'+(s=cn(s+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+a+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ou(n)+"</div></div>",cn(r)}function fc(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+$a(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Za(null)+'</div></div><div class="firebaseui-card-footer">'+ou(n)+"</div></form></div>",cn(t)}function dc(){return Fa(this,"firebaseui-id-submit")}function pc(){return Fa(this,"firebaseui-id-secondary-link")}function mc(t,e){Ga(this,dc.call(this),(function(e){t(e)}));var n=pc.call(this);n&&e&&Ga(this,n,(function(t){e(t)}))}function gc(){return Fa(this,"firebaseui-id-password")}function vc(){return Fa(this,"firebaseui-id-password-error")}function yc(){var t=gc.call(this),e=vc.call(this);Va(this,t,(function(){Ya(e)&&(qa(t,!0),Wa(e))}))}function bc(){var t=gc.call(this),e=vc.call(this);return oa(t)?(qa(t,!0),Wa(e),e=!0):(qa(t,!1),Ka(e,un("Enter your password").toString()),e=!1),e?oa(t):null}function _c(t,e,n,r,i,o){Iu.call(this,zu,{email:t},o,"passwordLinking",{F:r,D:i}),this.w=e,this.H=n}N(Su,Vn),N(Iu,Ua),(t=Iu.prototype).kb=function(){var t=tn(this.fb,this.eb,this.Z,this.s);fu(t),this.g=t},t.v=function(){if(Iu.K.v.call(this),yr(xu(this),new Su("pageEnter",xu(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var t=this.Z.F;Ga(this,this.bb(),(function(){t()}))}if(this.ab()&&this.Z.D){var e=this.Z.D;Ga(this,this.ab(),(function(){e()}))}},t.ya=function(){yr(xu(this),new Su("pageExit",xu(this),{pageId:this.Ga})),Iu.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,du(this.N()),Iu.K.o.call(this)},t.I=function(t,e,n,r){function i(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(du(o.A),He(o.A),o.A=null)}var o=this;return o.Fa?null:(function(t){t.Fa=!0;var e=na(t.N(),"firebaseui-use-spinner");t.ca=window.setTimeout((function(){t.N()&&null===t.A&&(t.A=tn(lu,{tb:e},null,t.s),t.N().appendChild(t.A),fu(t.A))}),500)}(o),t.apply(null,e).then(n,r).then(i,i))},A(Iu.prototype,{a:function(t){bu.call(this);var e=tn(su,{message:t},null,this.s);this.N().appendChild(e),Ga(this,wu.call(this),(function(){He(e)}))},zc:bu,Bc:_u,Ac:wu,$:function(t,e){t=tn(uu,{Ma:t,message:e},null,this.s),gu.call(this,t)},h:vu,Cb:yu,Dc:function(){return Fa(this,"firebaseui-tos")},bb:function(){return Fa(this,"firebaseui-tos-link")},ab:function(){return Fa(this,"firebaseui-pp-link")},Ec:function(){return Fa(this,"firebaseui-tos-list")}}),Cu.a="firebaseui.auth.soy2.page.signIn",Au.a="firebaseui.auth.soy2.page.passwordSignIn",Ou.a="firebaseui.auth.soy2.page.passwordSignUp",Ru.a="firebaseui.auth.soy2.page.passwordRecovery",Pu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Nu.a="firebaseui.auth.soy2.page.callback",Mu.a="firebaseui.auth.soy2.page.spinner",Du.a="firebaseui.auth.soy2.page.blank",Lu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",ju.a="firebaseui.auth.soy2.page.emailNotReceived",Uu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",Fu.a="firebaseui.auth.soy2.page.differentDeviceError",Bu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",zu.a="firebaseui.auth.soy2.page.passwordLinking",qu.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Vu.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Hu.a="firebaseui.auth.soy2.page.federatedLinking",Gu.a="firebaseui.auth.soy2.page.unauthorizedUser",Wu.a="firebaseui.auth.soy2.page.unsupportedProvider",Ku.a="firebaseui.auth.soy2.page.passwordReset",Yu.a="firebaseui.auth.soy2.page.passwordResetSuccess",$u.a="firebaseui.auth.soy2.page.passwordResetFailure",Zu.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",Qu.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",Xu.a="firebaseui.auth.soy2.page.emailVerificationSuccess",Ju.a="firebaseui.auth.soy2.page.emailVerificationFailure",tc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",ec.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",nc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",rc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",ic.a="firebaseui.auth.soy2.page.recoverableError",oc.a="firebaseui.auth.soy2.page.unrecoverableError",sc.a="firebaseui.auth.soy2.page.emailMismatch",ac.a="firebaseui.auth.soy2.page.providerSignIn",uc.a="firebaseui.auth.soy2.page.phoneSignInStart",cc.a="firebaseui.auth.soy2.page.phoneSignInFinish",lc.a="firebaseui.auth.soy2.page.signOut",hc.a="firebaseui.auth.soy2.page.selectTenant",fc.a="firebaseui.auth.soy2.page.providerMatchByEmail",s(_c,Iu),_c.prototype.v=function(){this.P(),this.M(this.w,this.H),ku(this,this.i(),this.w),this.i().focus(),Iu.prototype.v.call(this)},_c.prototype.o=function(){this.w=null,Iu.prototype.o.call(this)},_c.prototype.j=function(){return oa(Fa(this,"firebaseui-id-email"))},A(_c.prototype,{i:gc,B:vc,P:yc,u:bc,ea:dc,ba:pc,M:mc});var wc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Ec(){return Fa(this,"firebaseui-id-email")}function Sc(){return Fa(this,"firebaseui-id-email-error")}function Ic(t){var e=Ec.call(this),n=Sc.call(this);Va(this,e,(function(){Ya(n)&&(qa(e,!0),Wa(n))})),t&&Ha(this,e,(function(){t()}))}function xc(){return Y(oa(Ec.call(this))||"")}function Tc(){var t=Ec.call(this),e=Sc.call(this),n=oa(t)||"";return n?wc.test(n)?(qa(t,!0),Wa(e),e=!0):(qa(t,!1),Ka(e,un("That email address isn't correct").toString()),e=!1):(qa(t,!1),Ka(e,un("Enter your email address to continue").toString()),e=!1),e?Y(oa(t)):null}function kc(t,e,n,r,i,o,s){Iu.call(this,Au,{email:n,ia:!!o},s,"passwordSignIn",{F:r,D:i}),this.w=t,this.H=e}function Cc(t,e,n,r,i,o){Iu.call(this,t,e,r,i||"notice",o),this.i=n||null}function Ac(t,e,n,r,i){Cc.call(this,Pu,{email:t,G:!!e},e,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Oc(t,e){Cc.call(this,Xu,{G:!!t},t,e,"emailVerificationSuccess")}function Rc(t,e){Cc.call(this,Ju,{G:!!t},t,e,"emailVerificationFailure")}function Pc(t,e,n){Cc.call(this,tc,{email:t,G:!!e},e,n,"verifyAndChangeEmailSuccess")}function Nc(t,e){Cc.call(this,ec,{G:!!t},t,e,"verifyAndChangeEmailFailure")}function Mc(t,e){Cc.call(this,rc,{G:!!t},t,e,"revertSecondFactorAdditionFailure")}function Dc(t){Cc.call(this,lc,void 0,void 0,t,"signOut")}function Lc(t,e){Cc.call(this,Yu,{G:!!t},t,e,"passwordResetSuccess")}function jc(t,e){Cc.call(this,$u,{G:!!t},t,e,"passwordResetFailure")}function Uc(t,e){Cc.call(this,Qu,{G:!!t},t,e,"emailChangeRevokeFailure")}function Fc(t,e,n){Cc.call(this,ic,{errorMessage:t,zb:!!e},e,n,"recoverableError")}function Bc(t,e){Cc.call(this,oc,{errorMessage:t},void 0,e,"unrecoverableError")}function zc(t){if("auth/invalid-credential"===t.code&&t.message&&-1!==t.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(t.message&&-1!==t.message.indexOf("HTTP Cloud Function returned an error:")){var e=JSON.parse(t.message.substring(t.message.indexOf("{"),t.message.lastIndexOf("}")+1));return{code:t.code,message:e&&e.error&&e.error.message||t.message}}return t}function qc(t,e,n,r){function i(n){if(!n.name||"cancel"!=n.name){t:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break t}}catch(s){}o=!1}if(o)n=xu(e),e.m(),$c(t,n,void 0,un("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=Gc(n)}e.a(o)}}}if(bh(t),r)return Vc(t,n),qr();if(!n.credential)throw Error("No credential found!");if(!ch(t).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(t,e){return Eh(t),gh(t,(function(n){if(t.j&&!t.j.isAnonymous&&vs(wh(t))&&!ch(t).currentUser)return Ih(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return Ih(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return xh(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ih(t).then((function(){return lh(t).updateCurrentUser(e.user)})).then((function(){return e.user=lh(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(s){return Fi(s.code||s.message,s),e.a(s.code||s.message),qr()}return n=o.then((function(e){Vc(t,e)}),i).then(void 0,i),yh(t,o),qr(n)}function Vc(t,e){if(!e.user)throw Error("No user found");var n=js(wh(t));if(Ls(wh(t))&&n&&Vi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=js(wh(t));var r=Go(hh(t))||void 0;Vo(Fo,hh(t));var i=!1;ti()?(n&&!n(e,r)||(i=!0,De(window.opener.location,Hc(t,r))),n||window.close()):n&&!n(e,r)||(i=!0,De(window.location,Hc(t,r))),i||t.reset()}else{n=e.user,e=e.credential,r=Ls(wh(t)),i=Go(hh(t))||void 0,Vo(Fo,hh(t));var o=!1;ti()?(r&&!r(n,e,i)||(o=!0,De(window.opener.location,Hc(t,i))),r||window.close()):r&&!r(n,e,i)||(o=!0,De(window.location,Hc(t,i))),o||t.reset()}}function Hc(t,e){if(!(t=e||wh(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function Gc(t){var e={code:t.code},n="";switch((e=e||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Rn();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Rn();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=Tn();break;case"auth/invalid-verification-code":n+=un("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=un(n).toString())return e;try{return JSON.parse(t.message),Fi("Internal error: "+t.message,void 0),Cn().toString()}catch(r){return t.message}}function Wc(t,e,n,r){function i(){!function(t,e){Ho(Uo,{tenantId:t.a},e)}(new Xi(t.h.tenantId||null),hh(t)),yh(t,e.I(k(t.dc,t),[c],(function(){if("file:"===(window.location&&window.location.protocol))return yh(t,sh(t).then((function(n){e.m(),Vo(Uo,hh(t)),ta("callback",t,u,qr(n))}),o))}),s))}function o(r){if(Vo(Uo,hh(t)),!r.name||"cancel"!=r.name)switch(r=zc(r),r.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a(Gc(r));break;case"auth/admin-restricted-operation":e.m(),xs(wh(t))?ta("handleUnauthorizedUser",t,u,null,n):ta("callback",t,u,Vr(r));break;default:e.m(),ta("callback",t,u,Vr(r))}}function s(n){Vo(Uo,hh(t)),n.name&&"cancel"==n.name||(Fi("signInWithRedirect: "+n.code,void 0),n=Gc(n),"blank"==e.Ga&&Ms(wh(t))?(e.m(),ta("providerSignIn",t,u,n)):e.a(n))}var u=xu(e),c=function(t,e,n){var r=ms[e]&&a.a.auth[ms[e]]?new a.a.auth[ms[e]]:0==e.indexOf("saml.")?new a.a.auth.SAMLAuthProvider(e):new a.a.auth.OAuthProvider(e);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Ts(wh(t),e);if(r.addScope)for(var o=0;o<i.length;o++)r.addScope(i[o]);return i=ks(wh(t),e)||{},n&&(t=e==a.a.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==a.a.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=ws(wh(t),e))&&t.Ob)&&(i[t]=n),r.setCustomParameters&&r.setCustomParameters(i),r}(t,n,r);Ds(wh(t))==Ys?i():yh(t,function(t,e){return Eh(t),gh(t,(function(n){return n&&!Wo(hh(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return xh(t,e)})):ch(t).signInWithPopup(e)}))}(t,c).then((function(n){e.m(),ta("callback",t,u,qr(n))}),o))}function Kc(t){return 1==(t=_s(wh(t))).length&&t[0]==a.a.auth.EmailAuthProvider.PROVIDER_ID}function Yc(t){return 1==(t=_s(wh(t))).length&&t[0]==a.a.auth.PhoneAuthProvider.PROVIDER_ID}function $c(t,e,n,r){Kc(t)?r?ta("signIn",t,e,n,r):Jc(t,e,n):t&&Yc(t)&&!r?ta("phoneSignInStart",t,e):t&&Ms(wh(t))&&!r?ta("federatedRedirect",t,e,n):ta("providerSignIn",t,e,r,n)}function Zc(t,e,n,r){var i=xu(e);yh(t,e.I(k(ch(t).fetchSignInMethodsForEmail,ch(t)),[n],(function(o){e.m(),Qc(t,i,o,n,r)}),(function(t){t=Gc(t),e.a(t)})))}function Qc(t,e,n,r,i,o){n.length||Ns(wh(t))&&!Ns(wh(t))?q(n,a.a.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ta("passwordSignIn",t,e,r,o):1==n.length&&n[0]===a.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ns(wh(t))?ta("sendEmailLinkForSignIn",t,e,r,(function(){ta("signIn",t,e)})):ta("unsupportedProvider",t,e,r):(n=ds(n,_s(wh(t))))?(Yo(new $i(r),hh(t)),ta("federatedSignIn",t,e,r,n,i)):ta("unsupportedProvider",t,e,r):Is(wh(t))?ta("handleUnauthorizedUser",t,e,r,a.a.auth.EmailAuthProvider.PROVIDER_ID):Ns(wh(t))?ta("sendEmailLinkForSignIn",t,e,r,(function(){ta("signIn",t,e)})):ta("passwordSignUp",t,e,r,void 0,void 0,o)}function Xc(t,e,n,r,i,o){var s=xu(e);yh(t,e.I(k(t.Ib,t),[n,o],(function(){e.m(),ta("emailLinkSignInSent",t,s,n,r,o)}),i))}function Jc(t,e,n){n?ta("prefilledEmailSignIn",t,e,n):ta("signIn",t,e)}function tl(){return vt(ri(),"oobCode")}function el(){var t=vt(ri(),"continueUrl");return t?function(){De(window.location,t)}:null}function nl(t,e){Iu.call(this,Bu,void 0,e,"anonymousUserMismatch"),this.i=t}function rl(t){Iu.call(this,Nu,void 0,t,"callback")}function il(t,e,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=Wo(hh(t)),o=i&&i.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var r=xu(e);yh(t,Ih(t).then((function(){e.m(),ta("emailMismatch",t,r,n)}),(function(t){t.name&&"cancel"==t.name||(t=Gc(t.code),e.a(t))})))}(t,e,r);else{var s=i&&i.a;s?yh(t,n.user.linkWithCredential(s).then((function(n){ol(t,e,r={user:n.user,credential:s,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(n){sl(t,e,n)}))):ol(t,e,r)}}else n=xu(e),e.m(),Ko(hh(t)),$c(t,n)}function ol(t,e,n){Ko(hh(t)),qc(t,e,n)}function sl(t,e,n){var r=xu(e);Ko(hh(t)),n=Gc(n),e.m(),$c(t,r,void 0,n)}function al(t,e,n,r){var i=xu(e);yh(t,ch(t).fetchSignInMethodsForEmail(n).then((function(o){e.m(),o.length?q(o,a.a.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ta("passwordLinking",t,i,n):1==o.length&&o[0]===a.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ta("emailLinkSignInLinking",t,i,n):(o=ds(o,_s(wh(t))))?ta("federatedLinking",t,i,n,o,r):(Ko(hh(t)),ta("unsupportedProvider",t,i,n)):(Ko(hh(t)),ta("passwordRecovery",t,i,n,!1,An().toString()))}),(function(n){sl(t,e,n)})))}function ul(t,e){Iu.call(this,Fu,void 0,e,"differentDeviceError"),this.i=t}function cl(t,e,n,r){Iu.call(this,Zu,{email:t,G:!!n},r,"emailChangeRevoke"),this.l=e,this.i=n||null}function ll(){return Fa(this,"firebaseui-id-new-password")}function hl(){return Fa(this,"firebaseui-id-password-toggle")}function fl(){this.Ra=!this.Ra;var t=hl.call(this),e=ll.call(this);this.Ra?(e.type="text",ra(t,"firebaseui-input-toggle-off"),ia(t,"firebaseui-input-toggle-on")):(e.type="password",ra(t,"firebaseui-input-toggle-on"),ia(t,"firebaseui-input-toggle-off")),e.focus()}function dl(){return Fa(this,"firebaseui-id-new-password-error")}function pl(){this.Ra=!1;var t=ll.call(this);t.type="password";var e=dl.call(this);Va(this,t,(function(){Ya(e)&&(qa(t,!0),Wa(e))}));var n=hl.call(this);ra(n,"firebaseui-input-toggle-on"),ia(n,"firebaseui-input-toggle-off"),function(t,e,n){jn(t,C(Un,e=new pa(e))),ba(Ba(t),e,"focusin",n)}(this,t,(function(){ra(n,"firebaseui-input-toggle-focus"),ia(n,"firebaseui-input-toggle-blur")})),function(t,e,n){jn(t,C(Un,e=new pa(e))),ba(Ba(t),e,"focusout",n)}(this,t,(function(){ra(n,"firebaseui-input-toggle-blur"),ia(n,"firebaseui-input-toggle-focus")})),Ga(this,n,k(fl,this))}function ml(){var t=ll.call(this),e=dl.call(this);return oa(t)?(qa(t,!0),Wa(e),e=!0):(qa(t,!1),Ka(e,un("Enter your password").toString()),e=!1),e?oa(t):null}function gl(t,e,n){Iu.call(this,Ku,{email:t},n,"passwordReset"),this.l=e}function vl(t,e,n,r,i){Iu.call(this,nc,{factorId:t,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=e,this.i=r||null}function yl(t,e,n,r){"auth/weak-password"==(r&&r.code)?(t=Gc(r),qa(n.i(),!1),Ka(n.w(),t),n.i().focus()):(n&&n.m(),(n=new jc).render(e),ah(t,n))}function bl(t,e){try{var n="number"==typeof t.selectionStart}catch(r){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):Qt&&!le("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function _l(t,e,n,r,i,o){Iu.call(this,Uu,{email:n},o,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=t,this.u=e}function wl(t,e,n,r,i){Iu.call(this,Vu,{ga:t},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=e}function El(t){Iu.call(this,Du,void 0,t,"blank")}function Sl(t,e,n,r,i){var o=new El,s=new Ut(n),u=s.a.a.get(qt.$a)||"",c=s.a.a.get(qt.Sa)||"",l="1"===s.a.a.get(qt.Qa),h=Ft(s),f=s.a.a.get(qt.PROVIDER_ID)||null;s=s.a.a.get(qt.vb)||null,_h(t,s);var d=!qo(Bo,hh(t)),p=r||function(t,e){var n=null;if(e=qo(Bo,e))try{var r=wo(t,e),i=JSON.parse(r);n=i&&i.email||null}catch(o){}return n}(c,hh(t)),m=(r=function(t,e){var n=null;if(e=qo(zo,e))try{var r=wo(t,e);n=JSON.parse(r)}catch(i){}return Qi(n||null)}(c,hh(t)))&&r.a;f&&m&&m.providerId!==f&&(m=null),o.render(e),ah(t,o),yh(t,o.I((function(){var e=qr(null);e=h&&d||d&&l?Vr(Error("anonymous-user-not-found")):function(t,e){var n=Ft(new Ut(e));return n?(e=new Dr((function(e,r){var i=lh(t).onAuthStateChanged((function(t){i(),t&&t.isAnonymous&&t.uid===n?e(t):r(t&&t.isAnonymous&&t.uid!==n?Error("anonymous-user-mismatch"):Error("anonymous-user-not-found"))}));yh(t,i)})),yh(t,e),e):qr(null)}(t,n).then((function(t){if(f&&!m)throw Error("pending-credential-not-found");return t}));var r=null;return e.then((function(e){return r=e,i?null:ch(t).checkActionCode(u)})).then((function(){return r}))}),[],(function(r){p?function(t,e,n,r,i,o){var s=xu(e);e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Signing in...").toString());var u=null;i=(o?function(t,e,n,r,i){Eh(t);var o=i||null,s=a.a.auth.EmailAuthProvider.credentialWithLink(n,r);return n=o?ch(t).signInWithEmailLink(n,r).then((function(t){return t.user.linkWithCredential(o)})).then((function(){return Ih(t)})).then((function(){return xh(t,{code:"auth/email-already-in-use"},o)})):ch(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?xh(t,{code:"auth/email-already-in-use"},s):e.linkWithCredential(s)})),yh(t,n),n}(t,o,n,r,i):function(t,e,n,r){Eh(t);var i,o=r||null;return e=ch(t).signInWithEmailLink(e,n).then((function(t){if(i={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){i={user:t.user,credential:o,operationType:i.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){Ih(t)})).then((function(){return lh(t).updateCurrentUser(i.user)})).then((function(){return i.user=lh(t).currentUser,i})),yh(t,e),e}(t,n,r,i)).then((function(n){Vo(zo,hh(t)),Vo(Bo,hh(t)),e.h(),e.$("firebaseui-icon-done",un("Signed in!").toString()),u=setTimeout((function(){e.h(),qc(t,e,n,!0)}),1e3),yh(t,(function(){e&&(e.h(),e.m()),clearTimeout(u)}))}),(function(i){if(e.h(),e.m(),!i.name||"cancel"!=i.name){var o=Gc(i=zc(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Vo(zo,hh(t)),Vo(Bo,hh(t))):"auth/invalid-email"==i.code?(o=un("The email provided does not match the current sign-in session.").toString(),ta("emailLinkConfirmation",t,s,r,Il,null,o)):$c(t,s,n,o)}})),yh(t,i)}(t,o,p,n,m,r):l?(o.m(),ta("differentDeviceError",t,e)):(o.m(),ta("emailLinkConfirmation",t,e,n,Il))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(o.m(),r&&r.message){case"anonymous-user-not-found":ta("differentDeviceError",t,e);break;case"anonymous-user-mismatch":ta("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":ta("emailLinkNewDeviceLinking",t,e,n,xl);break;default:r&&(i=Gc(r)),$c(t,e,void 0,i)}})))}function Il(t,e,n,r){Sl(t,e,r,n,!0)}function xl(t,e,n){Sl(t,e,n)}function Tl(t,e,n,r,i,o){Iu.call(this,qu,{email:t,ga:e},o,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function kl(t,e,n,r,i,o){Iu.call(this,Lu,{email:t},o,"emailLinkSignInSent",{F:r,D:i}),this.u=e,this.i=n}function Cl(t,e,n,r,i,o,s){Iu.call(this,sc,{jc:t,Qb:e},s,"emailMismatch",{F:i,D:o}),this.l=n,this.i=r}function Al(t,e,n,r,i){Iu.call(this,ju,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=t,this.i=e}function Ol(t,e,n,r,i,o){Iu.call(this,Hu,{email:t,ga:e},o,"federatedLinking",{F:r,D:i}),this.i=n}function Rl(t,e,n,r,i,o){Iu.call(this,Ru,{email:n,Ta:!!e},o,"passwordRecovery",{F:r,D:i}),this.l=t,this.u=e}function Pl(){return Fa(this,"firebaseui-id-name")}function Nl(){return Fa(this,"firebaseui-id-name-error")}function Ml(t,e,n,r,i,o,s,a,u){Iu.call(this,Ou,{email:r,Tb:t,name:i,Ta:!!n,ia:!!a},u,"passwordSignUp",{F:o,D:s}),this.w=e,this.H=n,this.B=t}function Dl(){return Fa(this,"firebaseui-id-phone-confirmation-code")}function Ll(){return Fa(this,"firebaseui-id-phone-confirmation-code-error")}function jl(){return Fa(this,"firebaseui-id-resend-countdown")}function Ul(t,e,n,r,i,o,s,a,u){Iu.call(this,cc,{phoneNumber:i},u,"phoneSignInFinish",{F:s,D:a}),this.jb=o,this.i=new ma(1e3),this.B=o,this.P=t,this.l=e,this.H=n,this.M=r}s(kc,Iu),kc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Tu(this,this.l(),this.i()),ku(this,this.i(),this.w),oa(this.l())?this.i().focus():this.l().focus(),Iu.prototype.v.call(this)},kc.prototype.o=function(){this.H=this.w=null,Iu.prototype.o.call(this)},A(kc.prototype,{l:Ec,U:Sc,P:Ic,M:xc,j:Tc,i:gc,B:vc,ea:yc,u:bc,ua:dc,pa:pc,ba:mc}),N(Cc,Iu),Cc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Cc.K.v.call(this)},Cc.prototype.o=function(){this.i=null,Cc.K.o.call(this)},A(Cc.prototype,{l:dc,w:pc,u:mc}),N(Ac,Cc),N(Oc,Cc),N(Rc,Cc),N(Pc,Cc),N(Nc,Cc),N(Mc,Cc),N(Dc,Cc),N(Lc,Cc),N(jc,Cc),N(Uc,Cc),N(Fc,Cc),N(Bc,Cc),s(nl,Iu),nl.prototype.v=function(){var t=this;Ga(this,this.l(),(function(){t.i()})),this.l().focus(),Iu.prototype.v.call(this)},nl.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(nl.prototype,{l:pc}),Js.anonymousUserMismatch=function(t,e){var n=new nl((function(){n.m(),$c(t,e)}));n.render(e),ah(t,n)},s(rl,Iu),rl.prototype.I=function(t,e,n,r){return t.apply(null,e).then(n,r)},Js.callback=function(t,e,n){var r=new rl;r.render(e),ah(t,r),n=n||sh(t),yh(t,n.then((function(e){il(t,r,e)}),(function(n){if((n=zc(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)Yo(new $i(n.email,n.credential),hh(t)),al(t,r,n.email);else if(n&&"auth/user-cancelled"==n.code){var i=Wo(hh(t)),o=Gc(n);i&&i.a?al(t,r,i.g,o):i?Zc(t,r,i.g,o):sl(t,r,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&Kc(t)?il(t,r,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&xs(wh(t))?(r.m(),Ko(hh(t)),ta("handleUnauthorizedUser",t,e,null,null)):sl(t,r,n))})))},s(ul,Iu),ul.prototype.v=function(){var t=this;Ga(this,this.l(),(function(){t.i()})),this.l().focus(),Iu.prototype.v.call(this)},ul.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(ul.prototype,{l:pc}),Js.differentDeviceError=function(t,e){var n=new ul((function(){n.m(),$c(t,e)}));n.render(e),ah(t,n)},s(cl,Iu),cl.prototype.v=function(){var t=this;Ga(this,Fa(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Iu.prototype.v.call(this)},cl.prototype.o=function(){this.l=this.i=null,Iu.prototype.o.call(this)},A(cl.prototype,{u:dc,B:pc,w:mc}),s(gl,Iu),gl.prototype.v=function(){this.H(),this.B(this.l),ku(this,this.i(),this.l),this.i().focus(),Iu.prototype.v.call(this)},gl.prototype.o=function(){this.l=null,Iu.prototype.o.call(this)},A(gl.prototype,{i:ll,w:dl,M:hl,H:pl,u:ml,U:dc,P:pc,B:mc}),s(vl,Iu),vl.prototype.v=function(){var t=this;Ga(this,Fa(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Iu.prototype.v.call(this)},vl.prototype.o=function(){this.l=this.i=null,Iu.prototype.o.call(this)},A(vl.prototype,{u:dc,B:pc,w:mc}),Js.passwordReset=function(t,e,n,r){yh(t,ch(t).verifyPasswordResetCode(n).then((function(i){var o=new gl(i,(function(){!function(t,e,n,r,i){var o=n.u();o&&yh(t,n.I(k(ch(t).confirmPasswordReset,ch(t)),[r,o],(function(){n.m();var r=new Lc(i);r.render(e),ah(t,r)}),(function(r){yl(t,e,n,r)})))}(t,e,o,n,r)}));o.render(e),ah(t,o)}),(function(){yl(t,e)})))},Js.emailChangeRevocation=function(t,e,n){var r=null;yh(t,ch(t).checkActionCode(n).then((function(e){return r=e.data.email,ch(t).applyActionCode(n)})).then((function(){!function(t,e,n){var r=new cl(n,(function(){yh(t,r.I(k(ch(t).sendPasswordResetEmail,ch(t)),[n],(function(){r.m(),(r=new Ac(n,void 0,Os(wh(t)),Rs(wh(t)))).render(e),ah(t,r)}),(function(){r.a(kn().toString())})))}));r.render(e),ah(t,r)}(t,e,r)}),(function(){var n=new Uc;n.render(e),ah(t,n)})))},Js.emailVerification=function(t,e,n,r){yh(t,ch(t).applyActionCode(n).then((function(){var n=new Oc(r);n.render(e),ah(t,n)}),(function(){var n=new Rc;n.render(e),ah(t,n)})))},Js.revertSecondFactorAddition=function(t,e,n){var r=null,i=null;yh(t,ch(t).checkActionCode(n).then((function(e){return r=e.data.email,i=e.data.multiFactorInfo,ch(t).applyActionCode(n)})).then((function(){!function(t,e,n,r){var i=new vl(r.factorId,(function(){i.I(k(ch(t).sendPasswordResetEmail,ch(t)),[n],(function(){i.m(),(i=new Ac(n,void 0,Os(wh(t)),Rs(wh(t)))).render(e),ah(t,i)}),(function(){i.a(kn().toString())}))}),r.phoneNumber);i.render(e),ah(t,i)}(t,e,r,i)}),(function(){var n=new Mc;n.render(e),ah(t,n)})))},Js.verifyAndChangeEmail=function(t,e,n,r){var i=null;yh(t,ch(t).checkActionCode(n).then((function(e){return i=e.data.email,ch(t).applyActionCode(n)})).then((function(){var n=new Pc(i,r);n.render(e),ah(t,n)}),(function(){var n=new Nc;n.render(e),ah(t,n)})))},s(_l,Iu),_l.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),bl(this.i(),(this.i().value||"").length),Iu.prototype.v.call(this)},_l.prototype.o=function(){this.u=this.l=null,Iu.prototype.o.call(this)},A(_l.prototype,{i:Ec,M:Sc,w:Ic,H:xc,j:Tc,U:dc,P:pc,B:mc}),Js.emailLinkConfirmation=function(t,e,n,r,i,o){var s=new _l((function(){var i=s.j();i?(s.m(),r(t,e,i,n)):s.i().focus()}),(function(){s.m(),$c(t,e,i||void 0)}),i||void 0,Os(wh(t)),Rs(wh(t)));s.render(e),ah(t,s),o&&s.a(o)},s(wl,Iu),wl.prototype.v=function(){this.u(this.i),this.l().focus(),Iu.prototype.v.call(this)},wl.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(wl.prototype,{l:dc,u:mc}),Js.emailLinkNewDeviceLinking=function(t,e,n,r){var i=new Ut(n);if(n=i.a.a.get(qt.PROVIDER_ID)||null,Bt(i,null),n){var o=new wl(ws(wh(t),n),(function(){o.m(),r(t,e,i.toString())}),Os(wh(t)),Rs(wh(t)));o.render(e),ah(t,o)}else $c(t,e)},s(El,Iu),Js.emailLinkSignInCallback=Sl,s(Tl,Iu),Tl.prototype.v=function(){this.u(this.i),this.l().focus(),Iu.prototype.v.call(this)},Tl.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(Tl.prototype,{l:dc,u:mc}),Js.emailLinkSignInLinking=function(t,e,n){var r=Wo(hh(t));if(Ko(hh(t)),r){var i=r.a.providerId,o=new Tl(n,ws(wh(t),i),(function(){!function(t,e,n,r){var i=xu(e);Xc(t,e,n,(function(){$c(t,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=Gc(r);r&&"auth/network-request-failed"==r.code?e.a(o):(e.m(),$c(t,i,n,o))}}),r)}(t,o,n,r)}),Os(wh(t)),Rs(wh(t)));o.render(e),ah(t,o)}else $c(t,e)},s(kl,Iu),kl.prototype.v=function(){var t=this;Ga(this,this.l(),(function(){t.i()})),Ga(this,Fa(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),Iu.prototype.v.call(this)},kl.prototype.o=function(){this.i=this.u=null,Iu.prototype.o.call(this)},A(kl.prototype,{l:pc}),Js.emailLinkSignInSent=function(t,e,n,r,i){var o=new kl(n,(function(){o.m(),ta("emailNotReceived",t,e,n,r,i)}),(function(){o.m(),r()}),Os(wh(t)),Rs(wh(t)));o.render(e),ah(t,o)},s(Cl,Iu),Cl.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Iu.prototype.v.call(this)},Cl.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(Cl.prototype,{u:dc,B:pc,w:mc}),Js.emailMismatch=function(t,e,n){var r=Wo(hh(t));if(r){var i=new Cl(n.user.email,r.g,(function(){var e=i;Ko(hh(t)),qc(t,e,n)}),(function(){var e=n.credential.providerId,o=xu(i);i.m(),ta(r.a?"federatedLinking":"federatedSignIn",t,o,r.g,e)}),Os(wh(t)),Rs(wh(t)));i.render(e),ah(t,i)}else $c(t,e)},s(Al,Iu),Al.prototype.v=function(){var t=this;Ga(this,this.u(),(function(){t.i()})),Ga(this,this.Da(),(function(){t.l()})),this.u().focus(),Iu.prototype.v.call(this)},Al.prototype.Da=function(){return Fa(this,"firebaseui-id-resend-email-link")},Al.prototype.o=function(){this.i=this.l=null,Iu.prototype.o.call(this)},A(Al.prototype,{u:pc}),Js.emailNotReceived=function(t,e,n,r,i){var o=new Al((function(){Xc(t,o,n,r,(function(t){t=Gc(t),o.a(t)}),i)}),(function(){o.m(),$c(t,e,n)}),Os(wh(t)),Rs(wh(t)));o.render(e),ah(t,o)},s(Ol,Iu),Ol.prototype.v=function(){this.u(this.i),this.l().focus(),Iu.prototype.v.call(this)},Ol.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(Ol.prototype,{l:dc,u:mc}),Js.federatedLinking=function(t,e,n,r,i){var o=Wo(hh(t));if(o&&o.a){var s=new Ol(n,ws(wh(t),r),(function(){Wc(t,s,r,n)}),Os(wh(t)),Rs(wh(t)));s.render(e),ah(t,s),i&&s.a(i)}else $c(t,e)},Js.federatedRedirect=function(t,e,n){var r=new El;r.render(e),ah(t,r),Wc(t,r,e=_s(wh(t))[0],n)},Js.federatedSignIn=function(t,e,n,r,i){var o=new Ol(n,ws(wh(t),r),(function(){Wc(t,o,r,n)}),Os(wh(t)),Rs(wh(t)));o.render(e),ah(t,o),i&&o.a(i)},Js.passwordLinking=function(t,e,n){var r=Wo(hh(t));Ko(hh(t));var i=r&&r.a;if(i){var o=new _c(n,(function(){!function(t,e,n,r){var i=e.u();i?yh(t,e.I(k(t.Xb,t),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return qc(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),yh(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":qa(e.i(),!1),Ka(e.B(),Gc(t));break;case"auth/too-many-requests":e.a(Gc(t));break;default:Fi("signInWithEmailAndPassword: "+t.message,void 0),e.a(Gc(t))}}))):e.i().focus()}(t,o,n,i)}),(function(){o.m(),ta("passwordRecovery",t,e,n)}),Os(wh(t)),Rs(wh(t)));o.render(e),ah(t,o)}else $c(t,e)},s(Rl,Iu),Rl.prototype.v=function(){this.B(),this.H(this.l,this.u),oa(this.i())||this.i().focus(),ku(this,this.i(),this.l),Iu.prototype.v.call(this)},Rl.prototype.o=function(){this.u=this.l=null,Iu.prototype.o.call(this)},A(Rl.prototype,{i:Ec,w:Sc,B:Ic,M:xc,j:Tc,U:dc,P:pc,H:mc}),Js.passwordRecovery=function(t,e,n,r,i){var o=new Rl((function(){!function(t,e){var n=e.j();if(n){var r=xu(e);yh(t,e.I(k(ch(t).sendPasswordResetEmail,ch(t)),[n],(function(){e.m();var i=new Ac(n,(function(){i.m(),$c(t,r)}),Os(wh(t)),Rs(wh(t)));i.render(r),ah(t,i)}),(function(t){qa(e.i(),!1),Ka(e.w(),Gc(t))})))}else e.i().focus()}(t,o)}),r?void 0:function(){o.m(),$c(t,e)},n,Os(wh(t)),Rs(wh(t)));o.render(e),ah(t,o),i&&o.a(i)},Js.passwordSignIn=function(t,e,n,r){var i=new kc((function(){!function(t,e){var n=e.j(),r=e.u();if(n)if(r){var i=a.a.auth.EmailAuthProvider.credential(n,r);yh(t,e.I(k(t.bc,t),[n,r],(function(n){return qc(t,e,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":qa(e.l(),!1),Ka(e.U(),Gc(t));break;case"auth/too-many-requests":case"auth/wrong-password":qa(e.i(),!1),Ka(e.B(),Gc(t));break;default:Fi("verifyPassword: "+t.message,void 0),e.a(Gc(t))}})))}else e.i().focus();else e.l().focus()}(t,i)}),(function(){var n=i.M();i.m(),ta("passwordRecovery",t,e,n)}),n,Os(wh(t)),Rs(wh(t)),r);i.render(e),ah(t,i)},s(Ml,Iu),Ml.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Tu(this,this.i(),this.u()),Tu(this,this.u(),this.l())):Tu(this,this.i(),this.l()),this.w&&ku(this,this.l(),this.w),oa(this.i())?this.B&&!oa(this.u())?this.u().focus():this.l().focus():this.i().focus(),Iu.prototype.v.call(this)},Ml.prototype.o=function(){this.H=this.w=null,Iu.prototype.o.call(this)},A(Ml.prototype,{i:Ec,U:Sc,ea:Ic,jb:xc,j:Tc,u:Pl,Cc:Nl,Ja:function(){var t=Pl.call(this),e=Nl.call(this);Va(this,t,(function(){Ya(e)&&(qa(t,!0),Wa(e))}))},M:function(){var t=Pl.call(this),e=Nl.call(this),n=oa(t);return qa(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Wa(e),e=!0):(Ka(e,un("Enter your account name").toString()),e=!1),e?Y(oa(t)):null},l:ll,ba:dl,lb:hl,ua:pl,P:ml,Nb:dc,Mb:pc,pa:mc}),Js.passwordSignUp=function(t,e,n,r,i,o){var s=new Ml(Ps(wh(t)),(function(){!function(t,e){var n=Ps(wh(t)),r=e.j(),i=null;n&&(i=e.M());var o=e.P();if(r){if(n){if(!i)return void e.u().focus();i=rt(i)}if(o){var s=a.a.auth.EmailAuthProvider.credential(r,o);yh(t,e.I(k(t.Yb,t),[r,o],(function(r){var o={user:r.user,credential:s,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then((function(){return qc(t,e,o)})),yh(t,r),r):qc(t,e,o)}),(function(n){if(!n.name||"cancel"!=n.name){var i=zc(n);switch(n=Gc(i),i.code){case"auth/email-already-in-use":return function(t,e,n,r){function i(){var t=Gc(r);qa(e.i(),!1),Ka(e.U(),t),e.i().focus()}var o=ch(t).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=xu(e),e.m(),ta("passwordRecovery",t,r,n,!1,An().toString()))}),(function(){i()}));return yh(t,o),o}(t,e,r,i);case"auth/too-many-requests":n=un("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":qa(e.l(),!1),Ka(e.ba(),n);break;case"auth/admin-restricted-operation":xs(wh(t))?(n=xu(e),e.m(),ta("handleUnauthorizedUser",t,n,r,a.a.auth.EmailAuthProvider.PROVIDER_ID)):e.a(n);break;default:Fi(i="setAccountInfo: "+So(i),void 0),e.a(n)}}})))}else e.l().focus()}else e.i().focus()}(t,s)}),i?void 0:function(){s.m(),$c(t,e)},n,r,Os(wh(t)),Rs(wh(t)),o);s.render(e),ah(t,s)},s(Ul,Iu),Ul.prototype.v=function(){var t=this;this.U(this.jb),er(this.i,"tick",this.w,!1,this),this.i.start(),Ga(this,Fa(this,"firebaseui-id-change-phone-number-link"),(function(){t.P()})),Ga(this,this.Da(),(function(){t.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Iu.prototype.v.call(this)},Ul.prototype.o=function(){this.M=this.H=this.l=this.P=null,ga(this.i),ir(this.i,"tick",this.w),this.i=null,Iu.prototype.o.call(this)},Ul.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(ga(this.i),ir(this.i,"tick",this.w),this.ua(),this.lb())},A(Ul.prototype,{u:Dl,pa:Ll,Ja:function(t){var e=Dl.call(this),n=Ll.call(this);Va(this,e,(function(){Ya(n)&&(qa(e,!0),Wa(n))})),t&&Ha(this,e,(function(){t()}))},ba:function(){var t=Y(oa(Dl.call(this))||"");return/^\d{6}$/.test(t)?t:null},Fb:jl,U:function(t){We(jl.call(this),un("Resend code in "+(9<t?"0:":"0:0")+t).toString())},ua:function(){Wa(this.Fb())},Da:function(){return Fa(this,"firebaseui-id-resend-link")},lb:function(){Ka(this.Da())},Nb:dc,Mb:pc,ea:mc}),Js.phoneSignInFinish=function(t,e,n,r,i,o){var s=new Ul((function(){s.m(),ta("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,r){function i(t){e.u().focus(),qa(e.u(),!1),Ka(e.pa(),t)}var o=e.ba();o?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),yh(t,e.I(k(r.confirm,r),[o],(function(n){e.h(),e.$("firebaseui-icon-done",un("Verified!").toString());var r=setTimeout((function(){e.h(),e.m();var r={user:lh(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};qc(t,e,r,!0)}),1e3);yh(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)e.h();else{var o=zc(r);switch(r=Gc(o),o.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":o=xu(e),e.h(),e.m(),ta("phoneSignInStart",t,o,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),i(r);break;default:e.h(),e.a(r)}}})))):i(un("Wrong code. Try again.").toString())}(t,s,n,i)}),(function(){s.m(),$c(t,e)}),(function(){s.m(),ta("phoneSignInStart",t,e,n)}),fs(n),r,Os(wh(t)),Rs(wh(t)));s.render(e),ah(t,s),o&&s.a(o)};var Fl=!(Qt||Gt("Safari")&&!(Wt()||Gt("Coast")||Gt("Opera")||Gt("Edge")||Gt("Firefox")||Gt("FxiOS")||Gt("Silk")||Gt("Android")));function Bl(t,e){return/-[a-z]/.test(e)?null:Fl&&t.dataset?!Gt("Android")||Wt()||Gt("Firefox")||Gt("FxiOS")||Gt("Opera")||Gt("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function zl(t,e,n){var r=this;t=tn(cu,{items:t},null,this.s),gu.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(Bl(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||Ve(document))||Ve(document),r=Ma(t),i=Ma(n);if(!Qt||9<=Number(ue)){s=Pa(n,"borderLeftWidth");var o=Pa(n,"borderRightWidth");a=Pa(n,"borderTopWidth"),u=Pa(n,"borderBottomWidth"),o=new Ra(parseFloat(a),parseFloat(o),parseFloat(u),parseFloat(s))}else{var s=La(n,"borderLeft");o=La(n,"borderRight");var a=La(n,"borderTop"),u=La(n,"borderBottom");o=new Ra(a,o,u,s)}n==Ve(document)?(s=r.a-n.scrollLeft,r=r.g-n.scrollTop,!Qt||10<=Number(ue)||(s+=o.left,r+=o.top)):(s=r.a-i.a-o.left,r=r.g-i.g-o.top),i=t.offsetWidth,o=t.offsetHeight,a=ee&&!i&&!o,t=f(i)&&!a||!t.getBoundingClientRect?new je(i,o):new je((t=Na(t)).right-t.left,t.bottom-t.top),i=n.clientHeight-t.height,o=n.scrollLeft,a=n.scrollTop,n=new Le(o+=Math.min(s,Math.max(s-(n.clientWidth-t.width),0)),a+=Math.min(r,Math.max(r-i,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),Ga(this,t,(function(t){(t=(t=Ke(t.target,"firebaseui-id-list-box-dialog-button"))&&Bl(t,"listboxid"))&&(vu.call(r),e(t))}))}function ql(){return Fa(this,"firebaseui-id-phone-number")}function Vl(){return Fa(this,"firebaseui-id-country-selector")}function Hl(){return Fa(this,"firebaseui-id-phone-number-error")}function Gl(t,e){var n,r=t.a,i=Wl("1-US-0",r);if(!(n=e&&Wl(e,r)?e:i?"1-US-0":0<r.length?r[0].c:null))throw Error("No available default country");$l.call(this,n,t)}function Wl(t,e){return!(!(t=is(t))||!q(e,t))}function Kl(t){return"firebaseui-flag-"+t.f}function Yl(t){var e=this;zl.call(this,function(t){return t.map((function(t){return{id:t.c,Ma:"firebaseui-flag "+Kl(t),label:t.name+" \u200e+"+t.b}}))}(t.a),(function(n){$l.call(e,n,t,!0),e.O().focus()}),this.Ba)}function $l(t,e,n){var r=is(t);r&&(n&&(e=rs(e,n=Y(oa(ql.call(this))||""))).length&&e[0].b!=r.b&&(n="+"+r.b+n.substr(e[0].b.length+1),sa(ql.call(this),n)),e=is(this.Ba),this.Ba=t,t=Fa(this,"firebaseui-id-country-selector-flag"),e&&ia(t,Kl(e)),ra(t,Kl(r)),We(Fa(this,"firebaseui-id-country-selector-code"),"\u200e+"+r.b))}function Zl(t,e,n,r,i,o,s,a,u,c){Iu.call(this,uc,{Gb:e,Aa:u||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:r,D:i}),this.H=a||null,this.M=e,this.l=t,this.w=n||null,this.pa=s||null}function Ql(t,e,n,r){try{var i=e.U(qs)}catch(o){return}i?Bs?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),yh(t,e.I(k(t.cc,t),[fs(i),n],(function(n){var r=xu(e);e.$("firebaseui-icon-done",un("Code sent!").toString());var o=setTimeout((function(){e.h(),e.m(),ta("phoneSignInFinish",t,r,i,15,n)}),1e3);yh(t,(function(){e&&e.h(),clearTimeout(o)}))}),(function(n){if(e.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Vs),Bs=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=un("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.O().focus(),void Ka(e.B(),Tn().toString());case"auth/admin-restricted-operation":if(xs(wh(t)))return n=xu(e),e.m(),void ta("handleUnauthorizedUser",t,n,fs(i),a.a.auth.PhoneAuthProvider.PROVIDER_ID);r=Gc(n);break;default:r=Gc(n)}e.a(r)}})))):zs?Ka(e.u(),un("Solve the reCAPTCHA").toString()):!zs&&r&&e.i().click():(e.O().focus(),Ka(e.B(),Tn().toString()))}function Xl(t,e,n,r,i){Iu.call(this,ac,{Sb:e},i,"providerSignIn",{F:n,D:r}),this.i=t}function Jl(t,e,n,r,i,o,s){Iu.call(this,Cu,{email:n,Va:!!e,ia:!!o},s,"signIn",{F:r,D:i}),this.i=t,this.u=e}function th(t,e,n,r,i,o,s){Iu.call(this,Gu,{kc:t,yb:n,Eb:!!r},s,"unauthorizedUser",{F:i,D:o}),this.l=e,this.i=r}function eh(t,e,n,r,i,o){Iu.call(this,Wu,{email:t},o,"unsupportedProvider",{F:r,D:i}),this.l=e,this.i=n}function nh(t,e){this.$=!1;var n=oh(e);if(ih[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');ih[n]=this,this.a=t,this.u=null,this.Y=!1,rh(this.a),this.h=a.a.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),(t=t.emulatorConfig)&&this.h.useEmulator(t.protocol+"://"+t.host+(null===(n=t.port)?"":":"+n),t.options),rh(this.h),this.h.setPersistence&&this.h.setPersistence(a.a.auth.Auth.Persistence.SESSION),this.oa=e,this.ca=new gs,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=yi.Xa(),this.j=this.C=null,this.da=this.A=!1}function rh(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}s(Zl,Iu),Zl.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Tu(this,this.O(),this.i()),ku(this,this.i(),this.l),this.O().focus(),bl(this.O(),(this.O().value||"").length),Iu.prototype.v.call(this)},Zl.prototype.o=function(){this.w=this.l=null,Iu.prototype.o.call(this)},A(Zl.prototype,{Cb:yu,O:ql,B:Hl,ea:function(t,e,n){var r=this,i=ql.call(this),o=Vl.call(this),s=Hl.call(this),a=t||cs,u=a.a;if(0==u.length)throw Error("No available countries provided.");Gl.call(r,a,e),Ga(this,o,(function(){Yl.call(r,a)})),Va(this,i,(function(){Ya(s)&&(qa(i,!0),Wa(s));var t=Y(oa(i)||""),e=is(this.Ba),n=rs(a,t);t=Wl("1-US-0",u),n.length&&n[0].b!=e.b&&$l.call(r,"1"==(e=n[0]).b&&t?"1-US-0":e.c,a)})),n&&Ha(this,i,(function(){n()}))},U:function(t){var e=Y(oa(ql.call(this))||""),n=(t=t||cs).a,r=rs(cs,e);if(r.length&&!q(n,r[0]))throw sa(ql.call(this)),ql.call(this).focus(),Ka(Hl.call(this),un("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=is(this.Ba),r.length&&r[0].b!=n.b&&$l.call(this,r[0].c,t),r.length&&(e=e.substr(r[0].b.length+1)),e?new ls(this.Ba,e):null},Ja:Vl,ba:function(){return Fa(this,"firebaseui-recaptcha-container")},u:function(){return Fa(this,"firebaseui-id-recaptcha-error")},i:dc,ua:pc,P:mc}),Js.phoneSignInStart=function(t,e,n,r){var i=function(t){var e=null;if(ys(t).forEach((function(t){t.provider==a.a.auth.PhoneAuthProvider.PROVIDER_ID&&E(t.recaptchaParameters)&&!Array.isArray(t.recaptchaParameters)&&(e=ot(t.recaptchaParameters))})),e){var n=[];Xs.forEach((function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&Vi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(wh(t))||{};Bs=null,zs=!(i&&"invisible"===i.size);var o=Yc(t),s=function(t){var e=(t=bs(t,a.a.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&os(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=hs(t.loginHint)),e&&e[0]||n&&is(n.a)||null}(wh(t)),u=o?function(t){var e=null;return(t=bs(t,a.a.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=hs(t.loginHint)),t&&t.defaultNationalNumber||e&&e.Aa||null}(wh(t)):null;s=n&&n.a||s&&s.c||null,n=n&&n.Aa||u,(u=Cs(wh(t)))&&as(u),qs=u?new ns(Cs(wh(t))):cs;var c=new Zl((function(e){Ql(t,c,l,!(!e||!e.keyCode))}),zs,o?null:function(){l.clear(),c.m(),$c(t,e)},Os(wh(t)),Rs(wh(t)),o,qs,s,n);c.render(e),ah(t,c),r&&c.a(r),i.callback=function(e){c.u()&&Wa(c.u()),Bs=e,zs||Ql(t,c,l)},i["expired-callback"]=function(){Bs=null};var l=new a.a.auth.RecaptchaVerifier(zs?c.ba():c.i(),i,lh(t).app);yh(t,c.I(k(l.render,l),[],(function(t){Vs=t}),(function(n){n.name&&"cancel"==n.name||(n=Gc(n),c.m(),$c(t,e,void 0,n))})))},Js.prefilledEmailSignIn=function(t,e,n){var r=new El;r.render(e),ah(t,r),yh(t,r.I(k(ch(t).fetchSignInMethodsForEmail,ch(t)),[n],(function(i){r.m();var o=!(!Kc(t)||!fh(t));Qc(t,e,i,n,void 0,o)}),(function(i){i=Gc(i),r.m(),ta("signIn",t,e,n,i)})))},s(Xl,Iu),Xl.prototype.v=function(){this.l(this.i),Iu.prototype.v.call(this)},Xl.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(Xl.prototype,{l:function(t){function e(e){t(e)}for(var n=this.g?Fe("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];Ga(this,i,C(e,Bl(i,"providerId")))}}}),Js.providerSignIn=function(t,e,n,r){var i=new Xl((function(n){n==a.a.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),Jc(t,e,r)):n==a.a.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),ta("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){yh(t,e.I(k(t.$b,t),[],(function(n){return e.m(),qc(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Fi("ContinueAsGuest: "+t.code,void 0),t=Gc(t),e.a(t))})))}(t,i):Wc(t,i,n,r),Eh(t),t.l.cancel()}),Es(wh(t)),Os(wh(t)),Rs(wh(t)));i.render(e),ah(t,i),n&&i.a(n),function(t){Eh(t);try{(function t(e,n,r){return e.a&&n?(e.h=!0,new Dr((function(t){e.g=t,e.a.initialize({client_id:n,callback:t,auto_select:!r}),e.a.prompt()}))):qr(n?_i.Xa().load().then((function(){return e.a=vi(),t(e,n,r)})).Ca((function(){return null})):null)})(t.l,Ss(wh(t)),function(t){var e;return Eh(t),(e=t.Z)||(e=!(!(t=ks(t=wh(t),a.a.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.g&&function(t,e,n){if(n&&n.credential&&n.clientId===Ss(wh(t))){if(Ts(wh(t),a.a.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(i){}return Wc(t,e,a.a.auth.GoogleAuthProvider.PROVIDER_ID,r),qr(!0)}return i=a.a.auth.GoogleAuthProvider.credential(n.credential),o=!1,i=e.I(k(t.ac,t),[i],(function(n){var r=xu(e);e.m(),ta("callback",t,r,qr(n)),o=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=xu(e);e.m(),ta("callback",t,r,Vr(n))}else n&&"auth/admin-restricted-operation"==n.code&&xs(wh(t))?(n=xu(e),e.m(),ta("handleUnauthorizedUser",t,n,null,a.a.auth.GoogleAuthProvider.PROVIDER_ID)):(n=Gc(n),e.a(n))})),yh(t,i),i.then((function(){return o}),(function(){return!1}))}var i,o;return n&&e.a(un("The selected credential for the authentication provider is not supported!").toString()),qr(!1)}(t,t.g,e)}))}catch(e){}}(t)},Js.sendEmailLinkForSignIn=function(t,e,n,r){var i=new rl;i.render(e),ah(t,i),Xc(t,i,n,r,(function(r){i.m(),r&&"auth/admin-restricted-operation"==r.code&&xs(wh(t))?ta("handleUnauthorizedUser",t,e,n,a.a.auth.EmailAuthProvider.PROVIDER_ID):(r=Gc(r),ta("signIn",t,e,n,r))}))},s(Jl,Iu),Jl.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),bl(this.l(),(this.l().value||"").length),Iu.prototype.v.call(this)},Jl.prototype.o=function(){this.u=this.i=null,Iu.prototype.o.call(this)},A(Jl.prototype,{l:Ec,M:Sc,w:Ic,H:xc,j:Tc,U:dc,P:pc,B:mc}),Js.signIn=function(t,e,n,r){var i=Kc(t),o=new Jl((function(){var e=o,n=e.j()||"";n&&Zc(t,e,n)}),i?null:function(){o.m(),$c(t,e,n)},n,Os(wh(t)),Rs(wh(t)),i);o.render(e),ah(t,o),r&&o.a(r)},s(th,Iu),th.prototype.v=function(){var t=this,e=Fa(this,"firebaseui-id-unauthorized-user-help-link");this.i&&e&&Ga(this,e,(function(){t.i()})),Ga(this,this.u(),(function(){t.l()})),this.u().focus(),Iu.prototype.v.call(this)},th.prototype.o=function(){this.i=this.l=null,Iu.prototype.o.call(this)},A(th.prototype,{u:pc}),Js.handleUnauthorizedUser=function(t,e,n,r){function i(){$c(t,e)}r===a.a.auth.EmailAuthProvider.PROVIDER_ID?i=function(){Jc(t,e)}:r===a.a.auth.PhoneAuthProvider.PROVIDER_ID&&(i=function(){ta("phoneSignInStart",t,e)});var o=null,s=null;r===a.a.auth.EmailAuthProvider.PROVIDER_ID&&Is(wh(t))?(o=function(t){return(t=bs(t,a.a.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.adminEmail||null}(wh(t)),s=function(t){if((t=bs(t,a.a.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp){var e=t.disableSignUp.helpLink||null;if(e&&"string"==typeof e)return function(){ei(e)}}return null}(wh(t))):xs(wh(t))&&(o=function(t){return(t=t.a.get("adminRestrictedOperation"))&&t.adminEmail?t.adminEmail:null}(wh(t)),s=function(t){if(t=t.a.get("adminRestrictedOperation")||null){var e=t.helpLink||null;if(e&&"string"==typeof e)return function(){ei(e)}}return null}(wh(t)));var u=new th(n,(function(){u.m(),i()}),o,s,Os(wh(t)),Rs(wh(t)));u.render(e),ah(t,u)},s(eh,Iu),eh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Iu.prototype.v.call(this)},eh.prototype.o=function(){this.i=this.l=null,Iu.prototype.o.call(this)},A(eh.prototype,{u:dc,B:pc,w:mc}),Js.unsupportedProvider=function(t,e,n){var r=new eh(n,(function(){r.m(),ta("passwordRecovery",t,e,n)}),(function(){r.m(),$c(t,e,n)}),Os(wh(t)),Rs(wh(t)));r.render(e),ah(t,r)};var ih={};function oh(t){return t||"[DEFAULT]"}function sh(t){return Eh(t),t.i||(t.i=gh(t,(function(e){return e&&!Wo(hh(t))?qr(lh(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return xh(t,e)}))):qr(ch(t).getRedirectResult().then((function(e){return vs(wh(t))&&!e.user&&t.j&&!t.j.isAnonymous?lh(t).getRedirectResult():e})))}))),t.i}function ah(t,e){Eh(t),t.g=e}var uh=null;function ch(t){return Eh(t),t.h}function lh(t){return Eh(t),t.a}function hh(t){return Eh(t),t.oa}function fh(t){return Eh(t),t.O?t.O.emailHint:void 0}function dh(t){return"signIn"===((t=new Ut(t)).a.a.get(qt.ub)||null)&&!!t.a.a.get(qt.$a)}function ph(t,e,n,r){Eh(t),void 0!==t.a.languageCode&&(t.u=t.a.languageCode);var i="en".replace(/_/g,"-");t.a.languageCode=i,t.h.languageCode=i,t.Y=!0,void 0!==t.a.tenantId&&(t.h.tenantId=t.a.tenantId),t.ib(n),t.O=r||null;var o=h.document;t.C?t.C.then((function(){"complete"==o.readyState?mh(t,e):rr(window,"load",(function(){mh(t,e)}))})):"complete"==o.readyState?mh(t,e):rr(window,"load",(function(){mh(t,e)}))}function mh(t,e){var n=ni(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),uh){var r=uh;Eh(r),Wo(hh(r))&&Vi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),uh.reset()}if(uh=t,t.T=n,function(t,e){t.L=null,t.J=new _r(e),t.J.register(),er(t.J,"pageEnter",(function(e){if(t.L!=(e=e&&e.pageId)){var n=wh(t);(n=Fs(n).uiChanged||null)&&n(t.L,e),t.L=e}}))}(t,n),Ro(new Po)&&Ro(new No)){e=ni(e,"Could not find the FirebaseUI widget element on the page."),n=(n=vt(n=ri(),r=Jo(wh(t).a,"queryParameterForSignInSuccessUrl")))?be(we(n)).toString():null;t:{r=ri();var i=As(wh(t));for(o in r=vt(r,i)||"",Zs)if(Zs[o].toLowerCase()==r.toLowerCase()){var o=Zs[o];break t}o="callback"}switch(o){case"callback":n&&(o=hh(t),Ho(Fo,n,o)),t.nb()?ta("callback",t,e):$c(t,e,fh(t));break;case"resetPassword":ta("passwordReset",t,e,tl(),el());break;case"recoverEmail":ta("emailChangeRevocation",t,e,tl());break;case"revertSecondFactorAddition":ta("revertSecondFactorAddition",t,e,tl());break;case"verifyEmail":ta("emailVerification",t,e,tl(),el());break;case"verifyAndChangeEmail":ta("verifyAndChangeEmail",t,e,tl(),el());break;case"signIn":ta("emailLinkSignInCallback",t,e,ri()),Sh();break;case"select":n&&(o=hh(t),Ho(Fo,n,o)),$c(t,e);break;default:throw Error("Unhandled widget operation.")}(e=Fs(e=wh(t)).uiShown||null)&&e()}else e=ni(e,"Could not find the FirebaseUI widget element on the page."),(o=new Bc(un("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),ah(t,o);e=t.g&&"blank"==t.g.Ga&&Ms(wh(t)),$o(hh(t))&&!e&&(_h(t,(e=$o(hh(t))).a),Vo(Uo,hh(t)))}function gh(t,e){if(t.A)return e(vh(t));if(yh(t,(function(){t.A=!1})),vs(wh(t))){var n=new Dr((function(n){yh(t,t.a.onAuthStateChanged((function(r){t.j=r,t.A||(t.A=!0,n(e(vh(t))))})))}));return yh(t,n),n}return t.A=!0,e(null)}function vh(t){return Eh(t),vs(wh(t))&&t.j&&t.j.isAnonymous?t.j:null}function yh(t,e){if(Eh(t),e){t.s.push(e);var n=function(){!function(t,e){!function(t,e){for(var n=d(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&H(t,r)}))}(t.s,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function bh(t){void 0!==t.a.languageCode&&t.Y&&(t.Y=!1,t.a.languageCode=t.u)}function _h(t,e){t.a.tenantId=e,t.h.tenantId=e}function wh(t){return Eh(t),t.ca}function Eh(t){if(t.$)throw Error("AuthUI instance is deleted!")}function Sh(){var t=ri();if(dh(t)){for(var e in t=new Ut(t),qt)qt.hasOwnProperty(e)&&Mt(t.a.a,qt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"},h.history&&h.history.replaceState&&h.history.replaceState(e,h.document.title,t.toString())}}function Ih(t){return Eh(t),ch(t).signOut()}function xh(t,e,n){if(Eh(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var r=Us(wh(t));return qr().then((function(){return r(new Pn("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.g&&(t.g.m(),t.g=null),e}))}return Vr(e)}function Th(t,e,n,r){Iu.call(this,fc,void 0,r,"providerMatchByEmail",{F:e,D:n}),this.i=t}function kh(t,e,n,r,i){Iu.call(this,hc,{ec:e},i,"selectTenant",{F:n,D:r}),this.i=t}function Ch(t){Iu.call(this,Mu,void 0,t,"spinner")}function Ah(t){for(var e in this.a=new Zo,Qo(this.a,"authDomain"),Qo(this.a,"displayMode",Lh),Qo(this.a,"tenants"),Qo(this.a,"callbacks"),Qo(this.a,"tosUrl"),Qo(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{Xo(this.a,e,t[e])}catch(Pe){Fi('Invalid config: "'+e+'"',void 0)}}function Oh(t){return t.a.get("callbacks")||{}}function Rh(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Vi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ei(e)}}return null}function Ph(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Vi("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ei(n)}}return null}function Nh(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(Uh))throw Error("Invalid tenant configuration!")}function Mh(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(t=t[e]||t[Uh]))return Fi("Invalid tenant configuration: "+e+" is not configured!",void 0),r;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)r.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&r.push(t.provider):r.push(t.provider)}else Fi(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),r}(t=nh.prototype).nb=function(){return Eh(this),!!$o(hh(this))||dh(ri())},t.start=function(t,e){ph(this,t,e)},t.Db=function(){Eh(this),this.Z=!0},t.reset=function(){Eh(this);var t=this;this.T&&this.T.removeAttribute("lang"),this.J&&function(t){var e=br(t.N());gr[e]&&gr[e].length&&(function(t,e){t:{for(var n=t.length,r=d(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}0<=e&&H(t,e)}(gr[e],(function(e){return e==t})),gr[e].length||delete gr[e])}(this.J),bh(this),this.O=null,Sh(),Vo(Uo,hh(this)),Eh(this),this.l.cancel(),this.i=qr({user:null,credential:null}),uh==this&&(uh=null),this.T=null;for(var e=0;e<this.s.length;e++)"function"==typeof this.s[e]?this.s[e]():this.s[e].cancel&&this.s[e].cancel();this.s=[],Ko(hh(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Ih(this).then((function(){t.C=null}),(function(){t.C=null})))},t.ib=function(t){Eh(this);var e,n=this.ca;for(e in t)try{Xo(n.a,e,t[e])}catch(r){Fi('Invalid config: "'+e+'"',void 0)}ne&&Xo(n.a,"popupMode",!1),Cs(n),!this.da&&Ls(wh(this))&&(Vi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},t.Wb=function(){Eh(this);var t=wh(this),e=Jo(t.a,"widgetUrl");t=As(t);for(var n,r=e.search(gt),i=0,o=[];0<=(n=mt(e,i,t,r));)o.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);o.push(e.substr(i)),e=o.join("").replace(yt,"$1"),(t+=r="="+encodeURIComponent("select"))?(0>(r=e.indexOf("#"))&&(r=e.length),0>(i=e.indexOf("?"))||i>r?(i=r,n=""):n=e.substring(i+1,r),r=(e=[e.substr(0,i),n,e.substr(r)])[1],e[1]=t?r?r+"&"+t:t:r,r=e[0]+(e[1]?"?"+e[1]:"")+e[2]):r=e,wh(this).a.get("popupMode")?(r=r||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||r.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=Jr(r,t))&&t.focus()):De(window.location,r)},t.Wa=function(){var t=this;return Eh(this),this.h.app.delete().then((function(){var e=oh(hh(t));delete ih[e],t.reset(),t.$=!0}))},t.Ib=function(t,e){Eh(this);var n=this,r=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Ns(wh(this)))return Vr(Error("Email link sign-in should be enabled to trigger email sending."));var i=function(t){if(Ns(t)){var e={url:ri(),handleCodeInApp:!0};(t=bs(t,a.a.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&at(e,t.emailLinkSignIn()),t=e.url;var n=ri();n instanceof bt||(n=St(n)),t instanceof bt||(t=St(t));var r=n;n=new bt(r);var i=!!t.j;i?_t(n,t.j):i=!!t.A,i?n.A=t.A:i=!!t.h,i?n.h=t.h:i=null!=t.C;var o=t.g;if(i)wt(n,t.C);else if(i=!!t.g)if("/"!=o.charAt(0)&&(r.h&&!r.g?o="/"+o:-1!=(r=n.g.lastIndexOf("/"))&&(o=n.g.substr(0,r+1)+o)),".."==o||"."==o)o="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var s=[],u=0;u<o.length;){var c=o[u++];"."==c?r&&u==o.length&&s.push(""):".."==c?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&u==o.length&&s.push("")):(s.push(c),r=!0)}o=s.join("/")}return i?n.g=o:i=""!==t.a.toString(),i?Et(n,Lt(t.a)):i=!!t.s,i&&(n.s=t.s),e.url=n.toString(),e}return null}(wh(this)),o=new Ut(i.url);return function(t,e){e?t.a.a.set(qt.Sa,e):Mt(t.a.a,qt.Sa)}(o,r),e&&e.a&&(function(t,e,n){Ho(zo,_o(t,JSON.stringify(Zi(e))),n)}(r,e,hh(this)),Bt(o,e.a.providerId)),function(t,e){null!==e?t.a.a.set(qt.Qa,e?"1":"0"):Mt(t.a.a,qt.Qa)}(o,function(t){return!(!(t=bs(t,a.a.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(wh(this))),gh(this,(function(e){return e&&((e=e.uid)?o.a.a.set(qt.Pa,e):Mt(o.a.a,qt.Pa)),i.url=o.toString(),ch(n).sendSignInLinkToEmail(t,i)})).then((function(){var e=hh(n),i={};i.email=t,Ho(Bo,_o(r,JSON.stringify(i)),e)}),(function(t){throw Vo(zo,hh(n)),Vo(Bo,hh(n)),t}))},t.bc=function(t,e){Eh(this);var n=this;return ch(this).signInWithEmailAndPassword(t,e).then((function(r){return gh(n,(function(i){return i?Ih(n).then((function(){return xh(n,{code:"auth/email-already-in-use"},a.a.auth.EmailAuthProvider.credential(t,e))})):r}))}))},t.Yb=function(t,e){Eh(this);var n=this;return gh(this,(function(r){if(r){var i=a.a.auth.EmailAuthProvider.credential(t,e);return r.linkWithCredential(i)}return ch(n).createUserWithEmailAndPassword(t,e)}))},t.ac=function(t){Eh(this);var e=this;return gh(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return xh(e,n,t)})):ch(e).signInWithCredential(t)}))},t.dc=function(t){Eh(this);var e=this,n=this.i;return this.i=null,gh(this,(function(n){return n&&!Wo(hh(e))?n.linkWithRedirect(t):ch(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},t.cc=function(t,e){Eh(this);var n=this;return gh(this,(function(r){return r?r.linkWithPhoneNumber(t,e).then((function(t){return new wi(t,(function(t){if("auth/credential-already-in-use"==t.code)return xh(n,t);throw t}))})):lh(n).signInWithPhoneNumber(t,e).then((function(t){return new wi(t)}))}))},t.$b=function(){return Eh(this),lh(this).signInAnonymously()},t.Xb=function(t,e){return Eh(this),ch(this).signInWithEmailAndPassword(t,e)},s(Th,Iu),Th.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),bl(this.l(),(this.l().value||"").length),Iu.prototype.v.call(this)},Th.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},A(Th.prototype,{l:Ec,H:Sc,u:Ic,B:xc,j:Tc,M:dc,w:mc}),s(kh,Iu),kh.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var r=t.g?Fe("firebaseui-id-tenant-selection-button",t.g||t.s.a):[],i=0;i<r.length;i++){var o=r[i];Ga(t,o,C(n,Bl(o,"tenantId")))}}(this,this.i),Iu.prototype.v.call(this)},kh.prototype.o=function(){this.i=null,Iu.prototype.o.call(this)},s(Ch,Iu);var Dh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Lh="optionFirst",jh={qc:Lh,pc:"identifierFirst"},Uh="*";function Fh(t,e){var n=this;this.s=ni(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new Ah(e[t])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(t){this.ob=t||null},enumerable:!1})}function Bh(t){t.j&&t.j.reset(),t.mb(),t.g&&t.g.m()}(t=Fh.prototype).Ub=function(t,e){var n=this;Bh(this);var r=t.apiKey;return new Dr((function(t,i){if(n.a.hasOwnProperty(r)){var o=Oh(n.a[r]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),jh)if(jh[e]===t)return jh[e];return Lh}(n.a[r])===Lh){var s=[];e.forEach((function(t){t=t||"_";var e=n.a[r].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[Uh])?t={tenantId:"_"!==t?t:null,V:e.fullLabel||null,displayName:e.displayName,za:e.iconUrl,ta:e.buttonColor}:(Fi("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&s.push(t)}));var a=function(e){e={tenantId:e,providerIds:Mh(n.a[r],e||"_")},t(e)};if(1===s.length)return void a(s[0].tenantId);n.g=new kh((function(t){Bh(n),o&&o(),a(t)}),s,Rh(n.a[r]),Ph(n.a[r]))}else n.g=new Th((function(){var i=n.g.j();if(i){for(var s=0;s<e.length;s++){var a=Mh(n.a[r],e[s]||"_",i);if(0!==a.length)return i={tenantId:e[s],providerIds:a,email:i},Bh(n),o&&o(),void t(i)}n.g.a(On({code:"no-matching-tenant-for-email"}).toString())}}),Rh(n.a[r]),Ph(n.a[r]));n.g.render(n.s),(i=Oh(n.a[r]).selectTenantUiShown||null)&&i()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),i(u)}}))},t.Pb=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;Nh(this.a[t],e||"_");try{this.i=a.a.app(n).auth()}catch(i){var r=this.a[t].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(t=a.a.initializeApp({apiKey:t,authDomain:r},n)).auth().tenantId=e,this.i=t.auth()}return this.i},t.Zb=function(t,e){var n=this;return new Dr((function(r,i){function o(e,r){n.j=new nh(t),ph(n.j,n.s,e,r)}var s=t.app.options.apiKey;n.a.hasOwnProperty(s)||i(Error("Invalid project configuration: API key is invalid!"));var a=function(t,e,n){return t=function(t,e){var n=Dh,r=void 0===r?{}:r;return Nh(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[Uh],n,r)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return n.includes("string"==typeof t?t:t.provider)})),t.signInOptions=e),t}(n.a[s],t.tenantId||"_",e&&e.providerIds);Bh(n),i={signInSuccessWithAuthResult:function(t){return r(t),!1}};var u,c=Oh(n.a[s]).signInUiShown||null,l=!1;i.uiChanged=function(e,r){null===e&&"callback"===r?((e=Be("firebaseui-id-page-callback",n.s))&&Wa(e),n.h=new Ch,n.h.render(n.s)):l||null===e&&"spinner"===r||"blank"===r||(n.h&&(n.h.m(),n.h=null),l=!0,c&&c(t.tenantId))},a.callbacks=i,a.credentialHelper="none",e&&e.email&&(u={emailHint:e.email}),n.j?n.j.Wa().then((function(){o(a,u)})):o(a,u)}))},t.reset=function(){var t=this;return qr().then((function(){t.j&&t.j.Wa()})).then((function(){t.j=null,Bh(t)}))},t.Vb=function(){var t=this;this.h||this.A||(this.A=window.setTimeout((function(){Bh(t),t.h=new Ch,t.g=t.h,t.h.render(t.s),t.A=null}),500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Bh(this),this.g=new Dc,this.g.render(this.s),qr()},t.pb=function(t){var e,n=this,r=On({code:t.code}).toString()||t.message;Bh(this),t.retry&&"function"==typeof t.retry&&(e=function(){n.reset(),t.retry()}),this.g=new Fc(r,e),this.g.render(this.s)},t.Rb=function(t){var e=this;return qr().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Nh(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=Oh(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},P("firebaseui.auth.FirebaseUiHandler",Fh),P("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Fh.prototype.Ub),P("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Fh.prototype.Pb),P("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Fh.prototype.Zb),P("firebaseui.auth.FirebaseUiHandler.prototype.reset",Fh.prototype.reset),P("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Fh.prototype.Vb),P("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Fh.prototype.mb),P("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Fh.prototype.Bb),P("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Fh.prototype.pb),P("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Fh.prototype.Rb),P("firebaseui.auth.AuthUI",nh),P("firebaseui.auth.AuthUI.getInstance",(function(t){return t=oh(t),ih[t]?ih[t]:null})),P("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",nh.prototype.Db),P("firebaseui.auth.AuthUI.prototype.start",nh.prototype.start),P("firebaseui.auth.AuthUI.prototype.setConfig",nh.prototype.ib),P("firebaseui.auth.AuthUI.prototype.signIn",nh.prototype.Wb),P("firebaseui.auth.AuthUI.prototype.reset",nh.prototype.reset),P("firebaseui.auth.AuthUI.prototype.delete",nh.prototype.Wa),P("firebaseui.auth.AuthUI.prototype.isPendingRedirect",nh.prototype.nb),P("firebaseui.auth.AuthUIError",Pn),P("firebaseui.auth.AuthUIError.prototype.toJSON",Pn.prototype.toJSON),P("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Hs),P("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Gs),P("firebaseui.auth.CredentialHelper.NONE",Ws),P("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Dr.prototype.catch=Dr.prototype.Ca,Dr.prototype.finally=Dr.prototype.fc}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window)}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=c.a);var l=firebaseui.auth,h=n("8Y7J"),f=n("Z2Br");n.d(e,"a",(function(){return d}));let d=(()=>{class t{constructor(t){this.firebaseService=t,this.firebaseAuth=this.firebaseService.firebase.auth(),this.FirebaseAuthUI=l.AuthUI,this.defaultUiConfig={signInSuccessUrl:"#/auth-success",callbacks:{},signInOptions:[this.firebaseService.firebase.auth.GoogleAuthProvider.PROVIDER_ID,this.firebaseService.firebase.auth.GithubAuthProvider.PROVIDER_ID]},this.user$=new r.a(void 0),this.authLoading$=this.user$.pipe(Object(o.a)(t=>void 0===t)),this.canLogin$=this.user$.pipe(Object(o.a)(t=>null===t))}getUser$(){return this.firebaseAuth.onAuthStateChanged(t=>{if(null===t)return void this.user$.next(null);const e=Object.assign(new s,{uid:t.uid,displayName:t.displayName,email:t.email,emailVerified:t.emailVerified,photoURL:t.photoURL});this.user$.next(e)}),this.user$}getFirebaseAuthUI(){return l.AuthUI.getInstance()||new this.FirebaseAuthUI(this.firebaseAuth)}renderLogin(t){return this.getFirebaseAuthUI().start(t,Object.assign({},this.defaultUiConfig)),this.user$.asObservable()}signOut(){return Object(i.a)(this.firebaseAuth.signOut())}}return t.ngInjectableDef=h.Rb({factory:function(){return new t(h.Sb(f.a))},token:t,providedIn:"root"}),t})()},"v/ix":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.enable=t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},xpxz:function(t,e,r){"use strict";var i=r("mrSG"),o=r("LvDl"),s=r("Cfvw"),a=r("HDdC"),u=r("XNiG"),c=r("lJxs"),l=r("8Y7J"),h=r("Z2Br"),f=r("zIRd"),d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function m(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(Pd){o(Pd)}}function a(t){try{u(r.throw(t))}catch(Pd){o(Pd)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function g(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(Pd){a=[6,Pd],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function v(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var y=r("qOnz"),b=r("q/0M"),_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function w(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var E,S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},I=I||{},x=S||self;function T(){}function k(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function C(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var A="closure_uid_"+(1e9*Math.random()>>>0),O=0;function R(t,e,n){return t.call.apply(t.bind,arguments)}function P(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function N(t,e,n){return(N=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:P).apply(null,arguments)}function M(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function D(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function L(){this.s=this.s,this.o=this.o}var j={};L.prototype.s=!1,L.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,A)&&t[A]||(t[A]=++O)}(this);delete j[t]}},L.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function B(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function q(t){return/^[\s\xa0]*$/.test(t)}var V,H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function G(t,e){return-1!=t.indexOf(e)}function W(t,e){return t<e?-1:t>e?1:0}t:{var K=x.navigator;if(K){var Y=K.userAgent;if(Y){V=Y;break t}}V=""}function $(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Z(t){var e={};for(var n in t)e[n]=t[n];return e}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Q.length;o++)n=Q[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function J(t){return J[" "](t),t}J[" "]=T;var tt,et,nt=G(V,"Opera"),rt=G(V,"Trident")||G(V,"MSIE"),it=G(V,"Edge"),ot=it||rt,st=G(V,"Gecko")&&!(G(V.toLowerCase(),"webkit")&&!G(V,"Edge"))&&!(G(V,"Trident")||G(V,"MSIE"))&&!G(V,"Edge"),at=G(V.toLowerCase(),"webkit")&&!G(V,"Edge");function ut(){var t=x.document;return t?t.documentMode:void 0}t:{var ct="",lt=(et=V,st?/rv:([^\);]+)(\)|;)/.exec(et):it?/Edge\/([\d\.]+)/.exec(et):rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(et):at?/WebKit\/(\S+)/.exec(et):nt?/(?:Version)[ \/]?(\S+)/.exec(et):void 0);if(lt&&(ct=lt?lt[1]:""),rt){var ht=ut();if(null!=ht&&ht>parseFloat(ct)){tt=String(ht);break t}}tt=ct}var ft={};var dt=x.document&&rt&&(ut()||parseInt(tt,10))||void 0,pt=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{x.addEventListener("test",T,e),x.removeEventListener("test",T,e)}catch(n){}return t}();function mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function gt(t,e){if(mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(st){t:{try{J(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gt.Z.h.call(this)}}mt.prototype.h=function(){this.defaultPrevented=!0},D(gt,mt);var vt={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function _t(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++bt,this.ca=this.fa=!1}function wt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Et(t){this.src=t,this.g={},this.h=0}function St(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=U(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(wt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function It(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Et.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=It(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new _t(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var xt="closure_lm_"+(1e6*Math.random()|0),Tt={};function kt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Mt(r),e&&e[yt]?e.O(n,r,C(i)?!!i.capture:!!i,o):Ct(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)kt(t,e[o],n,r,i);return null}return n=Mt(n),t&&t[yt]?t.N(e,n,C(r)?!!r.capture:!!r,i):Ct(t,e,n,!1,r,i)}function Ct(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=C(i)?!!i.capture:!!i,a=Pt(t);if(a||(t[xt]=a=new Et(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Rt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ot(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function At(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[yt])St(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ot(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pt(e))?(St(n,t),0==n.h&&(n.src=null,e[xt]=null)):wt(t)}}}function Ot(t){return t in Tt?Tt[t]:Tt[t]="on"+t}function Rt(t,e){if(t.ca)t=!0;else{e=new gt(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&At(t),t=n.call(r,e)}return t}function Pt(t){return(t=t[xt])instanceof Et?t:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(t){return"function"==typeof t?t:(t[Nt]||(t[Nt]=function(e){return t.handleEvent(e)}),t[Nt])}function Dt(){L.call(this),this.i=new Et(this),this.P=this,this.I=null}function Lt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new mt(e,t);else if(e instanceof mt)e.target=e.target||t;else{var i=e;X(e=new mt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=jt(s,r,!0,e)&&i}if(i=jt(s=e.g=t,r,!0,e)&&i,i=jt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=jt(s=e.g=n[o],r,!1,e)&&i}function jt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&St(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}D(Dt,L),Dt.prototype[yt]=!0,Dt.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=C(i)?!!i.capture:!!i,r=Mt(r),e&&e[yt]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=It(s=e.g[n],r,i,o))&&(wt(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.g[n],e.h--))):e&&(e=Pt(e))&&(n=e.g[n.toString()],e=-1,n&&(e=It(n,r,i,o)),(r=-1<e?n[e]:null)&&At(r))}(this,t,e,n,r)},Dt.prototype.M=function(){if(Dt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wt(n[r]);delete e.g[t],e.h--}}this.I=null},Dt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ut=x.JSON.stringify;function Ft(){var t=Kt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Bt,zt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=qt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),qt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new Vt}),(function(t){return t.reset()})),Vt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ht(t){x.setTimeout((function(){throw t}),0)}function Gt(t,e){Bt||function(){var t=x.Promise.resolve(void 0);Bt=function(){t.then(Yt)}}(),Wt||(Bt(),Wt=!0),Kt.add(t,e)}var Wt=!1,Kt=new zt;function Yt(){for(var t;t=Ft();){try{t.h.call(t.g)}catch(n){Ht(n)}var e=qt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wt=!1}function $t(t,e){Dt.call(this),this.h=t||1,this.g=e||x,this.j=N(this.kb,this),this.l=Date.now()}function Zt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Qt(t,e,n){if("function"==typeof t)n&&(t=N(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=N(t.handleEvent,t)}return 2147483647<Number(e)?-1:x.setTimeout(t,e||0)}function Xt(t){t.g=Qt((function(){t.g=null,t.i&&(t.i=!1,Xt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}D($t,Dt),(E=$t.prototype).da=!1,E.S=null,E.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lt(this,"tick"),this.da&&(Zt(this),this.start()))}},E.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},E.M=function(){$t.Z.M.call(this),Zt(this),delete this.g};var Jt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Xt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(L);function te(t){L.call(this),this.h=t,this.g={}}D(te,L);var ee=[];function ne(t,e,n,r){Array.isArray(n)||(n&&(ee[0]=n.toString()),n=ee);for(var i=0;i<n.length;i++){var o=kt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function re(t){$(t.g,(function(t,e){this.g.hasOwnProperty(e)&&At(t)}),t),t.g={}}function ie(){this.g=!0}function oe(t,e,r,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var i=r[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<o.length;a++)o[a]=""}}}return Ut(r)}catch(n){return e}}(t,r)+(i?" "+i:"")}))}te.prototype.M=function(){te.Z.M.call(this),re(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ie.prototype.Aa=function(){this.g=!1},ie.prototype.info=function(){};var se={},ae=null;function ue(){return ae=ae||new Dt}function ce(t){mt.call(this,se.Ma,t)}function le(t){var e=ue();Lt(e,new ce(e,t))}function he(t,e){mt.call(this,se.STAT_EVENT,t),this.stat=e}function fe(t){var e=ue();Lt(e,new he(e,t))}function de(t,e){mt.call(this,se.Na,t),this.size=e}function pe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return x.setTimeout((function(){t()}),e)}se.Ma="serverreachability",D(ce,mt),se.STAT_EVENT="statevent",D(he,mt),se.Na="timingevent",D(de,mt);var me={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ge={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ve(){}function ye(){}ve.prototype.h=null;var be,_e={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function we(){mt.call(this,"d")}function Ee(){mt.call(this,"c")}function Se(){}function Ie(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new te(this),this.P=Te,this.W=new $t(t=ot?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}D(we,mt),D(Ee,mt),D(Se,ve),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}},be=new Se;var Te=45e3,ke={},Ce={};function Ae(t,e,n){t.K=1,t.v=Xe(We(e)),t.s=n,t.U=!0,Oe(t,null)}function Oe(t,e){t.F=Date.now(),Me(t),t.A=We(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),fn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new xe,t.g=dr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Jt(N(t.Ia,t,t.g),t.O)),ne(t.V,t.g,"readystatechange",t.gb),e=t.H?Z(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),le(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Re(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Pe(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ne(t,n))==Ce){4==e&&(t.o=4,fe(14),i=!1),oe(t.j,t.m,null,"[Incomplete Response]");break}if(r==ke){t.o=4,fe(15),oe(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}oe(t.j,t.m,r,null),Fe(t,r)}Re(t)&&r!=Ce&&r!=ke&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fe(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),or(e),e.L=!0,fe(11))):(oe(t.j,t.m,n,"[Invalid Chunked Response]"),Ue(t),je(t))}function Ne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ce:(n=Number(e.substring(n,r)),isNaN(n)?ke:(r+=1)+n>e.length?Ce:(e=e.substr(r,n),t.C=r+n,e))}function Me(t){t.Y=Date.now()+t.P,De(t,t.P)}function De(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=pe(N(t.eb,t),e)}function Le(t){t.B&&(x.clearTimeout(t.B),t.B=null)}function je(t){0==t.l.G||t.I||ur(t.l,t)}function Ue(t){Le(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Zt(t.W),re(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Fe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||bn(n.i,t)))if(n.I=t.N,!t.J&&bn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;ar(n),Zn(n)}ir(n),fe(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pe(N(n.ab,n),6e3));if(1>=yn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else lr(n,11)}else if((t.J||n.g==t)&&ar(n),!q(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(G(l,"spdy")||G(l,"quic")||G(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(_n(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Qe(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=fr(r,r.H?r.la:null,r.W),d.J){wn(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Le(p),Me(p)),r.g=d}else rr(r);0<n.l.length&&Jn(n)}else"stop"!=o[0]&&"close"!=o[0]||lr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?lr(n,7):$n(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}le(4)}catch(o){}}function Be(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(k(t)||"string"==typeof t)F(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(k(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(k(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ze(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ze)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ve(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ve(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(E=Ie.prototype).setTimeout=function(t){this.P=t},E.gb=function(t){t=t.target;var e=this.L;e&&3==Hn(t)?e.l():this.Ia(t)},E.Ia=function(t){try{if(t==this.g)t:{var e=Hn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||ot||this.g&&(this.h.h||this.g.ga()||Gn(this.g)))){this.I||4!=e||7==n||le(8==n||0>=r?3:2),Le(this);var i=this.g.ba();this.N=i;e:if(Re(this)){var o=Gn(this.g);t="";var s=o.length,a=4==Hn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ue(this),je(this);var u="";break e}this.h.i=new x.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,fe(12),Ue(this),je(this);break t}oe(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fe(this,i)}this.U?(Pe(this,e,u),ot&&this.i&&3==e&&(ne(this.V,this.W,"tick",this.fb),this.W.start())):(oe(this.j,this.m,u,null),Fe(this,u)),4==e&&Ue(this),this.i&&!this.I&&(4==e?ur(this.l,this):(this.i=!1,Me(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,fe(12)):(this.o=0,fe(13)),Ue(this),je(this)}}}catch(e){}},E.fb=function(){if(this.g){var t=Hn(this.g),e=this.g.ga();this.C<e.length&&(Le(this),Pe(this,t,e),this.i&&4!=t&&Me(this))}},E.cancel=function(){this.I=!0,Ue(this)},E.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(le(3),fe(17)),Ue(this),this.o=2,je(this)):De(this,this.Y-t)},(E=ze.prototype).R=function(){qe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},E.T=function(){return qe(this),this.g.concat()},E.get=function(t,e){return Ve(this.h,t)?this.h[t]:e},E.set=function(t,e){Ve(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},E.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var He=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ge(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ge){this.g=void 0!==e?e:t.g,Ke(this,t.j),this.s=t.s,Ye(this,t.i),$e(this,t.m),this.l=t.l,e=t.h;var n=new un;n.i=e.i,e.g&&(n.g=new ze(e.g),n.h=e.h),Ze(this,n),this.o=t.o}else t&&(n=String(t).match(He))?(this.g=!!e,Ke(this,n[1]||"",!0),this.s=Je(n[2]||""),Ye(this,n[3]||"",!0),$e(this,n[4]),this.l=Je(n[5]||"",!0),Ze(this,n[6]||"",!0),this.o=Je(n[7]||"")):(this.g=!!e,this.h=new un(null,this.g))}function We(t){return new Ge(t)}function Ke(t,e,n){t.j=n?Je(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ye(t,e,n){t.i=n?Je(e,!0):e}function $e(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ze(t,e,n){e instanceof un?(t.h=e,function(t,e){e&&!t.j&&(cn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ln(this,e),fn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=tn(e,sn)),t.h=new un(e,t.g))}function Qe(t,e,n){t.h.set(e,n)}function Xe(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,en),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function en(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ge.prototype.toString=function(){var t=[],e=this.j;e&&t.push(tn(e,nn,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(tn(e,nn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(tn(n,"/"==n.charAt(0)?on:rn,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",tn(n,an)),t.join("")};var nn=/[#\/\?@]/g,rn=/[#\?:]/g,on=/[#\?]/g,sn=/[#\?@]/g,an=/#/g;function un(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function cn(t){t.g||(t.g=new ze,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ln(t,e){cn(t),e=dn(t,e),Ve(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ve((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&qe(t)))}function hn(t,e){return cn(t),e=dn(t,e),Ve(t.g.h,e)}function fn(t,e,n){ln(t,e),0<n.length&&(t.i=null,t.g.set(dn(t,e),z(n)),t.h+=n.length)}function dn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(E=un.prototype).add=function(t,e){cn(this),this.i=null,t=dn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},E.forEach=function(t,e){cn(this),this.g.forEach((function(n,r){F(n,(function(n){t.call(e,n,r,this)}),this)}),this)},E.T=function(){cn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},E.R=function(t){cn(this);var e=[];if("string"==typeof t)hn(this,t)&&(e=B(e,this.g.get(dn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},E.set=function(t,e){return cn(this),this.i=null,hn(this,t=dn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},E.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},E.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var pn=function(){return function(t,e){this.h=t,this.g=e}}();function mn(t){this.l=t||gn,t=x.PerformanceNavigationTiming?0<(t=x.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(x.g&&x.g.Ea&&x.g.Ea()&&x.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gn=10;function vn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function yn(t){return t.h?1:t.g?t.g.size:0}function bn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function _n(t,e){t.g?t.g.add(e):t.h=e}function wn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function En(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=w(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return z(t.i)}function Sn(){}function In(){this.g=new Sn}function xn(t,e,n){var r=n||"";try{Be(t,(function(t,n){var i=t;C(t)&&(i=Ut(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Pd){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pd}}function Tn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function kn(t){this.l=t.$b||null,this.j=t.ib||!1}function Cn(t,e){Dt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=An,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn.prototype.cancel=function(){var t,e;if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=w(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Sn.prototype.stringify=function(t){return x.JSON.stringify(t,void 0)},Sn.prototype.parse=function(t){return x.JSON.parse(t,void 0)},D(kn,ve),kn.prototype.g=function(){return new Cn(this.l,this.j)},kn.prototype.i=function(t){return function(){return t}}({}),D(Cn,Dt);var An=0;function On(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Rn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pn(t)}function Pn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(E=Cn.prototype).open=function(t,e){if(this.readyState!=An)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pn(this)},E.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||x).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},E.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rn(this)),this.readyState=An},E.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==x.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},E.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rn(this):Pn(this),3==this.readyState&&On(this)}},E.Ua=function(t){this.g&&(this.response=this.responseText=t,Rn(this))},E.Ta=function(t){this.g&&(this.response=t,Rn(this))},E.ha=function(){this.g&&Rn(this)},E.setRequestHeader=function(t,e){this.v.append(t,e)},E.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},E.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Cn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Nn=x.JSON.parse;function Mn(t){Dt.call(this),this.headers=new ze,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dn,this.K=this.L=!1}D(Mn,Dt);var Dn="",Ln=/^https?$/i,jn=["POST","PUT"];function Un(t){return"content-type"==t.toLowerCase()}function Fn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Bn(t),qn(t)}function Bn(t){t.D||(t.D=!0,Lt(t,"complete"),Lt(t,"error"))}function zn(t){if(t.h&&void 0!==I&&(!t.C[1]||4!=Hn(t)||2!=t.ba()))if(t.v&&4==Hn(t))Qt(t.Fa,0,t);else if(Lt(t,"readystatechange"),4==Hn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(He)[1]||null;if(!o&&x.self&&x.self.location){var s=x.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ln.test(o?o.toLowerCase():"")}e=i}if(e)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var a=2<Hn(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Bn(t)}}finally{qn(t)}}}function qn(t,e){if(t.g){Vn(t);var n=t.g,r=t.C[0]?T:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch(Pd){}}}function Vn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(x.clearTimeout(t.A),t.A=null)}function Hn(t){return t.g?t.g.readyState:0}function Gn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Dn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qe(t,e,n))}function Kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Yn(t){this.za=0,this.l=[],this.h=new ie,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kn("baseRetryDelayMs",5e3,t),this.$a=Kn("retryDelaySeedMs",1e4,t),this.Ya=Kn("forwardChannelMaxRetries",2,t),this.ra=Kn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new mn(t&&t.concurrentRequestLimit),this.Ca=new In,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function $n(t){if(Qn(t),3==t.G){var e=t.V++,n=We(t.F);Qe(n,"SID",t.J),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),er(t,n),(e=new Ie(t,t.h,e,void 0)).K=2,e.v=Xe(We(n)),n=!1,x.navigator&&x.navigator.sendBeacon&&(n=x.navigator.sendBeacon(e.v.toString(),"")),!n&&x.Image&&((new Image).src=e.v,n=!0),n||(e.g=dr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Me(e)}hr(t)}function Zn(t){t.g&&(or(t),t.g.cancel(),t.g=null)}function Qn(t){Zn(t),t.u&&(x.clearTimeout(t.u),t.u=null),ar(t),t.i.cancel(),t.m&&("number"==typeof t.m&&x.clearTimeout(t.m),t.m=null)}function Xn(t,e){t.l.push(new pn(t.Za++,e)),3==t.G&&Jn(t)}function Jn(t){vn(t.i)||t.m||(t.m=!0,Gt(t.Ha,t),t.C=0)}function tr(t,e){var n;n=e?e.m:t.V++;var r=We(t.F);Qe(r,"SID",t.J),Qe(r,"RID",n),Qe(r,"AID",t.U),er(t,r),t.o&&t.s&&Wn(r,t.o,t.s),n=new Ie(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=nr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),_n(t.i,n),Ae(n,r,e)}function er(t,e){t.j&&Be({},(function(t,n){Qe(e,n,t)}))}function nr(t,e,n){n=Math.min(t.l.length,n);var r=t.j?N(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{xn(l,s,"req"+c+"_")}catch(Gr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function rr(t){t.g||t.u||(t.Y=1,Gt(t.Ga,t),t.A=0)}function ir(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=pe(N(t.Ga,t),cr(t,t.A)),t.A++,0))}function or(t){null!=t.B&&(x.clearTimeout(t.B),t.B=null)}function sr(t){t.g=new Ie(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=We(t.oa);Qe(e,"RID","rpc"),Qe(e,"SID",t.J),Qe(e,"CI",t.N?"0":"1"),Qe(e,"AID",t.U),er(t,e),Qe(e,"TYPE","xmlhttp"),t.o&&t.s&&Wn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Xe(We(e)),n.s=null,n.U=!0,Oe(n,t)}function ar(t){null!=t.v&&(x.clearTimeout(t.v),t.v=null)}function ur(t,e){var n=null;if(t.g==e){ar(t),or(t),t.g=null;var r=2}else{if(!bn(t.i,e))return;n=e.D,wn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Lt(r=ue(),new de(r,n,e,i)),Jn(t)}else rr(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(yn(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=pe(N(t.Ha,t,e),cr(t,t.C)),t.C++,0)))}(t,e)||2==r&&ir(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:lr(t,5);break;case 4:lr(t,10);break;case 3:lr(t,6);break;default:lr(t,2)}}function cr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function lr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=N(t.jb,t);n||(n=new Ge("//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Ke(n,"https"),Xe(n)),function(t,e){var n=new ie;if(x.Image){var r=new Image;r.onload=M(Tn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=M(Tn,n,r,"TestLoadImage: error",!1,e),r.onabort=M(Tn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=M(Tn,n,r,"TestLoadImage: timeout",!1,e),x.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else fe(2);t.G=0,t.j&&t.j.va(e),hr(t),Qn(t)}function hr(t){t.G=0,t.I=-1,t.j&&(0==En(t.i).length&&0==t.l.length||(t.i.i.length=0,z(t.l),t.l.length=0),t.j.ua())}function fr(t,e,n){var r=function(t){return t instanceof Ge?We(t):new Ge(t,void 0)}(n);if(""!=r.i)e&&Ye(r,e+"."+r.i),$e(r,r.m);else{var i=x.location;r=function(t,e,n,r){var i=new Ge(null,void 0);return t&&Ke(i,t),e&&Ye(i,e),n&&$e(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&$(t.aa,(function(t,e){Qe(r,e,t)})),n=t.sa,(e=t.D)&&n&&Qe(r,e,n),Qe(r,"VER",t.ma),er(t,r),r}function dr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mn(n&&t.Ba&&!t.qa?new kn({ib:!0}):t.qa)).L=t.H,e}function pr(){}function mr(){if(rt&&!(10<=Number(dt)))throw Error("Environmental error: no available transport.")}function gr(t,e){Dt.call(this),this.g=new Yn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!q(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!q(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new br(this)}function vr(t){we.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yr(){Ee.call(this),this.status=1}function br(t){this.g=t}(E=Mn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():be.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:be),this.g.onreadystatechange=N(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Fn(this,o)}t=n||"";var i=new ze(this.headers);r&&Be(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Un,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=x.FormData&&t instanceof x.FormData,!(0<=U(jn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vn(this),0<this.B&&((this.K=function(t){return rt&&function(){return t=ft,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=H(String(tt)).split("."),n=H("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=W(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||W(0==o[2].length,0==s[2].length)||W(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=N(this.pa,this)):this.A=Qt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Fn(this,o)}},E.pa=function(){void 0!==I&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},E.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),qn(this))},E.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qn(this,!0)),Mn.Z.M.call(this)},E.Fa=function(){this.s||(this.F||this.v||this.l?zn(this):this.cb())},E.cb=function(){zn(this)},E.ba=function(){try{return 2<Hn(this)?this.g.status:-1}catch(et){return-1}},E.ga=function(){try{return this.g?this.g.responseText:""}catch(et){return""}},E.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Nn(e)}},E.Da=function(){return this.m},E.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(E=Yn.prototype).ma=8,E.G=1,E.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},E.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ie(this,this.h,t,void 0),n=this.s;if(this.P&&(n?X(n=Z(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=nr(this,e,r),Qe(i=We(this.F),"RID",t),Qe(i,"CVER",22),this.D&&Qe(i,"X-HTTP-Session-Id",this.D),er(this,i),this.o&&n&&Wn(i,this.o,n),_n(this.i,e),this.Ra&&Qe(i,"TYPE","init"),this.ja?(Qe(i,"$req",r),Qe(i,"SID","null"),e.$=!0,Ae(e,i,null)):Ae(e,i,r),this.G=2}}else 3==this.G&&(t?tr(this,t):0==this.l.length||vn(this.i)||tr(this))},E.Ga=function(){if(this.u=null,sr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=pe(N(this.bb,this),t)}},E.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fe(10),Zn(this),sr(this))},E.ab=function(){null!=this.v&&(this.v=null,Zn(this),ir(this),fe(19))},E.jb=function(t){t?(this.h.info("Successfully pinged google.com"),fe(2)):(this.h.info("Failed to ping google.com"),fe(1))},(E=pr.prototype).xa=function(){},E.wa=function(){},E.va=function(){},E.ua=function(){},E.Oa=function(){},mr.prototype.g=function(t,e){return new gr(t,e)},D(gr,Dt),gr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Gt(N(t.hb,t,e))),fe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=fr(t,null,t.W),Jn(t)},gr.prototype.close=function(){$n(this.g)},gr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Xn(this.g,e)}else this.v?((e={}).__data__=Ut(t),Xn(this.g,e)):Xn(this.g,t)},gr.prototype.M=function(){this.g.j=null,delete this.j,$n(this.g),delete this.g,gr.Z.M.call(this)},D(vr,we),D(yr,Ee),D(br,pr),br.prototype.xa=function(){Lt(this.g,"a")},br.prototype.wa=function(t){Lt(this.g,new vr(t))},br.prototype.va=function(t){Lt(this.g,new yr(t))},br.prototype.ua=function(){Lt(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,gr.prototype.send=gr.prototype.u,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,ge.COMPLETE="complete",ye.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",Dt.prototype.listen=Dt.prototype.N,Mn.prototype.listenOnce=Mn.prototype.O,Mn.prototype.getLastError=Mn.prototype.La,Mn.prototype.getLastErrorCode=Mn.prototype.Da,Mn.prototype.getStatus=Mn.prototype.ba,Mn.prototype.getResponseJson=Mn.prototype.Qa,Mn.prototype.getResponseText=Mn.prototype.ga,Mn.prototype.send=Mn.prototype.ea;var _r=me,wr=ge,Er=se,Sr=kn,Ir=ye,xr=Mn,Tr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Tr.o=-1;var kr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return p(e,t),e}(Error),Ar=new b.b("@firebase/firestore");function Or(){return Ar.logLevel}function Rr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ar.logLevel<=b.a.DEBUG){var r=e.map(Mr);Ar.debug.apply(Ar,v(["Firestore (8.10.1): "+t],r))}}function Pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ar.logLevel<=b.a.ERROR){var r=e.map(Mr);Ar.error.apply(Ar,v(["Firestore (8.10.1): "+t],r))}}function Nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ar.logLevel<=b.a.WARN){var r=e.map(Mr);Ar.warn.apply(Ar,v(["Firestore (8.10.1): "+t],r))}}function Mr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pd){return t}}function Dr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Pr(e),new Error(e)}function Lr(t,e){t||Dr()}function jr(t,e){return t}function Ur(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ur(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Br(t,e){return t<e?-1:t>e?1:0}function zr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function qr(t){return t+"\0"}var Vr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Cr(kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Cr(kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Cr(kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cr(kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Br(this.nanoseconds,t.nanoseconds):Br(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Hr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Vr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Gr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Yr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Dr(),void 0===n?n=t.length-e:n>t.length-e&&Dr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Cr(kr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Yr),Zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Zr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Cr(kr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Cr(kr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Cr(kr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Cr(kr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Yr),Xr=function(){function t(t){this.fields=t,t.sort(Qr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return zr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Jr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Br(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Jr.EMPTY_BYTE_STRING=new Jr("");var ti=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Lr(!!t),"string"==typeof t){var e=0,n=ti.exec(t);if(Lr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ni(t.seconds),nanos:ni(t.nanos)}}function ni(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ri(t){return"string"==typeof t?Jr.fromBase64String(t):Jr.fromUint8Array(t)}function ii(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oi(t){var e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Vr(e.seconds,e.nanos)}function si(t){return null==t}function ai(t){return 0===t&&1/t==-1/0}function ui(t){return"number"==typeof t&&Number.isInteger(t)&&!ai(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ci=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t($r.fromString(e))},t.fromName=function(e){return new t($r.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$r.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return $r.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new $r(e.slice()))},t}();function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ii(t)?4:10:Dr()}function hi(t,e){var n=li(t);if(n!==li(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oi(t).isEqual(oi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ei(t.timestampValue),r=ei(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ri(t.bytesValue).isEqual(ri(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ni(t.geoPointValue.latitude)===ni(e.geoPointValue.latitude)&&ni(t.geoPointValue.longitude)===ni(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ni(t.integerValue)===ni(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ni(t.doubleValue),r=ni(e.doubleValue);return n===r?ai(n)===ai(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return zr(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Gr(n)!==Gr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hi(n[i],r[i])))return!1;return!0}(t,e);default:return Dr()}}function fi(t,e){return void 0!==(t.values||[]).find((function(t){return hi(t,e)}))}function di(t,e){var n=li(t),r=li(e);if(n!==r)return Br(n,r);switch(n){case 0:return 0;case 1:return Br(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ni(t.integerValue||t.doubleValue),r=ni(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return pi(t.timestampValue,e.timestampValue);case 4:return pi(oi(t),oi(e));case 5:return Br(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ri(t),r=ri(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Br(n[i],r[i]);if(0!==o)return o}return Br(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Br(ni(t.latitude),ni(e.latitude));return 0!==n?n:Br(ni(t.longitude),ni(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=di(n[i],r[i]);if(o)return o}return Br(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Br(r[s],o[s]);if(0!==a)return a;var u=di(n[r[s]],i[o[s]]);if(0!==u)return u}return Br(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Dr()}}function pi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Br(t,e);var n=ei(t),r=ei(e),i=Br(n.seconds,r.seconds);return 0!==i?i:Br(n.nanos,r.nanos)}function mi(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ei(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ri(e.bytesValue).toBase64():"referenceValue"in e?ci.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Dr();var n}(t)}function gi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function vi(t){return!!t&&"integerValue"in t}function yi(t){return!!t&&"arrayValue"in t}function bi(t){return!!t&&"nullValue"in t}function _i(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wi(t){return!!t&&"mapValue"in t}function Ei(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Ei(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ei(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Si=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!wi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ei(e)},t.prototype.setAll=function(t){var e=this,n=Qr.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Ei(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());wi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return hi(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];wi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Wr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ei(this.value))},t}();function Ii(t){var e=[];return Wr(t.fields,(function(t,n){var r=new Qr([t]);if(wi(n)){var i=Ii(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Xr(e)}var xi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Hr.min(),Si.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Si.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Si.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Si.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Si.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ti=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function ki(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ti(t,e,n,r,i,o,s)}function Ci(t){var e=jr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+mi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),si(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=zi(e.startAt)),e.endAt&&(n+="|ub:",n+=zi(e.endAt)),e.h=n}return e.h}function Ai(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!hi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gi(t.startAt,e.startAt)&&Gi(t.endAt,e.endAt)}function Oi(t){return ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ri=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return p(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Pi(t,n,r):"array-contains"===n?new Li(t,r):"in"===n?new ji(t,r):"not-in"===n?new Ui(t,r):"array-contains-any"===n?new Fi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ni(t,n):new Mi(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(di(e,this.value)):null!==e&&li(this.value)===li(e)&&this.m(di(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Pi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ci.fromName(r.referenceValue),i}return p(e,t),e.prototype.matches=function(t){var e=ci.comparator(t.key,this.key);return this.m(e)},e}(Ri),Ni=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Di(0,n),r}return p(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ri),Mi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Di(0,n),r}return p(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ri);function Di(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ci.fromName(t.referenceValue)}))}var Li=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return p(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yi(e)&&fi(e.arrayValue,this.value)},e}(Ri),ji=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return p(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&fi(this.value.arrayValue,e)},e}(Ri),Ui=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return p(e,t),e.prototype.matches=function(t){if(fi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!fi(this.value.arrayValue,e)},e}(Ri),Fi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return p(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return fi(e.value.arrayValue,t)}))},e}(Ri),Bi=function(t,e){this.position=t,this.before=e};function zi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return mi(t)})).join(",")}var qi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ci.comparator(ci.fromName(s.referenceValue),n.key):di(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}var Wi=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Ki(t,e,n,r,i,o,s,a){return new Wi(t,e,n,r,i,o,s,a)}function Yi(t){return new Wi(t)}function $i(t){return!si(t.limit)&&"F"===t.limitType}function Zi(t){return!si(t.limit)&&"L"===t.limitType}function Qi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Xi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ji(t){return null!==t.collectionGroup}function to(t){var e=jr(t);if(null===e.p){e.p=[];var n=Xi(e),r=Qi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qi(n)),e.p.push(new qi(Qr.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qi(Qr.keyField(),u))}}}return e.p}function eo(t){var e=jr(t);if(!e.T)if("F"===e.limitType)e.T=ki(e.path,e.collectionGroup,to(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=to(e);r<i.length;r++){var o=i[r];n.push(new qi(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Bi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Bi(e.startAt.position,!e.startAt.before):null;e.T=ki(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function no(t,e,n){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ro(t,e){return Ai(eo(t),eo(e))&&t.limitType===e.limitType}function io(t){return Ci(eo(t))+"|lt:"+t.limitType}function oo(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+mi(e.value);var e})).join(", ")+"]"),si(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+zi(t.startAt)),t.endAt&&(e+=", endAt: "+zi(t.endAt)),"Target("+e+")"}(eo(t))+"; limitType="+t.limitType+")"}function so(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ci.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hi(t.startAt,to(t),e)||t.endAt&&Hi(t.endAt,to(t),e))}(t,e)}function ao(t){return function(e,n){for(var r=!1,i=0,o=to(t);i<o.length;i++){var s=o[i],a=uo(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function uo(t,e,n){var r=t.field.isKeyField()?ci.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?di(r,i):Dr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dr()}}function co(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ai(e)?"-0":e}}function lo(t){return{integerValue:""+t}}function ho(t,e){return ui(e)?lo(e):co(t,e)}var fo=function(){this._=void 0};function po(t,e,n){return t instanceof vo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof yo?bo(t,e):t instanceof _o?wo(t,e):function(t,e){var n=go(t,e),r=So(n)+So(t.A);return vi(n)&&vi(t.A)?lo(r):co(t.R,r)}(t,e)}function mo(t,e,n){return t instanceof yo?bo(t,e):t instanceof _o?wo(t,e):n}function go(t,e){return t instanceof Eo?vi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e}(fo),yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return p(e,t),e}(fo);function bo(t,e){for(var n=Io(e),r=function(t){n.some((function(e){return hi(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _o=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return p(e,t),e}(fo);function wo(t,e){for(var n=Io(e),r=function(t){n=n.filter((function(e){return!hi(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Eo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return p(e,t),e}(fo);function So(t){return ni(t.integerValue||t.doubleValue)}function Io(t){return yi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var xo=function(t,e){this.field=t,this.transform=e},To=function(t,e){this.version=t,this.transformResults=e},ko=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Co(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ao=function(){};function Oo(t,e,n){t instanceof Do?function(t,e,n){var r=t.value.clone(),i=Uo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Lo?function(t,e,n){if(Co(t.precondition,e)){var r=Uo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(jo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ro(t,e,n){t instanceof Do?function(t,e,n){if(Co(t.precondition,e)){var r=t.value.clone(),i=Fo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Mo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Lo?function(t,e,n){if(Co(t.precondition,e)){var r=Fo(t.fieldTransforms,n,e),i=e.data;i.setAll(jo(t)),i.setAll(r),e.convertToFoundDocument(Mo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Co(t.precondition,e)&&e.convertToNoDocument(Hr.min())}(t,e)}function Po(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=go(o.transform,s||null);null!=a&&(null==n&&(n=Si.empty()),n.set(o.field,a))}return n||null}function No(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&zr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof yo&&e instanceof yo||t instanceof _o&&e instanceof _o?zr(t.elements,e.elements,hi):t instanceof Eo&&e instanceof Eo?hi(t.A,e.A):t instanceof vo&&e instanceof vo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Mo(t){return t.isFoundDocument()?t.version:Hr.min()}var Do=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return p(e,t),e}(Ao),Lo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return p(e,t),e}(Ao);function jo(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Uo(t,e,n){var r=new Map;Lr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,mo(s,a,n[i]))}return r}function Fo(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,po(a,u,e))}return r}var Bo,zo,qo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return p(e,t),e}(Ao),Vo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return p(e,t),e}(Ao),Ho=function(t){this.count=t};function Go(t){switch(t){case kr.OK:return Dr();case kr.CANCELLED:case kr.UNKNOWN:case kr.DEADLINE_EXCEEDED:case kr.RESOURCE_EXHAUSTED:case kr.INTERNAL:case kr.UNAVAILABLE:case kr.UNAUTHENTICATED:return!1;case kr.INVALID_ARGUMENT:case kr.NOT_FOUND:case kr.ALREADY_EXISTS:case kr.PERMISSION_DENIED:case kr.FAILED_PRECONDITION:case kr.ABORTED:case kr.OUT_OF_RANGE:case kr.UNIMPLEMENTED:case kr.DATA_LOSS:return!0;default:return Dr()}}function Wo(t){if(void 0===t)return Pr("GRPC error has no .code"),kr.UNKNOWN;switch(t){case Bo.OK:return kr.OK;case Bo.CANCELLED:return kr.CANCELLED;case Bo.UNKNOWN:return kr.UNKNOWN;case Bo.DEADLINE_EXCEEDED:return kr.DEADLINE_EXCEEDED;case Bo.RESOURCE_EXHAUSTED:return kr.RESOURCE_EXHAUSTED;case Bo.INTERNAL:return kr.INTERNAL;case Bo.UNAVAILABLE:return kr.UNAVAILABLE;case Bo.UNAUTHENTICATED:return kr.UNAUTHENTICATED;case Bo.INVALID_ARGUMENT:return kr.INVALID_ARGUMENT;case Bo.NOT_FOUND:return kr.NOT_FOUND;case Bo.ALREADY_EXISTS:return kr.ALREADY_EXISTS;case Bo.PERMISSION_DENIED:return kr.PERMISSION_DENIED;case Bo.FAILED_PRECONDITION:return kr.FAILED_PRECONDITION;case Bo.ABORTED:return kr.ABORTED;case Bo.OUT_OF_RANGE:return kr.OUT_OF_RANGE;case Bo.UNIMPLEMENTED:return kr.UNIMPLEMENTED;case Bo.DATA_LOSS:return kr.DATA_LOSS;default:return Dr()}}(zo=Bo||(Bo={}))[zo.OK=0]="OK",zo[zo.CANCELLED=1]="CANCELLED",zo[zo.UNKNOWN=2]="UNKNOWN",zo[zo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zo[zo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zo[zo.NOT_FOUND=5]="NOT_FOUND",zo[zo.ALREADY_EXISTS=6]="ALREADY_EXISTS",zo[zo.PERMISSION_DENIED=7]="PERMISSION_DENIED",zo[zo.UNAUTHENTICATED=16]="UNAUTHENTICATED",zo[zo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zo[zo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zo[zo.ABORTED=10]="ABORTED",zo[zo.OUT_OF_RANGE=11]="OUT_OF_RANGE",zo[zo.UNIMPLEMENTED=12]="UNIMPLEMENTED",zo[zo.INTERNAL=13]="INTERNAL",zo[zo.UNAVAILABLE=14]="UNAVAILABLE",zo[zo.DATA_LOSS=15]="DATA_LOSS";var Ko=function(){function t(t,e){this.comparator=t,this.root=e||$o.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$o.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$o.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Yo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Yo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Yo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Yo(this.root,t,this.comparator,!0)},t}(),Yo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),$o=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Dr();if(this.right.isRed())throw Dr();var t=this.left.check();if(t!==this.right.check())throw Dr();return t+(this.isRed()?0:1)},t}();$o.EMPTY=null,$o.RED=!0,$o.BLACK=!1,$o.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new $o(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Zo=function(){function t(t){this.comparator=t,this.data=new Ko(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Qo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Qo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Qo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Xo=new Ko(ci.comparator);function Jo(){return Xo}var ts=new Ko(ci.comparator);function es(){return ts}var ns=new Ko(ci.comparator);function rs(){return ns}var is=new Zo(ci.comparator);function os(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=is,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ss=new Zo(Br);function as(){return ss}var us=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,cs.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Hr.min(),r,as(),Jo(),os())},t}(),cs=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Jr.EMPTY_BYTE_STRING,n,os(),os(),os())},t}(),ls=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},hs=function(t,e){this.targetId=t,this.V=e},fs=function(t,e,n,r){void 0===n&&(n=Jr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ds=function(){function t(){this.S=0,this.D=gs(),this.C=Jr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=os(),e=os(),n=os();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Dr()}})),new cs(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=gs()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),ps=function(){function t(t){this.W=t,this.G=new Map,this.H=Jo(),this.J=ms(),this.Y=new Zo(Br)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Dr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Oi(i))if(0===n){var o=new ci(i.path);this.tt(e,o,xi.newNoDocument(o,Hr.min()))}else Lr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Oi(o.target)){var s=new ci(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,xi.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=os();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new us(t,n,this.Y,this.H,r);return this.H=Jo(),this.J=ms(),this.Y=new Zo(Br),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ds,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Zo(Br),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Rr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ds),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ms(){return new Ko(ci.comparator)}function gs(){return new Ko(ci.comparator)}var vs={asc:"ASCENDING",desc:"DESCENDING"},ys={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bs=function(t,e){this.databaseId=t,this.I=e};function _s(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ws(t,e){return t.I?e.toBase64():e.toUint8Array()}function Es(t,e){return _s(t,e.toTimestamp())}function Ss(t){return Lr(!!t),Hr.fromTimestamp(function(t){var e=ei(t);return new Vr(e.seconds,e.nanos)}(t))}function Is(t,e){return function(t){return new $r(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function xs(t){var e=$r.fromString(t);return Lr(Ys(e)),e}function Ts(t,e){return Is(t.databaseId,e.path)}function ks(t,e){var n=xs(e);if(n.get(1)!==t.databaseId.projectId)throw new Cr(kr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Cr(kr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ci(Rs(n))}function Cs(t,e){return Is(t.databaseId,e)}function As(t){var e=xs(t);return 4===e.length?$r.emptyPath():Rs(e)}function Os(t){return new $r(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Rs(t){return Lr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ps(t,e,n){return{name:Ts(t,e),fields:n.value.mapValue.fields}}function Ns(t,e,n){var r=ks(t,e.name),i=Ss(e.updateTime),o=new Si({mapValue:{fields:e.fields}}),s=xi.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ms(t,e){var n;if(e instanceof Do)n={update:Ps(t,e.key,e.value)};else if(e instanceof qo)n={delete:Ts(t,e.key)};else if(e instanceof Lo)n={update:Ps(t,e.key,e.data),updateMask:Ks(e.fieldMask)};else{if(!(e instanceof Vo))return Dr();n={verify:Ts(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof vo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _o)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Eo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Dr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Es(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Dr()}(t,e.precondition)),n}function Ds(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ko.updateTime(Ss(t.updateTime)):void 0!==t.exists?ko.exists(t.exists):ko.none()}(e.currentDocument):ko.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Lr("REQUEST_TIME"===e.setToServerValue),n=new vo):"appendMissingElements"in e?n=new yo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new _o(e.removeAllFromArray.values||[]):"increment"in e?n=new Eo(t,e.increment):Dr();var r=Qr.fromServerFormat(e.fieldPath);return new xo(r,n)}(t,e)})):[];if(e.update){var i=ks(t,e.update.name),o=new Si({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Xr((t.fieldPaths||[]).map((function(t){return Qr.fromServerFormat(t)})))}(e.updateMask);return new Lo(i,o,s,n,r)}return new Do(i,o,n,r)}if(e.delete){var a=ks(t,e.delete);return new qo(a,n)}if(e.verify){var u=ks(t,e.verify);return new Vo(u,n)}return Dr()}function Ls(t,e){return{documents:[Cs(t,e.path)]}}function js(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Cs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Cs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(_i(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NAN"}};if(bi(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_i(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NOT_NAN"}};if(bi(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(t.field),op:qs(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Vs(t.field),direction:zs(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||si(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Fs(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fs(e.endAt)),n}function Us(t){var e=As(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Lr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Ws(e)]:void 0!==e.fieldFilter?[Gs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Dr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new qi(Hs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return si(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Bs(n.startAt));var l=null;return n.endAt&&(l=Bs(n.endAt)),Ki(e,i,a,s,u,"F",c,l)}function Fs(t){return{before:t.before,values:t.position}}function Bs(t){return new Bi(t.values||[],!!t.before)}function zs(t){return vs[t]}function qs(t){return ys[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function Hs(t){return Qr.fromServerFormat(t.fieldPath)}function Gs(t){return Ri.create(Hs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Dr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ws(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Hs(t.unaryFilter.field);return Ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Hs(t.unaryFilter.field);return Ri.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hs(t.unaryFilter.field);return Ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hs(t.unaryFilter.field);return Ri.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Dr()}}function Ks(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ys(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function $s(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Qs(e)),e=Zs(t.get(n),e);return Qs(e)}function Zs(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Qs(t){return t+"\x01\x01"}function Xs(t){var e=t.length;if(Lr(e>=2),2===e)return Lr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$r.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Dr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Dr()}o=s+2}return new $r(r)}var Js=function(t,e){this.seconds=t,this.nanoseconds=e},ta=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ta.store="owner",ta.key="owner";var ea=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ea.store="mutationQueues",ea.keyPath="userId";var na=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};na.store="mutations",na.keyPath="batchId",na.userMutationsIndex="userMutationsIndex",na.userMutationsKeyPath=["userId","batchId"];var ra=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,$s(e)]},t.key=function(t,e,n){return[t,$s(e),n]},t}();ra.store="documentMutations",ra.PLACEHOLDER=new ra;var ia=function(t,e){this.path=t,this.readTime=e},oa=function(t,e){this.path=t,this.version=e},sa=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sa.store="remoteDocuments",sa.readTimeIndex="readTimeIndex",sa.readTimeIndexPath="readTime",sa.collectionReadTimeIndex="collectionReadTimeIndex",sa.collectionReadTimeIndexPath=["parentPath","readTime"];var aa=function(t){this.byteSize=t};aa.store="remoteDocumentGlobal",aa.key="remoteDocumentGlobalKey";var ua=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ua.store="targets",ua.keyPath="targetId",ua.queryTargetsIndexName="queryTargetsIndex",ua.queryTargetsKeyPath=["canonicalId","targetId"];var ca=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ca.store="targetDocuments",ca.keyPath=["targetId","path"],ca.documentTargetsIndex="documentTargetsIndex",ca.documentTargetsKeyPath=["path","targetId"];var la=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};la.key="targetGlobalKey",la.store="targetGlobal";var ha=function(t,e){this.collectionId=t,this.parent=e};ha.store="collectionParents",ha.keyPath=["collectionId","parent"];var fa=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};fa.store="clientMetadata",fa.keyPath="clientId";var da=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};da.store="bundles",da.keyPath="bundleId";var pa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};pa.store="namedQueries",pa.keyPath="name";var ma=v(v([],v(v([],v(v([],v(v([],[ea.store,na.store,ra.store,sa.store,ua.store,ta.store,la.store,ca.store]),[fa.store])),[aa.store])),[ha.store])),[da.store,pa.store]),ga="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",va=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ya=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ba=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Dr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),_a=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ya,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Sa(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Ca(e.target.error);n.ft.reject(new Sa(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Sa(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Rr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new xa(e)},t}(),wa=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(y.j)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Rr("SimpleDb","Removing database:",t),Ta(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(y.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return m(this,void 0,void 0,(function(){var e,n=this;return g(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Rr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Sa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Cr(kr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Sa(t,n))},i.onupgradeneeded=function(t){Rr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Rr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return m(this,void 0,void 0,(function(){var i,o,s,a,u;return g(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return g(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=_a.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),ba.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Rr("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ea=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ta(this.Pt.delete())},t}(),Sa=function(t){function e(e,n){var r=this;return(r=t.call(this,kr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return p(e,t),e}(Cr);function Ia(t){return"IndexedDbTransactionError"===t.name}var xa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Rr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Rr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ta(n)},t.prototype.add=function(t){return Rr("SimpleDb","ADD",this.store.name,t,t),Ta(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ta(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Rr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Rr("SimpleDb","DELETE",this.store.name,t),Ta(this.store.delete(t))},t.prototype.count=function(){return Rr("SimpleDb","COUNT",this.store.name),Ta(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Rr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new ba((function(n,r){e.onerror=function(t){var e=Ca(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new ba((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ea(i),s=e(i.primaryKey,i.value,o);if(s instanceof ba){var a=s.catch((function(t){return o.done(),ba.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return ba.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ta(t){return new ba((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ca(t.target.error);n(e)}}))}var ka=!1;function Ca(t){var e=wa._t(Object(y.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Cr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ka||(ka=!0,setTimeout((function(){throw r}),0)),r}}return t}var Aa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return p(e,t),e}(va);function Oa(t,e){var n=jr(t);return wa.It(n.Mt,e)}var Ra=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Oo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ro(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Ro(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Hr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),os())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&zr(this.mutations,t.mutations,(function(t,e){return No(t,e)}))&&zr(this.baseMutations,t.baseMutations,(function(t,e){return No(t,e)}))},t}(),Pa=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Lr(e.mutations.length===r.length);for(var i=rs(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Na=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Hr.min()),void 0===o&&(o=Hr.min()),void 0===s&&(s=Jr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ma=function(t){this.Lt=t};function Da(t,e){if(e.document)return Ns(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ci.fromSegments(e.noDocument.path),r=Ba(e.noDocument.readTime),i=xi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ci.fromSegments(e.unknownDocument.path);return r=Ba(e.unknownDocument.version),xi.newUnknownDocument(o,r)}return Dr()}function La(t,e,n){var r=ja(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ts(t,e.key),fields:e.data.value.mapValue.fields,updateTime:_s(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new sa(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Fa(e.version);return s=e.hasCommittedMutations,new sa(null,new ia(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Fa(e.version);return new sa(new oa(c,l),null,null,!0,r,i)}return Dr()}function ja(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ua(t){var e=new Vr(t[0],t[1]);return Hr.fromTimestamp(e)}function Fa(t){var e=t.toTimestamp();return new Js(e.seconds,e.nanoseconds)}function Ba(t){var e=new Vr(t.seconds,t.nanoseconds);return Hr.fromTimestamp(e)}function za(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ds(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Ds(t.Lt,e)})),o=Vr.fromMillis(e.localWriteTimeMs);return new Ra(e.batchId,o,n,i)}function qa(t){var e,n,r=Ba(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ba(t.lastLimboFreeSnapshotVersion):Hr.min();return void 0!==t.query.documents?(Lr(1===(n=t.query).documents.length),e=eo(Yi(As(n.documents[0])))):e=function(t){return eo(Us(t))}(t.query),new Na(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Jr.fromBase64String(t.resumeToken))}function Va(t,e){var n,r=Fa(e.snapshotVersion),i=Fa(e.lastLimboFreeSnapshotVersion);n=Oi(e.target)?Ls(t.Lt,e.target):js(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ua(e.targetId,Ci(e.target),r,o,e.sequenceNumber,i,n)}function Ha(t){var e=Us({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?no(e,e.limit,"L"):e}var Ga=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Wa(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ba(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Wa(t).put({bundleId:(n=e).id,createTime:Fa(Ss(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ka(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ha(e.bundledQuery),readTime:Ba(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Ka(t).put(function(t){return{name:t.name,readTime:Fa(Ss(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Wa(t){return Oa(t,da.store)}function Ka(t){return Oa(t,pa.store)}var Ya=function(){function t(){this.Bt=new $a}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ba.resolve()},t.prototype.getCollectionParents=function(t,e){return ba.resolve(this.Bt.getEntries(e))},t}(),$a=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Zo($r.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Zo($r.comparator)).toArray()},t}(),Za=function(){function t(){this.qt=new $a}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:$s(i)};return Qa(t).put(o)}return ba.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[qr(e),""],!1,!0);return Qa(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Xs(o.parent))}return n}))},t}();function Qa(t){return Oa(t,ha.store)}var Xa={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ja=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function tu(t,e,n){var r=t.store(na.store),i=t.store(ra.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Lr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ra.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ba.waitFor(o).next((function(){return c}))}function eu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dr();e=t.noDocument}return JSON.stringify(e).length}Ja.DEFAULT_COLLECTION_PERCENTILE=10,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ja.DEFAULT=new Ja(41943040,Ja.DEFAULT_COLLECTION_PERCENTILE,Ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ja.DISABLED=new Ja(-1,0,0);var nu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Lr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(t).$t({index:na.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ou(t),s=iu(t);return s.add({}).next((function(a){Lr("number"==typeof a);for(var u=new Ra(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ms(t.Lt,e)})),i=n.mutations.map((function(e){return Ms(t.Lt,e)}));return new na(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Zo((function(t,e){return Br(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=ra.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,ra.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),ba.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return iu(t).get(e).next((function(t){return t?(Lr(t.userId===n.userId),za(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?ba.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return iu(t).$t({index:na.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Lr(e.batchId>=r),o=za(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return iu(t).$t({index:na.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(t).Nt(na.userMutationsIndex,n).next((function(t){return t.map((function(t){return za(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ra.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ou(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Xs(r[1]);if(a===n.userId&&e.path.isEqual(c))return iu(t).get(u).next((function(t){if(!t)throw Dr();Lr(t.userId===n.userId),o.push(za(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zo(Br),i=[];return e.forEach((function(e){var o=ra.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ou(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Xs(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),ba.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ra.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Zo(Br);return ou(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[2],c=Xs(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(iu(t).get(e).next((function(t){if(null===t)throw Dr();Lr(t.userId===n.userId),r.push(za(n.R,t))})))})),ba.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return tu(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),ba.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return ba.resolve();var r=IDBKeyRange.lowerBound(ra.prefixForUser(e.userId)),i=[];return ou(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Xs(t[1]);i.push(o)}else r.done()})).next((function(){Lr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ru(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return su(t).get(this.userId).next((function(t){return t||new ea(e.userId,-1,"")}))},t}();function ru(t,e,n){var r=ra.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ou(t).$t({range:o,Ft:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function iu(t){return Oa(t,na.store)}function ou(t){return Oa(t,ra.store)}function su(t){return Oa(t,ea.store)}var au=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),uu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new au(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Hr.fromTimestamp(new Vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return cu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Lr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return cu(t).$t((function(s,a){var u=qa(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return ba.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return cu(t).$t((function(t,n){var r=qa(n);e(r)}))},t.prototype.Xt=function(t){return lu(t).get(la.key).next((function(t){return Lr(null!==t),t}))},t.prototype.Zt=function(t,e){return lu(t).put(la.key,e)},t.prototype.te=function(t,e){return cu(t).put(Va(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Ci(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cu(t).$t({range:r,index:ua.queryTargetsIndexName},(function(t,n,r){var o=qa(n);Ai(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=hu(t);return e.forEach((function(e){var s=$s(e.path);i.push(o.put(new ca(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),ba.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=hu(t);return ba.forEach(e,(function(e){var o=$s(e.path);return ba.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=hu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hu(t),i=os();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Xs(t[1]),o=new ci(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=$s(e.path),r=IDBKeyRange.bound([n],[qr(n)],!1,!0),i=0;return hu(t).$t({index:ca.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return cu(t).get(e).next((function(t){return t?qa(t):null}))},t}();function cu(t){return Oa(t,ua.store)}function lu(t){return Oa(t,la.store)}function hu(t){return Oa(t,ca.store)}function fu(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){if(t.code!==kr.FAILED_PRECONDITION||t.message!==ga)throw t;return Rr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function du(t,e){var n=t[1],r=e[1],i=Br(t[0],e[0]);return 0===i?Br(n,r):i}var pu=function(){function t(t){this.ne=t,this.buffer=new Zo(du),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();du(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),mu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Rr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return m(e,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ia(e=n.sent())?(Rr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,fu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),gu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ba.resolve(Tr.o);var r=new pu(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Rr("LruGarbageCollector","Garbage collection skipped; disabled"),ba.resolve(Xa)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Rr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Xa):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Rr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Or()<=b.a.DEBUG&&Rr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ba.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),vu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new gu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return yu(t,n)},t.prototype.removeReference=function(t,e,n){return yu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return yu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return su(t).Ot((function(r){return ru(t,r,e).next((function(t){return t&&(n=!0),ba.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),hu(t).delete([0,$s(s.path)])}))}));i.push(u)}})).next((function(){return ba.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return yu(t,e)},t.prototype.we=function(t,e){var n,r=hu(t),i=Tr.o;return r.$t({index:ca.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Tr.o&&e(new ci(Xs(n)),i),i=s,n=o):i=Tr.o})).next((function(){i!==Tr.o&&e(new ci(Xs(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function yu(t,e){return hu(t).put(function(t,e){return new ca(0,$s(t.path),e)}(e,t.currentSequenceNumber))}var bu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Wr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Kr(this.inner)},t}(),_u=function(){function t(){this.changes=new bu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Hr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:xi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ba.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Iu(t).put(xu(e),n)},t.prototype.removeEntry=function(t,e){var n=Iu(t),r=xu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Iu(t).get(xu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Iu(t).get(xu(e)).next((function(t){return{document:n.ye(e,t),size:eu(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Jo();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Jo(),i=new Ko(ci.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,eu(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ba.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Iu(t).$t({range:r},(function(t,e,r){for(var s=ci.fromSegments(t);o&&ci.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Jo(),o=e.path.length+1,s={};if(n.isEqual(Hr.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ja(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=sa.collectionReadTimeIndex}return Iu(t).$t(s,(function(t,n,s){if(t.length===o){var a=Da(r.R,n);e.path.isPrefixOf(a.key.path)?so(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Eu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Su(t).get(aa.key).next((function(t){return Lr(!!t),t}))},t.prototype.me=function(t,e){return Su(t).put(aa.key,e)},t.prototype.ye=function(t,e){if(e){var n=Da(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Hr.min()))return n}return xi.newInvalidDocument(t)},t}(),Eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new bu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return p(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Zo((function(t,e){return Br(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=La(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=eu(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=La(e.Ie.R,xi.newNoDocument(o,Hr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),ba.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(_u);function Su(t){return Oa(t,aa.store)}function Iu(t){return Oa(t,sa.store)}function xu(t){return t.path.toArray()}var Tu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Lr(n<r&&n>=0&&r<=11);var o=new _a("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ta.store)}(t),function(t){t.createObjectStore(ea.store,{keyPath:ea.keyPath}),t.createObjectStore(na.store,{keyPath:na.keyPath,autoIncrement:!0}).createIndex(na.userMutationsIndex,na.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ra.store)}(t),ku(t),function(t){t.createObjectStore(sa.store)}(t));var s=ba.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ca.store),t.deleteObjectStore(ua.store),t.deleteObjectStore(la.store)}(t),ku(t)),s=s.next((function(){return function(t){var e=t.store(la.store),n=new la(0,0,Hr.min().toTimestamp(),0);return e.put(la.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(na.store).Nt().next((function(n){t.deleteObjectStore(na.store),t.createObjectStore(na.store,{keyPath:na.keyPath,autoIncrement:!0}).createIndex(na.userMutationsIndex,na.userMutationsKeyPath,{unique:!0});var r=e.store(na.store),i=n.map((function(t){return r.put(t)}));return ba.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(fa.store,{keyPath:fa.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(aa.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sa.store);e.createIndex(sa.readTimeIndex,sa.readTimeIndexPath,{unique:!1}),e.createIndex(sa.collectionReadTimeIndex,sa.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(da.store,{keyPath:da.keyPath})}(t),function(t){t.createObjectStore(pa.store,{keyPath:pa.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(sa.store).$t((function(t,n){e+=eu(n)})).next((function(){var n=new aa(e);return t.store(aa.store).put(aa.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(ea.store),r=t.store(na.store);return n.Nt().next((function(n){return ba.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(na.userMutationsIndex,i).next((function(r){return ba.forEach(r,(function(r){Lr(r.userId===n.userId);var i=za(e.R,r);return tu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ca.store),n=t.store(sa.store);return t.store(la.store).get(la.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new $r(n),s=function(t){return[0,$s(t)]}(o);r.push(e.get(s).next((function(n){return n?ba.resolve():function(n){return e.put(new ca(0,$s(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ba.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ha.store,{keyPath:ha.keyPath});var n=e.store(ha.store),r=new $a,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:$s(i)})}};return e.store(sa.store).$t({Ft:!0},(function(t,e){var n=new $r(t);return i(n.popLast())})).next((function(){return e.store(ra.store).$t({Ft:!0},(function(t,e){var n=Xs(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(ua.store);return n.$t((function(t,r){var i=qa(r),o=Va(e.R,i);return n.put(o)}))},t}();function ku(t){t.createObjectStore(ca.store,{keyPath:ca.keyPath}).createIndex(ca.documentTargetsIndex,ca.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ua.store,{keyPath:ua.keyPath}).createIndex(ua.queryTargetsIndexName,ua.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(la.store)}var Cu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Au=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Cr(kr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vu(this,i),this.Le=n+"main",this.R=new Ma(u),this.Be=new wa(this.Le,11,new Tu(this.R)),this.qe=new uu(this.referenceDelegate,this.R),this.Ut=new Za,this.Ue=function(t,e){return new wu(t,e)}(this.R,this.Ut),this.Ke=new Ga,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Cr(kr.FAILED_PRECONDITION,Cu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Tr(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return m(e,void 0,void 0,(function(){return g(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return m(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return m(e,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ru(e).put(new fa(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Ia(e))return Rr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Rr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Ou(t).get(ta.key).next((function(t){return ba.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ru(t).delete(this.clientId)},t.prototype.nn=function(){return m(this,void 0,void 0,(function(){var t,e,n,r=this;return g(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Oa(t,fa.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ba.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ba.resolve(!0):Ou(t).get(ta.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Cr(kr.FAILED_PRECONDITION,Cu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ru(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Rr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return m(this,void 0,void 0,(function(){var t=this;return g(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ta.store,fa.store],(function(e){var n=new Aa(e,Tr.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ru(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return nu.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Rr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ma,(function(o){return r=new Aa(o,i.Ne?i.Ne.next():Tr.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Pr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Cr(kr.FAILED_PRECONDITION,ga);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Ou(t).get(ta.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Cr(kr.FAILED_PRECONDITION,Cu)}))},t.prototype.Ze=function(t){var e=new ta(this.clientId,this.allowTabSynchronization,Date.now());return Ou(t).put(ta.key,e)},t.yt=function(){return wa.yt()},t.prototype.Xe=function(t){var e=this,n=Ou(t);return n.get(ta.key).next((function(t){return e.tn(t)?(Rr("IndexedDbPersistence","Releasing primary lease."),n.delete(ta.key)):ba.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Pr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(y.r)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Rr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Pr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Pr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ou(t){return Oa(t,ta.store)}function Ru(t){return Oa(t,fa.store)}function Pu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Nu=function(t,e){this.progress=t,this.wn=e},Mu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Ji(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ci(e)).next((function(t){var e=es();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=es();return this.Ut.getCollectionParents(t,i).next((function(s){return ba.forEach(s,(function(s){var a=function(t,e){return new Wi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=xi.newInvalidDocument(c),r=r.insert(c,l)),Ro(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){so(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=os(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Lo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Du=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=os(),i=os(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Lu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Hr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return($i(e)||Zi(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Or()<=b.a.DEBUG&&Rr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),oo(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Zo(ao(t));return e.forEach((function(e,r){so(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Or()<=b.a.DEBUG&&Rr("QueryEngine","Using full collection scan to execute query:",oo(e)),this.Sn.getDocumentsMatchingQuery(t,e,Hr.min())},t}(),ju=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Ko(Br),this.Fn=new bu((function(t){return Ci(t)}),Ai),this.$n=Hr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Mu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Uu(t,e,n,r){return new ju(t,e,n,r)}function Fu(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o;return g(this,(function(s){switch(s.label){case 0:return n=jr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Mu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=os(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Bu(t,e){var n=jr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ba.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Lr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function zu(t){var e=jr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function qu(t,e){var n=jr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Lr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Jo();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Vu(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Hr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return ba.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function Vu(t,e,n,r,i){var o=os();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Jo();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Hr.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Rr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Hu(t,e){var n=jr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Gu(t,e){var n=jr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?ba.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Na(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Wu(t,e,n){return m(this,void 0,void 0,(function(){var r,i,o,s;return g(this,(function(a){switch(a.label){case 0:r=jr(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ia(s=a.sent()))throw s;return Rr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function Ku(t,e,n){var r=jr(t),i=Hr.min(),o=os();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=jr(t),i=r.Fn.get(n);return void 0!==i?ba.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,eo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Hr.min(),n?o:os())})).next((function(t){return{documents:t,Bn:o}}))}))}function Yu(t,e){var n=jr(t),r=jr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function $u(t){var e=jr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=jr(t),i=Jo(),o=ja(n),s=Iu(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:sa.readTimeIndex,range:a},(function(t,e){var n=Da(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Ua(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Zu(t){return m(this,void 0,void 0,(function(){var e;return g(this,(function(n){return[2,(e=jr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Iu(t),n=Hr.min();return e.$t({index:sa.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ua(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Qu(t,e,n,r){return m(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return g(this,(function(p){switch(p.label){case 0:for(i=jr(t),o=os(),s=Jo(),a=rs(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Gu(i,function(t){return eo(Yi($r.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Vu(t,f,s,Hr.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Xu(t,e,n){return void 0===n&&(n=os()),m(this,void 0,void 0,(function(){var r,i;return g(this,(function(o){switch(o.label){case 0:return[4,Gu(t,eo(Ha(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=jr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Ss(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(Jr.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Ju=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ba.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ss(n.createTime)}),ba.resolve()},t.prototype.getNamedQuery=function(t,e){return ba.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ha(t.bundledQuery),readTime:Ss(t.readTime)}}(e)),ba.resolve()},t}(),tc=function(){function t(){this.Wn=new Zo(ec.Gn),this.zn=new Zo(ec.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new ec(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new ec(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ci(new $r([])),r=new ec(n,t),i=new ec(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ci(new $r([])),n=new ec(e,t),r=new ec(e,t+1),i=os();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new ec(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ec=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ci.comparator(t.key,e.key)||Br(t.ns,e.ns)},t.Hn=function(t,e){return Br(t.ns,e.ns)||ci.comparator(t.key,e.key)},t}(),nc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Zo(ec.Gn)}return t.prototype.checkEmpty=function(t){return ba.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Ra(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new ec(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return ba.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return ba.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return ba.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ba.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ba.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ec(e,0),i=new ec(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),ba.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zo(Br);return e.forEach((function(t){var e=new ec(t,0),i=new ec(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),ba.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ci.isDocumentKey(i)||(i=i.child(""));var o=new ec(new ci(i),0),s=new Zo(Br);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),ba.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Lr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return ba.forEach(e.mutations,(function(i){var o=new ec(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new ec(e,0),r=this.rs.firstAfterOrEqual(n);return ba.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return ba.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),rc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ko(ci.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ba.resolve(n?n.document.clone():xi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Jo();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():xi.newInvalidDocument(t))})),ba.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Jo(),i=new ci(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||so(e,u)&&(r=r.insert(u.key,u.clone()))}return ba.resolve(r)},t.prototype.fs=function(t,e){return ba.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ic(this)},t.prototype.getSize=function(t){return ba.resolve(this.size)},t}(),ic=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return p(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),ba.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(_u),oc=function(){function t(t){this.persistence=t,this.ds=new bu((function(t){return Ci(t)}),Ai),this.lastRemoteSnapshotVersion=Hr.min(),this.highestTargetId=0,this.ws=0,this._s=new tc,this.targetCount=0,this.ys=au.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),ba.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ba.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ba.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ba.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ba.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new au(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ba.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ba.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ba.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),ba.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return ba.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ba.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ba.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),ba.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ba.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ba.resolve(n)},t.prototype.containsKey=function(t,e){return ba.resolve(this._s.containsKey(e))},t}(),sc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Tr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new oc(this),this.Ut=new Ya,this.Ue=function(t,e){return new rc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Ma(e),this.Ke=new Ju(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new nc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Rr("MemoryPersistence","Starting transaction:",t);var i=new ac(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return ba.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ac=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return p(e,t),e}(va),uc=function(){function t(t){this.persistence=t,this.As=new tc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Dr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ba.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ba.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ba.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ba.forEach(this.vs,(function(r){var i=ci.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ba.or([function(){return ba.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),cc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function lc(t,e){return"firestore_clients_"+t+"_"+e}function hc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function fc(t,e){return"firestore_targets_"+t+"_"+e}cc.UNAUTHENTICATED=new cc(null),cc.GOOGLE_CREDENTIALS=new cc("google-credentials-uid"),cc.FIRST_PARTY=new cc("first-party-uid"),cc.MOCK_USER=new cc("mock-user");var dc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Cr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Pr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Pr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),mc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=as(),s=0;i&&s<r.activeTargetIds.length;++s)i=ui(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Pr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),gc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Pr("SharedClientState","Failed to parse online state: "+e),null)},t}(),vc=function(){function t(){this.activeTargetIds=as()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),yc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ko(Br),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=lc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new vc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return m(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return g(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(lc(this.persistenceKey,r)))&&(o=mc.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(fc(this.persistenceKey,t));if(n){var r=pc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(fc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Rr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Rr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Rr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Rr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return m(e,void 0,void 0,(function(){var t,e,r,i,o,s;return g(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Tr.o;if(null!=t)try{var n=JSON.parse(t);Lr("number"==typeof n),e=n}catch(t){Pr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Tr.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new dc(this.currentUser,t,e,n),i=hc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=hc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=fc(this.persistenceKey,t),i=new pc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return mc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return dc.Vs(new cc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return pc.Vs(r,e)},t.prototype.js=function(t){return gc.Vs(t)},t.prototype.ii=function(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Rr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=as();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),bc=function(){function t(){this.li=new vc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new vc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),_c=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Rr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Rr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ec={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Ic=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return p(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var s=new xr;s.listenOnce(wr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case _r.NO_ERROR:var e=s.getResponseJson();Rr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case _r.TIMEOUT:Rr("Connection",'RPC "'+t+'" timed out'),o(new Cr(kr.DEADLINE_EXCEEDED,"Request time out"));break;case _r.HTTP_ERROR:var n=s.getStatus();if(Rr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(kr).indexOf(e)>=0?e:kr.UNKNOWN}(r.status);o(new Cr(a,r.message))}else o(new Cr(kr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Cr(kr.UNAVAILABLE,"Connection failed."));break;default:Dr()}}finally{Rr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new mr,i=ue(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Sr({})),this.ki(o.initMessageHeaders,e),Object(y.o)()||Object(y.q)()||Object(y.m)()||Object(y.n)()||Object(y.s)()||Object(y.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Rr("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Sc({Ei:function(t){c?Rr("Connection","Not sending because WebChannel is closed:",t):(u||(Rr("Connection","Opening WebChannel transport."),a.open(),u=!0),Rr("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Ir.EventType.OPEN,(function(){c||Rr("Connection","WebChannel transport opened.")})),h(a,Ir.EventType.CLOSE,(function(){c||(c=!0,Rr("Connection","WebChannel transport closed"),l.Vi())})),h(a,Ir.EventType.ERROR,(function(t){c||(c=!0,Nr("Connection","WebChannel transport errored:",t),l.Vi(new Cr(kr.UNAVAILABLE,"The operation could not be completed")))})),h(a,Ir.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Lr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Rr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Bo[t];if(void 0!==e)return Wo(e)}(i),s=r.message;void 0===o&&(o=kr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Cr(o,s)),a.close()}else Rr("Connection","WebChannel received:",n),l.Si(n)}})),h(i,Er.STAT_EVENT,(function(t){10===t.stat?Rr("Connection","Detected buffering proxy"):11===t.stat&&Rr("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Rr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return Rr("RestConnection","Received: ",t),t}),(function(e){throw Nr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ec[t]},t}());function xc(){return"undefined"!=typeof window?window:null}function Tc(){return"undefined"!=typeof document?document:null}function kc(t){return new bs(t,!0)}var Cc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Rr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ac=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Cc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return m(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return m(this,void 0,void 0,(function(){return g(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return m(this,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===kr.RESOURCE_EXHAUSTED?(Pr(e.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===kr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Cr(kr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return m(t,void 0,void 0,(function(){return g(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Rr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Rr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Oc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return p(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Dr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Lr(void 0===e||"string"==typeof e),Jr.fromBase64String(e||"")):(Lr(void 0===e||e instanceof Uint8Array),Jr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?kr.UNKNOWN:Wo(t.code);return new Cr(e,t.message||"")}(a);n=new fs(r,i,o,s||null)}else if("documentChange"in e){i=ks(t,(r=e.documentChange).document.name),o=Ss(r.document.updateTime);var a=new Si({mapValue:{fields:r.document.fields}}),u=(s=xi.newFoundDocument(i,o,a),r.targetIds||[]);n=new ls(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=ks(t,(r=e.documentDelete).document),o=r.readTime?Ss(r.readTime):Hr.min(),a=xi.newNoDocument(i,o),n=new ls([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=ks(t,(r=e.documentRemove).document),n=new ls([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Dr();var c=e.filter;i=new Ho(r=c.count||0),n=new hs(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Hr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Hr.min():e.readTime?Ss(e.readTime):Hr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Os(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Oi(r)?{documents:Ls(t,r)}:{query:js(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ws(t,e.resumeToken):e.snapshotVersion.compareTo(Hr.min())>0&&(n.readTime=_s(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Os(this.R),e.removeTarget=t,this.cr(e)},e}(Ac),Rc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return p(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Lr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Lr(void 0!==e),t.map((function(t){return function(t,e){var n=Ss(t.updateTime?t.updateTime:e);return n.isEqual(Hr.min())&&(n=Ss(e)),new To(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ss(t.commitTime);return this.listener.Tr(n,e)}return Lr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Os(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ms(e.R,t)}))};this.cr(n)},e}(Ac),Pc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return p(e,t),e.prototype.br=function(){if(this.Rr)throw new Cr(kr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===kr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Cr(kr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===kr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Cr(kr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Nc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Pr(e),this.Vr=!1):Rr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Mc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return m(o,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return Vc(this)?(Rr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return m(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return(e=jr(t)).Or.add(4),[4,Lc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Dc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Nc(n,r)};function Dc(t){return m(this,void 0,void 0,(function(){var e,n;return g(this,(function(r){switch(r.label){case 0:if(!Vc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Lc(t){return m(this,void 0,void 0,(function(){var e,n;return g(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jc(t,e){var n=jr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),qc(n)?zc(n):il(n).er()&&Fc(n,e))}function Uc(t,e){var n=jr(t),r=il(n);n.$r.delete(e),r.er()&&Bc(n,e),0===n.$r.size&&(r.er()?r.ir():Vc(n)&&n.Br.set("Unknown"))}function Fc(t,e){t.qr.U(e.targetId),il(t).mr(e)}function Bc(t,e){t.qr.U(e),il(t).yr(e)}function zc(t){t.qr=new ps({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),il(t).start(),t.Br.Sr()}function qc(t){return Vc(t)&&!il(t).tr()&&t.$r.size>0}function Vc(t){return 0===jr(t).Or.size}function Hc(t){t.qr=void 0}function Gc(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){return t.$r.forEach((function(e,n){Fc(t,e)})),[2]}))}))}function Wc(t,e){return m(this,void 0,void 0,(function(){return g(this,(function(n){return Hc(t),qc(t)?(t.Br.Nr(e),zc(t)):t.Br.set("Unknown"),[2]}))}))}function Kc(t,e,n){return m(this,void 0,void 0,(function(){var r,i,o;return g(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof fs&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o;return g(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Rr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Yc(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ls?t.qr.X(e):e instanceof hs?t.qr.rt(e):t.qr.et(e),n.isEqual(Hr.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,zu(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Jr.EMPTY_BYTE_STRING,n.snapshotVersion)),Bc(t,e);var r=new Na(n.target,e,1,n.sequenceNumber);Fc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Rr("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Yc(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Yc(t,e,n){return m(this,void 0,void 0,(function(){var r=this;return g(this,(function(i){switch(i.label){case 0:if(!Ia(e))throw e;return t.Or.add(1),[4,Lc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return zu(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return m(r,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return Rr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Dc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function $c(t,e){return e().catch((function(n){return Yc(t,n,e)}))}function Zc(t){return m(this,void 0,void 0,(function(){var e,n,r,i,o;return g(this,(function(s){switch(s.label){case 0:e=jr(t),n=ol(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Vc(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Hu(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=ol(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Yc(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Qc(e)&&Xc(e),[2]}}))}))}function Qc(t){return Vc(t)&&!ol(t).tr()&&t.Fr.length>0}function Xc(t){ol(t).start()}function Jc(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){return ol(t).Ar(),[2]}))}))}function tl(t){return m(this,void 0,void 0,(function(){var e,n,r;return g(this,(function(i){for(e=ol(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function el(t,e,n){return m(this,void 0,void 0,(function(){var r,i;return g(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Pa.from(r,e,n),[4,$c(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Zc(t)];case 2:return o.sent(),[2]}}))}))}function nl(t,e){return m(this,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return e&&ol(t).pr?[4,function(t,e){return m(this,void 0,void 0,(function(){var n,r;return g(this,(function(i){switch(i.label){case 0:return Go(r=e.code)&&r!==kr.ABORTED?(n=t.Fr.shift(),ol(t).sr(),[4,$c(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Zc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qc(t)&&Xc(t),[2]}}))}))}function rl(t,e){return m(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return n=jr(t),e?(n.Or.delete(2),[4,Dc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Lc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function il(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=jr(t);return r.br(),new Oc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Gc.bind(null,t),Ri:Wc.bind(null,t),_r:Kc.bind(null,t)}),t.Mr.push((function(n){return m(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qc(t)?zc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function ol(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=jr(t);return r.br(),new Rc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Jc.bind(null,t),Ri:nl.bind(null,t),Ir:tl.bind(null,t),Tr:el.bind(null,t)}),t.Mr.push((function(n){return m(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Zc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Rr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var sl=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cr(kr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function al(t,e){if(Pr("AsyncQueue",e+": "+t),Ia(t))return new Cr(kr.UNAVAILABLE,e+": "+t);throw t}var ul=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ci.comparator(e.key,n.key)}:function(t,e){return ci.comparator(t.key,e.key)},this.keyedMap=es(),this.sortedSet=new Ko(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),cl=function(){function t(){this.Qr=new Ko(ci.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Dr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ll=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ul.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ro(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),hl=function(){this.Wr=void 0,this.listeners=[]},fl=function(){this.queries=new bu((function(t){return io(t)}),ro),this.onlineState="Unknown",this.Gr=new Set};function dl(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return g(this,(function(c){switch(c.label){case 0:if(n=jr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new hl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=al(a,"Initialization of query '"+oo(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&vl(n),[2]}}))}))}function pl(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o,s;return g(this,(function(a){return n=jr(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ml(t,e){for(var n=jr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&vl(n)}function gl(t,e,n){var r=jr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function vl(t){t.Gr.forEach((function(t){t.next()}))}var yl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ll(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),bl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),_l=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ks(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ns(this.R,t.document,!1):xi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Ss(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new _l(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||os()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return m(this,void 0,void 0,(function(){var t,e,n,r,i;return g(this,(function(o){switch(o.label){case 0:return[4,Qu(this.localStore,new _l(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Xu(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Nu(Object.assign({},this.progress),t))]}}))}))}}();var wl=function(t){this.key=t},El=function(t){this.key=t},Sl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=os(),this.mutatedKeys=os(),this.lo=ao(t),this.fo=new ul(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new cl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=$i(this.query)&&i.size===this.query.limit?i.last():null,c=Zi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=so(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),$i(this.query)||Zi(this.query))for(;s.size>this.query.limit;){var l=$i(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new ll(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=os(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new El(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new wl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=os();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ll.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Il=function(t,e,n){this.query=t,this.targetId=e,this.view=n},xl=function(t){this.key=t,this.bo=!1},Tl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new bu((function(t){return io(t)}),ro),this.Vo=new Map,this.So=new Set,this.Do=new Ko(ci.comparator),this.Co=new Map,this.No=new tc,this.xo={},this.ko=new Map,this.Fo=au.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function kl(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o,s;return g(this,(function(a){switch(a.label){case 0:return n=nh(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Gu(n.localStore,eo(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Cl(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&jc(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function Cl(t,e,n,r){return m(this,void 0,void 0,(function(){var i,o,s,a,u,c;return g(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return m(this,void 0,void 0,(function(){var i,o,s;return g(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Ku(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(zl(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Ku(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Sl(e,i.Bn),s=o._o(i.documents),a=cs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),zl(t,n,u.To),c=new Il(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Al(t,e){return m(this,void 0,void 0,(function(){var n,r,i;return g(this,(function(o){switch(o.label){case 0:return n=jr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!ro(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Wu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Uc(n.remoteStore,r.targetId),Fl(n,r.targetId)})).catch(fu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Fl(n,r.targetId),[4,Wu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ol(t,e,n){return m(this,void 0,void 0,(function(){var r,i,o,s;return g(this,(function(a){switch(a.label){case 0:r=rh(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=jr(t),i=Vr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),os());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Po(c,n.get(c.key));null!=l&&s.push(new Lo(c.key,l,Ii(l.value.mapValue),ko.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ko(Br)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hl(r,i.changes)];case 3:return a.sent(),[4,Zc(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=al(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Rl(t,e){return m(this,void 0,void 0,(function(){var n,r;return g(this,(function(i){switch(i.label){case 0:n=jr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Lr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Lr(r.bo):t.removedDocuments.size>0&&(Lr(r.bo),r.bo=!1))})),[4,Hl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,fu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Pl(t,e,n){var r=jr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=jr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&vl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Nl(t,e,n){return m(this,void 0,void 0,(function(){var r,i,o,s,a,u;return g(this,(function(c){switch(c.label){case 0:return(r=jr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Ko(ci.comparator)).insert(o,xi.newNoDocument(o,Hr.min())),a=os().add(o),u=new us(Hr.min(),new Map,new Zo(Br),s,a),[4,Rl(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Vl(r),[3,4];case 2:return[4,Wu(r.localStore,e,!1).then((function(){return Fl(r,e,n)})).catch(fu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ml(t,e){return m(this,void 0,void 0,(function(){var n,r,i;return g(this,(function(o){switch(o.label){case 0:n=jr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Bu(n.localStore,e)];case 2:return i=o.sent(),Ul(n,r,null),jl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hl(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,fu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dl(t,e,n){return m(this,void 0,void 0,(function(){var r,i;return g(this,(function(o){switch(o.label){case 0:r=jr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=jr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Lr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Ul(r,e,n),jl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hl(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,fu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ll(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o,s;return g(this,(function(a){switch(a.label){case 0:Vc((n=jr(t)).remoteStore)||Rr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=jr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=al(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function jl(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Ul(t,e,n){var r=jr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Fl(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Bl(t,e)}))}function Bl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Uc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Vl(t))}function zl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof wl?(t.No.addReference(o.key,e),ql(t,o)):o instanceof El?(Rr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Bl(t,o.key)):Dr()}}function ql(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Rr("SyncEngine","New document in limbo: "+n),t.So.add(r),Vl(t))}function Vl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ci($r.fromString(e)),r=t.Fo.next();t.Co.set(r,new xl(n)),t.Do=t.Do.insert(n,r),jc(t.remoteStore,new Na(eo(Yi(n.path)),r,2,Tr.o))}}function Hl(t,e,n){return m(this,void 0,void 0,(function(){var r,i,o,s;return g(this,(function(a){switch(a.label){case 0:return r=jr(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Du.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return g(this,(function(l){switch(l.label){case 0:n=jr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ba.forEach(e,(function(e){return ba.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return ba.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Ia(r=l.sent()))throw r;return Rr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Gl(t,e){return m(this,void 0,void 0,(function(){var n,r;return g(this,(function(i){switch(i.label){case 0:return(n=jr(t)).currentUser.isEqual(e)?[3,3]:(Rr("SyncEngine","User change. New user:",e.toKey()),[4,Fu(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new Cr(kr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wl(t,e){var n=jr(t),r=n.Co.get(e);if(r&&r.bo)return os().add(r.key);var i=os(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Kl(t,e){return m(this,void 0,void 0,(function(){var n,r,i;return g(this,(function(o){switch(o.label){case 0:return[4,Ku((n=jr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&zl(n,e.targetId,i.To),i)]}}))}))}function Yl(t){return m(this,void 0,void 0,(function(){var e;return g(this,(function(n){return[2,$u((e=jr(t)).localStore).then((function(t){return Hl(e,t)}))]}))}))}function $l(t,e,n,r){return m(this,void 0,void 0,(function(){var i,o;return g(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=jr(t),r=jr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):ba.resolve(null)}))}))}((i=jr(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zc(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ul(i,e,r||null),jl(i,e),function(t,e){jr(jr(t)._n).Gt(e)}(i.localStore,e)):Dr(),s.label=4;case 4:return[4,Hl(i,o)];case 5:return s.sent(),[3,7];case 6:Rr("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Zl(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return g(this,(function(c){switch(c.label){case 0:return nh(n=jr(t)),rh(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ql(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,rl(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)jc(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Fl(n,e),Wu(n.localStore,e,!0)})),Uc(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Ql(n,a)];case 5:return c.sent(),function(t){var e=jr(t);e.Co.forEach((function(t,n){Uc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Ko(ci.comparator)}(n),n.$o=!1,[4,rl(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Ql(t,e,n){return m(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return g(this,(function(m){switch(m.label){case 0:n=jr(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Gu(n.localStore,eo(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Kl(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Yu(n.localStore,a)];case 8:return p=m.sent(),[4,Gu(n.localStore,p)];case 9:return u=m.sent(),[4,Cl(n,Xl(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Xl(t){return Ki(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Jl(t){var e=jr(t);return jr(jr(e.localStore).persistence).fn()}function th(t,e,n,r){return m(this,void 0,void 0,(function(){var i,o,s;return g(this,(function(a){switch(a.label){case 0:return(i=jr(t)).$o?(Rr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$u(i.localStore)];case 3:return o=a.sent(),s=us.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hl(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Wu(i.localStore,e,!0)];case 6:return a.sent(),Fl(i,e,r),[3,8];case 7:Dr(),a.label=8;case 8:return[2]}}))}))}function eh(t,e,n){return m(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return g(this,(function(f){switch(f.label){case 0:if(!(r=nh(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Rr("SyncEngine","Adding an already active target "+s),[3,5]):[4,Yu(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Gu(r.localStore,a)];case 3:return u=f.sent(),[4,Cl(r,Xl(a),u.targetId,!1)];case 4:f.sent(),jc(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return g(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Wu(r.localStore,t,!1).then((function(){Uc(r.remoteStore,t),Fl(r,t)})).catch(fu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function nh(t){var e=jr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nl.bind(null,e),e.vo._r=ml.bind(null,e.eventManager),e.vo.Mo=gl.bind(null,e.eventManager),e}function rh(t){var e=jr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ml.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dl.bind(null,e),e}var ih=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return this.R=kc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Uu(this.persistence,new Lu,t.initialUser,this.R)},t.prototype.qo=function(t){return new sc(uc.bs,this.R)},t.prototype.Bo=function(t){return new bc},t.prototype.terminate=function(){return m(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return p(e,t),e.prototype.initialize=function(e){return m(this,void 0,void 0,(function(){var n=this;return g(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Zu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,rh(this.Qo.syncEngine)];case 4:return r.sent(),[4,Zc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Uu(this.persistence,new Lu,t.initialUser,this.R)},e.prototype.Uo=function(t){return new mu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Pu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ja.withCacheSize(this.cacheSizeBytes):Ja.DEFAULT;return new Au(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,xc(),Tc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new bc},e}(ih),sh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return p(e,t),e.prototype.initialize=function(e){return m(this,void 0,void 0,(function(){var n,r=this;return g(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof yc?(this.sharedClientState.syncEngine={ui:$l.bind(null,n),ai:th.bind(null,n),hi:eh.bind(null,n),fn:Jl.bind(null,n),ci:Yl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return m(r,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,Zl(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=xc();if(!yc.yt(e))throw new Cr(kr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(oh),ah=function(){function t(){}return t.prototype.initialize=function(t,e){return m(this,void 0,void 0,(function(){var n=this;return g(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Pl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gl.bind(null,this.syncEngine),[4,rl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new fl},t.prototype.createDatastore=function(t){var e=kc(t.databaseInfo.databaseId),n=new Ic(t.databaseInfo);return function(t,e,n){return new Pc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Pl(s.syncEngine,t,0)},o=wc.yt()?new wc:new _c,new Mc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Tl(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return m(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return e=jr(t),Rr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Lc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),uh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ch=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ya,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return m(this,void 0,void 0,(function(){return g(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return m(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return m(this,void 0,void 0,(function(){var t,e,n,r;return g(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new bl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return m(this,void 0,void 0,(function(){var t,e;return g(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return m(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return m(this,void 0,void 0,(function(){var t,e;return g(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return m(this,void 0,void 0,(function(){var e,n=this;return g(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Cr(kr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return m(this,void 0,void 0,(function(){var n,r,i,o,s,a;return g(this,(function(u){switch(u.label){case 0:return n=jr(t),r=Os(n.R)+"/documents",i={documents:e.map((function(t){return Ts(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Lr(!!e.found);var n=ks(t,e.found.name),r=Ss(e.found.updateTime),i=new Si({mapValue:{fields:e.found.fields}});return xi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Lr(!!e.missing),Lr(!!e.readTime);var n=ks(t,e.missing),r=Ss(e.readTime);return xi.newNoDocument(n,r)}(t,e):Dr()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Lr(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new qo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return m(this,void 0,void 0,(function(){var t,e=this;return g(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ci.fromPath(n);e.mutations.push(new Vo(r,e.precondition(r)))})),[4,function(t,e){return m(this,void 0,void 0,(function(){var n,r,i;return g(this,(function(o){switch(o.label){case 0:return n=jr(t),r=Os(n.R)+"/documents",i={writes:e.map((function(t){return Ms(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Dr();e=Hr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Cr(kr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ko.updateTime(e):ko.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Hr.min()))throw new Cr(kr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ko.updateTime(e)}return ko.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),lh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Cc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return m(t,void 0,void 0,(function(){var t,e,n=this;return g(this,(function(r){return t=new ch(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!si(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Go(e)}return!1},t}(),hh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=cc.UNAUTHENTICATED,this.clientId=Fr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return m(r,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return Rr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return m(this,void 0,void 0,(function(){return g(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Cr(kr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return m(t,void 0,void 0,(function(){var t,n;return g(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=al(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function fh(t,e){return m(this,void 0,void 0,(function(){var n,r,i=this;return g(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Rr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return m(i,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Fu(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function dh(t,e){return m(this,void 0,void 0,(function(){var n,r;return g(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ph(t)];case 1:return n=i.sent(),Rr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return m(this,void 0,void 0,(function(){var n,r;return g(this,(function(i){switch(i.label){case 0:return(n=jr(t)).asyncQueue.verifyOperationInProgress(),Rr("RemoteStore","RemoteStore received new credentials"),r=Vc(n),n.Or.add(3),[4,Lc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Dc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function ph(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Rr("FirestoreClient","Using default OfflineComponentProvider"),[4,fh(t,new ih)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function mh(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Rr("FirestoreClient","Using default OnlineComponentProvider"),[4,dh(t,new ah)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function gh(t){return ph(t).then((function(t){return t.persistence}))}function vh(t){return ph(t).then((function(t){return t.localStore}))}function yh(t){return mh(t).then((function(t){return t.remoteStore}))}function bh(t){return mh(t).then((function(t){return t.syncEngine}))}function _h(t){return m(this,void 0,void 0,(function(){var e,n;return g(this,(function(r){switch(r.label){case 0:return[4,mh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=kl.bind(null,e.syncEngine),n.onUnlisten=Al.bind(null,e.syncEngine),n)]}}))}))}function wh(t,e,n){var r=this;void 0===n&&(n={});var i=new ya;return t.asyncQueue.enqueueAndForget((function(){return m(r,void 0,void 0,(function(){var r;return g(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uh({next:function(o){e.enqueueAndForget((function(){return pl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Cr(kr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Cr(kr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new yl(Yi(n.path),o,{includeMetadataChanges:!0,so:!0});return dl(t,s)},[4,_h(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function Eh(t,e,n){var r=this;void 0===n&&(n={});var i=new ya;return t.asyncQueue.enqueueAndForget((function(){return m(r,void 0,void 0,(function(){var r;return g(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new uh({next:function(n){e.enqueueAndForget((function(){return pl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Cr(kr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new yl(n,o,{includeMetadataChanges:!0,so:!0});return dl(t,s)},[4,_h(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Sh=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Ih=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),xh=new Map,Th=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},kh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(cc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ch=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ah=function(){function t(t){var e=this;this.currentUser=cc.UNAUTHENTICATED,this.oc=new ya,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Rr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Rr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Rr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Lr("string"==typeof n.accessToken),new Th(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return m(n,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Lr(null===t||"string"==typeof t),new cc(t)},t}(),Oh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=cc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Rh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Oh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(cc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ph(t,e,n){if(!n)throw new Cr(kr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Nh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cr(kr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Mh(t,e,n,r){if(!0===e&&!0===r)throw new Cr(kr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dh(t){if(!ci.isDocumentKey(t))throw new Cr(kr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Lh(t){if(ci.isDocumentKey(t))throw new Cr(kr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function jh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Dr()}function Uh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Cr(kr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jh(t);throw new Cr(kr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fh(t,e){if(e<=0)throw new Cr(kr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Bh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Cr(kr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cr(kr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Mh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),zh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bh({}),this._settingsFrozen=!1,t instanceof Ih?(this._databaseId=t,this._credentials=new kh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Cr(kr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(t.options.projectId)}(t),this._credentials=new Ah(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Cr(kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Cr(kr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new kh;switch(t.type){case"gapi":var e=t.client;return Lr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Rh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Cr(kr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=xh.get(this))&&(Rr("ComponentProvider","Removing Datastore"),xh.delete(this),t.terminate()),Promise.resolve();var t},t}(),qh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Yi(r))||this)._path=r,i.type="collection",i}return p(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new qh(this.firestore,null,new ci(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Vh);function Gh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(y.i)(t),Ph("collection","path",e),t instanceof zh)return Lh(n=$r.fromString.apply($r,v([e],r))),new Hh(t,null,n);if(!(t instanceof qh||t instanceof Hh))throw new Cr(kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lh(n=$r.fromString.apply($r,v([t.path],r)).child($r.fromString(e))),new Hh(t.firestore,null,n)}function Wh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(y.i)(t),1===arguments.length&&(e=Fr.u()),Ph("doc","path",e),t instanceof zh)return Dh(n=$r.fromString.apply($r,v([e],r))),new qh(t,null,new ci(n));if(!(t instanceof qh||t instanceof Hh))throw new Cr(kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dh(n=t._path.child($r.fromString.apply($r,v([e],r)))),new qh(t.firestore,t instanceof Hh?t.converter:null,new ci(n))}function Kh(t,e){return t=Object(y.i)(t),e=Object(y.i)(e),(t instanceof qh||t instanceof Hh)&&(e instanceof qh||e instanceof Hh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Yh(t,e){return t=Object(y.i)(t),e=Object(y.i)(e),t instanceof Vh&&e instanceof Vh&&t.firestore===e.firestore&&ro(t._query,e._query)&&t.converter===e.converter}var $h=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Cc(this,"async_queue_retry"),this.Ic=function(){var e=Tc();e&&Rr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Tc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Tc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ya;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return m(this,void 0,void 0,(function(){var t,e=this;return g(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ia(t=n.sent()))throw t;return Rr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=sl.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Dr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return m(this,void 0,void 0,(function(){var t;return g(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Zh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ya,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new $h,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return p(e,t),e.prototype._terminate=function(){return this._firestoreClient||Jh(this),this._firestoreClient.terminate()},e}(zh);function Xh(t){return t._firestoreClient||Jh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Jh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Sh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new hh(t._credentials,t._queue,r)}function tf(t,e,n){var r=this,i=new ya;return t.asyncQueue.enqueue((function(){return m(r,void 0,void 0,(function(){var r;return g(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fh(t,n)];case 1:return o.sent(),[4,dh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kr.FAILED_PRECONDITION||t.code===kr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ef(t){if(t._initialized||t._terminated)throw new Cr(kr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Cr(kr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),rf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Jr.fromBase64String(e))}catch(e){throw new Cr(kr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Jr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),of=function(t){this._methodName=t},sf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Cr(kr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Cr(kr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Br(this._lat,t._lat)||Br(this._long,t._long)},t}(),af=/^__.*__$/,uf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Lo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Do(t,this.data,e,this.fieldTransforms)},t}(),cf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Lo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function lf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dr()}}var hf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Rf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(lf(this.Nc)&&af.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ff=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||kc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new hf({Nc:t,methodName:e,qc:n,path:Qr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function df(t){var e=t._freezeSettings(),n=kc(t._databaseId);return new ff(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);kf("Data must be an object, but it was:",s,r);var a,u,c=xf(r,s);if(o.merge)a=new Xr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Cf(e,f[h],n);if(!s.contains(d))throw new Cr(kr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Pf(l,d)||l.push(d)}a=new Xr(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new uf(new Si(c),a,u)}var mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(of);function gf(t,e,n){return new hf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var vf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype._toFieldTransform=function(t){return new xo(t.path,new vo)},e.prototype.isEqual=function(t){return t instanceof e},e}(of),yf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return p(e,t),e.prototype._toFieldTransform=function(t){var e=gf(this,t,!0),n=this.Kc.map((function(t){return If(t,e)})),r=new yo(n);return new xo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(of),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return p(e,t),e.prototype._toFieldTransform=function(t){var e=gf(this,t,!0),n=this.Kc.map((function(t){return If(t,e)})),r=new _o(n);return new xo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(of),_f=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return p(e,t),e.prototype._toFieldTransform=function(t){var e=new Eo(t.R,ho(t.R,this.Qc));return new xo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(of);function wf(t,e,n,r){var i=t.Uc(1,e,n);kf("Data must be an object, but it was:",i,r);var o=[],s=Si.empty();Wr(r,(function(t,r){var a=Of(e,t,n);r=Object(y.i)(r);var u=i.Oc(a);if(r instanceof mf)o.push(a);else{var c=If(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Xr(o);return new cf(s,a,i.fieldTransforms)}function Ef(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Cf(e,r,n)],u=[i];if(o.length%2!=0)throw new Cr(kr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Cf(e,o[c])),u.push(o[c+1]);for(var l=[],h=Si.empty(),f=a.length-1;f>=0;--f)if(!Pf(l,a[f])){var d=a[f],p=u[f];p=Object(y.i)(p);var m=s.Oc(d);if(p instanceof mf)l.push(d);else{var g=If(p,m);null!=g&&(l.push(d),h.set(d,g))}}var v=new Xr(l);return new cf(h,v,s.fieldTransforms)}function Sf(t,e,n,r){return void 0===r&&(r=!1),If(n,t.Uc(r?4:3,e))}function If(t,e){if(Tf(t=Object(y.i)(t)))return kf("Unsupported field value:",e,t),xf(t,e);if(t instanceof of)return function(t,e){if(!lf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=If(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(y.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ho(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vr.fromDate(t);return{timestampValue:_s(e.R,n)}}if(t instanceof Vr)return n=new Vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:_s(e.R,n)};if(t instanceof sf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rf)return{bytesValue:ws(e.R,t._byteString)};if(t instanceof qh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Is(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+jh(t))}(t,e)}function xf(t,e){var n={};return Kr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(function(t,r){var i=If(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Tf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vr||t instanceof sf||t instanceof rf||t instanceof qh||t instanceof of)}function kf(t,e,n){if(!Tf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=jh(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Cf(t,e,n){if((e=Object(y.i)(e))instanceof nf)return e._internalPath;if("string"==typeof e)return Of(t,e);throw Rf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Af=new RegExp("[~\\*/\\[\\]]");function Of(t,e,n){if(e.search(Af)>=0)throw Rf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(nf.bind.apply(nf,v([void 0],e.split(".")))))._internalPath}catch(Pd){throw Rf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rf(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Cr(kr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Pf(t,e){return t.some((function(t){return t.isEqual(e)}))}var Nf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Mf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Df("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Nf);function Df(t,e){return"string"==typeof e?Of(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}var Lf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),jf=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return p(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Df("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Nf),Uf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(jf),Ff=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Lf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Uf(n._firestore,n._userDataWriter,r.key,r,new Lf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Cr(kr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Uf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Lf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Uf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Lf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Bf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Bf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dr()}}function zf(t,e){return t instanceof jf&&e instanceof jf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ff&&e instanceof Ff&&t._firestore===e._firestore&&Yh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function qf(t){if(Zi(t)&&0===t.explicitOrderBy.length)throw new Cr(kr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vf=function(){};function Hf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Gf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return p(e,t),e.prototype._apply=function(t){var e=df(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Cr(kr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Xf(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Qf(r,t,l[c]));a={arrayValue:{values:u}}}else a=Qf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xf(s,o),a=Sf(n,"where",s,"in"===o||"not-in"===o);var h=Ri.create(i,o,a);return function(t,e){if(e.g()){var n=Xi(t);if(null!==n&&!n.isEqual(e.field))throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Qi(t);null!==r&&Jf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Cr(kr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vf),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return p(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qi(e,n);return function(t,e){if(null===Qi(t)){var n=Xi(t);null!==n&&Jf(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Vh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Wi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vf),Kf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return p(e,t),e.prototype._apply=function(t){return new Vh(t.firestore,t.converter,no(t._query,this.Hc,this.Jc))},e}(Vf),Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return p(e,t),e.prototype._apply=function(t){var e=Zf(t,this.type,this.Yc,this.Xc);return new Vh(t.firestore,t.converter,function(t,e){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vf),$f=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return p(e,t),e.prototype._apply=function(t){var e=Zf(t,this.type,this.Yc,this.Xc);return new Vh(t.firestore,t.converter,function(t,e){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vf);function Zf(t,e,n,r){if(n[0]=Object(y.i)(n[0]),n[0]instanceof Nf)return function(t,e,n,r,i){if(!r)throw new Cr(kr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=to(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(gi(e,r.key));else{var c=r.data.field(u.field);if(ii(c))throw new Cr(kr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Bi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=df(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Cr(kr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ji(t)&&-1!==c.indexOf("/"))throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child($r.fromString(c));if(!ci.isDocumentKey(l))throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ci(l);a.push(gi(e,h))}else{var f=Sf(n,r,c);a.push(f)}}return new Bi(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Qf(t,e,n){if("string"==typeof(n=Object(y.i)(n))){if(""===n)throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ji(e)&&-1!==n.indexOf("/"))throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($r.fromString(n));if(!ci.isDocumentKey(r))throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gi(t,new ci(r))}if(n instanceof qh)return gi(t,n._key);throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jh(n)+".")}function Xf(t,e){if(!Array.isArray(t)||0===t.length)throw new Cr(kr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Cr(kr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jf(t,e,n){if(!n.isEqual(e))throw new Cr(kr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var td=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),li(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ni(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ri(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Dr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Wr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new sf(ni(t.latitude),ni(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ii(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(oi(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ei(t);return new Vr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=$r.fromString(t);Lr(Ys(n));var r=new Ih(n.get(1),n.get(3)),i=new ci(n.popFirst(5));return r.isEqual(e)||Pr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ed(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return p(e,t),e.prototype.convertBytes=function(t){return new rf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(td),rd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=df(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=id(t,this._firestore),i=ed(r.converter,e,n),o=pf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ko.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=id(t,this._firestore);return o="string"==typeof(e=Object(y.i)(e))||e instanceof nf?Ef(this._dataReader,"WriteBatch.update",s._key,e,n,r):wf(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,ko.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=id(t,this._firestore);return this._mutations=this._mutations.concat(new qo(e._key,ko.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Cr(kr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function id(t,e){if((t=Object(y.i)(t)).firestore!==e)throw new Cr(kr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var od=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return p(e,t),e.prototype.convertBytes=function(t){return new rf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(td);function sd(t,e,n){t=Uh(t,qh);var r=Uh(t.firestore,Qh),i=ed(t.converter,e,n);return cd(r,[pf(df(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ko.none())])}function ad(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Uh(t,qh);var o=Uh(t.firestore,Qh),s=df(o);return cd(o,[("string"==typeof(e=Object(y.i)(e))||e instanceof nf?Ef(s,"updateDoc",t._key,e,n,r):wf(s,"updateDoc",t._key,e)).toMutation(t._key,ko.exists(!0))])}function ud(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(y.i)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Zh(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Zh(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof qh)c=Uh(t.firestore,Qh),l=Yi(t._key.path),u={next:function(e){i[a]&&i[a](ld(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Uh(t,Vh);c=Uh(d.firestore,Qh),l=d._query;var p=new od(c);u={next:function(t){i[a]&&i[a](new Ff(c,p,d,t))},error:i[a+1],complete:i[a+2]},qf(t._query)}return function(t,e,n,r){var i=this,o=new uh(r),s=new yl(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return m(i,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return e=dl,[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return m(i,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return e=pl,[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Xh(c),l,h,u)}function cd(t,e){return function(t,e){var n=this,r=new ya;return t.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return g(this,(function(i){switch(i.label){case 0:return n=Ol,[4,bh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Xh(t),e)}function ld(t,e,n){var r=n.docs.get(e._key),i=new od(t);return new jf(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}var hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return p(e,t),e.prototype.get=function(e){var n=this,r=id(e,this._firestore),i=new od(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new jf(n._firestore,i,r._key,t._document,new Lf(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=df(t)}return t.prototype.get=function(t){var e=this,n=id(t,this._firestore),r=new nd(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Dr();var i=t[0];if(i.isFoundDocument())return new Nf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Nf(e._firestore,r,n._key,null,n.converter);throw Dr()}))},t.prototype.set=function(t,e,n){var r=id(t,this._firestore),i=ed(r.converter,e,n),o=pf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=id(t,this._firestore);return o="string"==typeof(e=Object(y.i)(e))||e instanceof nf?Ef(this._dataReader,"Transaction.update",s._key,e,n,r):wf(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=id(t,this._firestore);return this._transaction.delete(e._key),this},t}());function fd(){if("undefined"==typeof Uint8Array)throw new Cr(kr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dd(){if("undefined"==typeof atob)throw new Cr(kr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return dd(),new t(rf.fromBase64String(e))},t.fromUint8Array=function(e){return fd(),new t(rf.fromUint8Array(e))},t.prototype.toBase64=function(){return dd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return fd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),md=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ef(t=Uh(t,Qh));var n=Xh(t),r=t._freezeSettings(),i=new ah;return tf(n,i,new oh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ef(t=Uh(t,Qh));var e=Xh(t),n=t._freezeSettings(),r=new ah;return tf(e,r,new sh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Cr(kr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ya;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return m(e,void 0,void 0,(function(){var e;return g(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return m(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return wa.yt()?[4,wa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Pu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),gd=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ih||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Nr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Uh(t,zh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Nr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=cc.MOCK_USER;else{s=Object(y.e)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Cr(kr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new cc(u)}t._credentials=new Ch(new Th(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return m(e,void 0,void 0,(function(){var e,n;return g(this,(function(r){switch(r.label){case 0:return[4,gh(t)];case 1:return e=r.sent(),[4,yh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=jr(t);return e.Or.delete(0),Dc(e)}(n))]}}))}))}))}(Xh(Uh(this._delegate,Qh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return m(e,void 0,void 0,(function(){var e,n;return g(this,(function(r){switch(r.label){case 0:return[4,gh(t)];case 1:return e=r.sent(),[4,yh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return m(this,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return(e=jr(t)).Or.add(0),[4,Lc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Xh(Uh(this._delegate,Qh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Mh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ya;return t.asyncQueue.enqueueAndForget((function(){return m(e,void 0,void 0,(function(){var e;return g(this,(function(r){switch(r.label){case 0:return e=Ll,[4,bh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Xh(Uh(this._delegate,Qh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new uh(e);return t.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return e=function(t,e){jr(t).Gr.add(e),e.next()},[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var e;return g(this,(function(n){switch(n.label){case 0:return e=function(t,e){jr(t).Gr.delete(e)},[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Xh(t=Uh(t,Qh)),Zh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Cr(kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Od(this,Gh(this._delegate,t))}catch(t){throw Ed(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new wd(this,Wh(this._delegate,t))}catch(t){throw Ed(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new kd(this,function(t,e){if(t=Uh(t,zh),Ph("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cr(kr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vh(t,null,function(t){return new Wi($r.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ed(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ya;return t.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return g(this,(function(i){switch(i.label){case 0:return[4,function(t){return mh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new lh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Xh(t),(function(n){return e(new hd(t,n))}))}(this._delegate,(function(n){return t(new yd(e,n))}))},t.prototype.batch=function(){var t=this;return Xh(this._delegate),new bd(new rd(this._delegate,(function(e){return cd(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Cr(kr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Cr(kr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),vd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return p(e,t),e.prototype.convertBytes=function(t){return new pd(new rf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return wd.eu(e,this.firestore,null)},e}(td),yd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new vd(t)}return t.prototype.get=function(t){var e=this,n=Rd(t);return this._delegate.get(n).then((function(t){return new xd(e._firestore,new jf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Rd(t);return n?(Nh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rd(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,v([s,e,n],i)),this},t.prototype.delete=function(t){var e=Rd(t);return this._delegate.delete(e),this},t}(),bd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Rd(t);return n?(Nh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Rd(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,v([s,e,n],i)),this},t.prototype.delete=function(t){var e=Rd(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),_d=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Uf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Td(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new vd(e),n),i.set(n,o)),o},t}();_d.su=new WeakMap;var wd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vd(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Cr(kr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new qh(n._delegate,r,new ci(e)))},t.eu=function(e,n,r){return new t(n,new qh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Od(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Od(this.firestore,Gh(this._delegate,t))}catch(t){throw Ed(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(y.i)(t))instanceof qh&&Kh(this._delegate,t)},t.prototype.set=function(t,e){e=Nh("DocumentReference.set",e);try{return e?sd(this._delegate,t,e):sd(this._delegate,t)}catch(t){throw Ed(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ad(this._delegate,t):ad.apply(void 0,v([this._delegate,t,e],n))}catch(t){throw Ed(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return cd(Uh((t=this._delegate).firestore,Qh),[new qo(t._key,ko.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Sd(e),i=Id(e,(function(e){return new xd(t.firestore,new jf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return ud(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Uh(t,qh);var e=Uh(t.firestore,Qh),n=Xh(e),r=new od(e);return function(t,e){var n=this,r=new ya;return t.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return g(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return m(this,void 0,void 0,(function(){var r,i;return g(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=jr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Cr(kr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=al(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,vh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new jf(e,r,t._key,n,new Lf(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Uh(t,qh);var e=Uh(t.firestore,Qh);return wh(Xh(e),t._key,{source:"server"}).then((function(n){return ld(e,t,n)}))}(this._delegate):function(t){t=Uh(t,qh);var e=Uh(t.firestore,Qh);return wh(Xh(e),t._key).then((function(n){return ld(e,t,n)}))}(this._delegate)).then((function(t){return new xd(e.firestore,new jf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?_d.nu(this.firestore,e):null))},t}();function Ed(t,e,n){return t.message=t.message.replace(e,n),t}function Sd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Zh(r))return r}return{}}function Id(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Zh(t[0])?t[0]:Zh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new wd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return zf(this._delegate,t._delegate)},t}(),Td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(xd),kd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new vd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Hf(this._delegate,function(t,e,n){var r=e,i=Df("where",t);return new Gf(i,r,n)}(e,n,r)))}catch(e){throw Ed(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Hf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Df("orderBy",t);return new Wf(r,n)}(e,n)))}catch(e){throw Ed(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Fh("limit",t),new Kf("limit",t,"F")}(e)))}catch(e){throw Ed(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Fh("limitToLast",t),new Kf("limitToLast",t,"L")}(e)))}catch(e){throw Ed(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yf("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Ed(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yf("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Ed(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $f("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Ed(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $f("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Ed(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Yh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Uh(t,Vh);var e=Uh(t.firestore,Qh),n=Xh(e),r=new od(e);return function(t,e){var n=this,r=new ya;return t.asyncQueue.enqueueAndForget((function(){return m(n,void 0,void 0,(function(){var n;return g(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return m(this,void 0,void 0,(function(){var r,i,o,s,a;return g(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ku(t,e,!0)];case 1:return a=u.sent(),r=new Sl(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=al(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,vh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Ff(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Uh(t,Vh);var e=Uh(t.firestore,Qh),n=Xh(e),r=new od(e);return Eh(n,t._query,{source:"server"}).then((function(n){return new Ff(e,r,t,n)}))}(this._delegate):function(t){t=Uh(t,Vh);var e=Uh(t.firestore,Qh),n=Xh(e),r=new od(e);return qf(t._query),Eh(n,t._query).then((function(n){return new Ff(e,r,t,n)}))}(this._delegate)).then((function(t){return new Ad(e.firestore,new Ff(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Sd(e),i=Id(e,(function(e){return new Ad(t.firestore,new Ff(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return ud(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?_d.nu(this.firestore,e):null))},t}(),Cd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Td(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Ad=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new kd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Td(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Cd(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Td(n._firestore,r))}))},t.prototype.isEqual=function(t){return zf(this._delegate,t._delegate)},t}(),Od=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return p(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new wd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new wd(this.firestore,void 0===t?Wh(this._delegate):Wh(this._delegate,t))}catch(t){throw Ed(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Uh(t.firestore,Qh),r=Wh(t),i=ed(t.converter,e);return cd(n,[pf(df(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ko.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new wd(e.firestore,t)}))},e.prototype.isEqual=function(t){return Kh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?_d.nu(this.firestore,t):null))},e}(kd);function Rd(t){return Uh(t,qh)}var Pd,Nd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(nf.bind.apply(nf,v([void 0],t)))}return t.documentId=function(){return new t(Qr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(y.i)(t))instanceof nf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Md=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new vf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new mf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new _f("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Dd=r("/6Yf"),Ld={Firestore:gd,GeoPoint:sf,Timestamp:Vr,Blob:pd,Transaction:yd,WriteBatch:bd,DocumentReference:wd,DocumentSnapshot:xd,Query:kd,QueryDocumentSnapshot:Td,QuerySnapshot:Ad,CollectionReference:Od,FieldPath:Nd,FieldValue:Md,setLogLevel:function(t){Ar.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Dd.a("firestore",(function(t){return function(t,e){return new gd(t,new Qh(t,e),new md)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ld)))})(Pd=f.a),Pd.registerVersion("@firebase/firestore","2.4.1"),r.d(e,"a",(function(){return Ud}));const jd=r("dAlA");let Ud=(()=>{class t{constructor(t){this.firebaseService=t,this.db=this.firebaseService.firebase.firestore(),this.firestoreTimestamp=this.firebaseService.firebase.firestore.FieldValue.serverTimestamp}createImageSource(t){const e=this.firestoreTimestamp(),n={userId:t.uid,createdAt:e,updatedAt:e};return Object(s.a)(this.db.collection("imageSources").add(n))}createImageStream(t){const e=this.firestoreTimestamp(),n={userId:t.uid,createdAt:e,updatedAt:e};return Object(s.a)(this.db.collection("imageStreams").add(n))}updateUser(t){const e=this.db.doc("users/"+t.uid).set(Object.assign({},t));return Object(s.a)(e).pipe(Object(c.a)(()=>t))}unregisterFile(t){return i.a(this,void 0,void 0,(function*(){const e=this.db.doc("uploads/"+t);return yield e.delete()}))}insertUploadDoc(t,e="uploads"){return i.a(this,void 0,void 0,(function*(){const n=this.firestoreTimestamp();return t.createdAt=n,t.updatedAt=n,yield this.db.collection(e).add(t)}))}registerFileUploaded(t,e,n="uploads"){return i.a(this,void 0,void 0,(function*(){const r=this.db.doc(`${n}/${t}`);return yield r.update({isUploaded:!0,uploadMeta:e})}))}getUploadedFiles$(t){return a.a.create(e=>this.db.collection("uploads").where("userId","==",t.uid).orderBy("updatedAt","desc").onSnapshot(e)).pipe(Object(c.a)(t=>t.docs.map(t=>Object.assign({},t.data(),{id:t.id}))))}getFilesForSource$(t){return a.a.create(e=>this.db.collection("uploads").where("sourceId","==",t).orderBy("updatedAt","desc").onSnapshot(e)).pipe(Object(c.a)(t=>t.docs.map(t=>Object.assign({},t.data(),{id:t.id}))))}getFilesForStream$(t){return a.a.create(e=>this.db.collection("uploads").where("sourceId","==",t).orderBy("updatedAt","desc").onSnapshot(e)).pipe(Object(c.a)(t=>t.docs.map(t=>Object.assign({},t.data(),{id:t.id}))))}getNearbyUploads$(t,e="DRIVE"){const n={WALK:7*Math.pow(10,12),BIKE:7*Math.pow(10,12)*5,DRIVE:7*Math.pow(10,12)*5*40},r=jd(n[e]),i=jd(t.s2Id),s=[Object(o.padStart)(i.minus(r).toString(),22,"0"),Object(o.padStart)(i.add(r).toString(),22,"0")],a=this.db.collection("uploads").where("locationData.s2Id",">=",s[0]).where("locationData.s2Id","<=",s[1]),c=new u.a;return a.onSnapshot(t=>{const e=t.docs.map(t=>Object.assign({},t.data(),{id:t.id}));c.next(e)}),c}query(t){return a.a.create(e=>t(this.db).onSnapshot(e)).pipe(Object(c.a)(t=>t.docs.map(t=>Object.assign({},t.data(),{id:t.id}))))}queryDoc(t){return a.a.create(e=>t(this.db).onSnapshot(e)).pipe(Object(c.a)(t=>Object.assign({},t.data(),{id:t.id})))}}return t.ngInjectableDef=l.Rb({factory:function(){return new t(l.Sb(h.a))},token:t,providedIn:"root"}),t})()},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function s(t,e){return new r.a(e?n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(t))}},yLV6:function(t,e,n){var r;!function(i,o,s,a){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var y=v((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function S(t,e){return void 0===t?e:t}function I(t,e,n){g(C(e),(function(e){t.addEventListener(e,n,!1)}))}function x(t,e,n){g(C(e),(function(e){t.removeEventListener(e,n,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function k(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];A(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}}var N=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var D="ontouchstart"in i,L=void 0!==P(i,"PointerEvent"),j=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U=["x","y"],F=["clientX","clientY"];function B(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function z(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,s=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=q(e)),i>1&&!n.firstMultiple?n.firstMultiple=q(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=V(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=K(a,u),e.distance=W(a,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=G(e.deltaX,e.deltaY);var c,l,h=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=s?(c=s.pointers,W((l=r)[0],l[1],F)/W(c[0],c[1],F)):1,e.rotation=s?function(t,e){return K(e[1],e[0],F)+K(t[1],t[0],F)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(a>25||void 0===s.velocity)){var u=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,l=H(a,u,c);r=l.x,i=l.y,n=f(l.x)>f(l.y)?l.x:l.y,o=G(u,c),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var p=t.element;T(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function q(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:V(e),deltaX:t.deltaX,deltaY:t.deltaY}}function V(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function G(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function W(t,e,n){n||(n=U);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function K(t,e,n){return n||(n=U),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(M(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function $(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}_($,B,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Z={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},X="pointerdown",J="pointermove pointerup pointercancel";function tt(){this.evEl=X,this.evWin=J,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(X="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,B,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Z[r],o=Q[t.pointerType]||t.pointerType,s="touch"==o,a=A(e,t.pointerId,"pointerId");1&i&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&i&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function rt(t,e){var n=O(t.touches),r=O(t.changedTouches);return 12&e&&(n=R(n.concat(r),"identifier",!0)),[n,r]}_(nt,B,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function st(t,e){var n=O(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=O(t.changedTouches),a=[],u=this.target;if(o=n.filter((function(t){return T(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[R(o.concat(a),"identifier",!0),a]:void 0}function at(){B.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new $(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}_(ot,B,{handler:function(t){var e=it[t.type],n=st.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),_(at,B,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ut.call(this,e,n);else if(r&&lt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=P(l.style,"touchAction"),ft=void 0!==ht,dt=function(){if(!ft)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function mt(t){this.options=u({},this.defaults,t||{}),this.id=N++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){mt.apply(this,arguments)}function _t(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function Et(){mt.apply(this,arguments),this._timer=null,this._input=null}function St(){bt.apply(this,arguments)}function It(){bt.apply(this,arguments)}function xt(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Tt(t,e){return(e=e||{}).recognizers=S(e.recognizers,Tt.defaults.preset),new kt(t,e)}function kt(t,e){var n;this.options=u({},Tt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:j?ot:D?at:$))(n,z),this.touchAction=new pt(this,this.options.touchAction),Ct(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Ct(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,(function(i,o){n=P(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&dt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(k(t,"none"))return"none";var e=k(t,"pan-x"),n=k(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":k(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=k(r,"none")&&!dt.none,o=k(r,"pan-y")&&!dt["pan-y"],s=k(r,"pan-x")&&!dt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return i||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+gt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(bt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),_(_t,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?1:s<0?8:16,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),_(Et,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(St,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(It,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(xt,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||W(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Tt.VERSION="2.0.7",Tt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[wt,{enable:!1},["rotate"]],[It,{direction:6}],[_t,{direction:6},["swipe"]],[xt],[xt,{event:"doubletap",taps:2},["tap"]],[Et]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},kt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return g(C(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return g(C(t),(function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Tt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:kt,Input:B,TouchAction:pt,TouchInput:ot,MouseInput:$,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:bt,Tap:xt,Pan:_t,Swipe:It,Pinch:wt,Rotate:St,Press:Et,on:I,off:x,each:g,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Tt,void 0===(r=(function(){return Tt}).call(e,n,e,t))||(t.exports=r)}(window,document)},yXDX:function(t,e,n){var r;!function(){var i=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function s(t){t&&t.blur&&t!==document.body&&t.blur()}function a(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function u(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function c(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]});else{var e,n=!1,r=(function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}).bind(this),i=function(i){if(i.target===t){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,i)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}s(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(l){}if(r)for(var i=0;i<r.length;++i){var o=r[i],s=null;try{s=document.querySelectorAll(o.selectorText)}catch(l){}if(s&&a(s,t)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return!("absolute"!==window.getComputedStyle(t).position||"auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom||l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,r=0;e=t.removedNodes[r];++r)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),s(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(t){return!(this.pendingDialogStack.length>=(this.zIndexHigh_-this.zIndexLow_)/2-1||(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var d=f.get;f.get=function(){return u(this)?"dialog":d.call(this)};var p=f.set;f.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):p.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",(function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&u(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}}),!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return m.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(u(e)){t.preventDefault();var n=o(e);if(n){var r=l.formSubmitter;r&&r.form===e?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n("B9Yq")?void 0===(r=(function(){return l}).call(e,n,e,t))||(t.exports=r):"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var i,o,s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new s.b("app","Firebase",c),h=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.h)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.h)(e,t)},createSubscribe:s.f,ErrorFactory:s.b,deepExtend:s.h}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.p)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var y,b=p;(y=b).INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),y.registerVersion("@firebase/app","0.6.30",void 0),y.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");n("yLV6");class i{}var o=n("iInd"),s=n("pLZG"),a=n("lJxs");class u{constructor(t,e){this.route=t,this.router=e,this.pathsWithNoNav=["photos","image-sources","pp","pp/pp-test-app"],this.navVisible$=this.router.events.pipe(Object(s.a)(t=>t instanceof o.d),Object(a.a)(t=>{this.router.url.split("/").slice(1);for(let e=0;e<this.pathsWithNoNav.length;e++){const t=this.pathsWithNoNav[e].split("/"),n=this.router.url.split("/").slice(1);if(this.urlContainedBy(t,n))return!1}return!0}))}getRouteUrl(t,e){const n=[];for(;e>=0&&t.firstChild;)(t=t.firstChild).url.value[0]&&n.push(t.url.value[0].path),e--;return n.join("/")}urlContainedBy(t,e){for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}var c=n("pMnS"),l=n("SVse"),h=r.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;color:#202124;background-color:#fff}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:flex;background-color:#3f4038;color:#fcfcf9;height:2.5rem}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .page-title-container[_ngcontent-%COMP%]{flex:0 0 auto;padding:.5rem 1.25rem;font-size:1.25rem;display:flex;align-items:center}@media only screen and (max-width:550px){[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .page-title-container[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{flex:1 1 0;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:0 3rem}@media only screen and (max-width:550px){[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]{margin:0 .25rem;justify-content:center}}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:0 1 auto;background-color:#3f4038;color:#fcfcf9;width:8rem;padding:.5rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;margin:0 .25rem;border-radius:4px 4px 0 0}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}"]],data:{}});function f(t){return r.Nb(0,[(t()(),r.sb(0,0,null,null,29,"div",[["class","top-nav"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,2,"div",[["class","page-title-container"]],null,null,null,null,null)),(t()(),r.sb(2,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["David's Page"])),(t()(),r.sb(4,0,null,null,25,"div",[["class","right-section"]],null,null,null,null,null)),(t()(),r.sb(5,0,null,null,24,"div",[["class","nav-items-container"]],null,null,null,null,null)),(t()(),r.sb(6,0,null,null,7,"div",[["class","nav-item"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,7).onClick()&&i),i}),null,null)),r.rb(7,16384,[[1,4]],0,o.m,[o.l,o.a,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.Eb(8,1),r.rb(9,1720320,null,2,o.n,[o.l,r.k,r.C,[2,o.m],[2,o.o]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Jb(603979776,1,{links:1}),r.Jb(603979776,2,{linksWithHrefs:1}),r.Eb(12,1),(t()(),r.Lb(-1,null,["Corona"])),(t()(),r.sb(14,0,null,null,7,"div",[["class","nav-item"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,15).onClick()&&i),i}),null,null)),r.rb(15,16384,[[3,4]],0,o.m,[o.l,o.a,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.Eb(16,1),r.rb(17,1720320,null,2,o.n,[o.l,r.k,r.C,[2,o.m],[2,o.o]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Jb(603979776,3,{links:1}),r.Jb(603979776,4,{linksWithHrefs:1}),r.Eb(20,1),(t()(),r.Lb(-1,null,["Projects"])),(t()(),r.sb(22,0,null,null,7,"div",[["class","nav-item"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,23).onClick()&&i),i}),null,null)),r.rb(23,16384,[[5,4]],0,o.m,[o.l,o.a,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.Eb(24,1),r.rb(25,1720320,null,2,o.n,[o.l,r.k,r.C,[2,o.m],[2,o.o]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Jb(603979776,5,{links:1}),r.Jb(603979776,6,{linksWithHrefs:1}),r.Eb(28,1),(t()(),r.Lb(-1,null,["About Me"]))],(function(t,e){var n=t(e,8,0,"/corona");t(e,7,0,n);var r=t(e,12,0,"active");t(e,9,0,r);var i=t(e,16,0,"/portfolio");t(e,15,0,i);var o=t(e,20,0,"active");t(e,17,0,o);var s=t(e,24,0,"/about-me");t(e,23,0,s);var a=t(e,28,0,"active");t(e,25,0,a)}),null)}function d(t){return r.Nb(0,[(t()(),r.hb(16777216,null,null,2,null,f)),r.rb(1,16384,null,0,l.m,[r.O,r.L],{ngIf:[0,"ngIf"]},null),r.Fb(131072,l.b,[r.h]),(t()(),r.sb(3,0,null,null,2,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),r.sb(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(5,212992,null,0,o.q,[o.b,r.O,r.j,[8,null],r.h],null,null)],(function(t,e){var n=e.component;t(e,1,0,r.Mb(e,1,0,r.Db(e,2).transform(n.navVisible$))),t(e,5,0)}),null)}function p(t){return r.Nb(0,[(t()(),r.sb(0,0,null,null,1,"app-root",[],null,null,null,d,h)),r.rb(1,49152,null,0,u,[o.a,o.l],null,null)],null,null)}var m=r.ob("app-root",u,p,{},{},[]),g=n("cUpR"),v=n("fDlF"),y=n("omvX"),b=n("GS7A"),_=n("7bNT"),w=n("DQLy"),E=n("Z2Br"),S=n("xpxz"),I=n("trGy"),x=n("7sJY"),T=n("GrFz"),k=n("QmNs"),C=n("YDhq"),A=n("cxyc"),O=n("7F6a");const R=()=>n.e(26).then(n.bind(null,"HPGo")).then(t=>t.AboutMeModuleNgFactory),P=()=>Promise.all([n.e(1),n.e(2),n.e(3),n.e(10),n.e(12),n.e(0),n.e(19)]).then(n.bind(null,"j4bZ")).then(t=>t.PortfolioModuleNgFactory),N=()=>Promise.all([n.e(1),n.e(2),n.e(3),n.e(6),n.e(13),n.e(10)]).then(n.bind(null,"PJKU")).then(t=>t.CoronaModuleNgFactory),M=()=>Promise.all([n.e(2),n.e(6),n.e(43)]).then(n.bind(null,"zK4c")).then(t=>t.PoeModuleNgFactory),D=()=>n.e(8).then(n.bind(null,"DSOO")).then(t=>t.PhotoGalleryModuleNgFactory),L=()=>Promise.all([n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,"ynwI")).then(t=>t.MlAppModuleNgFactory),j=()=>Promise.all([n.e(1),n.e(2),n.e(3),n.e(7),n.e(0),n.e(24)]).then(n.bind(null,"8oDX")).then(t=>t.ImageSourcesModuleNgFactory),U=()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"xy0U")).then(t=>t.PicturePiperModuleNgFactory),F=()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"XiDn")).then(t=>t.PpTestAppModuleNgFactory);class B{}var z=n("BaDc"),q=r.pb(i,[u],(function(t){return r.Ab([r.Bb(512,r.j,r.ab,[[8,[c.a,m]],[3,r.j],r.v]),r.Bb(5120,r.s,r.mb,[[3,r.s]]),r.Bb(4608,l.o,l.n,[r.s,[2,l.A]]),r.Bb(5120,r.ib,r.nb,[r.x]),r.Bb(5120,r.c,r.jb,[]),r.Bb(5120,r.q,r.kb,[]),r.Bb(5120,r.r,r.lb,[]),r.Bb(4608,g.b,g.k,[l.d]),r.Bb(6144,r.F,null,[g.b]),r.Bb(4608,g.e,g.g,[]),r.Bb(5120,g.c,(function(t,e,n,r,i,o,s,a){return[new g.i(t,e,n),new g.n(r),new g.m(i,o,s,a)]}),[l.d,r.x,r.z,l.d,l.d,g.e,r.bb,[2,g.f]]),r.Bb(4608,g.d,g.d,[g.c,r.x]),r.Bb(135680,g.l,g.l,[l.d]),r.Bb(4608,g.j,g.j,[g.d,g.l,r.c]),r.Bb(4608,v.a,v.e,[]),r.Bb(5120,v.c,y.e,[]),r.Bb(4608,v.b,y.d,[l.d,v.a,v.c]),r.Bb(5120,r.D,y.f,[g.j,v.b,r.x]),r.Bb(6144,g.o,null,[g.l]),r.Bb(4608,r.M,r.M,[r.x]),r.Bb(4608,b.b,y.c,[r.D,l.d]),r.Bb(5120,o.a,o.z,[o.l]),r.Bb(4608,o.e,o.e,[]),r.Bb(6144,o.g,null,[o.e]),r.Bb(135680,o.r,o.r,[o.l,r.u,r.i,r.p,o.g]),r.Bb(4608,o.f,o.f,[]),r.Bb(5120,o.E,o.w,[o.l,l.u,o.h]),r.Bb(5120,o.i,o.C,[o.A]),r.Bb(5120,r.b,(function(t){return[t]}),[o.i]),r.Bb(4608,_.a,_.a,[w.k]),r.Bb(4608,E.a,E.a,[]),r.Bb(4608,S.a,S.a,[E.a]),r.Bb(4608,I.a,I.a,[E.a]),r.Bb(4608,x.a,x.a,[_.a,S.a,I.a]),r.Bb(4608,T.a,T.a,[E.a]),r.Bb(4608,k.a,k.a,[E.a]),r.Bb(4608,C.a,C.a,[]),r.Bb(4608,A.a,A.a,[]),r.Bb(4608,O.a,O.a,[T.a,S.a]),r.Bb(1073742336,l.c,l.c,[]),r.Bb(1024,r.l,g.p,[]),r.Bb(1024,r.w,(function(){return[o.v()]}),[]),r.Bb(512,o.A,o.A,[r.p]),r.Bb(1024,r.d,(function(t,e){return[g.q(t),o.B(e)]}),[[2,r.w],o.A]),r.Bb(512,r.e,r.e,[[2,r.d]]),r.Bb(131584,r.g,r.g,[r.x,r.bb,r.p,r.l,r.j,r.e]),r.Bb(1073742336,r.f,r.f,[r.g]),r.Bb(1073742336,g.a,g.a,[[3,g.a]]),r.Bb(1073742336,y.b,y.b,[]),r.Bb(1024,o.u,o.x,[[3,o.l]]),r.Bb(512,o.t,o.c,[]),r.Bb(512,o.b,o.b,[]),r.Bb(512,l.j,l.f,[l.t,[2,l.a]]),r.Bb(512,l.i,l.i,[l.j,l.t]),r.Bb(512,r.i,r.i,[]),r.Bb(512,r.u,r.J,[r.i,[2,r.K]]),r.Bb(1024,o.j,(function(){return[[{path:"about-me",loadChildren:R},{path:"portfolio",loadChildren:P},{path:"corona",loadChildren:N},{path:"poe",loadChildren:M},{path:"photos",loadChildren:D},{path:"ml-app",loadChildren:L},{path:"image-sources",loadChildren:j},{path:"pp",loadChildren:U},{path:"pp-test-app",loadChildren:F},{path:"",pathMatch:"full",redirectTo:"portfolio"}]]}),[]),r.Bb(256,o.h,{useHash:!0,preloadingStrategy:o.e},[]),r.Bb(1024,o.l,o.y,[r.g,o.t,o.b,l.i,r.p,r.u,r.i,o.j,o.h,[2,o.s],[2,o.k]]),r.Bb(1073742336,o.p,o.p,[[2,o.u],[2,o.l]]),r.Bb(1073742336,B,B,[]),r.Bb(131584,w.a,w.a,[]),r.Bb(2048,w.h,null,[w.a]),r.Bb(256,w.J,void 0,[]),r.Bb(1024,w.d,w.Y,[w.J]),r.Bb(256,w.L,{auth:z.a},[]),r.Bb(2048,w.M,null,[w.L]),r.Bb(1024,w.c,w.V,[r.p,w.L,w.M]),r.Bb(256,w.K,w.s,[]),r.Bb(256,w.S,void 0,[]),r.Bb(1024,w.r,w.G,[w.S]),r.Bb(1024,w.T,w.C,[w.r]),r.Bb(1024,w.e,(function(t,e,n){return[w.E(t),w.D(e),w.F(n)]}),[w.T,w.T,w.T]),r.Bb(256,w.q,[],[]),r.Bb(1024,w.R,w.Z,[w.e,w.q]),r.Bb(1024,w.f,w.x,[w.K,w.R]),r.Bb(131584,w.g,w.g,[w.h,w.d,w.c,w.f]),r.Bb(2048,w.i,null,[w.g]),r.Bb(131584,w.k,w.k,[]),r.Bb(131584,w.l,w.l,[w.a,w.i,w.k,w.d]),r.Bb(2048,w.m,null,[w.l]),r.Bb(512,w.n,w.n,[w.m,w.a,w.g]),r.Bb(1024,w.I,w.ab,[[3,w.n]]),r.Bb(1024,w.U,(function(t){return[w.H(t)]}),[w.T]),r.Bb(1073742336,w.p,w.p,[w.a,w.i,w.k,w.n,[2,w.I],[2,w.U]]),r.Bb(256,_.b,_.i,[]),r.Bb(512,_.c,_.c,[r.l,_.b]),r.Bb(131584,_.f,_.f,[_.c,w.n]),r.Bb(256,_.n,[[x.a]],[]),r.Bb(1024,_.g,(function(){return[[]]}),[]),r.Bb(1024,_.o,_.k,[r.p,_.n,_.g]),r.Bb(1024,_.m,_.l,[[3,_.f],[4,_.n]]),r.Bb(1073742336,_.e,_.e,[_.c,_.f,w.n,_.o,[2,w.p],[2,w.o],[2,_.m]]),r.Bb(1073742336,i,i,[]),r.Bb(256,r.Z,!0,[]),r.Bb(256,y.a,"NoopAnimations",[])])}));Object(r.S)(),g.h().bootstrapModuleFactory(q).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new s(t,n))}}class s{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends r.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let o=0;o<r;o++){let t=e[o];this.add(Object(i.a)(this,t,t,o))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}}},[[0,4]]]);