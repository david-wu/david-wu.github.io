function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty3(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct3(t,arguments,_getPrototypeOf3(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf2(n,t)})(t)}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _defineProperty3(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _construct3(t,e,n){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&_setPrototypeOf2(i,n.prototype),i}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:C(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};c(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(O([])));w&&w!==n&&r.call(w,a)&&(b=w);var k=y.prototype=m.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=I(s,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?p:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}function I(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=y,i(k,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:g,configurable:!0}),g.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf3(t)););return t}function _callSuper(t,e,n){return e=_getPrototypeOf3(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf3(t).constructor):e.apply(t,n))}function _possibleConstructorReturn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf3(t){return(_getPrototypeOf3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf2(t,e)}function _setPrototypeOf2(t,e){return(_setPrototypeOf2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==typeof e?e:String(e)}function _toPrimitive(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}/*! For license information please see main-es2015.3bbb6259799fb63ee90b.js.LICENSE.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+OzK":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(t){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkFocus=t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkValidity=t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkDirty=t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.disable=t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.enable=t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.change=t.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},"/6Yf":function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var a=n("qOnz");n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var s=i(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,n=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}s((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=r(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=i(l.value,2),f=h[1];s===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return u},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))}}]),t}(),a=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t])).keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return _inherits(e,t),_createClass(e,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),e}(r.a)},0:function(t,e,n){t.exports=n("zUnb")},"0/m4":function(t,e,n){!function(t){"use strict";var e=t.S2={L:{}};e.L.LatLng=function(t,e,n){var r=parseFloat(t,10),i=parseFloat(e,10);if(isNaN(r)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+e+")");return!0!==n&&(r=Math.max(Math.min(r,90),-90),i=(i+180)%360+(i<-180||180===i?180:-180)),{lat:r,lng:i}},e.L.LatLng.DEG_TO_RAD=Math.PI/180,e.L.LatLng.RAD_TO_DEG=180/Math.PI,e.LatLngToXYZ=function(t){var n=e.L.LatLng.DEG_TO_RAD,r=t.lat*n,i=t.lng*n,o=Math.cos(r);return[Math.cos(i)*o,Math.sin(i)*o,Math.sin(r)]},e.XYZToLatLng=function(t){var n=e.L.LatLng.RAD_TO_DEG,r=Math.atan2(t[2],Math.sqrt(t[0]*t[0]+t[1]*t[1])),i=Math.atan2(t[1],t[0]);return e.L.LatLng(r*n,i*n)},e.XYZToFaceUV=function(t){var e=function(t){var e=[Math.abs(t[0]),Math.abs(t[1]),Math.abs(t[2])];return e[0]>e[1]?e[0]>e[2]?0:2:e[1]>e[2]?1:2}(t);return t[e]<0&&(e+=3),[e,function(t,e){var n,r;switch(t){case 0:n=e[1]/e[0],r=e[2]/e[0];break;case 1:n=-e[0]/e[1],r=e[2]/e[1];break;case 2:n=-e[0]/e[2],r=-e[1]/e[2];break;case 3:n=e[2]/e[0],r=e[1]/e[0];break;case 4:n=e[2]/e[1],r=-e[0]/e[1];break;case 5:n=-e[1]/e[2],r=-e[0]/e[2];break;default:throw{error:"Invalid face"}}return[n,r]}(e,t)]},e.FaceUVToXYZ=function(t,e){var n=e[0],r=e[1];switch(t){case 0:return[1,n,r];case 1:return[-n,1,r];case 2:return[-n,-r,1];case 3:return[-1,-r,-n];case 4:return[r,-1,-n];case 5:return[r,n,-1];default:throw{error:"Invalid face"}}};var r=function(t){return t>=.5?1/3*(4*t*t-1):1/3*(1-4*(1-t)*(1-t))};e.STToUV=function(t){return[r(t[0]),r(t[1])]};var i=function(t){return t>=0?.5*Math.sqrt(1+3*t):1-.5*Math.sqrt(1-3*t)};e.UVToST=function(t){return[i(t[0]),i(t[1])]},e.STToIJ=function(t,e){var n=1<<e,r=function(t){var e=Math.floor(t*n);return Math.max(0,Math.min(n-1,e))};return[r(t[0]),r(t[1])]},e.IJToST=function(t,e,n){var r=1<<e;return[(t[0]+n[0])/r,(t[1]+n[1])/r]};var o=function(t,e,n,r){if(0==r){1==n&&(e.x=t-1-e.x,e.y=t-1-e.y);var i=e.x;e.x=e.y,e.y=i}},a=function(t,e,n,r){var i={a:[[0,"d"],[1,"a"],[3,"b"],[2,"a"]],b:[[2,"b"],[1,"b"],[3,"a"],[0,"c"]],c:[[2,"c"],[3,"d"],[1,"c"],[0,"b"]],d:[[0,"a"],[3,"c"],[1,"d"],[2,"d"]]};"number"!=typeof r&&console.warn(new Error("called pointToHilbertQuadList without face value, defaulting to '0'").stack);for(var o=r%2?"d":"a",a=[],s=n-1;s>=0;s--){var u=1<<s,c=i[o][2*(t&u?1:0)+(e&u?1:0)];a.push(c[0]),o=c[1]}return a};e.S2Cell=function(){},e.S2Cell.FromHilbertQuadKey=function(t){var n,r,i,a,s,u,c=t.split("/"),l=parseInt(c[0]),h=c[1],f=h.length,d={x:0,y:0};for(n=f-1;n>=0;n--)r=f-n,a=0,s=0,"1"===(i=h[n])?s=1:"2"===i?(a=1,s=1):"3"===i&&(a=1),u=Math.pow(2,r-1),o(u,d,a,s),d.x+=u*a,d.y+=u*s;if(l%2==1){var p=d.x;d.x=d.y,d.y=p}return e.S2Cell.FromFaceIJ(parseInt(l),[d.x,d.y],r)},e.S2Cell.FromLatLng=function(t,n){if(!t.lat&&0!==t.lat||!t.lng&&0!==t.lng)throw new Error("Pass { lat: lat, lng: lng } to S2.S2Cell.FromLatLng");var r=e.LatLngToXYZ(t),i=e.XYZToFaceUV(r),o=e.UVToST(i[1]),a=e.STToIJ(o,n);return e.S2Cell.FromFaceIJ(i[0],a,n)},e.S2Cell.FromFaceIJ=function(t,n,r){var i=new e.S2Cell;return i.face=t,i.ij=n,i.level=r,i},e.S2Cell.prototype.toString=function(){return"F"+this.face+"ij["+this.ij[0]+","+this.ij[1]+"]@"+this.level},e.S2Cell.prototype.getLatLng=function(){var t=e.IJToST(this.ij,this.level,[.5,.5]),n=e.STToUV(t),r=e.FaceUVToXYZ(this.face,n);return e.XYZToLatLng(r)},e.S2Cell.prototype.getCornerLatLngs=function(){for(var t=[],n=[[0,0],[0,1],[1,1],[1,0]],r=0;r<4;r++){var i=e.IJToST(this.ij,this.level,n[r]),o=e.STToUV(i),a=e.FaceUVToXYZ(this.face,o);t.push(e.XYZToLatLng(a))}return t},e.S2Cell.prototype.getFaceAndQuads=function(){var t=a(this.ij[0],this.ij[1],this.level,this.face);return[this.face,t]},e.S2Cell.prototype.toHilbertQuadkey=function(){var t=a(this.ij[0],this.ij[1],this.level,this.face);return this.face.toString(10)+"/"+t.join("")},e.latLngToNeighborKeys=e.S2Cell.latLngToNeighborKeys=function(t,n,r){return e.S2Cell.FromLatLng({lat:t,lng:n},r).getNeighbors().map((function(t){return t.toHilbertQuadkey()}))},e.S2Cell.prototype.getNeighbors=function(){var t=function(t,n,r){var i=1<<r;if(n[0]>=0&&n[1]>=0&&n[0]<i&&n[1]<i)return e.S2Cell.FromFaceIJ(t,n,r);var o=e.IJToST(n,r,[.5,.5]),a=e.STToUV(o),s=e.FaceUVToXYZ(t,a),u=e.XYZToFaceUV(s);return t=u[0],o=e.UVToST(a=u[1]),n=e.STToIJ(o,r),e.S2Cell.FromFaceIJ(t,n,r)},n=this.face,r=this.ij[0],i=this.ij[1],o=this.level;return[t(n,[r-1,i],o),t(n,[r,i-1],o),t(n,[r+1,i],o),t(n,[r,i+1],o)]},e.FACE_BITS=3,e.MAX_LEVEL=30,e.POS_BITS=2*e.MAX_LEVEL+1,e.facePosLevelToId=e.S2Cell.facePosLevelToId=e.fromFacePosLevel=function(r,i,o){var a,s,u,c=t.dcodeIO&&t.dcodeIO.Long||n("hfgl");for(o||(o=i.length),i.length>o&&(i=i.substr(0,o)),a=c.fromString(r.toString(10),!0,10).toString(2);a.length<e.FACE_BITS;)a="0"+a;for(s=c.fromString(i,!0,4).toString(2);s.length<2*o;)s="0"+s;for(u=a+s,u+="1";u.length<e.FACE_BITS+e.POS_BITS;)u+="0";return c.fromString(u,!0,2).toString(10)},e.keyToId=e.S2Cell.keyToId=e.toId=e.toCellId=e.fromKey=function(t){var n=t.split("/");return e.fromFacePosLevel(n[0],n[1],n[1].length)},e.idToKey=e.S2Cell.idToKey=e.S2Cell.toKey=e.toKey=e.fromId=e.fromCellId=e.S2Cell.toHilbertQuadkey=e.toHilbertQuadkey=function(r){for(var i=t.dcodeIO&&t.dcodeIO.Long||n("hfgl"),o=i.fromString(r,!0,10).toString(2);o.length<e.FACE_BITS+e.POS_BITS;)o="0"+o;for(var a=o.lastIndexOf("1"),s=o.substring(0,3),u=o.substring(3,a),c=u.length/2,l=i.fromString(s,!0,2).toString(10),h=i.fromString(u,!0,2).toString(4);h.length<c;)h="0"+h;return l+"/"+h},e.keyToLatLng=e.S2Cell.keyToLatLng=function(t){return e.S2Cell.FromHilbertQuadKey(t).getLatLng()},e.idToLatLng=e.S2Cell.idToLatLng=function(t){var n=e.idToKey(t);return e.keyToLatLng(n)},e.S2Cell.latLngToKey=e.latLngToKey=e.latLngToQuadkey=function(t,n,r){if(isNaN(r)||r<1||r>30)throw new Error("'level' is not a number between 1 and 30 (but it should be)");return e.S2Cell.FromLatLng({lat:t,lng:n},r).toHilbertQuadkey()},e.stepKey=function(e,r){var i,o=t.dcodeIO&&t.dcodeIO.Long||n("hfgl"),a=e.split("/"),s=a[0],u=a[1].length,c=o.fromString(a[1],!0,4);r>0?i=c.add(Math.abs(r)):r<0&&(i=c.subtract(Math.abs(r)));var l=i.toString(4);for("0"===l&&console.warning(new Error("face/position wrapping is not yet supported"));l.length<u;)l="0"+l;return s+"/"+l},e.S2Cell.prevKey=e.prevKey=function(t){return e.stepKey(t,-1)},e.S2Cell.nextKey=e.nextKey=function(t){return e.stepKey(t,1)}}(t.exports)},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp"),o=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_callSuper(this,e))._value=t,n}return _inherits(e,t),_createClass(e,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var n=_get(_getPrototypeOf3(e.prototype),"_subscribe",this).call(this,t);return n&&!n.closed&&t.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf3(e.prototype),"next",this).call(this,this._value=t)}}]),e}(r.a)},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=function(t){function e(t,n){return _classCallCheck(this,e),_callSuper(this,e)}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),e}(n("quSY").a);n.d(e,"a",(function(){return i}));var i=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t,n])).scheduler=t,r.work=n,r.pending=!1,r}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),e}(r)},"4I5i":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);var i=r},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),e}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e)).parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(n("7o/Q").a)},"611t":function(t,e,n){"use strict";var r="0123456789bcdefghjkmnpqrstuvwxyz",i=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"encode",value:function(e,n,i){if(void 0===i){for(var o=1;o<=12;o++){var a=t.encode(e,n,o),s=t.decode(a);if(s.lat==e&&s.lon==n)return a}i=12}if(e=Number(e),n=Number(n),i=Number(i),isNaN(e)||isNaN(n)||isNaN(i))throw new Error("Invalid geohash");for(var u=0,c=0,l=!0,h="",f=-90,d=90,p=-180,v=180;h.length<i;){if(l){var m=(p+v)/2;n>=m?(u=2*u+1,p=m):(u*=2,v=m)}else{var g=(f+d)/2;e>=g?(u=2*u+1,f=g):(u*=2,d=g)}l=!l,5==++c&&(h+=r.charAt(u),c=0,u=0)}return h}},{key:"decode",value:function(e){var n=t.bounds(e),r=n.sw.lat,i=n.sw.lon,o=n.ne.lat,a=n.ne.lon,s=(r+o)/2,u=(i+a)/2;return s=s.toFixed(Math.floor(2-Math.log(o-r)/Math.LN10)),u=u.toFixed(Math.floor(2-Math.log(a-i)/Math.LN10)),{lat:Number(s),lon:Number(u)}}},{key:"bounds",value:function(t){if(0==t.length)throw new Error("Invalid geohash");t=t.toLowerCase();for(var e=!0,n=-90,i=90,o=-180,a=180,s=0;s<t.length;s++){var u=t.charAt(s),c=r.indexOf(u);if(-1==c)throw new Error("Invalid geohash");for(var l=4;l>=0;l--){var h=c>>l&1;if(e){var f=(o+a)/2;1==h?o=f:a=f}else{var d=(n+i)/2;1==h?n=d:i=d}e=!e}}return{sw:{lat:n,lon:o},ne:{lat:i,lon:a}}}},{key:"adjacent",value:function(e,n){if(e=e.toLowerCase(),n=n.toLowerCase(),0==e.length)throw new Error("Invalid geohash");if(-1=="nsew".indexOf(n))throw new Error("Invalid direction");var i=e.slice(-1),o=e.slice(0,-1),a=e.length%2;return-1!={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]}[n][a].indexOf(i)&&""!=o&&(o=t.adjacent(o,n)),o+r.charAt({n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]}[n][a].indexOf(i))}},{key:"neighbours",value:function(e){return{n:t.adjacent(e,"n"),ne:t.adjacent(t.adjacent(e,"n"),"e"),e:t.adjacent(e,"e"),se:t.adjacent(t.adjacent(e,"s"),"e"),s:t.adjacent(e,"s"),sw:t.adjacent(t.adjacent(e,"s"),"w"),w:t.adjacent(e,"w"),nw:t.adjacent(t.adjacent(e,"n"),"w")}}}]),t}(),o=n("LvDl"),a=n("0/m4"),s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isEqual",value:function(t){return t&&this.latitude===t.latitude&&this.longitude===t.longitude}}],[{key:"fromLatLong",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.encode(e,n,12),u=a.S2.latLngToKey(e,n,30),c=Object(o.padStart)(a.S2.keyToId(u),22,"0");return Object.assign(new t,Object.assign({latitude:e,longitude:n,geohash:s,s2Id:c},r))}}]),t}();n.d(e,"a",(function(){return s}))},"6nsN":function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Ra(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function I(t,e,n){this.code=A+t,this.message=e||O[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new I(e.substring(A.length),t.message,t.serverResponse):null}S(I,Error),I.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.w()};var x,A="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function L(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}x=P("__EID__")?"__EID__":void 0,S(M,Error),M.prototype.name="CustomError",S(D,M),D.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new j((function(){return new q}),(function(t){t.reset()}));function z(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=V(t,e)}function Z(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ht=lt.userAgent;if(ht){$=ht;break t}}$=""}function ft(t){return ut($,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Et&&e||"",this.b=kt}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===kt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ta=!0,bt.prototype.sa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,kt={},Et={};function St(){if(void 0===wt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){s.console&&s.console.error(n.message)}wt=t}else wt=t}return wt}function Ct(t,e){this.a=e===Ot?t:""}function It(t){return t instanceof Ct&&t.constructor===Ct?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=_t(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Ct(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?_t(t):encodeURIComponent(String(t))})))}Ct.prototype.ta=!0,Ct.prototype.sa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Rt(t,e){this.a=e===Ft?t:""}function Pt(t){return t instanceof Rt&&t.constructor===Rt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Rt.prototype.ta=!0,Rt.prototype.sa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Mt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Rt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Dt.test(t))t=new Rt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Mt);t=e&&Nt.test(e[1])?new Rt(t,Ft):null}return t}function jt(t){return t instanceof Rt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new Rt(t,Ft))}var Ft={},Ut=new Rt("about:invalid#zClosurez",Ft);function Bt(t,e,n){this.a=n===zt?t:""}Bt.prototype.ta=!0,Bt.prototype.sa=function(){return this.a.toString()},Bt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zt={};function qt(t,e,n,r){return t=t instanceof Rt?t:jt(t),e=e||s,n=n instanceof bt?_t(n):n||"",e.open(Pt(t),n,r,void 0)}function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Gt[" "]=h;var Wt,Kt,Yt=ft("Opera"),Zt=ft("Trident")||ft("MSIE"),Qt=ft("Edge"),Xt=Qt||Zt,Jt=ft("Gecko")&&!(ut($.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),$t=ut($.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Kt=$,Jt?/rv:([^\);]+)(\)|;)/.exec(Kt):Qt?/Edge\/([\d\.]+)/.exec(Kt):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):$t?/WebKit\/(\S+)/.exec(Kt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ne&&(ee=ne?ne[1]:""),Zt){var re=te();if(null!=re&&re>parseFloat(ee)){Wt=String(re);break t}}Wt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=tt(String(Wt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var ae=s.document&&Zt&&(te()||parseInt(Wt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var se=!Zt||9<=Number(ae);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}H(a?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){s.setTimeout((function(){throw t}),0)}function me(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),ge||(he(),ge=!0),ye.add(t,e)}var ge=!1,ye=new U;function be(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){ve(e)}F(B,t)}ge=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Ne(n,ke,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,Ee,t)}))}catch(r){Ne(this,Ee,r)}}var we=0,ke=2,Ee=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new j((function(){return new Se}),(function(t){t.reset()}));function Ie(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof _e)return t;var e=new _e(h);return Ne(e,ke,t),e}function xe(t){return new _e((function(e,n){n(t)}))}function Ae(t,e,n){Me(t,e,n,null)||me(k(e,t))}function Oe(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],k(i,o,!0),k(i,o,!1));else e(r)}))}function Re(t,e){t.b||t.a!=ke&&t.a!=Ee||De(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ie(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Re(t,i),i.a}function Ne(t,e,n){t.a==we&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,De(t),e!=Ee||n instanceof Be||function(t,e){t.g=!0,me((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof _e)return Re(t,Ie(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function De(t){t.h||(t.h=!0,me(t.gc,t))}function Le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(i){Ue.call(null,i)}F(Ce,e)}function Fe(t,e,n){e==ke?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Ie(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);me((function(){!function t(e,n){if(e.a==we)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==we&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Le(r),je(r,o,Ee,n)))}e.c=null}else Ne(e,Ee,n)}(this,e)}),this)}},t.$c=function(t){this.a=we,Ne(this,ke,t)},t.ad=function(t){this.a=we,Ne(this,Ee,t)},t.gc=function(){for(var t;t=Le(this);)je(this,t,this.a,this.i);this.h=!1};var Ue=ve;function Be(t){M.call(this,t)}function ze(){0!=qe&&(Ve[m(this)]=this),this.ya=this.ya,this.pa=this.pa}S(Be,M),Be.prototype.name="cancel";var qe=0,Ve={};function He(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=qe)){var e=m(t);if(0!=qe&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ve[e]}}ze.prototype.ya=!1,ze.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},We=!Zt||9<=Number(ae),Ke=Zt&&!oe("9"),Ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Ze(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Ze.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ze.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Qe,Ze);var Xe=Ge({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),$e=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++$e,this.wa=this.Qa=!1}function en(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Z(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=on(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new tn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?wn(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=gn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=mn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?kn(t,e,n,v(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=bn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Je])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(rn(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function dn(t){return t in sn?sn[t]:sn[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function mn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Qe(e,this))}function gn(t){return(t=t[an])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function _n(){ze.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function kn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&rn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Cn(t){var e=null;return new _e((function(n,r){-1==(e=Sn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function In(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(_n,ze),_n.prototype[Je]=!0,_n.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Ze(t,n);else if(t instanceof Ze)t.target=t.target||n;else{var i=t;gt(t=new Ze(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=En(a,r,!0,t)&&i}if(i=En(a=t.b=n,r,!0,t)&&i,i=En(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(a=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=xn.prototype).X=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Nn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Dn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Nn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Dn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Zn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),$n(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=zn(e,Wn)),t.b=new Yn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Fn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Un(t,e,n,r){var i=new Pn(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,qn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(zn(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(zn(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(zn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",zn(n,Kn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Nn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Dn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Zn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?$n(n,i,o):n.add(i,o)}return n}function Xn(t,e){Zn(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Jn(t,e){return Zn(t),e=er(t,e),On(t.a.b,e)}function $n(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),J(n)),t.b+=n.length)}function tr(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),ar(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ar(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(t=Yn.prototype).add=function(t,e){Zn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Zn(this),this.a.forEach((function(n,r){H(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Zn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Zn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=X(e,this.a.get(er(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Zn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function sr(){var t=Cr();return Zt&&!!ae&&11==ae||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=Pt(Lt(t)||Ut)),e.location.href=n}function lr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||s.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),kr(Cr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Lt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(a=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Rt?e:jt(e),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Pt(e),a&&(Xt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Bt(t=(r=St())?r.createHTML(t):t,null,zt),r=a.document)&&(r.write(function(t){return t instanceof Bt&&t.constructor===Bt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new _e((function(e){"complete"==s.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function mr(t){return t=t||Cr(),!("file:"!==Or()&&"ionic:"!==Or()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function yr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function br(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function _r(){var t=br();return"ReactNative"===t||"Node"===t}var wr="Firefox";function kr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?wr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=kr(i=Cr()):"Worker"===r&&(r=kr(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return s.navigator&&s.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Tr(){try{var t=s.localStorage,e=Dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(n){return yr()&&!!s.indexedDB}return!1}function xr(){return(Ar()||"chrome-extension:"===Or()||mr())&&!_r()&&Tr()&&!yr()}function Ar(){return"http:"===Or()||"https:"===Or()}function Or(){return s.location&&s.location.protocol||null}function Rr(t){return!lr(t=t||Cr())&&kr(t)!=wr}function Pr(t){return void 0===t?null:nr(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mr(t){if(null!==t)return JSON.parse(t)}function Dr(t){return t||Math.floor(1e9*Math.random()).toString()}function Lr(t){return"Safari"!=kr(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Fr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=br(),this.b=lr(t)||"ReactNative"===e}function Ur(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!Ir("fireauth.oauthhelper",s)&&!Ir("fireauth.iframe",s))}Fr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Or()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Vr={};function Hr(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Gr.abcd}catch(Kt){qr=!1}function Wr(t,e,n){qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Kr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Yr(t){var e={};return Kr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Zr(t[n]));return e}function Qr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ti]),Wr(this,"displayName",t[Jr]||null);var n=null;t[$r]&&(n=new Date(t[$r]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Xr(t){try{var e=new ni(t)}catch(n){e=null}return e}Qr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",$r="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Qr.call(this,t),Wr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[si],r=t[ci],i=t[li];if(t=Xr(t[ui]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,Wr(this,mi,i),Wr(this,vi,Zr(e))}S(ni,Qr),ni.prototype.w=function(){var t=ni.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",si="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",vi="data",mi="operation";function gi(t){var e=jn(t=Fn(t),yi)||null,n=jn(t,bi)||null,r=jn(t,ki)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new I("argument-error",yi+", "+bi+"and "+ki+" are required in a valid action code URL.");Kr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,_i)||null,languageCode:jn(t,wi)||null,tenantId:jn(t,Ei)||null})}var yi="apiKey",bi="oobCode",_i="continueUrl",wi="languageCode",ki="mode",Ei="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new gi(t)}catch(e){return null}}function Ii(t){var e=t[Ri];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Mi];var r=n[Pi];if(n=n[Ni],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new I("argument-error",Mi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Di])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",Di+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new I("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[xi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",xi+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",xi="dynamicLinkDomain",Ai="handleCodeInApp",Oi="iOS",Ri="url",Pi="installApp",Ni="minimumVersion",Mi="packageName",Di="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ji=null;function Fi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ui(t){try{return new Fi(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ji){ji={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Fi.prototype.T=function(){return this.f},Fi.prototype.l=function(){return this.c},Fi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Vi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Hi(t){for(var e in Vi)if(Vi[e].fa==t)return Vi[e];return null}function Gi(t){var e={};e["facebook.com"]=Qi,e["google.com"]=Ji,e["github.com"]=Xi,e["twitter.com"]=$i;var n=t&&t[Ki];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Wi])return new Yi(t)}catch(r){}return null}var Wi="idToken",Ki="providerId";function Yi(t){var e=t[Ki];if(!e&&t[Wi]){var n=Ui(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Zi(t){Yi.call(this,t),Wr(this,"profile",Zr((t=Mr(t.rawUserInfo||"{}"))||{}))}function Qi(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function to(t){var e=Fn(t),n=jn(e,"link"),r=jn(Fn(n),"link");return e=jn(e,"deep_link_id"),jn(Fn(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}S(Zi,Yi),S(Qi,Zi),S(Xi,Zi),S(Ji,Zi),S($i,Zi);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[Ga]){var n=Ui(t[Ga]);if(!n||e!=n.i)throw new I("user-mismatch");return t}throw new I("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new I("user-mismatch"):t}))}function ao(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function so(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ao(t.providerId,t.pendingToken)}catch(e){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Qc=e||[],Kr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Hi(t)||{}).Ja||null,this.pb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function vo(t){fo.call(this,t,qi),this.a=[]}function mo(){vo.call(this,"facebook.com")}function go(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function yo(){vo.call(this,"github.com")}function bo(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function _o(){vo.call(this,"google.com"),this.Ca("profile")}function wo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function ko(){fo.call(this,"twitter.com",zi)}function Eo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function So(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new So(t.email,t.password,t.signInMethod):null}function Io(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=xo(e)))throw new I("argument-error","Invalid email link!");return new So(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Ci(t=to(t)))&&t.operation===oi?t:null}function Ao(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new I("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ao(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Po(t){try{this.a=t||r.a.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new Ao({fb:t,eb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Ao({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return wo(o,n);case"facebook.com":return go(n);case"github.com":return bo(n);case"twitter.com":return Eo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new ao(e,a):new co(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Do(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function Lo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Lo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Fo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return Te(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ka=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},ao.prototype.ka=function(t){return fs(t,so(this))},ao.prototype.b=function(t,e){var n=so(this);return n.idToken=e,ds(t,n)},ao.prototype.c=function(t,e){return oo(ps(t,so(this)),e)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ka=function(t){return fs(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ds(t,n)},co.prototype.c=function(t,e){return oo(ps(t,lo(this)),e)},co.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Jb=vt(t),this},S(po,fo),S(vo,fo),vo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},vo.prototype.Rb=function(){return J(this.a)},vo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},S(mo,vo),Wr(mo,"PROVIDER_ID","facebook.com"),Wr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(yo,vo),Wr(yo,"PROVIDER_ID","github.com"),Wr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),S(_o,vo),Wr(_o,"PROVIDER_ID","google.com"),Wr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),S(ko,fo),Wr(ko,"PROVIDER_ID","twitter.com"),Wr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.ka=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,ks,{email:this.a,oobCode:this.f}):Zs(t,Hs,{email:this.a,password:this.f})},So.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,Es,{idToken:e,email:this.a,oobCode:this.f}):Zs(t,Ls,{idToken:e,email:this.a,password:this.f})},So.prototype.c=function(t,e){return oo(this.ka(t),e)},So.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(Io,{PROVIDER_ID:"password"}),Kr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ao.prototype.ka=function(t){return t.gb(Ro(this))},Ao.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,Zs(t,Ws,n)},Ao.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",oo(t=Zs(t,Ks,n),e)},Ao.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.gb=function(t,e){var n=this.a.a;return Te(e.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then((function(t){return function(t,e){return Zs(t,Fs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(e){return function(t,e){return Zs(t,Us,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Zs(t,Ms,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(Po,{PROVIDER_ID:"phone"}),Kr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Lo.prototype.T=function(){return this.h},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Uo,Bo=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Fn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function qo(t,e,n){I.call(this,t,n),(t=e||{}).Kb&&Wr(this,"email",t.Kb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.$b&&Wr(this,"tenantId",t.$b)}function Vo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Mo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Ho(){}function Go(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Qo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Xo(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}S(zo,I),S(qo,I),qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},qo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,S(Go,Ho),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Uo=new Go,S(Ko,Ho),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Qo.prototype.a=null,Qo.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},Jo.prototype.toString=function(){return this.name};var $o=new Jo("SEVERE",1e3),ta=new Jo("WARNING",900),ea=new Jo("CONFIG",700),na=new Jo("FINE",500);Xo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Qo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ra={},ia=null;function oa(t){var e;if(ia||(ia=new Xo(""),ra[""]=ia,ia.c=ea),!(e=ra[t])){e=new Xo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=oa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ra[t]=e}return e}function aa(t,e){t&&t.log(na,e,void 0)}function sa(t){this.f=t}function ua(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=oa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(sa,Ho),sa.prototype.a=function(){return new ua(this.f)},sa.prototype.b=function(t){return function(){return t}}({}),S(ua,_n);var ca=0;function la(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ha(t){t.readyState=4,t.g=null,t.c=null,t.m=null,fa(t)}function fa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function da(t){_n.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=pa,this.u=this.S=!1}(t=ua.prototype).open=function(t,e){if(this.readyState!=ca)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,fa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ha(this)),this.readyState=ca},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,fa(this)),this.a&&(this.readyState=3,fa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,la(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ha(this):fa(this),3==this.readyState&&la(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ha(this))},t.sc=function(t){this.a&&(this.response=t,ha(this))},t.Va=function(t){var e=this.i;e&&e.log(ta,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ha(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ta,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ta,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(da,_n);var pa="";da.prototype.b=oa("goog.net.XhrIo");var va=/^https?$/i,ma=["POST","PUT"];function ga(t){return"content-type"==t.toLowerCase()}function ya(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ba(t),wa(t)}function ba(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _a(t){if(t.c&&void 0!==a)if(t.C[1]&&4==Ea(t)&&2==Sa(t))aa(t.b,Ca(t,"Local request error detected and ignored"));else if(t.i&&4==Ea(t))Sn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ea(t)){aa(t.b,Ca(t,"Request complete")),t.c=!1;try{var e,n=Sa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!va.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ea(t)?t.a.statusText:""}catch(l){aa(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Sa(t)+"]",ba(t)}}finally{wa(t)}}}function wa(t,e){if(t.a){ka(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log($o,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ka(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ea(t){return t.a?t.a.readyState:0}function Sa(t){try{return 2<Ea(t)?t.a.status:-1}catch(e){return-1}}function Ca(t,e){return e+" ["+t.P+" "+t.l+" "+Sa(t)+"]"}function Ia(t){var e=ja;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ta(t,e,n){t.a=!0,t.c=n,t.f=!e,Ra(t)}function xa(t){if(t.a){if(!t.v)throw new Pa(t);t.v=!1}}function Aa(t,e,n,r){t.g.push([e,n,r]),t.a&&Ra(t)}function Oa(t){return K(t.g,(function(t){return p(t[1])}))}function Ra(t){if(t.h&&t.a&&Oa(t)){var e=t.h,n=Da[e];n&&(s.clearTimeout(n.a),delete Da[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Oa(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Ia?(Aa(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ma(e),Da[e.a]=e,t.h=e.a)}function Pa(){M.call(this)}function Na(){M.call(this)}function Ma(t){this.a=s.setTimeout(w(this.c,this),0),this.b=t}(t=da.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",aa(this.b,Ca(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(aa(this.b,Ca(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wa(this,!0)),da.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?_a(this):this.Jc())},t.Jc=function(){_a(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log($o,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return aa(this.b,"Can not get response: "+e.message),null}},Ia.prototype.cancel=function(t){if(this.a)this.c instanceof Ia&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Na(this),xa(this),Ta(this,!1,t))}},Ia.prototype.m=function(t,e){this.i=!1,Ta(this,t,e)},Ia.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return Aa(this,r,(function(t){t instanceof Na?o.cancel():i(t)})),o.then(t,e,n)},Ia.prototype.$goog_Thenable=!0,S(Pa,M),Pa.prototype.message="Deferred has already fired",Pa.prototype.name="AlreadyCalledError",S(Na,M),Na.prototype.message="Deferred was canceled",Na.prototype.name="CanceledError",Ma.prototype.c=function(){throw delete Da[this.a],this.b};var Da={};function La(t){var e={},n=e.document||document,r=It(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ia(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Fa(i,!0);var t=new za(Ba,"Timeout reached for loading script "+r);xa(a),Ta(a,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Fa(i,e.xd||!1,u),xa(a),Ta(a,!0,null))},i.onerror=function(){Fa(i,!0,u);var t=new za(Ua,"Error while loading script "+r);xa(a),Ta(a,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=It(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function ja(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Fa(t,!0,this.Ma)}}function Fa(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ua=0,Ba=1;function za(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function qa(t){this.f=t}function Va(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Wa,this.g=vt(t.secureTokenHeaders||Ka),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ya,this.a=vt(t.firebaseHeaders||Za),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=s.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!yr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=yr()?new sa(self):_r()?new qa(n):new Ko,this.b=null}S(za,M),S(qa,Ho),qa.prototype.a=function(){return new this.f},qa.prototype.b=function(){return{}};var Ha,Ga="idToken",Wa=new Fr(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Ya=new Fr(3e4,6e4),Za={"Content-Type":"application/json"};function Qa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Xa(t,e){e&&(t.l=Ja("https://securetoken.googleapis.com/v1/token",e),t.h=Ja("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ja("https://identitytoolkit.googleapis.com/v2/",e))}function Ja(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,Nn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function $a(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ts(t,e,n,r,i,o,a){(function(){var t=Cr();return!((t="Chrome"!=kr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Zt&&ae&&!(9<ae))})()||yr()?t=w(t.u,t):(Ha||(Ha=new _e((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[ns]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Aa(t,null,e,void 0)}(La(Tt(es,{onload:ns})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,a)}Va.prototype.T=function(){return this.b},Va.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new da(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}wn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return aa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),kn(a,"ready",(function(){u&&clearTimeout(u),He(this)})),kn(a,"timeout",(function(){u&&clearTimeout(u),He(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Uo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Uo),t.a.onreadystatechange=w(t.Wb,t);try{aa(t.b,Ca(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return aa(t.b,Ca(t,"Error opening Xhr: "+a.message)),void ya(t,a)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)H(t,e,void 0);else for(var n=Tn(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ga,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Y(ma,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ka(t),0<t.g&&(t.u=function(t){return Zt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),aa(t.b,Ca(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),aa(t.b,Ca(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){aa(t.b,Ca(t,"Send error: "+a.message)),ya(t,a)}}(a,t,n,r,i)};var es=new bt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(t){if("string"!=typeof(t=t.email)||!pr.test(t))throw new I("invalid-email")}function is(t){"email"in t&&rs(t)}function os(t){if(!t[Ga]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,vt(t));throw new I("internal-error")}}function as(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}Va.prototype.s=function(t,e,n,r,i){var o=this;Ha.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Va.prototype.Ab=function(){return Zs(this,js,{})},Va.prototype.Cb=function(t,e){return Zs(this,Ds,{idToken:t,email:e})},Va.prototype.Db=function(t,e){return Zs(this,Ls,{idToken:t,password:e})};var ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function us(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function cs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function ls(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function hs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Vo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Vo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Vo(t)):t.errorMessage&&(e=Qs(t.errorMessage)),e)throw e;os(t)}function fs(t,e){return e.returnIdpCredential=!0,Zs(t,Bs,e)}function ds(t,e){return e.returnIdpCredential=!0,Zs(t,qs,e)}function ps(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Zs(t,zs,e)}function vs(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=Va.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(ss,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Zs(this,Ds,n)},t.wb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),Zs(this,Os,t)},t.xb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),Zs(this,Ts,t)},t.vb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Zs(this,xs,t)},t.Fb=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Zs(this,As,t)},t.gb=function(t){return Zs(this,Gs,t)},t.ob=function(t,e){return Zs(this,Ns,{oobCode:t,newPassword:e})},t.Sa=function(t){return Zs(this,gs,{oobCode:t})},t.kb=function(t){return Zs(this,ms,{oobCode:t})};var ms={endpoint:"setAccountInfo",A:vs,Z:"email",B:!0},gs={endpoint:"resetPassword",A:vs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},B:!0},ys={endpoint:"signupNewUser",A:function(t){if(rs(t),!t.password)throw new I("weak-password")},G:os,V:!0,B:!0},bs={endpoint:"createAuthUri",B:!0},_s={endpoint:"deleteAccount",O:["idToken"]},ws={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new I("internal-error")}},ks={endpoint:"emailLinkSignin",O:["email","oobCode"],A:rs,G:os,V:!0,B:!0},Es={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:rs,G:os,V:!0},Ss={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:us,G:os,B:!0,Na:!0},Cs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:us,G:os,B:!0,Na:!0},Is={endpoint:"getAccountInfo"},Ts={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");rs(t)},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},As={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},Os={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");rs(t)},Z:"email",B:!0},Rs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ps={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},Ns={endpoint:"resetPassword",A:vs,Z:"email",B:!0},Ms={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ds={endpoint:"setAccountInfo",O:["idToken"],A:is,V:!0},Ls={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(is(t),!t.password)throw new I("weak-password")},G:os,V:!0},js={endpoint:"signupNewUser",G:os,V:!0,B:!0},Fs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Bs={endpoint:"verifyAssertion",A:cs,Za:ls,G:hs,V:!0,B:!0},zs={endpoint:"verifyAssertion",A:cs,Za:ls,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw Qs(t.errorMessage);os(t)},V:!0,B:!0},qs={endpoint:"verifyAssertion",A:function(t){if(cs(t),!t.idToken)throw new I("internal-error")},Za:ls,G:hs,V:!0},Vs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new I("invalid-custom-token")},G:os,V:!0,B:!0},Hs={endpoint:"verifyPassword",A:function(t){if(rs(t),!t.password)throw new I("wrong-password")},G:os,V:!0,B:!0},Gs={endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},Ws={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new I("internal-error");as(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Vo(t);os(t)}},Ks={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},Ys={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ga]^!!t.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function Zs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return xe(new I("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Te(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Fn(e+n);Ln(s,"key",t.c),a&&Ln(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new _e((function(e,n){ts(t,s.toString(),(function(t){t?t.error?n(Xs(t,o||{})):e(t):n(new I("network-request-failed"))}),r,u?void 0:nr(Nr(i)),t.a,t.v.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new I("internal-error");return r[e.Z]}))}function Qs(t){return Xs({error:{errors:[{message:t}],code:400,message:t}})}function Xs(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],e);return!e&&t&&(e=Pr(t)),new I("internal-error",e)}function Js(t){this.b=t,this.a=null,this.sb=function(t){return(nu||(nu=new _e((function(t,e){function n(){jr(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:tu.get()})}if(Ir("gapi.iframes.Iframe"))t();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Te(La(r=Tt($s,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw nu=null,t})))).then((function(){return new _e((function(e,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),eu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var $s=new bt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Fr(3e4,6e4),eu=new Fr(5e3,15e3),nu=null;function ru(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function au(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function su(t){var e=ur();return function(t){return Zs(t,Rs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Fn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:dr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(ur())}))}function uu(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=ou(t.b),i=new ru(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new Js(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)}))}(t)}))),t.m}function cu(t){return t.l||(t.C=t.c?Sr(t.c,ou(t.b)):null,t.l=new Va(t.g,P(t.i),t.C),t.f&&Xa(t.l,t.f)),t.l}function lu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new iu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.zb(l).toString()}function hu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(t){this.b=t,this.a={},this.f=w(this.c,this)}ru.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},iu.prototype.zb=function(t){return this.h=t,this},iu.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Ln(t,"providerId",this.a.providerId),e=Nr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=vt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Ln(t,"customParameters",Pr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Ln(t,"scopes",n.join(",")),this.l?Ln(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!jn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Xn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Xn(t.b,"eid"),(s=ou(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=au.prototype).Pb=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return uu(t).then((function(){return function(t,e){return t.sb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new _e((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Cn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Cr();return!Rr(t)&&!Lr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return xe(new I("popup-blocked"));if(a&&!Rr())return this.ma().o((function(e){hr(t),i(e)})),r(),Te();this.a||(this.a=su(cu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){Do(n),a||cr(lu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=su(cu(this)));var i=this;return this.a.then((function(){Do(e),cr(lu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return uu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new I("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Q(this.h,(function(e){return e==t}))},(t=hu.prototype).get=function(t){return Te(this.a.getItem(t)).then((function(t){return t&&Mr(t)}))},t.set=function(t,e){return Te(this.a.setItem(t,Pr(e)))},t.U=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var du,pu=[];function vu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function mu(t){this.a=t}function gu(t){this.c=t,this.b=!1,this.a=[]}function yu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return xe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return bu(t,c),e})).o((function(e){throw bu(t,c),e}))}function bu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,(function(t){return t==e}))}}function _u(){if(!Eu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(H(pu,(function(n){n.b==t&&(e=n)})),!e){var e=new fu(t);pu.push(e)}return e}(),vu(this.v,"keyChanged",(function(e,n){return xu(t).then((function(e){return 0<e.length&&H(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),vu(this.v,"ping",(function(){return Te(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Te().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Te(null)}().then((function(e){(t.h=e)&&(t.g=new gu(new mu(e)),yu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function wu(t){return t.i||(t.i=function t(e){return new _e((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.i}function ku(t,e){var n=0;return new _e((function r(i,o){wu(t).then(e).then(i).o((function(e){if(!(3<++n))return wu(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Eu(){try{return!!s.indexedDB}catch(Kt){return!1}}function Su(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Iu(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Tu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Te()}function xu(t){return wu(t).then((function(t){var e=Su(Cu(t,!1));return e.getAll?Iu(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ou(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then((function(){if(Eu()){var t=Dr(),r="__sak"+t;return du||(du=new _u),(n=du).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){H(e.a,(function(e){e(t)}))})),t}))}function Ru(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var t="Node"==br();if(!(t=Nu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Nu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Nu(){try{var t=s.localStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Mu(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==br();if(!(t=Lu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Lu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lu(){try{var t=s.sessionStorage,e=Dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ju(){var t={};t.Browser=Bu,t.Node=zu,t.ReactNative=qu,t.Worker=Vu,this.a=t[br()]}fu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,(function(e){i.push(Te().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];H(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),H(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},mu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},gu.prototype.close=function(){for(;0<this.a.length;)bu(this,this.a[0]);this.b=!0},(t=_u.prototype).set=function(t,e){var n=this,r=!1;return ku(this,(function(e){return Iu((e=Su(Cu(e,!0))).get(t))})).then((function(i){return ku(n,(function(o){if(o=Su(Cu(o,!0)),i)return i.value=e,Iu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Iu(o.add(a))}))})).then((function(){return n.c[t]=e,Tu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return ku(this,(function(e){return Iu(Su(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return ku(this,(function(r){return n=!0,e.b++,Iu(Su(Cu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Tu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){Au(t),function e(){t.f=setTimeout((function(){t.l=xu(t).then((function(e){0<e.length&&H(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=Ou.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t}))},(t=Ru.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.U=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Pu.prototype).get=function(t){var e=this;return Te().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&un(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=Mu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.U=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Du.prototype).get=function(t){var e=this;return Te().then((function(){return Mr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Te().then((function(){var r=Pr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Te().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Fu,Uu,Bu={F:Pu,cb:Du},zu={F:Pu,cb:Du},qu={F:hu,cb:Mu},Vu={F:Pu,cb:Mu},Hu={rd:"local",NONE:"none",td:"session"};function Gu(){var t=!(Lr(Cr())||!gr()),e=Rr(),n=Tr();this.m=t,this.h=e,this.l=n,this.a={},Fu||(Fu=new ju),t=Fu;try{this.g=!sr()&&zr()||!s.indexedDB?new t.a.F:new Ou(yr()?new Ru:new t.a.F)}catch(r){this.g=new Ru,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Ru}this.v=new Ru,this.f=w(this.Zb,this),this.b={}}function Wu(){return Uu||(Uu=new Gu),Uu}function Ku(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Yu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Zu(t,e,n){return n=Yu(e,n),"local"==e.F&&(t.b[n]=null),Ku(t,e.F).U(n)}function Qu(t){t.c&&(clearInterval(t.c),t.c=null)}function Xu(t){this.a=t,this.b=Wu()}(t=Gu.prototype).get=function(t,e){return Ku(this,t.F).get(Yu(t,e))},t.set=function(t,e,n){var r=Yu(t,n),i=this,o=Ku(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Yu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(Ku(this,"local").ca(this.f),this.h||(sr()||!zr())&&s.indexedDB||!this.l||function(t){Qu(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Yu(t,e),this.a[t]&&(Q(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Ku(this,"local").ia(this.f),Qu(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ku(this,"local").ia(this.f):Qu(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Zt&&ae&&10==ae&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],(function(t){t()}))};var Ju,$u={name:"authEvent",F:"local"};function tc(){this.a=Wu()}function ec(t,e){this.b=nc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Ju&&(Ju=s.Int32Array?new Int32Array(cc):cc),this.reset()}S(ec,(function(){this.b=-1}));for(var nc=64,rc=nc-1,ic=[],oc=0;oc<rc;oc++)ic[oc]=0;var ac=X(128,ic);function sc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Ju[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function uc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(sc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(sc(t),i=0)}}t.c=i,t.g+=n}ec.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var cc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lc(){ec.call(this,8,hc)}S(lc,ec);var hc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function fc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new tc,this.g=new Xu(this.h),this.f=null,this.b=[],this.a=this.c=null}function dc(t){return new I("invalid-cordova-configuration",t)}function pc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function vc(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),mc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mr(jn(o=Fn(i),"firebaseError")||null))?T(o):null)?new Lo(r.c,r.b,null,null,o,null,r.T()):new Lo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pc(t,i)}))}var n=new Lo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=Cn(500).then((function(){return mc(t).then((function(){r||pc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Fo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ir("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function mc(t){var e=null;return function(t){return t.b.get($u,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,Zu((n=t.g).b,$u,n.a)})).then((function(){return e}))}function gc(t){this.a=t,this.b=Wu()}(t=fc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?vr().then((function(){return new _e((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):xe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ir("universalLinks.subscribe",s))throw dc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",s))throw dc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",s))throw dc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",s))throw dc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},t.Pb=function(t,e){return e(new I("operation-not-supported-in-this-environment")),Te()},t.Nb=function(){return xe(new I("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return xe(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Te().then((function(){return Do(e),vc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Lo(e,r,null,o,new I("no-auth-event"),null,i),u=Ir("BuildInfo.packageName",s);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=Ir("BuildInfo.displayName",s),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return xe(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new lc;uc(e,t),t=[];var n=8*e.g;uc(e,ac,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(sc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=lu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set($u,a.w(),e)})).then((function(){var e=Ir("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ir("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ir("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){u=function(){var e=Ir("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Ur()&&c()},o.addEventListener("resume",c=function(){a||(a=Cn(2e3).then((function(){e(new I("redirect-cancelled-by-user"))})))},!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return mc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},t.Ea=function(t){this.b.push(t),vc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Lo("unknown",null,null,null,new I("no-auth-event")),t(e))}))},t.Ta=function(t){Q(this.b,(function(e){return e==t}))};var yc={name:"pendingRedirect",F:"session"};function bc(t){return Zu(t.b,yc,t.a)}function _c(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Dc,this.C=new Bc,this.g=new gc(Nc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wc(this.D,this.v,this.m,x,this.J)}function wc(t,e,n,i,o){var a=r.a.SDK_VERSION||null;return mr()?new fc(t,e,n,a,i,o):new au(t,e,n,a,i,o)}function kc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Ec(t){t.a.Yb()&&kc(t).o((function(e){var n=new Lo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)})),t.a.Ub()||Lc(t.b)}function Sc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(yc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?bc(t.g).then((function(){kc(t).o((function(e){var n=new Lo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Ac(e)&&t.s(n)}))})):Ec(t)})).o((function(){Ec(t)}))}function Cc(t,e){Q(t.h,(function(t){return t==e}))}_c.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=wc(this.D,this.v,this.m,null,this.J),this.i={}},_c.prototype.s=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Lc(this.b),e};var Ic=new Fr(2e3,1e4),Tc=new Fr(3e4,6e4);function xc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Oc(t,e,n,r,i){var o;return function(t){return t.b.set(yc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Ac(e))throw new I("operation-not-supported-in-this-environment");return o=e,bc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new _e((function(){})):bc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Rc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Ic.get())}_c.prototype.ra=function(){return this.b.ra()};var Pc={};function Nc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Mc(t,e,n,r){var i=Nc(e,n,r);return Pc[i]||(Pc[i]=new _c(t,e,n,r)),Pc[i]}function Dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function jc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function Fc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fc(t,n):Fc(t,{user:null}),t.f=[],t.c=[]}function Bc(){}function zc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function qc(t,e){this.a=e,Wr(this,"verificationId",t)}function Vc(t,e,n,r){return new Po(t).gb(e,n).then((function(t){return new qc(t,r)}))}function Hc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:t,expirationTime:Br(1e3*e.exp),authTime:Br(1e3*e.auth_time),issuedAtTime:Br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gc(t,e,n){var r=e&&e[Kc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;H(e[Wc]||[],(function(t){(t=Xr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Uc(t,s,e,null)})).o((function(e){Uc(t,s,null,e)}))}(this,t,e):xe(new I("invalid-auth-event")):(Uc(this,!1,null,null),Te())}else xe(new I("invalid-auth-event"))},Dc.prototype.ra=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new I("timeout");t.a&&t.a.cancel(),t.a=Cn(Tc.get()).then((function(){t.b||(t.g=!0,Uc(t,!0,null,e))}))}(t))}))},Bc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):xe(new I("invalid-auth-event"))}else xe(new I("invalid-auth-event"))},qc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Wc="mfaInfo",Kc="mfaPendingCredential";function Yc(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new Gc(t,e,n),Wr(this,"resolver",this.b)}function Zc(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Yc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Qc(){}function Xc(t){Wr(this,"factorId",t.fa),this.a=t}function Jc(t){if(Xc.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function $c(t,e){for(var n in Ze.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[$r]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),el(this,n)}function el(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function il(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function ol(t,e){t.b=Ui(e[Ga]||""),t.a=e.refreshToken,il(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function al(t,e){this.a=t||null,this.b=e||null,Kr(this,{lastSignInTime:Br(e||null),creationTime:Br(t||null)})}function sl(t,e,n,r,i,o){Kr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ul(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Sr(r.a.SDK_VERSION):null;this.a=new Va(this.l,P(x),i),(this.u=t.emulatorConfig||null)&&Xa(this.a,this.u),this.h=new rl(this.a),gl(this,e[Ga]),ol(this.h,e),Wr(this,"refreshToken",this.h.a),_l(this,n||{}),_n.call(this),this.P=!1,this.s&&xr()&&(this.b=Mc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new nl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){cl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){fl(o,t.f)},this.ja=null,this.S=new tl(this,n),Wr(this,"multiFactor",this.S)}function cl(t,e){t.u=e,Xa(t.a,e),t.b&&(e=t.b,t.b=Mc(t.s,t.l,t.m,t.u),t.P&&(Cc(e,t),Sc(t.b,t)))}function ll(t,e){t.qa&&hn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&un(e,"languageCodeChanged",t.Pa)}function hl(t,e){t.$&&hn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&un(e,"emulatorConfigChanged",t.Ba)}function fl(t,e){t.aa=e,$a(t.a,r.a.SDK_VERSION?Sr(r.a.SDK_VERSION,t.aa):null)}function dl(t,e){t.ja&&hn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&un(e,"frameworkChanged",t.Oa)}function pl(t){try{return r.a.app(t.m).auth()}catch(e){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function vl(t){t.J||t.D.b||(t.D.start(),hn(t,"tokenChanged",t.ba),un(t,"tokenChanged",t.ba))}function ml(t){hn(t,"tokenChanged",t.ba),t.D.stop()}function gl(t,e){t.Aa=e,Wr(t,"_lat",e)}function yl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Oe(e).then((function(){return t}))}function bl(t){t.b&&!t.P&&(t.P=!0,Sc(t.b,t))}function _l(t,e){Kr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new al(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wl(){}function kl(t){return Te().then((function(){if(t.J)throw new I("app-deleted")}))}function El(t){return W(t.providerData,(function(t){return t.providerId}))}function Sl(t,e){e&&(Cl(t,e.providerId),t.providerData.push(e))}function Cl(t,e){Q(t.providerData,(function(t){return t.providerId==e}))}function Il(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Tl(t,e){t!=e&&(Kr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wr(t,"metadata",e.metadata?function(t){return new al(t.a,t.b)}(e.metadata):new al),H(e.providerData,(function(e){Sl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Wr(t,"refreshToken",t.h.a),el(t.S,e.S.b))}function xl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Zs(t.a,Is,{idToken:e}).then(w(t.Kc,t))}(t,e).then((function(){return n||Il(t,"isAnonymous",!1),e}))}))}function Al(t,e){e[Ga]&&t.Aa!=e[Ga]&&(ol(t.h,e),t.dispatchEvent(new $c("tokenChanged")),gl(t,e[Ga]),Il(t,"refreshToken",t.h.a))}function Ol(t,e){return xl(t).then((function(){if(Y(El(t),e))return yl(t).then((function(){throw new I("provider-already-linked")}))}))}function Rl(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Gi(e),operationType:n})}function Pl(t,e){return Al(t,e),t.reload().then((function(){return t}))}function Nl(t,e,n,i,o){if(!xr())return xe(new I("operation-not-supported-in-this-environment"));if(t.i&&!o)return xe(t.i);var a=Hi(n.providerId),s=Dr(t.uid+":::"),u=null;(!Rr()||gr())&&t.s&&n.isOAuthProvider&&(u=lu(t.s,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=fr(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(Dl(t),!o)return t.I().then((function(){}))})).then((function(){return xc(t.b,c,e,n,s,!!u,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new I("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Rc(t.b,t,e,c,s)}))})).then((function(t){return c&&hr(c),t?Yr(t):null})).o((function(t){throw c&&hr(c),t})),Ll(t,i,o)}function Ml(t,e,n,r,i){if(!xr())return xe(new I("operation-not-supported-in-this-environment"));if(t.i&&!i)return xe(t.i);var o=null,a=Dr(t.uid+":::");return r=r().then((function(){if(Dl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,yl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Ul,t.w(),e.a)),e})).then((function(){return Oc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return Bl(t.ha);throw o})).then((function(){if(o)throw o})),Ll(t,r,i)}function Dl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Ll(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),xe(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new $c("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){Z(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Zc(e.w(),pl(t),w(t.jc,t))),n||e}))}function jl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ga]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ul(e,n,t);return t.providerData&&H(t.providerData,(function(t){t&&Sl(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Fl(t){this.a=t,this.b=Wu()}Gc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[Wc],delete n[Kc],gt(n,t),e.g(n)}))},S(Yc,I),Qc.prototype.tb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Ro(t.a)}),Zs(e,Ss,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),Zs(e,Cs,n)}))}(this,t,e)},S(Xc,Qc),S(Jc,Xc),S($c,Ze),(t=tl.prototype).yc=function(t){el(this,function(t){var e=[];return H(t.mfaInfo||[],(function(t){(t=Xr(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Al(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Zs(r,Ys,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return el(e,r),Al(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},nl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Ur()||!t?Te():new _e((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new I("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ts(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xs(t)):t.access_token&&t.refresh_token?n(t):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new I("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ui(e.access_token),t.a=e.refresh_token,il(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},al.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(ul,_n),ul.prototype.xa=function(t){this.za=t,Qa(this.a,t)},ul.prototype.la=function(){return this.za},ul.prototype.Ga=function(){return J(this.aa)},ul.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Wr(ul.prototype,"providerId","firebase"),(t=ul.prototype).reload=function(){var t=this;return Ll(this,kl(this).then((function(){return xl(t).then((function(){return yl(t)})).then(wl)})))},t.oc=function(t){return this.I(t).then((function(t){return new Hc(t)}))},t.I=function(t){var e=this;return Ll(this,kl(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.Aa&&(gl(e,t.accessToken),e.dispatchEvent(new $c("tokenChanged"))),Il(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");_l(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new sl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Sl(this,e[n]);Il(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new $c("userReloaded",{hd:t}))},t.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Ll(this,t.c(this.a,this.uid).then((function(t){return Al(e,t),n=Rl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Ll(this,Ol(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Rl(e,t,"link"),Pl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Ll(this,Ol(this,"phone").then((function(){return Vc(pl(n),t,e,w(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Ll(this,Te().then((function(){return Vc(pl(n),t,e,w(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Ll(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Al(e,t),e.reload()})))},t.ed=function(t){var e=this;return Ll(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Al(e,t),e.reload()})))},t.Db=function(t){var e=this;return Ll(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Al(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return kl(this);var e=this;return Ll(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Al(e,t),Il(e,"displayName",t.displayName||null),Il(e,"photoURL",t.photoUrl||null),H(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),yl(e)})).then(wl))},t.cd=function(t){var e=this;return Ll(this,xl(this).then((function(n){return Y(El(e),t)?function(t,e,n){return Zs(t,ws,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return H(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),H(El(e),(function(t){n[t]||Cl(e,t)})),n[Po.PROVIDER_ID]||Wr(e,"phoneNumber",null),yl(e)})):yl(e).then((function(){throw new I("no-such-provider")}))})))},t.delete=function(){var t=this;return Ll(this,this.I().then((function(e){return Zs(t.a,_s,{idToken:e})})).then((function(){t.dispatchEvent(new $c("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ll(t,null),hl(t,null),dl(t,null),t.N=[],t.J=!0,ml(t),Wr(t,"refreshToken",null),t.b&&Cc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Nl(this,"linkViaPopup",t,(function(){return Ol(e,t.providerId).then((function(){return yl(e)}))}),!1)},t.Nc=function(t){return Nl(this,"reauthViaPopup",t,(function(){return Te()}),!0)},t.Fc=function(t){var e=this;return Ml(this,"linkViaRedirect",t,(function(){return Ol(e,t.providerId)}),!1)},t.Oc=function(t){return Ml(this,"reauthViaRedirect",t,(function(){return Te()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,this.I().then((function(n){return ds(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Rl(i,t,"link"),Pl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,Te().then((function(){return oo(ps(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Rl(i,t,"reauthenticate"),Al(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Ll(this,this.I().then((function(e){return n=e,void 0===t||pt(t)?{}:Li(new Ii(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Ll(this,this.I().then((function(t){return r=t,void 0===e||pt(e)?{}:Li(new Ii(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Ll(this,t=oo(Te(t),n.uid).then((function(t){return e=Rl(n,t,"reauthenticate"),Al(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),H(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.S.w()),t};var Ul={name:"redirectUser",F:"session"};function Bl(t){return Zu(t.b,Ul,t.a)}function zl(t){this.a=t,this.b=Wu(),this.c=null,this.f=function(t){var e=Hl("local"),n=Hl("session"),r=Hl("none");return function(t,e,n){var r=Yu(e,n),i=Ku(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Mr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Vl,t.a).then((function(t){return t?Hl(t):e}))}))}))})).then((function(e){return t.c=e,ql(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Hl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in Hu)Hu[n]!==e&&r.push(Zu(t.b,Hl(Hu[n]),t.a));return r.push(Zu(t.b,Vl,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],k(o,s),a);else e(i)}))}(r)}zl.prototype.g=function(){var t=this,e=Hl("local");Yl(this,(function(){return Te().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return ql(t,"local").then((function(){t.c=e}))}))}))};var Vl={name:"persistence",F:"session"};function Hl(t){return{name:"authUser",F:t}}function Gl(t,e){return Yl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Wl(t){return Yl(t,(function(){return Zu(t.b,t.c,t.a)}))}function Kl(t,e,n){return Yl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),jl(t||{})}))}))}function Yl(t,e){return t.f=t.f.then(e,e),t.f}function Zl(t){if(this.l=!1,Wr(this,"settings",new zc),Wr(this,"app",t),!rh(this).options||!rh(this).options.apiKey)throw new I("invalid-api-key");t=r.a.SDK_VERSION?Sr(r.a.SDK_VERSION):null,this.a=new Va(rh(this).options&&rh(this).options.apiKey,P(x),t),this.P=[],this.s=[],this.N=[],this.Pa=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),eh(this,null),this.i=new zl(rh(this).options.apiKey+":"+rh(this).name),this.D=new Fl(rh(this).options.apiKey+":"+rh(this).name),this.$=sh(this,function(t){var e=rh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ul,t.a).then((function(t){return t&&e&&(t.authDomain=e),jl(t||{})}))}(t.D,rh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Bl(t.D)}));return sh(t,e)}(t).then((function(){return Kl(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Gl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Wl(t.i)}))):null})).then((function(e){eh(t,e||null)}));return sh(t,n)}(this)),this.h=sh(this,function(t){return t.$.then((function(){return th(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Hl("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=rh(t).options.authDomain,n=rh(t).options.apiKey;e&&xr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Mc(e,n,rh(t).name,t.R),Sc(t.b,t),ih(t)&&bl(ih(t)),t.m){bl(t.m);var r=t.m;r.xa(t.la()),ll(r,t),fl(r=t.m,t.J),dl(r,t),cl(r=t.m,t.R),hl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Fn(this.R.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function Ql(t){Ze.call(this,"languageCodeChanged"),this.h=t}function Xl(t){Ze.call(this,"emulatorConfigChanged"),this.c=t}function Jl(t){Ze.call(this,"frameworkChanged"),this.f=t}function $l(t){return t.Oa||xe(new I("auth-domain-config-required"))}function th(t){if(!xr())return xe(new I("operation-not-supported-in-this-environment"));var e=$l(t).then((function(){return t.b.ra()})).then((function(t){return t?Yr(t):null}));return sh(t,e)}function eh(t,e){ih(t)&&(function(t,e){Q(t.W,(function(t){return t==e}))}(ih(t),t.Ba),hn(ih(t),"tokenChanged",t.qa),hn(ih(t),"userDeleted",t.za),hn(ih(t),"userInvalidated",t.Aa),ml(ih(t))),e&&(e.W.push(t.Ba),un(e,"tokenChanged",t.qa),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&vl(e)),Wr(t,"currentUser",e),e&&(e.xa(t.la()),ll(e,t),fl(e,t.J),dl(e,t),cl(e,t.R),hl(e,t))}function nh(t,e){var n=null,r=null;return sh(t,e.then((function(e){return n=Mo(e),r=Gi(e),function(t,e){var n={};return n.apiKey=rh(t).options.apiKey,n.authDomain=rh(t).options.authDomain,n.appName=rh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new ul(t,e);return n&&(i.ha=n),r&&fl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return ih(t)&&e.uid==ih(t).uid?(Tl(ih(t),e),t.da(e)):(eh(t,e),bl(e),t.da(e))})).then((function(){ah(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Zc(e.w(),t,w(t.kc,t))),n||e})).then((function(){return Yr({user:ih(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rh(t){return t.app}function ih(t){return t.currentUser}function oh(t){return ih(t)&&ih(t)._lat||null}function ah(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](oh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](oh(t))}}function sh(t,e){return t.P.push(e),e.oa((function(){Z(t.P,e)})),e}function uh(){}function ch(){this.a={},this.b=1e12}zl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Hu)if(Hu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Eu()&&"none"!==t)throw n;break;default:if(!Tr()&&"none"!==t)throw n}}(t),Yl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,ql(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):Te()}))},S(Zl,_n),S(Ql,Ze),S(Xl,Ze),S(Jl,Ze),(t=Zl.prototype).yb=function(t){return sh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,Qa(this.a,this.aa),this.dispatchEvent(new Ql(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&vr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,Xa(this.a,this.R),this.dispatchEvent(new Xl(this.R))}},t.Gc=function(t){this.J.push(t),$a(this.a,r.a.SDK_VERSION?Sr(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Jl(this.J))},t.Ga=function(){return J(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:rh(this).options.apiKey,authDomain:rh(this).options.authDomain,appName:rh(this).name,currentUser:ih(this)&&ih(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return nh(i,fs(i.a,o))}))},t.Xc=function(t){if(!xr())return xe(new I("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),i=Dr(),o=null;(!Rr()||gr())&&rh(this).options.authDomain&&t.isOAuthProvider&&(o=lu(rh(this).options.authDomain,rh(this).options.apiKey,rh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.R));var a=fr(o,n&&n.va,n&&n.ua);return sh(this,n=$l(this).then((function(n){return xc(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new I("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Rc(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&hr(a),t?Yr(t):null})).o((function(t){throw a&&hr(a),t})))},t.Yc=function(t){if(!xr())return xe(new I("operation-not-supported-in-this-environment"));var e=this;return sh(this,$l(this).then((function(){return function(t){return Yl(t,(function(){return t.b.set(Vl,t.c.F,t.a)}))}(e.i)})).then((function(){return Oc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.ra=function(){var t=this;return th(this).then((function(e){return t.b&&jc(t.b.b),e})).o((function(e){throw t.b&&jc(t.b.b),e}))},t.dd=function(t){if(!t)return xe(new I("null-user"));if(this.S!=t.tenantId)return xe(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=rh(this).options.apiKey,n.authDomain=rh(this).options.authDomain,n.appName=rh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ga]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ul(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&fl(e,r),Tl(e,t),e}(t,n,e.D,e.Ga());return sh(this,this.h.then((function(){if(rh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return ih(e)&&t.uid==ih(e).uid?(Tl(ih(e),t),e.da(t)):(eh(e,r),bl(r),e.da(r))})).then((function(){ah(e)})))},t.Bb=function(){var t=this;return sh(this,this.h.then((function(){return t.b&&jc(t.b.b),ih(t)?(eh(t,null),Wl(t.i).then((function(){ah(t)}))):Te()})))},t.Zc=function(){var t=this;return Kl(this.i,rh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=ih(t)&&e){n=ih(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tl(ih(t),e),ih(t).I();(ih(t)||e)&&(eh(t,e),e&&(bl(e),e.ha=t.D),t.b&&Sc(t.b,t),ah(t))}}))},t.da=function(t){return Gl(this.i,t)},t.mc=function(){ah(this),this.da(ih(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return nh(e,Te(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(ih(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),sh(t,t.h.then((function(){!t.l&&Y(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(oh(t)))})))}(this,(function(){t.next(ih(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(ih(r)):"function"==typeof t.next&&t.next(ih(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return sh(this,this.h.then((function(){return ih(e)?ih(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return nh(e,Zs(e.a,Vs,{token:t}))})).then((function(t){var n=t.user;return Il(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Zs(n.a,Hs,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return nh(n,Zs(n.a,ys,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return nh(e,t.ka(e.a))}))},t.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=ih(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nh(t,t.a.Ab()).then((function(e){var n=e.user;return Il(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return ih(this)&&ih(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ih(this)&&vl(ih(this))},t.Pc=function(t){var e=this;H(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&ih(this)&&ml(ih(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),sh(this,this.h.then((function(){e.l||Y(e.s,t)&&t(oh(e))})))},t.removeAuthTokenListener=function(t){Q(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Hl("local"),t.a,this.ja),this.b&&(Cc(this.b,this),jc(this.b.b)),Promise.resolve()},t.hc=function(t){return sh(this,function(t,e){return Zs(t,bs,{identifier:e,continueUri:Ar()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!xo(t)},t.xb=function(t,e){var n=this;return sh(this,Te().then((function(){var t=new Ii(e);if(!t.c)throw new I("argument-error",Ai+" must be true when sending sign in link to email");return Li(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return sh(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return sh(this,this.a.Sa(t).then((function(t){return new ri(t)})))},t.kb=function(t){return sh(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return sh(this,Te().then((function(){return void 0===e||pt(e)?{}:Li(new Ii(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return sh(this,Vc(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return sh(this,Te().then((function(){var r=e||ur(),i=To(t,r);if(!(r=xo(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)})))},uh.prototype.render=function(){},uh.prototype.reset=function(){},uh.prototype.getResponse=function(){},uh.prototype.execute=function(){};var lh=null;function hh(t,e){return(e=fh(e))&&t.a[e]||null}function fh(t){return(t=void 0===t?1e12:t)?t.toString():null}function dh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function vh(){}function mh(){}ch.prototype.render=function(t,e){return this.a[this.b.toString()]=new dh(t,e),this.b++},ch.prototype.reset=function(t){var e=hh(this,t);t=fh(t),e&&t&&(e.delete(),delete this.a[t])},ch.prototype.getResponse=function(t){return(t=hh(this,t))?t.getResponse():null},ch.prototype.execute=function(t){(t=hh(this,t))&&t.execute()},dh.prototype.getResponse=function(){return ph(this),this.b},dh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},dh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(vh,"FACTOR_ID","phone"),mh.prototype.g=function(){return lh||(lh=new ch),Te(lh)},mh.prototype.c=function(){};var gh=null;function yh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bh=new bt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_h=new Fr(3e4,6e4);yh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),_h.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[e.a]},Te(La(Tt(bh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},yh.prototype.c=function(){this.b--};var wh=null;function kh(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(gh||(gh=new mh),a=gh):(wh||(wh=new yh),a=wh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ih],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Va(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Eh];this.a[Eh]=function(t){if(Th(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ir(c,s);"function"==typeof e&&e(t)}};var l=this.a[Sh];this.a[Sh]=function(){if(Th(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ir(l,s);"function"==typeof t&&t()}}}var Eh="callback",Sh="expired-callback",Ch="sitekey",Ih="size";function Th(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function xh(t,e){return t.h.push(e),e.oa((function(){Z(t.h,e)})),e}function Ah(t){if(t.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Oh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?Sr(r.a.SDK_VERSION,a):null,kh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,P(x),i)}function Rh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Ph.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Ph[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=kh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=xh(this,Te().then((function(){if(Ar()&&!yr())return vr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Zs(t.s,Ps,{})})).then((function(e){t.a[Ch]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Ah(this);var t=this;return xh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!se&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ce(o,a)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Ah(this);var t=this;return xh(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){Q(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Ah(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ah(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Oh,kh);var Ph="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Nh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Mh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Dh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Lh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function jh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Fh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Uh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Bh(t){return v(t)&&"string"==typeof t.uid}function zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function qh(t,e){for(var n in e){var r=e[n].name;t[r]=Gh(r,t[n],e[n].j)}}function Vh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k((function(t){return this[t]}),n),set:k((function(t,e,n,r){Rh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function Hh(t,e,n,r){t[e]=Gh(e,n,r)}function Gh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}qh(Zl.prototype,{kb:{name:"applyActionCode",j:[Nh("code")]},Sa:{name:"checkActionCode",j:[Nh("code")]},ob:{name:"confirmPasswordReset",j:[Nh("code"),Nh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Nh("email"),Nh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Nh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Nh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[zh(Dh(),Lh(),"nextOrObserver"),Lh("opt_error",!0),Lh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[zh(Dh(),Lh(),"nextOrObserver"),Lh("opt_error",!0),Lh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Nh("email"),zh(Dh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Nh("email"),Dh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Nh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Fh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Fh()]},Tc:{name:"signInWithCustomToken",j:[Nh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Nh("email"),Nh("password")]},Vc:{name:"signInWithEmailLink",j:[Nh("email"),Nh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ul)}},jh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Nh("url"),Dh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Nh("code")]}}),Vh(Zl.prototype,{lc:{name:"languageCode",lb:zh(Nh(),jh(),"languageCode")},ti:{name:"tenantId",lb:zh(Nh(),jh(),"tenantId")}}),(Zl.Persistence=Hu).LOCAL="local",Zl.Persistence.SESSION="session",Zl.Persistence.NONE="none",qh(ul.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Mh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Mh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Fh()]},rb:{name:"linkWithCredential",j:[Fh()]},Dc:{name:"linkWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fh()]},ub:{name:"reauthenticateWithCredential",j:[Fh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Nh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[zh(Dh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Nh(null,!0)]},cd:{name:"unlink",j:[Nh("provider")]},Cb:{name:"updateEmail",j:[Nh("email")]},Db:{name:"updatePassword",j:[Nh("password")]},ed:{name:"updatePhoneNumber",j:[Fh("phone")]},Eb:{name:"updateProfile",j:[Dh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Nh("email"),zh(Dh("opt_actionCodeSettings",!0),jh(null,!0),"opt_actionCodeSettings",!0)]}}),qh(ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),qh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Vh(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Mh("appVerificationDisabledForTesting")}}),qh(qc.prototype,{confirm:{name:"confirm",j:[Nh("verificationCode")]}}),Hh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,Co,Oo,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[zh(Nh(),Dh(),"json")]),Hh(Io,"credential",(function(t,e){return new So(t,e)}),[Nh("email"),Nh("password")]),qh(So.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(mo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(mo,"credential",go,[zh(Nh(),Dh(),"token")]),Hh(Io,"credentialWithLink",To,[Nh("email"),Nh("emailLink")]),qh(yo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(yo,"credential",bo,[zh(Nh(),Dh(),"token")]),qh(_o.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(_o,"credential",wo,[zh(Nh(),zh(Dh(),jh()),"idToken"),zh(Nh(),jh(),"accessToken",!0)]),qh(ko.prototype,{Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(ko,"credential",Eo,[zh(Nh(),Dh(),"token"),Nh("secret",!0)]),qh(vo.prototype,{Ca:{name:"addScope",j:[Nh("scope")]},credential:{name:"credential",j:[zh(Nh(),zh(Dh(),jh()),"optionsOrIdToken"),zh(Nh(),jh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),qh(co.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(ao.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),Hh(Po,"credential",No,[Nh("verificationId"),Nh("verificationCode")]),qh(Po.prototype,{gb:{name:"verifyPhoneNumber",j:[zh(Nh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Uh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Uh(t.session,ro)&&Bh(t.multiFactorHint):t.session&&t.multiFactorUid?Uh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),qh(Ao.prototype,{w:{name:"toJSON",j:[Nh(null,!0)]}}),qh(I.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(qo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(zo.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Yc.prototype,{toJSON:{name:"toJSON",j:[Nh(null,!0)]}}),qh(Gc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),qh(tl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Nh("displayName",!0)]},bd:{name:"unenroll",j:[zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Bh},Nh(),"multiFactorInfoIdentifier")]}}),qh(Oh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(gi,"parseLink",Ci,[Nh("link")]),Hh(vh,"assertion",(function(t){return new Jc(t)}),[Fh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Zl,AuthCredential:io,Error:I};Hh(t,"EmailAuthProvider",Io,[]),Hh(t,"FacebookAuthProvider",mo,[]),Hh(t,"GithubAuthProvider",yo,[]),Hh(t,"GoogleAuthProvider",_o,[]),Hh(t,"TwitterAuthProvider",ko,[]),Hh(t,"OAuthProvider",vo,[Nh("providerId")]),Hh(t,"SAMLAuthProvider",po,[Nh("providerId")]),Hh(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Zl)}}]),Hh(t,"RecaptchaVerifier",Oh,[zh(Nh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Hh(t,"ActionCodeURL",gi,[]),Hh(t,"PhoneMultiFactorGenerator",vh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Zl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.8"),r.a.INTERNAL.extendNamespace({User:ul})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7F6a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("mrSG"),i=function(){function t(e,n){_classCallCheck(this,t),this.storage=e,this.store=n}return _createClass(t,[{key:"uploadFile",value:function(t,e,n,i){return r.a(this,void 0,void 0,_regeneratorRuntime().mark((function r(){var o,a,s,u,c;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={userId:e.uid,fileName:t.name||"missingFileName",isUploaded:!1,imageStreamId:n,imageClassifierId:i},r.next=3,this.store.insertUploadDoc(o,"ppUploads");case 3:return a=r.sent,s=Object.assign({},o,{id:a.id}),r.next=7,this.storage.uploadFile(t,s.id,"ppUploads");case 7:return u=r.sent,r.next=10,u.ref.getDownloadURL();case 10:return r.t0=r.sent,c={downloadUrl:r.t0},r.next=14,this.store.registerFileUploaded(s.id,c,"ppUploads");case 14:case"end":return r.stop()}}),r,this)})))}}]),t}()},"7bNT":function(t,e,n){"use strict";var r=n("DQLy"),i=n("VRyK"),o=n("HDdC"),a=n("XNiG"),s=(n("NXyV"),n("WMd4")),u=n("7o/Q"),c=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t))}}]),t}(),l=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){}}]),e}(u.a),h=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t))}}]),t}(),f=function(t){function e(t){return _classCallCheck(this,e),_callSuper(this,e,[t])}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.destination.next(s.a.createNext(t))}},{key:"_error",value:function(t){var e=this.destination;e.next(s.a.createError(t)),e.complete()}},{key:"_complete",value:function(){var t=this.destination;t.next(s.a.createComplete()),t.complete()}}]),e}(u.a),d=n("lJxs"),p=n("JIr8"),v=n("pLZG"),m=n("quSY");function g(t,e,n,r){return function(i){return i.lift(new y(t,e,n,r))}}var y=function(){function t(e,n,r,i){_classCallCheck(this,t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new b(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),t}(),b=function(t){function e(t,n,r,i,o){var a;return _classCallCheck(this,e),(a=_callSuper(this,e,[t])).keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}},{key:"_group",value:function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(u){this.error(u)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,n.set(e,i);var o=new w(e,i,this);if(this.destination.next(o),this.durationSelector){var s;try{s=this.durationSelector(new w(e,i))}catch(u){return void this.error(u)}this.add(s.subscribe(new _(e,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)}},{key:"_complete",value:function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()}},{key:"removeGroup",value:function(t){this.groups.delete(t)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get(_getPrototypeOf3(e.prototype),"unsubscribe",this).call(this))}}]),e}(u.a),_=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[n])).key=t,i.group=n,i.parent=r,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.complete()}},{key:"_unsubscribe",value:function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)}}]),e}(u.a),w=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e)).key=t,i.groupSubject=n,i.refCountSubscription=r,i}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){var e=new m.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new k(n)),e.add(r.subscribe(t)),e}}]),e}(o.a),k=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_callSuper(this,e)).parent=t,t.count++,n}return _inherits(e,t),_createClass(e,[{key:"unsubscribe",value:function(){var t=this.parent;t.closed||this.closed||(_get(_getPrototypeOf3(e.prototype),"unsubscribe",this).call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}]),e}(m.a),E=n("5+tZ"),S=n("l7GE"),C=n("51Dv"),I=n("ZUHj"),T=n("Cfvw"),x=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new A(t,this.project))}}]),t}(),A=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.hasSubscription||this.tryNext(t)}},{key:"tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new C.a(this,void 0,void 0);this.destination.add(r),Object(I.a)(this,t,e,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),e}(S.a),O=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new R(t))}}]),t}(),R=function(t){function e(t){return _classCallCheck(this,e),_callSuper(this,e,[t])}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){t.observe(this.destination)}}]),e}(u.a),P=n("IzEk"),N=(n("bOdf"),n("nYR2"),n("8Y7J"));n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return X})),n.d(e,"c",(function(){return J})),n.d(e,"d",(function(){return nt})),n.d(e,"e",(function(){return et})),n.d(e,"f",(function(){return tt})),n.d(e,"g",(function(){return W})),n.d(e,"h",(function(){return D})),n.d(e,"i",(function(){return B})),n.d(e,"j",(function(){return q})),n.d(e,"k",(function(){return rt})),n.d(e,"l",(function(){return it})),n.d(e,"m",(function(){return G})),n.d(e,"n",(function(){return K})),n.d(e,"o",(function(){return Y})),n.d(e,"p",(function(){return Z})),n.d(e,"q",(function(){return Q}));var M={dispatch:!0,useEffectsErrorHandler:!0};function D(t,e){var n=t(),r=Object.assign(Object.assign({},M),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:r}),n}function L(t){return Object.getOwnPropertyNames(t).filter((function(e){return t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")})).map((function(e){return Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"])}))}function j(t){return Object.getPrototypeOf(t)}function F(t){return Object(r.t)(U,j)(t)}function U(t){return function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(t)?t.constructor["__@ngrx/effects__"]:[]}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return t.pipe(Object(p.a)((function(r){return e&&e.handleError(r),n<=1?t:B(t,e,n-1)})))}var z=function(t){function e(t){var n;return _classCallCheck(this,e),n=_callSuper(this,e),t&&(n.source=t),n}return _inherits(e,t),_createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}}]),e}(o.a);function q(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(v.a)((function(t){return e.some((function(e){return"string"==typeof e?e===t.type:e.type===t.type}))}))}function V(t){return H(t,"ngrxOnInitEffects")}function H(t,e){return t&&e in t&&"function"==typeof t[e]}var G=new N.o("@ngrx/effects Internal Root Guard"),W=new N.o("ngrx/effects: User Provided Effects"),K=new N.o("ngrx/effects: Internal Root Effects"),Y=new N.o("ngrx/effects: Root Effects"),Z=new N.o("ngrx/effects: Internal Feature Effects"),Q=new N.o("ngrx/effects: Feature Effects"),X=new N.o("ngrx/effects: Effects Error Handler"),J=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e)).errorHandler=t,r.effectsErrorHandler=n,r}return _inherits(e,t),_createClass(e,[{key:"addEffects",value:function(t){this.next(t)}},{key:"toActions",value:function(){var t=this;return this.pipe(g(j),Object(E.a)((function(t){return t.pipe(g($))})),Object(E.a)((function(e){var n=e.pipe(function t(e,n){return n?function(r){return r.pipe(t((function(t,r){return Object(T.a)(e(t,r)).pipe(Object(d.a)((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new x(e))}}((function(e){return(n=t.errorHandler,r=t.effectsErrorHandler,function(t){var e=function(t,e,n){var r,o=j(t).constructor.name,a=(r=t,[F,L].reduce((function(t,e){return t.concat(e(r))}),[])).map((function(r){var i=r.propertyName,a=r.dispatch,s=r.useEffectsErrorHandler,u="function"==typeof t[i]?t[i]():t[i],l=s?n(u,e):u;return!1===a?l.pipe((function(t){return t.lift(new c)})):l.pipe((function(t){return t.lift(new h)})).pipe(Object(d.a)((function(e){return{effect:t[i],notification:e,propertyName:i,sourceName:o,sourceInstance:t}})))}));return Object(i.a).apply(void 0,_toConsumableArray(a))}(t,n,r);return H(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(e):e})(e);var n,r})),Object(d.a)((function(e){return function(t,e){if("N"===t.notification.kind){var n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error("Effect ".concat((r=t,i=r.propertyName,o=r.sourceInstance,a=r.sourceName,s="function"==typeof o[i],'"'.concat(a,".").concat(String(i)).concat(s?"()":"",'"'))," dispatched an invalid action: ").concat(function(t){try{return JSON.stringify(t)}catch(e){return t}}(n))))}var r,i,o,a,s}(e,t.errorHandler),e.notification})),Object(v.a)((function(t){return"N"===t.kind})),(function(t){return t.lift(new O)})),r=e.pipe(Object(P.a)(1),Object(v.a)(V),Object(d.a)((function(t){return t.ngrxOnInitEffects()})));return Object(i.a)(n,r)})))}}]),e}(a.a);function $(t){return H(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}var tt=function(){function t(e,n){_classCallCheck(this,t),this.effectSources=e,this.store=n,this.effectsSubscription=null}return _createClass(t,[{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),t}(),et=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this.sources=e,n.start(),i.forEach((function(t){return e.addEffects(t)})),r.dispatch({type:"@ngrx/effects/init"})}return _createClass(t,[{key:"addEffects",value:function(t){this.sources.addEffects(t)}}]),t}(),nt=_createClass((function t(e,n,r,i){_classCallCheck(this,t),n.forEach((function(t){return t.forEach((function(t){return e.addEffects(t)}))}))}));function rt(t,e,n){var r,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push.apply(i,_toConsumableArray(a))}}catch(l){o.e(l)}finally{o.f()}var s,u=_createForOfIteratorHelper(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.push.apply(i,_toConsumableArray(c))}}catch(l){u.e(l)}finally{u.f()}return function(t,e){return e.map((function(e){return t.get(e)}))}(t,i)}function it(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t,e){function n(t,e,r){var o;switch(_classCallCheck(this,n),(o=_callSuper(this,n)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=i.a;break;case 1:if(!t){o.destination=i.a;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new l(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new l(_assertThisInitialized(o),t,e,r)}return o}return _inherits(n,t),_createClass(n,[{key:e,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf3(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a,a.a),l=function(t){function e(t,n,o,a){var s,u;_classCallCheck(this,e),(s=_callSuper(this,e))._parentSubscriber=t;var c=_assertThisInitialized(s);return Object(r.a)(n)?u=n:n&&(u=n.next,o=n.error,a=n.complete,n!==i.a&&(c=Object.create(n),Object(r.a)(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(_assertThisInitialized(s)))),s._context=c,s._next=u,s._error=o,s._complete=a,s}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),e}(c)},"7sJY":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("7bNT"),i=n("LRne"),o=n("JX91"),a=n("eIep"),s=n("lJxs"),u=n("5+tZ"),c=n("Z0Sn"),l=_createClass((function t(e,n,l){var h=this;_classCallCheck(this,t),this.actions$=e,this.firestoreService=n,this.authService=l,this.linkFirebaseAuth$=Object(r.h)((function(){return h.actions$.pipe(Object(r.j)(c.a.linkFirebaseAuth),Object(o.a)(c.a.linkFirebaseAuth()),Object(a.a)((function(){return h.authService.getUser$().pipe(Object(a.a)((function(t){return t?h.firestoreService.updateUser(t).pipe(Object(s.a)((function(){return c.a.setUser({payload:t})}))):Object(i.a)(c.a.setUser({payload:t}))})))})))})),this.renderLogin$=Object(r.h)((function(){return h.actions$.pipe(Object(r.j)(c.a.renderLogin),Object(a.a)((function(t){var e=t.nativeEl;return h.authService.renderLogin(e)})))}),{dispatch:!1}),this.signOut$=Object(r.h)((function(){return h.actions$.pipe(Object(r.j)(c.a.signOut),Object(a.a)((function(t){var e=t.nativeEl;return h.authService.signOut().pipe(Object(u.a)((function(){return[c.a.setUser({payload:void 0}),c.a.renderLogin({nativeEl:e})]})))})))}))}))},"8Y7J":function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).connectable=n,r}return _inherits(e,t),_createClass(e,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),e}(s.a),h=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e)).source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=i.a.EMPTY):this._connection=t),t}},{key:"refCount",value:function(){return u()(this)}}]),e}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},d=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).connectable=n,r}return _inherits(e,t),_createClass(e,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf3(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf3(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),e}(r.b);function p(){return new r.a}function v(t,e,n){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct3(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}n.d(e,"kb",(function(){return na})),n.d(e,"lb",(function(){return ra})),n.d(e,"mb",(function(){return ia})),n.d(e,"nb",(function(){return oa})),n.d(e,"jb",(function(){return $i})),n.d(e,"ib",(function(){return Bi})),n.d(e,"g",(function(){return qo})),n.d(e,"R",(function(){return jo})),n.d(e,"w",(function(){return Lo})),n.d(e,"S",(function(){return Wt})),n.d(e,"W",(function(){return Gt})),n.d(e,"c",(function(){return Ji})),n.d(e,"A",(function(){return eo})),n.d(e,"z",(function(){return no})),n.d(e,"b",(function(){return ro})),n.d(e,"d",(function(){return Qi})),n.d(e,"e",(function(){return Xi})),n.d(e,"U",(function(){return $o})),n.d(e,"M",(function(){return Oo})),n.d(e,"Y",(function(){return Po})),n.d(e,"s",(function(){return oo})),n.d(e,"f",(function(){return aa})),n.d(e,"m",(function(){return Ki})),n.d(e,"l",(function(){return qt})),n.d(e,"F",(function(){return me})),n.d(e,"G",(function(){return ve})),n.d(e,"a",(function(){return Qe})),n.d(e,"P",(function(){return Q})),n.d(e,"N",(function(){return Pn})),n.d(e,"Rb",(function(){return k})),n.d(e,"T",(function(){return T})),n.d(e,"p",(function(){return qe})),n.d(e,"Sb",(function(){return z})),n.d(e,"V",(function(){return q})),n.d(e,"o",(function(){return M})),n.d(e,"n",(function(){return m})),n.d(e,"y",(function(){return g})),n.d(e,"H",(function(){return y})),n.d(e,"I",(function(){return b})),n.d(e,"x",(function(){return Eo})),n.d(e,"C",(function(){return On})),n.d(e,"D",(function(){return xn})),n.d(e,"E",(function(){return An})),n.d(e,"i",(function(){return po})),n.d(e,"j",(function(){return wn})),n.d(e,"k",(function(){return Cn})),n.d(e,"t",(function(){return W})),n.d(e,"v",(function(){return G})),n.d(e,"u",(function(){return Ho})),n.d(e,"B",(function(){return Zi})),n.d(e,"J",(function(){return Ko})),n.d(e,"K",(function(){return Go})),n.d(e,"L",(function(){return Zn})),n.d(e,"O",(function(){return Xn})),n.d(e,"h",(function(){return Fe})),n.d(e,"q",(function(){return Hn})),n.d(e,"r",(function(){return Gn})),n.d(e,"Q",(function(){return nn})),n.d(e,"X",(function(){return ea})),n.d(e,"wb",(function(){return rn})),n.d(e,"bb",(function(){return io})),n.d(e,"Z",(function(){return Be})),n.d(e,"ab",(function(){return kn})),n.d(e,"eb",(function(){return de})),n.d(e,"fb",(function(){return be})),n.d(e,"gb",(function(){return Qt})),n.d(e,"vb",(function(){return N})),n.d(e,"zb",(function(){return tn})),n.d(e,"Kb",(function(){return C})),n.d(e,"xb",(function(){return vn})),n.d(e,"yb",(function(){return pn})),n.d(e,"ub",(function(){return Gi})),n.d(e,"tb",(function(){return Wi})),n.d(e,"cb",(function(){return zi})),n.d(e,"db",(function(){return qi})),n.d(e,"Qb",(function(){return st})),n.d(e,"Ob",(function(){return Xe})),n.d(e,"Ub",(function(){return an})),n.d(e,"Tb",(function(){return sn})),n.d(e,"Pb",(function(){return un})),n.d(e,"Vb",(function(){return ln})),n.d(e,"hb",(function(){return sa})),n.d(e,"ob",(function(){return $r})),n.d(e,"pb",(function(){return Ps})),n.d(e,"qb",(function(){return pr})),n.d(e,"rb",(function(){return Ei})),n.d(e,"sb",(function(){return ua})),n.d(e,"Ab",(function(){return Wr})),n.d(e,"Bb",(function(){return Gr})),n.d(e,"Cb",(function(){return ya})),n.d(e,"Db",(function(){return li})),n.d(e,"Fb",(function(){return Si})),n.d(e,"Ib",(function(){return Ci})),n.d(e,"Eb",(function(){return wa})),n.d(e,"Gb",(function(){return ka})),n.d(e,"Hb",(function(){return _a})),n.d(e,"Jb",(function(){return da})),n.d(e,"Lb",(function(){return Sa})),n.d(e,"Mb",(function(){return dr})),n.d(e,"Nb",(function(){return Ta}));var m=v("Inject",(function(t){return{token:t}})),g=v("Optional"),y=v("Self"),b=v("SkipSelf"),_=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function w(t){for(var e in t)if(t[e]===w)return e;throw Error("Could not find renamed property on target object.")}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){var e=t[S];return e&&e.token===t?e:null}var S=w({ngInjectableDef:w});function C(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(C).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var I=w({__forward_ref__:w});function T(t){return t.__forward_ref__=T,t.toString=function(){return C(this())},t}function x(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(I)&&e.__forward_ref__===T?e():t}var A="undefined"!=typeof globalThis&&globalThis,O="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,P="undefined"!=typeof global&&global,N=A||P||O||R,M=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),D=new M("INJECTOR",-1),L=new Object,j=/\n/gm,F=w({provide:String,useValue:w}),U=void 0;function B(t){var e=U;return U=t,e}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.Default;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.Default;if(void 0===U)throw new Error("inject() must be called from an injection context");return null===U?function(t,e,n){var r=E(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(C(t),"]"))}(t,0,e):U.get(t,e&_.Optional?null:void 0,e)}(t,e)}var q=z,V=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if(e===L){var n=new Error("NullInjectorError: No provider for ".concat(C(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function H(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=C(e);if(e instanceof Array)i=e.map(C).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):C(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(j,"\n  "))}var G=_createClass((function t(){_classCallCheck(this,t)})),W=_createClass((function t(){_classCallCheck(this,t)}));function K(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Y(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Z=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Q=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),X={},J=[],$=w({ngComponentDef:w}),tt=w({ngDirectiveDef:w}),et=w({ngPipeDef:w}),nt=0;function rt(t){return function(t){return t[$]||null}(t)||function(t){return t[tt]||null}(t)}function it(t){return function(t){return t[et]||null}(t)}function ot(t,e){if(null==t)return X;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var at,st=function(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===Z.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Q.Emulated,id:"c",styles:t.styles||J,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=""+{toString:function(){var n=t.directives,o=t.features,a=t.pipes;i.id+=nt++,i.inputs=ot(t.inputs,r),i.outputs=ot(t.outputs),o&&o.forEach((function(t){return t(i)})),i.directiveDefs=n?function(){return("function"==typeof n?n():n).map(rt)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(it)}:null,e.hasOwnProperty(S)||(e[S]=k({token:e,factory:t.factory}))}},i},ut=null,ct=new Map,lt=null;function ht(t,e){return lt&&t===lt||(lt=t,e&&(ut=ct.get(t)||null),ut=ut||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),ut}function ft(t,e){return function(t){for(;Array.isArray(t);)t=t[0];return t}(e[t.index])}function dt(t,e){return e[1].data[t+19]}function pt(){return at}var vt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(N);function mt(t,e){0===e?t[2]>0&&function(t){yt(t,2|gt(t))}(t):t[2]=e}function gt(t){return t[1]}function yt(t,e){t[1]=e}function bt(t,e){return t[e+2]}function _t(t,e){return 1&t[e+0]}function wt(t,e){return(1&_t(t,e))>0}function kt(t,e){return t[e+0]>>1}function Et(t,e,n){var r=_t(t,e);t[e+0]=r|n<<1}function St(t,e){return t[e+1]}function Ct(t,e,n){return t[e+3+n]}function It(t,e){return!(!t||e!==t[2])}function Tt(t){return(1&gt(t))>0}function xt(t){return(2&gt(t))>0}function At(t){return 6+t[4]}function Ot(t,e){var n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(t,e){return!(t!=t&&e!=e)&&t!==e}(n,r)}function Rt(t){return null!=t&&""!==t}function Pt(t){return t.replace(/[a-z][A-Z]/g,(function(t){return t.charAt(0)+"-"+t.charAt(1)})).toLowerCase()}function Nt(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function Mt(t,e){return t[e+0]}function Dt(t,e,n){t[e+1]=n}function Lt(t,e){return t[e+1]}var jt=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function Ft(t){return!!t.listen}function Ut(t){return t.ngDebugContext}function Bt(t){return t.ngOriginalError}function zt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var qt=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||zt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Ut(t)?Ut(t):this._findContext(Bt(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Bt(t);e&&Bt(e);)e=Bt(e);return e}}]),t}(),Vt=!0,Ht=!1;function Gt(){return Ht=!0,Vt}function Wt(){if(Ht)throw new Error("Cannot enable prod mode after platform setup.");Vt=!1}var Kt=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Yt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Zt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qt(t){return(t=String(t)).match(Yt)||t.match(Zt)?t:(Gt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Xt(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Jt(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var $t,te=Xt("area,br,col,hr,img,wbr"),ee=Xt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ne=Xt("rp,rt"),re=Jt(ne,ee),ie=Jt(te,Jt(ee,Xt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jt(ne,Xt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),re),oe=Xt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ae=Xt("srcset"),se=Jt(oe,ae,Xt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ue=Xt("script,style,template"),ce=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ie.hasOwnProperty(e))return this.sanitizedSomething=!0,!ue.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(se.hasOwnProperty(s)){var u=o.value;oe[s]&&(u=Qt(u)),ae[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Qt(t.trim())})).join(", ")),this.buf.push(" ",a,'="',fe(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ie.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(fe(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),le=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=/([^\#-~ |!])/g;function fe(t){return t.replace(/&/g,"&amp;").replace(le,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(he,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function de(t,e){var n=null;try{$t=$t||new Kt(t);var r=e?String(e):"";n=$t.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=$t.getInertBodyElement(r)}while(r!==o);var a=new ce,s=a.sanitizeChildren(pe(n)||n);return Gt()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=pe(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function pe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ve=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),me=_createClass((function t(){_classCallCheck(this,t)})),ge=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ye=/^url\(([^)]+)\)$/;function be(t){if(!(t=String(t).trim()))return"";var e=t.match(ye);return e&&Qt(e[1])===e[1]||t.match(ge)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Gt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}var _e=/([A-Z])/g;function we(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var ke=[];function Ee(t,e,n,r,i,o,a,s,u){Tt(t)||(a?function(t,e,n,r,i){ke.unshift(t,e,n,r,i)}(t,n,r,i,u):(ke.length&&Se(),Ce(t,n,r,i,u)));var c=s||Ot(e[i],o);return c&&(e[i]=o),c}function Se(){for(var t=0;t<ke.length;)Ce(ke[t++],ke[t++],ke[t++],ke[t++],ke[t++]);ke.length=0}function Ce(t,e,n,r,i){var o=!1;if(n){for(var a=!1,s=At(t);s<t.length;){var u=St(t,s),c=bt(t,s);if(a=n<=c){n<c&&Ie(t,s,n,i),Te(t,!1,s,r,e);break}s+=3+u}a||(Ie(t,t.length,n,i),Te(t,!1,s,r,e),o=!0)}else Te(t,!0,3,r,e),o=!0;return o}function Ie(t,e,n,r){t.splice(e,0,r?1:0,1,n,null),Et(t,e,1)}function Te(t,e,n,r,i){var o=n+3,a=o+St(t,n);if(e||a--,"number"==typeof r){for(var s=o;s<=a;s++)if(t[s]===r)return;t.splice(a,0,r),t[n+1]++,Et(t,n,kt(t,n)|1<<i)}else null!==r&&null==t[a]&&(t[a]=r)}function xe(t,e,n,r,i,o,a,s){return i&&r&&(function(t){if(!Tt(t)){var e=Nt(n=t)?n[0]:n;e&&function(t,e){for(var n=1;n<e.length;n+=2){var r=Lt(e,n);r&&Ce(t,-1,Mt(e,n),r,!1)}}(t,e),function(t){yt(t,1|gt(t))}(t)}var n}(r),function(t,e){return t&&e>0}(r,o))?(function(t,e,n,r,i,o,a){for(var s,u=!0===(s=i)?-1:!1===s?0:s,c=Ae,l=(u&kt(t,3))>0?1:0,h=At(t);h<t.length;){var f=St(t,h);if(u&kt(t,h)){for(var d=!1,p=bt(t,h),v=f-1,m=Ct(t,h,v),g=0;g<v;g++){var y=Ct(t,h,g),b=r[y];if(Rt(b)){o(e,n,p,a&&wt(t,h)?a(p,b,2):b,y),d=!0;break}}if(c){var _=c(t,e,n,r,o,a,l|(d?4:2),p,m);d=d||_}d||o(e,n,p,m)}h+=3+f}c&&c(t,e,n,r,o,a,l)}(r,t,e,n,o,a,s),!0):i}var Ae=null,Oe=function(t,e,n,r){var i=e.style;r?(r=r.toString(),t&&Ft(t)?t.setStyle(e,n,r,jt.DashCase):i&&i.setProperty(n,r)):t&&Ft(t)?t.removeStyle(e,n,jt.DashCase):i&&i.removeProperty(n)},Re=function(t,e,n,r){if(""!==n){var i=e.classList;r?t&&Ft(t)?t.addClass(e,n):i&&i.add(n):t&&Ft(t)?t.removeClass(e,n):i&&i.remove(n)}},Pe={},Ne=function(t,e,n,r,i,o,a,s,u){var c=!1;if(St(t,3)){var l=!0,h=!s;h&&-2&a&&(l=!1,c=!0),l&&(c=function t(e,n,r,i,o,a,s,u,c,l){var h,f=!1;if(c<St(e,3)){for(var d=Ct(e,3,c),p=i[d],v=((h=c)>=Le.length&&Le.push(1),Le[h]);v<p.length;){var m=Mt(p,v),g=u&&m>u,y=!g&&m===u,b=Lt(p,v),_=Rt(b),w=t(e,n,r,i,o,a,g?s:Me(s,_,y),g?u:m,c+1,l);if(g){f||(f=w);break}if(!w&&De(s,y)){var k=y&&!_,E=k?l:b,S=k?d:null;o(n,r,m,a?a(m,E,3):E,S),w=!0}f=w&&y,v+=2}if(Le[c]=v,1===p.length||!u)return t(e,n,r,i,o,a,s,u,c+1,l)}return f}(t,e,n,r,i,o,a,s||null,0,u||null)),h&&function(){for(var t=0;t<Le.length;t++)Le[t]=1}()}return c};function Me(t,e,n){var r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function De(t,e){var n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}var Le=[];function je(t,e,n,r){for(var i=1;i<t.length;i+=2){var o=Mt(t,i);if(e<=o){var a=!1;if(o===e){var s=t[i];!r&&Rt(s)||(a=!0,Dt(t,i,n))}else a=!0,t.splice(i,0,e,n);return a}}return t.push(e,n),!0}var Fe=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.__NG_ELEMENT_ID__=function(){return Ue()},t}(),Ue=function(){},Be=new M("The presence of this token marks an injector as being the root injector."),ze=function(t,e,n){return new Ke(t,e,n)},qe=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?ze(t,e,""):ze(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=L,t.NULL=new V,t.ngInjectableDef=k({token:t,providedIn:"any",factory:function(){return z(D)}}),t.__NG_ELEMENT_ID__=-1,t}(),Ve=function(t){return t},He=[],Ge=Ve,We=function(){return Array.prototype.slice.call(arguments)},Ke=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.parent=n,this.source=r;var i=this._records=new Map;i.set(qe,{token:qe,fn:Ve,deps:He,value:this,useNew:!1}),i.set(D,{token:D,fn:Ve,deps:He,value:this,useNew:!1}),function t(e,n){if(n)if((n=x(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Ze("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ze("Unexpected provider",n);var i=x(n.provide),o=function(t){var e=function(t){var e=He,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=x(n[r]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var u=s[a];u instanceof g||u==g?i|=1:u instanceof b||u==b?i&=-3:u instanceof y||u==y?i&=-5:o=u instanceof m?u.token:x(u)}e.push({token:o,options:i})}}else if(t.useExisting)e=[{token:x(t.useExisting),options:6}];else if(!(n||F in t))throw Ze("'deps' required",t);return e}(t),n=Ve,r=He,i=!1,o=x(t.provide);if(F in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=x(t.useClass);else{if("function"!=typeof o)throw Ze("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==We)throw Ye(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:We,value:He});i=n,a.deps.push({token:i,options:6})}var s=e.get(i);if(s&&s.fn==We)throw Ye(i);e.set(i,o)}}(i,e)}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.Default,r=this._records.get(t);try{return function t(e,n,r,i,o,a){try{return function(e,n,r,i,o,a){var s;if(!n||a&_.SkipSelf)a&_.Self||(s=i.get(e,o,_.Default));else{if((s=n.value)==Ge)throw Error("\u0275Circular dependency");if(s===He){n.value=Ge;var u=n.useNew,c=n.fn,l=n.deps,h=He;if(l.length){h=[];for(var f=0;f<l.length;f++){var d=l[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(t(d.token,v,r,v||4&p?i:qe.NULL,1&p?null:qe.THROW_IF_NOT_FOUND,_.Default))}}n.value=s=u?_construct3(c,_toConsumableArray(h)):c.apply(void 0,h)}}return s}(e,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==Ge&&(n.value=He),s}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=H("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}},{key:"toString",value:function(){var t=[];return this._records.forEach((function(e,n){return t.push(C(n))})),"StaticInjector[".concat(t.join(", "),"]")}}]),t}();function Ye(t){return Ze("Cannot mix multi providers and regular providers",t)}function Ze(t,e){return new Error(H(t,e,"StaticInjectorError"))}var Qe=new M("AnalyzeForEntryComponents");function Xe(t){var e=(void 0)[1];e.firstTemplatePass&&(function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(e,0,t),function(t,e,n){for(var r=0;r<n;r++)(void 0).push(Pe),t.blueprint.push(Pe),t.data.push(null)}(e,0,t))}var Je=null;function $e(){if(!Je){var t=N.Symbol;if(t&&t.iterator)Je=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Je=r)}}return Je}function tn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function en(t,e){var n=rn(t),r=rn(e);return n&&r?function(t,e,n){for(var r=t[$e()](),i=e[$e()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,en):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||tn(t,e)}var nn=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function rn(t){return!!on(t)&&(Array.isArray(t)||!(t instanceof Map)&&$e()in t)}function on(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function an(){(void 0)[1].firstTemplatePass&&(mt(fn(void 0),1),mt(hn(void 0),1))}function sn(t){cn(-1,hn(dt(-1,void 0)),(void 0)[7]++,t,!1,!1)}function un(t){!function(t,e){cn(-1,fn(dt(-1,void 0)),(void 0)[7]++,e,!0,!1)}(0,t)}function cn(t,e,n,r,i,o){Ae=Ne;var a=!1;if(r!==Pe){var s=ft(dt(t,void 0),void 0),u=(void 0)[n];a=Ot(u,r);var c=function(t,e,n){var r=Array.isArray(t)?t:[null];r[0]=e||null;for(var i=1;i<r.length;i+=2)Dt(r,i,null);var o,a=null,s=!1;if("string"==typeof e?e.length&&(a=e.split(/\s+/),s=!0):(a=e?Object.keys(e):null,o=e),a)for(var u=0;u<a.length;u++){var c=a[u];je(r,n?Pt(c):c,!!s||o[c],!0)}return r}(u,r,!i);i?function(t,e,n,r,i,o,a,s){var u=ht(n,xt(t));!Ee(t,void 0,0,null,i,o,a,s,!1)&&!s||(u.classesBitMask|=1)}(e,0,s,0,n,c,o,a):function(t,e,n,r,i,o,a,s,u){var c=ht(n,xt(t));!Ee(t,void 0,0,null,i,o,s,u,!0)&&!u||(c.stylesBitMask|=1)}(e,0,s,0,n,c,pt(),o,a)}return a}function ln(){var t=dt(-1,void 0),e=function(t,e){return 3===t.type?(void 0)[12]:null}(t),n=ft(t,void 0),r=pt();(function(t,e,n,r,i,o,a){var s=n?xt(n):!!r&&xt(r),u=It(n,1),c=It(r,1);ke.length&&(u||c)&&Se();var l=ht(i,s),h=xe(t,i,void 0,n,u,l.classesBitMask,Re,null),f=xe(t,i,void 0,r,c,l.stylesBitMask,Oe,a);h&&f?(ut=null,lt=null,s&&function(t){ct.delete(t)}(i)):s&&function(t,e){ct.set(t,e)}(i,l)})(e,0,fn(t),hn(t),n,0,r),at=null}function hn(t){return dn(t,!1)}function fn(t){return dn(t,!0)}function dn(t,e){var n=e?t.classes:t.styles;return Nt(n)||(n=[n||[""],0,0,1,0,"--MAP--"],e?t.classes=n:t.styles=n),n}function pn(t){return!!t&&"function"==typeof t.then}function vn(t){return!!t&&"function"==typeof t.subscribe}var mn=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}(),gn=_createClass((function t(){_classCallCheck(this,t)}));function yn(t){var e=Error("No component factory found for ".concat(C(t),". Did you add it to @NgModule.entryComponents?"));return e[bn]=t,e}var bn="ngComponent",_n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw yn(t)}}]),t}(),wn=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.NULL=new _n,t}(),kn=function(){function t(e,n,r){_classCallCheck(this,t),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<e.length;i++){var o=e[i];this._factories.set(o.componentType,o)}}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw yn(t);return new En(e,this._ngModule)}}]),t}(),En=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e)).factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}]),e}(gn);function Sn(){}var Cn=function(){var t=_createClass((function t(e){_classCallCheck(this,t),this.nativeElement=e}));return t.__NG_ELEMENT_ID__=function(){return In(t)},t}(),In=Sn,Tn=_createClass((function t(){_classCallCheck(this,t)})),xn=_createClass((function t(){_classCallCheck(this,t)})),An=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),On=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.__NG_ELEMENT_ID__=function(){return Rn()},t}(),Rn=Sn,Pn=_createClass((function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")})),Nn=new Pn("8.2.14"),Mn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return rn(t)}},{key:"create",value:function(t){return new Ln(t)}}]),t}(),Dn=function(t,e){return e},Ln=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Dn}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Bn(n,r,i)?e:n,a=Bn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!rn(t))throw new Error("Error trying to diff '".concat(C(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&tn(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),tn(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[$e()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&tn(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),tn(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(tn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(tn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new jn(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Un),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Un),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),jn=_createClass((function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null})),Fn=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&tn(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Un=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Fn,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Bn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var zn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||on(t)}},{key:"create",value:function(){return new qn}}]),t}(),qn=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||on(t)))throw new Error("Error trying to diff '".concat(C(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Vn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){tn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}}]),t}(),Vn=_createClass((function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null})),Hn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new g]]}}}]),t}();return t.ngInjectableDef=k({token:t,providedIn:"root",factory:function(){return new t([new Mn])}}),t}(),Gn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new g]]}}}]),t}();return t.ngInjectableDef=k({token:t,providedIn:"root",factory:function(){return new t([new zn])}}),t}(),Wn=[new zn],Kn=new Hn([new Mn]),Yn=new Gn(Wn),Zn=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.__NG_ELEMENT_ID__=function(){return Qn(t,Cn)},t}(),Qn=Sn,Xn=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.__NG_ELEMENT_ID__=function(){return Jn(t,Cn)},t}(),Jn=Sn;function $n(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return tr(n,e),n}(i,t)}function tr(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function er(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function nr(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function rr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ir(t,e){return t.nodes[e]}function or(t,e){return t.nodes[e]}function ar(t,e){return t.nodes[e]}function sr(t,e){return t.nodes[e]}function ur(t,e){return t.nodes[e]}var cr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},lr=function(){},hr=new Map;function fr(t){var e=hr.get(t);return e||(e=C(t)+"_"+hr.size,hr.set(t,e)),e}function dr(t,e,n,r){if(nn.isWrapped(r)){r=nn.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=nn.unwrap(t.oldValues[i]);t.oldValues[i]=new nn(o)}return r}function pr(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var vr=0;function mr(t,e,n,r){return!(!(2&t.state)&&tn(t.oldValues[e.bindingIndex+n],r))}function gr(t,e,n,r){return!!mr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function yr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!en(i,r)){var o=e.bindings[n].name;throw $n(cr.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&t.state))}}function br(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function _r(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function wr(t,e,n,r){try{return br(33554432&t.def.nodes[e].flags?or(t,e).componentView:t),cr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function kr(t){return t.parent?or(t.parent,t.parentNodeDef.nodeIndex):null}function Er(t){return t.parent?t.parentNodeDef.parent:null}function Sr(t,e){switch(201347067&e.flags){case 1:return or(t,e.nodeIndex).renderElement;case 2:return ir(t,e.nodeIndex).renderText}}function Cr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Ir(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Tr(t){return 1<<t%32}function xr(t){var e={},n=0,r={};return t&&t.forEach((function(t){var i=_slicedToArray(t,2),o=i[0],a=i[1];"number"==typeof o?(e[o]=a,n|=Tr(o)):r[o]=a})),{matchedQueries:e,references:r,matchedQueryIds:n}}function Ar(t,e){return t.map((function(t){var n,r,i;return Array.isArray(t)?(i=(n=_slicedToArray(t,2))[0],r=n[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,"__source",{value:e,configurable:!0}),{flags:i,token:r,tokenKey:fr(r)}}))}function Or(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Q.Native?or(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Rr=new WeakMap;function Pr(t){var e=Rr.get(t);return e||((e=t((function(){return lr}))).factory=t,Rr.set(t,e)),e}function Nr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Sr(t,t.def.lastRenderRootNode))),Mr(t,e,0,t.def.nodes.length-1,n,r,i)}function Mr(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&Lr(t,u,e,i,o,a),s+=u.childCount}}function Dr(t,e,n,r,i,o){for(var a=t;a&&!Cr(a);)a=a.parent;for(var s=a.parent,u=Er(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&Lr(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(var d=0;d<f.length;d++)jr(t,f[d],n,r,i,o)}}function Lr(t,e,n,r,i,o){if(8&e.flags)Dr(t,e.ngContent.index,n,r,i,o);else{var a=Sr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&jr(t,a,n,r,i,o),32&e.bindingFlags&&jr(or(t,e.nodeIndex).componentView,a,n,r,i,o)):jr(t,a,n,r,i,o),16777216&e.flags)for(var s=or(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Nr(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Mr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function jr(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Fr=/^:([^:]+):(.+)$/;function Ur(t){if(":"===t[0]){var e=t.match(Fr);return[e[1],e[2]]}return["",t]}function Br(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}var zr=new Object,qr=fr(qe),Vr=fr(D),Hr=fr(G);function Gr(t,e,n,r){return n=x(n),{index:-1,deps:Ar(r,C(e)),flags:t,token:e,value:n}}function Wr(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Be&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[fr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Kr(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.THROW_IF_NOT_FOUND,o=B(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(i=null),1&e.flags)return t._parent.get(e.token,i);var a=e.tokenKey;switch(a){case qr:case Vr:case Hr:return t}var s,u=t._def.providersByKey[a];if(u){var c=t._providers[u.index];return void 0===c&&(c=t._providers[u.index]=Yr(t,u)),c===zr?void 0:c}if((s=E(e.token))&&(n=t,null!=(r=s).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var l=t._providers.length;return t._def.providers[l]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:e.token},t._providers[l]=zr,t._providers[l]=Yr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?i:t._parent.get(e.token,i)}finally{B(o)}}function Yr(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Kr(t,n[0]));case 2:return new e(Kr(t,n[0]),Kr(t,n[1]));case 3:return new e(Kr(t,n[0]),Kr(t,n[1]),Kr(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Kr(t,n[o]);return _construct3(e,i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Kr(t,n[0]));case 2:return e(Kr(t,n[0]),Kr(t,n[1]));case 3:return e(Kr(t,n[0]),Kr(t,n[1]),Kr(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Kr(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=Kr(t,e.deps[0]);break;case 256:n=e.value}return n===zr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?zr:n}function Zr(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Y(n,e),cr.dirtyParentQueries(r),Xr(r),r}function Qr(t,e,n){var r=e?Sr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Nr(n,2,i,o,void 0)}function Xr(t){Nr(t,3,null,null,void 0)}var Jr=new Object;function $r(t,e,n,r,i,o){return new ti(t,e,n,r,i,o)}var ti=function(t){function e(t,n,r,i,o,a){var s;return _classCallCheck(this,e),(s=_callSuper(this,e)).selector=t,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return _inherits(e,t),_createClass(e,[{key:"inputs",get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t}},{key:"outputs",get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}},{key:"create",value:function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Pr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=cr.createRootView(t,e||[],n,i,r,Jr),s=ar(a,o).instance;return n&&a.renderer.setAttribute(or(a,0).renderElement,"ng-version",Nn.full),new ei(a,new oi(a),s)}}]),e}(gn),ei=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e))._view=t,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return _inherits(e,t),_createClass(e,[{key:"location",get:function(){return new Cn(or(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new ci(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}},{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(t){this._viewRef.onDestroy(t)}}]),e}(function(){return _createClass((function t(){_classCallCheck(this,t)}))}());function ni(t,e,n){return new ri(t,e,n)}var ri=function(){function t(e,n,r){_classCallCheck(this,t),this._view=e,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(t,[{key:"element",get:function(){return new Cn(this._data.renderElement)}},{key:"injector",get:function(){return new ci(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Er(t),t=t.parent;return t?new ci(t,e):new ci(this._view,null)}},{key:"clear",value:function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Zr(this._data,t);cr.destroyView(e)}}},{key:"get",value:function(t){var e=this._embeddedViews[t];if(e){var n=new oi(e);return n.attachToViewContainerRef(this),n}return null}},{key:"length",get:function(){return this._embeddedViews.length}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof En||(i=o.get(G));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=t;return n=this._view,r=this._data,i=e,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,K(a,i,o),function(t,e){var n=kr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(r,o),cr.dirtyParentQueries(o),Qr(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return n=this._data,r=s,i=e,o=n.viewContainer._embeddedViews,a=o[r],Y(o,r),null==i&&(i=o.length),K(o,i,a),cr.dirtyParentQueries(a),Xr(a),Qr(n,i>0?o[i-1]:null,a),t}},{key:"indexOf",value:function(t){return this._embeddedViews.indexOf(t._view)}},{key:"remove",value:function(t){var e=Zr(this._data,t);e&&cr.destroyView(e)}},{key:"detach",value:function(t){var e=Zr(this._data,t);return e?new oi(e):null}}]),t}();function ii(t){return new oi(t)}var oi=function(){function t(e){_classCallCheck(this,t),this._view=e,this._viewContainerRef=null,this._appRef=null}return _createClass(t,[{key:"rootNodes",get:function(){return Nr(this._view,0,void 0,void 0,t=[]),t;var t}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}},{key:"markForCheck",value:function(){br(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{cr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}},{key:"checkNoChanges",value:function(){cr.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),cr.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Xr(this._view),cr.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}]),t}();function ai(t,e){return new si(t,e)}var si=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e))._parentView=t,r._def=n,r}return _inherits(e,t),_createClass(e,[{key:"createEmbeddedView",value:function(t){return new oi(cr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}},{key:"elementRef",get:function(){return new Cn(or(this._parentView,this._def.nodeIndex).renderElement)}}]),e}(Zn);function ui(t,e){return new ci(t,e)}var ci=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.elDef=n}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.THROW_IF_NOT_FOUND;return cr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:fr(t)},e)}}]),t}();function li(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=or(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return ir(t,n.nodeIndex).renderText;if(20240&n.flags)return ar(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function hi(t){return new fi(t.renderer)}var fi=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"selectRootElement",value:function(t){return this.delegate.selectRootElement(t)}},{key:"createElement",value:function(t,e){var n=_slicedToArray(Ur(e),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o}},{key:"createViewRoot",value:function(t){return t}},{key:"createTemplateAnchor",value:function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}},{key:"createText",value:function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}},{key:"projectNodes",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}},{key:"attachViewAfter",value:function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}},{key:"detachView",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"listenGlobal",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"setElementProperty",value:function(t,e,n){this.delegate.setProperty(t,e,n)}},{key:"setElementAttribute",value:function(t,e,n){var r=_slicedToArray(Ur(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)}},{key:"setBindingDebugInfo",value:function(t,e,n){}},{key:"setElementClass",value:function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}},{key:"setElementStyle",value:function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}},{key:"invokeElementMethod",value:function(t,e,n){t[e].apply(t,n)}},{key:"setText",value:function(t,e){this.delegate.setValue(t,e)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),t}();function di(t,e,n,r){return new pi(t,e,n,r)}var pi=function(){function t(e,n,r,i){_classCallCheck(this,t),this._moduleType=e,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Yr(t,i))}}(this)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.Default,r=0;return n&_.SkipSelf?r|=1:n&_.Self&&(r|=4),Kr(this,{token:t,tokenKey:fr(t),flags:r},e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(wn)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(C(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==zr){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}}]),t}(),vi=fr(Tn),mi=fr(On),gi=fr(Cn),yi=fr(Xn),bi=fr(Zn),_i=fr(Fe),wi=fr(qe),ki=fr(D);function Ei(t,e,n,r,i,o,a,s){var u=[];if(a)for(var c in a){var l=_slicedToArray(a[c],2),h=l[0],f=l[1];u[h]={flags:8,name:c,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var p in s)d.push({type:1,propName:p,target:null,eventName:s[p]});return Ii(t,e|=16384,n,r,i,i,o,u,d)}function Si(t,e,n){return Ii(-1,t|=16,null,0,e,e,n)}function Ci(t,e,n,r,i){return Ii(-1,t,e,0,n,r,i)}function Ii(t,e,n,r,i,o,a,s,u){var c=xr(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=x(o);var d=Ar(a,C(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Br(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Ti(t,e){return Ri(t,e)}function xi(t,e){for(var n=t;n.parent&&!Cr(n);)n=n.parent;return Pi(n.parent,Er(n),!0,e.provider.value,e.provider.deps)}function Ai(t,e){var n=Pi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!vn(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(Oi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Oi(t,e,n){return function(r){return wr(t,e,n,r)}}function Ri(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Pi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(Mi(t,e,n,i[0]));case 2:return r(Mi(t,e,n,i[0]),Mi(t,e,n,i[1]));case 3:return r(Mi(t,e,n,i[0]),Mi(t,e,n,i[1]),Mi(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=Mi(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return Mi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Pi(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(Mi(t,e,n,i[0]));case 2:return new r(Mi(t,e,n,i[0]),Mi(t,e,n,i[1]));case 3:return new r(Mi(t,e,n,i[0]),Mi(t,e,n,i[1]),Mi(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=Mi(t,e,n,i[s]);return _construct3(r,a)}}var Ni={};function Mi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qe.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===_i&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case vi:return hi(Di(s,e,n));case mi:return Di(s,e,n).renderer;case gi:return new Cn(or(s,e.nodeIndex).renderElement);case yi:return or(s,e.nodeIndex).viewContainer;case bi:if(e.element.template)return or(s,e.nodeIndex).template;break;case _i:return ii(Di(s,e,n));case wi:case ki:return ui(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=ar(s,u.nodeIndex);return c||(c={instance:Ri(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=Cr(s),e=Er(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,Ni);return l!==Ni||i===Ni?l:o.root.ngModule.injector.get(r.token,i)}function Di(t,e,n){var r;if(n)r=or(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Cr(r);)r=r.parent;return r}function Li(t,e,n,r,i,o){if(32768&n.flags){var a=or(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=nn.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new mn(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function ji(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Ui(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Fi(t,a,e,r)),a=a.parent}}function Fi(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Ui(t,i,o.flags&n,r++),i+=o.childCount}return r}function Ui(t,e,n,r){var i=ar(t,e);if(i){var o=i.instance;o&&(cr.setCurrentNode(t,e),1048576&n&&rr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&rr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Bi=new M("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return vt}}),zi={},qi=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Vi=void 0,Hi=["en",[["a","p"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vi,"{1} 'at' {0}",Vi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Gi(t){return Wi(t)[qi.PluralCase]}function Wi(t){var e=t.toLowerCase().replace(/_/g,"-"),n=zi[e];if(n)return n;var r=e.split("-")[0];if(n=zi[r])return n;if("en"===r)return Hi;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}var Ki=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,e),(t=_callSuper(this,e)).__isAsync=n,t}return _inherits(e,t),_createClass(e,[{key:"emit",value:function(t){_get(_getPrototypeOf3(e.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,n,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},n&&(a=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf3(e.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),e}(r.a);function Yi(){return this._results[$e()]()}var Zi=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Ki,this.length=0;var e=$e(),n=t.prototype;n[e]||(n[e]=Yi)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Qi=new M("Application Initializer"),Xi=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();pn(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}(),Ji=new M("AppId");function $i(){return"".concat(to()).concat(to()).concat(to())}function to(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var eo=new M("Platform Initializer"),no=new M("Platform ID"),ro=new M("appBootstrapListener"),io=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}(),oo=new M("LocaleId");function ao(){throw new Error("Runtime compiler is not loaded")}var so,uo,co=ao,lo=ao,ho=ao,fo=ao,po=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=co,this.compileModuleAsync=lo,this.compileModuleAndAllComponentsSync=ho,this.compileModuleAndAllComponentsAsync=fo}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}(),vo=_createClass((function t(){_classCallCheck(this,t)}));var mo,go=!(!(mo=N.wtf)||(so=mo.trace,!so)||(uo=so.events,0));function yo(t,e){return null}var bo=go?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return uo.createScope(t,e)}:function(t,e){return yo},_o=go?function(t,e){return so.leaveScope(t,e),e}:function(t,e){return e},wo=Promise.resolve(0);function ko(t){"undefined"==typeof Zone?wo.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Eo=function(){function t(e){var n,r=e.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki(!1),this.onMicrotaskEmpty=new Ki(!1),this.onStable=new Ki(!1),this.onError=new Ki(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,r,i,o,a){try{return To(n),t.invokeTask(r,i,o,a)}finally{xo(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return To(n),t.invoke(r,i,o,a,s)}finally{xo(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Io(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Co,So,So);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function So(){}var Co={};function Io(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function To(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xo(t){t._nesting--,Io(t)}var Ao=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ki,this.onMicrotaskEmpty=new Ki,this.onStable=new Ki,this.onError=new Ki}return _createClass(t,[{key:"run",value:function(t){return t()}},{key:"runGuarded",value:function(t){return t()}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t){return t()}}]),t}(),Oo=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Eo.assertNotInAngularZone(),ko((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ko((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}(),Ro=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Mo.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Mo.findTestabilityInTree(this,t,e)}}]),t}();function Po(t){Mo=t}var No,Mo=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Do=new M("AllowMultipleToken"),Lo=_createClass((function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n}));function jo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new M(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Fo();if(!o||o.injector.get(Do,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(No&&!No.destroyed&&!No.injector.get(Do,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");No=t.get(Uo);var e=t.get(eo,null);e&&e.forEach((function(t){return t()}))}(qe.create({providers:a,name:r}))}return function(t){var e=Fo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Fo(){return No&&!No.destroyed?No:null}var Uo=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Ao:("zone.js"===n?void 0:n)||new Eo({enableLongStackTrace:Gt()}),o=[{provide:Eo,useValue:i}];return i.run((function(){var e=qe.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(qt,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Vo(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})})),function(t,e,i){try{var o=((a=n.injector.get(Xi)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return pn(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(a,i)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Bo({},n);return function(t,e,n){return t.get(vo).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(qo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(C(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Bo(t,e){return Array.isArray(e)?e.reduce(Bo,t):Object.assign({},t,e)}var zo,qo=((zo=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Gt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),d=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){Eo.assertNotInAngularZone(),ko((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Eo.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,d.pipe((function(t){return u()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof gn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof En?null:this._injector.get(G),o=n.create(qe.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Oo,null);return a&&o.injector.get(Ro).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Gt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.detectChanges()}catch(s){i.e(s)}finally{i.f()}if(this._enforceNoNewChanges){var o,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(o=a.n()).done;)o.value.checkNoChanges()}catch(s){a.e(s)}finally{a.f()}}}catch(u){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(u)}))}finally{this._runningTick=!1,_o(n)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Vo(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ro,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Vo(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}())._tickScope=bo("ApplicationRef#tick()"),zo);function Vo(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ho=_createClass((function t(){_classCallCheck(this,t)})),Go=_createClass((function t(){_classCallCheck(this,t)})),Wo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ko=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Wo}return _createClass(t,[{key:"load",value:function(t){return this._compiler instanceof po?this.loadFactory(t):this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Yo(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Yo(t,r,i)}))}}]),t}();function Yo(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Zo=_createClass((function t(e,n){_classCallCheck(this,t),this.name=e,this.callback=n})),Qo=function(){function t(e,n,r){_classCallCheck(this,t),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=e,n&&n instanceof Xo&&n.addChild(this)}return _createClass(t,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),t}(),Xo=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t,n,r])).properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=t,i}return _inherits(e,t),_createClass(e,[{key:"addChild",value:function(t){t&&(this.childNodes.push(t),t.parent=this)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}},{key:"insertChildrenAfter",value:function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(e))),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))}},{key:"insertBefore",value:function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}},{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var n=[];return function t(n,r,i){n.childNodes.forEach((function(n){n instanceof e&&(r(n)&&i.push(n),t(n,r,i))}))}(this,t,n),n}},{key:"queryAllNodes",value:function(t){var n=[];return function t(n,r,i){n instanceof e&&n.childNodes.forEach((function(n){r(n)&&i.push(n),n instanceof e&&t(n,r,i)}))}(this,t,n),n}},{key:"children",get:function(){return this.childNodes.filter((function(t){return t instanceof e}))}},{key:"triggerEventHandler",value:function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))}}]),e}(Qo),Jo=new Map,$o=function(t){return Jo.get(t)||null};function ta(t){Jo.set(t.nativeNode,t)}var ea=jo(null,"core",[{provide:no,useValue:"unknown"},{provide:Uo,deps:[qe]},{provide:Ro,deps:[]},{provide:io,deps:[]}]);function na(){return Kn}function ra(){return Yn}function ia(t){return t||"en-US"}function oa(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var aa=_createClass((function t(e){_classCallCheck(this,t)}));function sa(t,e,n,r,i,o){t|=1;var a=xr(e),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Pr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||lr},provider:null,text:null,query:null,ngContent:null}}function ua(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;l||(l=lr);var d=xr(n),p=d.matchedQueries,v=d.references,m=d.matchedQueryIds,g=null,y=null;o&&(g=(a=_slicedToArray(Ur(o),2))[0],y=a[1]),u=u||[];for(var b=new Array(u.length),_=0;_<u.length;_++){var w=_slicedToArray(u[_],3),k=w[0],E=w[1],S=w[2],C=Ur(E),I=_slicedToArray(C,2),T=I[0],x=I[1],A=void 0,O=void 0;switch(15&k){case 4:O=S;break;case 1:case 8:A=S}b[_]={flags:k,ns:T,name:x,nonMinifiedName:x,securityContext:A,suffix:O}}c=c||[];for(var R=new Array(c.length),P=0;P<c.length;P++){var N=_slicedToArray(c[P],2),M=N[0],D=N[1];R[P]={type:0,target:M,eventName:D,propName:null}}var L=(s=s||[]).map((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=_slicedToArray(Ur(n),2);return[i[0],i[1],r]}));return f=function(t){if(t&&"$$undefined"===t.id){var e=null!=t.encapsulation&&t.encapsulation!==Q.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+vr++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:v,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:Br(b),outputs:R,element:{ns:g,name:y,attrs:L,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||lr},provider:null,text:null,query:null,ngContent:null}}function ca(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Or(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Q.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=_slicedToArray(i.attrs[u],3),l=c[0],h=c[1],f=c[2];a.setAttribute(r,h,f,l)}return r}function la(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=ha(t,n.nodeIndex,(h=o.eventName,(l=o.target)?"".concat(l,":").concat(h):h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var c=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=c}var l,h}function ha(t,e,n){return function(r){return wr(t,e,n,r)}}function fa(t,e,n,r){if(!gr(t,e,n,r))return!1;var i=e.bindings[n],o=or(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(ve.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function da(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Tr(e),bindings:r},ngContent:null}}function pa(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Ir(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=t.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&ur(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var a=0;a<t.def.nodes.length;a++){var s=t.def.nodes[a];134217728&s.flags&&536870912&s.flags&&ur(t,a).setDirty(),a+=s.childCount}}function va(t,e){var n=ur(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=ma(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=ar(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=ma(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function ma(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(ga(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=or(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(ma(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=kr(h);f&&f===u&&ma(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];ma(v,0,v.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function ga(t,e,n){if(null!=n)switch(n){case 1:return or(t,e.nodeIndex).renderElement;case 0:return new Cn(or(t,e.nodeIndex).renderElement);case 2:return or(t,e.nodeIndex).template;case 3:return or(t,e.nodeIndex).viewContainer;case 4:return ar(t,e.nodeIndex).instance}}function ya(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ba(t,e,n){var r=Or(t,e,n);r&&Dr(t,n.ngContent.index,1,r,null,void 0)}function _a(t,e){return Ea(128,t,new Array(e+1))}function wa(t,e){return Ea(32,t,new Array(e))}function ka(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return Ea(64,t,i)}function Ea(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Br(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Sa(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ca(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Or(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ia(t,e){return(null!=t?t.toString():"")+e.suffix}function Ta(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=c,v.bindingIndex=i,v.outputIndex=o,v.renderParent=l,a|=v.flags,u|=v.matchedQueryIds,v.element){var m=v.element;m.publicProviders=c?c.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Aa(c,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!l&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var g=0!=(32768&v.flags);0==(8192&v.flags)||g?c.element.publicProviders[fr(v.provider.token)]=v:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[fr(v.provider.token)]=v),g&&(c.element.componentProvider=v)}if(c?(c.childFlags|=v.flags,c.directChildFlags|=v.flags,c.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(c.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)c=v,xa(v)||(l=v);else for(;c&&p===c.nodeIndex+c.childCount;){var y=c.parent;y&&(y.childFlags|=c.childFlags,y.childMatchedQueries|=c.childMatchedQueries),l=(c=y)&&xa(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||lr,updateRenderer:r||lr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function xa(t){return 0!=(1&t.flags)&&null===t.element.name}function Aa(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function Oa(t,e,n,r){var i=Na(t.root,t.renderer,t,e,n);return Ma(i,t.component,r),Da(i),i}function Ra(t,e,n){var r=Na(t,t.renderer,null,null,e);return Ma(r,n,n),Da(r),r}function Pa(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Na(t.root,i,t,e.element.componentProvider,n)}function Na(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Ma(t,e,n){t.component=e,t.context=n}function Da(t){var e;Cr(t)&&(e=or(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(cr.setCurrentNode(t,i),201347067&o.flags){case 1:var s=ca(t,e,o),u=void 0;if(33554432&o.flags){var c=Pr(o.element.componentView);u=cr.createComponentView(t,o,c,s)}la(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?ai(t,o):void 0},16777216&o.flags&&(a.viewContainer=ni(t,o,a));break;case 2:a=Ca(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Ti(t,o)});break;case 16:a={instance:xi(t,o)};break;case 16384:(a=r[i])||(a={instance:Ai(t,o)}),32768&o.flags&&Ma(or(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Zi;break;case 8:ba(t,e,o),a=void 0}r[i]=a}Ha(t,Va.CreateViewNodes),Ya(t,201326592,268435456,0)}function La(t){Ua(t),cr.updateDirectives(t,1),Ga(t,Va.CheckNoChanges),cr.updateRenderer(t,1),Ha(t,Va.CheckNoChanges),t.state&=-97}function ja(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,nr(t,0,256),Ua(t),cr.updateDirectives(t,0),Ga(t,Va.CheckAndUpdate),Ya(t,67108864,536870912,0);var e=nr(t,256,512);ji(t,2097152|(e?1048576:0)),cr.updateRenderer(t,0),Ha(t,Va.CheckAndUpdate),Ya(t,134217728,536870912,0),ji(t,8388608|((e=nr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,nr(t,768,1024)}function Fa(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length,d=!1;return f>0&&fa(t,e,0,n)&&(d=!0),f>1&&fa(t,e,1,r)&&(d=!0),f>2&&fa(t,e,2,i)&&(d=!0),f>3&&fa(t,e,3,o)&&(d=!0),f>4&&fa(t,e,4,a)&&(d=!0),f>5&&fa(t,e,5,s)&&(d=!0),f>6&&fa(t,e,6,u)&&(d=!0),f>7&&fa(t,e,7,c)&&(d=!0),f>8&&fa(t,e,8,l)&&(d=!0),f>9&&fa(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,a,s,u,c,l,h);case 2:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&gr(t,e,0,n)&&(f=!0),p>1&&gr(t,e,1,r)&&(f=!0),p>2&&gr(t,e,2,i)&&(f=!0),p>3&&gr(t,e,3,o)&&(f=!0),p>4&&gr(t,e,4,a)&&(f=!0),p>5&&gr(t,e,5,s)&&(f=!0),p>6&&gr(t,e,6,u)&&(f=!0),p>7&&gr(t,e,7,c)&&(f=!0),p>8&&gr(t,e,8,l)&&(f=!0),p>9&&gr(t,e,9,h)&&(f=!0),f){var v=e.text.prefix;p>0&&(v+=Ia(n,d[0])),p>1&&(v+=Ia(r,d[1])),p>2&&(v+=Ia(i,d[2])),p>3&&(v+=Ia(o,d[3])),p>4&&(v+=Ia(a,d[4])),p>5&&(v+=Ia(s,d[5])),p>6&&(v+=Ia(u,d[6])),p>7&&(v+=Ia(c,d[7])),p>8&&(v+=Ia(l,d[8])),p>9&&(v+=Ia(h,d[9]));var m=ir(t,e.nodeIndex).renderText;t.renderer.setValue(m,v)}return f}(t,e,n,r,i,o,a,s,u,c,l,h);case 16384:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=ar(t,e.nodeIndex),d=f.instance,p=!1,v=void 0,m=e.bindings.length;return m>0&&mr(t,e,0,n)&&(p=!0,v=Li(t,f,e,0,n,v)),m>1&&mr(t,e,1,r)&&(p=!0,v=Li(t,f,e,1,r,v)),m>2&&mr(t,e,2,i)&&(p=!0,v=Li(t,f,e,2,i,v)),m>3&&mr(t,e,3,o)&&(p=!0,v=Li(t,f,e,3,o,v)),m>4&&mr(t,e,4,a)&&(p=!0,v=Li(t,f,e,4,a,v)),m>5&&mr(t,e,5,s)&&(p=!0,v=Li(t,f,e,5,s,v)),m>6&&mr(t,e,6,u)&&(p=!0,v=Li(t,f,e,6,u,v)),m>7&&mr(t,e,7,c)&&(p=!0,v=Li(t,f,e,7,c,v)),m>8&&mr(t,e,8,l)&&(p=!0,v=Li(t,f,e,8,l,v)),m>9&&mr(t,e,9,h)&&(p=!0,v=Li(t,f,e,9,h,v)),v&&d.ngOnChanges(v),65536&e.flags&&rr(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&gr(t,e,0,n)&&(d=!0),p>1&&gr(t,e,1,r)&&(d=!0),p>2&&gr(t,e,2,i)&&(d=!0),p>3&&gr(t,e,3,o)&&(d=!0),p>4&&gr(t,e,4,a)&&(d=!0),p>5&&gr(t,e,5,s)&&(d=!0),p>6&&gr(t,e,6,u)&&(d=!0),p>7&&gr(t,e,7,c)&&(d=!0),p>8&&gr(t,e,8,l)&&(d=!0),p>9&&gr(t,e,9,h)&&(d=!0),d){var v,m=sr(t,e.nodeIndex);switch(201347067&e.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=a),p>5&&(v[5]=s),p>6&&(v[6]=u),p>7&&(v[7]=c),p>8&&(v[8]=l),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=a),p>5&&(v[f[5].name]=s),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=c),p>8&&(v[f[8].name]=l),p>9&&(v[f[9].name]=h);break;case 128:var g=n;switch(p){case 1:v=g.transform(n);break;case 2:v=g.transform(r);break;case 3:v=g.transform(r,i);break;case 4:v=g.transform(r,i,o);break;case 5:v=g.transform(r,i,o,a);break;case 6:v=g.transform(r,i,o,a,s);break;case 7:v=g.transform(r,i,o,a,s,u);break;case 8:v=g.transform(r,i,o,a,s,u,c);break;case 9:v=g.transform(r,i,o,a,s,u,c,l);break;case 10:v=g.transform(r,i,o,a,s,u,c,l,h)}}m.value=v}return d}(t,e,n,r,i,o,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)fa(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)gr(t,e,o,n[o])&&(i=!0);if(i){for(var a="",s=0;s<n.length;s++)a+=Ia(n[s],r[s]);a=e.text.prefix+a;var u=ir(t,e.nodeIndex).renderText;t.renderer.setValue(u,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=ar(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)mr(t,e,s,n[s])&&(o=!0,a=Li(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&rr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)gr(t,e,o,n[o])&&(i=!0);if(i){var a,s=sr(t,e.nodeIndex);switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(var u=0;u<n.length;u++)a[r[u].name]=n[u];break;case 128:var c=n[0],l=n.slice(1);a=c.transform.apply(c,_toConsumableArray(l))}s.value=a}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Ua(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=or(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,_r(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ba(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length;f>0&&yr(t,e,0,n),f>1&&yr(t,e,1,r),f>2&&yr(t,e,2,i),f>3&&yr(t,e,3,o),f>4&&yr(t,e,4,a),f>5&&yr(t,e,5,s),f>6&&yr(t,e,6,u),f>7&&yr(t,e,7,c),f>8&&yr(t,e,8,l),f>9&&yr(t,e,9,h)}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){for(var r=0;r<n.length;r++)yr(t,e,r,n[r])}(t,e,r),!1}function za(t,e){if(ur(t,e.nodeIndex).dirty)throw $n(cr.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function qa(t){if(!(128&t.state)){if(Ga(t,Va.Destroy),Ha(t,Va.Destroy),ji(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=kr(t);if(e){var n=e.template._projectedViews;n&&(Y(n,n.indexOf(t)),cr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(or(t,n).renderElement):2&r.flags?t.renderer.destroyNode(ir(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&ur(t,n).destroy()}}(t),Cr(t)&&t.renderer.destroy(),t.state|=128}}var Va=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Ha(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Wa(or(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Ga(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=or(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Wa(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Wa(t,e){var n=t.state;switch(e){case Va.CheckNoChanges:0==(128&n)&&(12==(12&n)?La(t):64&n&&Ka(t,Va.CheckNoChangesProjectedViews));break;case Va.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?La(t):64&n&&Ka(t,e));break;case Va.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ja(t):64&n&&Ka(t,Va.CheckAndUpdateProjectedViews));break;case Va.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ja(t):64&n&&Ka(t,e));break;case Va.Destroy:qa(t);break;case Va.CreateViewNodes:Da(t)}}function Ka(t,e){Ga(t,e),Ha(t,e)}function Ya(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(cr.setCurrentNode(t,a.nodeIndex),r){case 0:va(t,a);break;case 1:za(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Za=!1;function Qa(t,e,n,r,i,o){var a=i.injector.get(xn);return Ra(Ja(t,i,a,e,n),r,o)}function Xa(t,e,n,r,i,o){var a=i.injector.get(xn),s=Ja(t,i,new Os(a),e,n),u=us(r);return xs(gs.create,Ra,null,[s,u,o])}function Ja(t,e,n,r,i){var o=e.injector.get(me),a=e.injector.get(qt),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function $a(t,e,n,r){var i=us(n);return xs(gs.create,Oa,null,[t,e,i,r])}function ts(t,e,n,r){return n=is.get(e.element.componentProvider.provider.token)||us(n),xs(gs.create,Pa,null,[t,e,n,r])}function es(t,e,n,r){return di(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===ns.size||(t.providers.forEach((function(t){var r=ns.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)})),t.modules.forEach((function(t){rs.forEach((function(r,i){E(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:e,hasDeprecatedOverrides:n}}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=ns.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Ar(i.deps),n.value=i.value)}if(rs.size>0){var o=new Set(t.modules);rs.forEach((function(e,n){if(o.has(E(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:Ar(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[fr(n)]=i}}))}}(t=t.factory((function(){return lr}))),t):t}(r))}var ns=new Map,rs=new Map,is=new Map;function os(t){var e;ns.set(t.token,t),"function"==typeof t.token&&(e=E(t.token))&&"function"==typeof e.providedIn&&rs.set(t.token,t)}function as(t,e){var n=Pr(e.viewDefFactory),r=Pr(n.nodes[0].element.componentView);is.set(t,r)}function ss(){ns.clear(),rs.clear(),is.clear()}function us(t){if(0===ns.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ns.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return lr}));for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=ns.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Ar(o.deps),i.value=o.value)}}}}function cs(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return Fa(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?sr(t,e).value:void 0}function ls(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return Ba(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?sr(t,e).value:void 0}function hs(t){return xs(gs.detectChanges,ja,null,[t])}function fs(t){return xs(gs.checkNoChanges,La,null,[t])}function ds(t){return xs(gs.destroy,qa,null,[t])}var ps,vs,ms,gs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function ys(t,e){vs=t,ms=e}function bs(t,e,n,r){return ys(t,e),xs(gs.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function _s(t,e){if(128&t.state)throw er(gs[ps]);return ys(t,Ss(t,0)),t.def.updateDirectives((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?ks(t,i,r,a):Es(t,i,r,a),16384&i.flags&&ys(t,Ss(t,n)),224&i.flags?sr(t,i.nodeIndex).value:void 0}),t)}function ws(t,e){if(128&t.state)throw er(gs[ps]);return ys(t,Cs(t,0)),t.def.updateRenderer((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?ks(t,i,r,a):Es(t,i,r,a),3&i.flags&&ys(t,Cs(t,n)),224&i.flags?sr(t,i.nodeIndex).value:void 0}),t)}function ks(t,e,n,r){if(Fa.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[(d=s.nonMinifiedName,"ng-reflect-"+d.replace(/[$@]/g,"_").replace(_e,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"-"+e[1].toLowerCase()})))]=we(u))}var c=e.parent,l=or(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in o){var f=o[h];null!=f?t.renderer.setAttribute(l,h,f):t.renderer.removeAttribute(l,h)}else t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}var d}function Es(t,e,n,r){Ba.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))}function Ss(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Cs(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Is=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];for(var r=this.nodeDef,i=e;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=Er(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(t,[{key:"elOrCompView",get:function(){return or(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return ui(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}},{key:"references",get:function(){var t={};if(this.elDef){Ts(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Ts(this.elView,n,t),e+=n.childCount}}return t}},{key:"componentRenderElement",get:function(){var t=function(t){for(;t&&!Cr(t);)t=t.parent;return t.parent?or(t.parent,Er(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Sr(this.view,this.nodeDef):Sr(this.elView,this.elDef)}},{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(i,o),s=-1;i.factory((function(){var e;return++s===a?(e=t.error).bind.apply(e,[t].concat(n)):lr})),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,n))}}]),t}();function Ts(t,e,n){for(var r in e.references)n[r]=ga(t,e,e.references[r])}function xs(t,e,n,r){var i,o,a=ps,s=vs,u=ms;try{ps=t;var c=e.apply(n,r);return vs=s,ms=u,ps=a,c}catch(l){if(Ut(l)||!vs)throw l;throw i=l,o=As(),i instanceof Error||(i=new Error(i.toString())),tr(i,o),i}}function As(){return vs?new Is(vs,ms):null}var Os=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"createRenderer",value:function(t,e){return new Rs(this.delegate.createRenderer(t,e))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),t}(),Rs=function(){function t(e){_classCallCheck(this,t),this.delegate=e,this.debugContextFactory=As,this.data=this.delegate.data}return _createClass(t,[{key:"createDebugContext",value:function(t){return this.debugContextFactory(t)}},{key:"destroyNode",value:function(t){var e=$o(t);!function(t){Jo.delete(t.nativeNode)}(e),e instanceof Qo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new Xo(n,null,r);i.name=t,ta(i)}return n}},{key:"createComment",value:function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ta(new Qo(e,null,n)),e}},{key:"createText",value:function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ta(new Qo(e,null,n)),e}},{key:"appendChild",value:function(t,e){var n=$o(t),r=$o(e);n&&r&&n instanceof Xo&&n.addChild(r),this.delegate.appendChild(t,e)}},{key:"insertBefore",value:function(t,e,n){var r=$o(t),i=$o(e),o=$o(n);r&&i&&r instanceof Xo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}},{key:"removeChild",value:function(t,e){var n=$o(t),r=$o(e);n&&r&&n instanceof Xo&&n.removeChild(r),this.delegate.removeChild(t,e)}},{key:"selectRootElement",value:function(t,e){var n=this.delegate.selectRootElement(t,e),r=As();return r&&ta(new Xo(n,null,r)),n}},{key:"setAttribute",value:function(t,e,n,r){var i=$o(t);i&&i instanceof Xo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){var r=$o(t);r&&r instanceof Xo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){var n=$o(t);n&&n instanceof Xo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){var n=$o(t);n&&n instanceof Xo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){var i=$o(t);i&&i instanceof Xo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){var r=$o(t);r&&r instanceof Xo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){var r=$o(t);r&&r instanceof Xo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){if("string"!=typeof t){var r=$o(t);r&&r.listeners.push(new Zo(e,n))}return this.delegate.listen(t,e,n)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setValue",value:function(t,e){return this.delegate.setValue(t,e)}}]),t}();function Ps(t,e,n){return new Ns(t,e,n)}var Ns=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e)).moduleType=t,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t){!function(){if(!Za){Za=!0;var t=Gt()?{setCurrentNode:ys,createRootView:Xa,createEmbeddedView:$a,createComponentView:ts,createNgModuleRef:es,overrideProvider:os,overrideComponentView:as,clearOverrides:ss,checkAndUpdateView:hs,checkNoChangesView:fs,destroyView:ds,createDebugContext:function(t,e){return new Is(t,e)},handleEvent:bs,updateDirectives:_s,updateRenderer:ws}:{setCurrentNode:function(){},createRootView:Qa,createEmbeddedView:Oa,createComponentView:Pa,createNgModuleRef:di,overrideProvider:lr,overrideComponentView:lr,clearOverrides:lr,checkAndUpdateView:ja,checkNoChangesView:La,destroyView:qa,createDebugContext:function(t,e){return new Is(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?cs:ls,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?cs:ls,t)}};cr.setCurrentNode=t.setCurrentNode,cr.createRootView=t.createRootView,cr.createEmbeddedView=t.createEmbeddedView,cr.createComponentView=t.createComponentView,cr.createNgModuleRef=t.createNgModuleRef,cr.overrideProvider=t.overrideProvider,cr.overrideComponentView=t.overrideComponentView,cr.clearOverrides=t.clearOverrides,cr.checkAndUpdateView=t.checkAndUpdateView,cr.checkNoChangesView=t.checkNoChangesView,cr.destroyView=t.destroyView,cr.resolveDep=Mi,cr.createDebugContext=t.createDebugContext,cr.handleEvent=t.handleEvent,cr.updateDirectives=t.updateDirectives,cr.updateRenderer=t.updateRenderer,cr.dirtyParentQueries=pa}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Pr(this._ngModuleDefFactory));return cr.createNgModuleRef(this.moduleType,t||qe.NULL,this._bootstrapComponents,e)}}]),e}(W)},"9ppp":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);var i=r},B9Yq:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},BaDc:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("DQLy"),i=n("Z0Sn"),o=n("Bhw0"),a=Object(r.w)(o.a,Object(r.z)(i.a.setUser,(function(t,e){return Object.assign({},t,{user:e.payload})})));function s(t,e){return a(t,e)}},Bhw0:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={user:void 0,userLocation:void 0,locationPermission:void 0}},CRDf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("kJWO"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),a=n("kJWO"),s=n("Lhse"),u=n("yCtX"),c=n("quSY"),l=n("a7t3"),h=n("pLzU"),f=n("CRDf"),d=n("SeVD");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}:Object(l.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new c.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[s.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",(function(){return p}))},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},DQLy:function(t,e,n){"use strict";var r=n("8Y7J"),i=n("2Vo4"),o=n("HDdC"),a=n("XNiG"),s=n("qgXg"),u=n("pxpQ"),c=n("zp1y"),l=n("Kqap"),h=n("lJxs"),f=n("/uUt");n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return M})),n.d(e,"f",(function(){return k})),n.d(e,"g",(function(){return W})),n.d(e,"h",(function(){return G})),n.d(e,"i",(function(){return H})),n.d(e,"j",(function(){return I})),n.d(e,"k",(function(){return K})),n.d(e,"l",(function(){return Z})),n.d(e,"m",(function(){return Y})),n.d(e,"n",(function(){return X})),n.d(e,"o",(function(){return kt})),n.d(e,"p",(function(){return wt})),n.d(e,"q",(function(){return N})),n.d(e,"r",(function(){return L})),n.d(e,"s",(function(){return B})),n.d(e,"t",(function(){return z})),n.d(e,"u",(function(){return p})),n.d(e,"v",(function(){return it})),n.d(e,"w",(function(){return Ot})),n.d(e,"x",(function(){return q})),n.d(e,"y",(function(){return nt})),n.d(e,"z",(function(){return At})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return J})),n.d(e,"C",(function(){return pt})),n.d(e,"D",(function(){return vt})),n.d(e,"E",(function(){return mt})),n.d(e,"F",(function(){return yt})),n.d(e,"G",(function(){return bt})),n.d(e,"H",(function(){return _t})),n.d(e,"I",(function(){return b})),n.d(e,"J",(function(){return _})),n.d(e,"K",(function(){return E})),n.d(e,"L",(function(){return C})),n.d(e,"M",(function(){return T})),n.d(e,"N",(function(){return x})),n.d(e,"O",(function(){return A})),n.d(e,"P",(function(){return O})),n.d(e,"Q",(function(){return R})),n.d(e,"R",(function(){return D})),n.d(e,"S",(function(){return j})),n.d(e,"T",(function(){return F})),n.d(e,"U",(function(){return U})),n.d(e,"V",(function(){return Et})),n.d(e,"W",(function(){return St})),n.d(e,"X",(function(){return Ct})),n.d(e,"Y",(function(){return It})),n.d(e,"Z",(function(){return Tt})),n.d(e,"ab",(function(){return xt}));var d={};function p(t,e){if(d[t]=(d[t]||0)+1,"function"==typeof e)return m(t,(function(){return Object.assign(Object.assign({},e.apply(void 0,arguments)),{type:t})}));switch(e?e._as:"empty"){case"empty":return m(t,(function(){return{type:t}}));case"props":return m(t,(function(e){return Object.assign(Object.assign({},e),{type:t})}));default:throw new Error("Unexpected config.")}}function v(){return{_as:"props",_p:void 0}}function m(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var g="@ngrx/store/init",y=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,[{type:g}])}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");_get(_getPrototypeOf3(e.prototype),"next",this).call(this,t)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf3(e.prototype),"complete",this).call(this)}}]),e}(i.a),b=new r.o("@ngrx/store Internal Root Guard"),_=new r.o("@ngrx/store Internal Initial State"),w=new r.o("@ngrx/store Initial State"),k=new r.o("@ngrx/store Reducer Factory"),E=new r.o("@ngrx/store Internal Reducer Factory Provider"),S=new r.o("@ngrx/store Initial Reducers"),C=new r.o("@ngrx/store Internal Initial Reducers"),I=new r.o("@ngrx/store Store Features"),T=new r.o("@ngrx/store Internal Store Reducers"),x=new r.o("@ngrx/store Internal Feature Reducers"),A=new r.o("@ngrx/store Internal Feature Configs"),O=new r.o("@ngrx/store Internal Store Features"),R=new r.o("@ngrx/store Internal Feature Reducers Token"),P=new r.o("@ngrx/store Feature Reducers"),N=new r.o("@ngrx/store User Provided Meta Reducers"),M=new r.o("@ngrx/store Meta Reducers"),D=new r.o("@ngrx/store Internal Resolved Meta Reducers"),L=new r.o("@ngrx/store User Runtime Checks Config"),j=new r.o("@ngrx/store Internal User Runtime Checks Config"),F=new r.o("@ngrx/store Internal Runtime Checks"),U=new r.o("@ngrx/store Check if Action types are unique");function B(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i];"function"==typeof t[o]&&(r[o]=t[o])}var a=Object.keys(r);return function(t,n){t=void 0===t?e:t;for(var i=!1,o={},s=0;s<a.length;s++){var u=a[s],c=t[u],l=(0,r[u])(c,n);o[u]=l,i=i||l!==c}return i?o:t}}function z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){if(0===e.length)return t;var n=e[e.length-1];return e.slice(0,-1).reduceRight((function(t,e){return e(t)}),n(t))}}function q(t,e){return Array.isArray(e)&&e.length>0&&(t=z.apply(null,[].concat(_toConsumableArray(e),[t]))),function(e,n){var r=t(e);return function(t,e){return r(t=void 0===t?n:t,e)}}}var V,H=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e)}(o.a),G=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e)}(y),W=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[i(r,n)])).dispatcher=t,o.initialState=n,o.reducers=r,o.reducerFactory=i,o}return _inherits(e,t),_createClass(e,[{key:"addFeature",value:function(t){this.addFeatures([t])}},{key:"addFeatures",value:function(t){var e=t.reduce((function(t,e){var n=e.reducers,r=e.reducerFactory,i=e.metaReducers,o=e.initialState,a=e.key,s="function"==typeof n?function(t){var e=Array.isArray(t)&&t.length>0?z.apply(void 0,_toConsumableArray(t)):function(t){return t};return function(t,n){return t=e(t),function(e,r){return t(e=void 0===e?n:e,r)}}}(i)(n,o):q(r,i)(n,o);return t[a]=s,t}),{});this.addReducers(e)}},{key:"removeFeature",value:function(t){this.removeFeatures([t])}},{key:"removeFeatures",value:function(t){this.removeReducers(t.map((function(t){return t.key})))}},{key:"addReducer",value:function(t,e){this.addReducers(_defineProperty3({},t,e))}},{key:"addReducers",value:function(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}},{key:"removeReducer",value:function(t){this.removeReducers([t])}},{key:"removeReducers",value:function(t){var e=this;t.forEach((function(t){var n,r;e.reducers=(n=e.reducers,r=t,Object.keys(n).filter((function(t){return t!==r})).reduce((function(t,e){return Object.assign(t,_defineProperty3({},e,n[e]))}),{}))})),this.updateReducers(t)}},{key:"updateReducers",value:function(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),e}(i.a),K=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"ngOnDestroy",value:function(){this.complete()}}]),e}(a.a),Y=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e)}(o.a),Z=((V=function(t){function e(t,n,r,i){var o;_classCallCheck(this,e),o=_callSuper(this,e,[i]);var a={state:i},h=t.pipe(Object(u.b)(s.a)).pipe(Object(c.a)(n)).pipe(Object(l.a)(Q,a));return o.stateSubscription=h.subscribe((function(t){var e=t.state,n=t.action;o.next(e),r.next(n)})),o}return _inherits(e,t),_createClass(e,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),e}(i.a)).INIT=g,V);function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},e=arguments.length>1?arguments[1]:void 0,n=_slicedToArray(e,2),r=n[0],i=n[1],o=t.state;return{state:i(o,r),action:r}}var X=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e)).actionsObserver=n,i.reducerManager=r,i.source=t,i}return _inherits(e,t),_createClass(e,[{key:"select",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return J.call.apply(J,[null,t].concat(n))(this)}},{key:"lift",value:function(t){var n=new e(this,this.actionsObserver,this.reducerManager);return n.operator=t,n}},{key:"dispatch",value:function(t){this.actionsObserver.next(t)}},{key:"next",value:function(t){this.actionsObserver.next(t)}},{key:"error",value:function(t){this.actionsObserver.error(t)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(t,e){this.reducerManager.addReducer(t,e)}},{key:"removeReducer",value:function(t){this.reducerManager.removeReducer(t)}}]),e}(o.a);function J(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return function(n){var i;if("string"==typeof t){var o=[e].concat(r).filter(Boolean);i=n.pipe((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return Object(h.a)(function(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}(e,r))(t)}}).apply(void 0,[t].concat(_toConsumableArray(o))))}else{if("function"!=typeof t)throw new TypeError("Unexpected type '".concat(typeof t,"' in select operator, expected 'string' or 'function'"));i=n.pipe(Object(h.a)((function(n){return t(n,e)})))}return i.pipe(Object(f.a)())}}function $(t,e){return t===e}function tt(t,e,n){for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function et(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$,i=null,o=null;return{memoized:function(){if(void 0!==e)return e.result;if(!i)return o=t.apply(null,arguments),i=arguments,o;if(!tt(arguments,i,n))return o;var a=t.apply(null,arguments);return i=arguments,r(o,a)?o:(o=a,a)},reset:function(){i=null,o=null},setResult:function(t){e={result:t}},clearResult:function(){e=void 0}}}function nt(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:rt};return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r;if(Array.isArray(o[0])){var a=o,s=_toArray(a),u=s[0],c=s.slice(1);o=[].concat(_toConsumableArray(u),_toConsumableArray(c))}var l=o.slice(0,o.length-1),h=o[o.length-1],f=l.filter((function(t){return t.release&&"function"==typeof t.release})),d=t((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(null,e)})),p=et((function(t,n){return e.stateFn.apply(null,[t,l,n,d])}));return Object.assign(p.memoized,{release:function(){p.reset(),d.reset(),f.forEach((function(t){return t.release()}))},projector:d.memoized,setResult:p.setResult,clearResult:p.clearResult})}}(et).apply(void 0,arguments)}function rt(t,e,n,r){if(void 0===n){var i=e.map((function(e){return e(t)}));return r.memoized.apply(null,i)}var o=e.map((function(e){return e(t,n)}));return r.memoized.apply(null,[].concat(_toConsumableArray(o),[n]))}function it(t){return nt((function(e){var n=e[t];return!Object(r.W)()||t in e||console.warn('@ngrx/store: The feature name "'.concat(t,"\" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('").concat(t,"', ...) or StoreModule.forFeature('").concat(t,"', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.")),n}),(function(t){return t}))}var ot="https://ngrx.io/guide/store/configuration/runtime-checks";function at(t){return void 0===t}function st(t){return null===t}function ut(t){return Array.isArray(t)}function ct(t){return"object"==typeof t&&null!==t}function lt(t){return"function"==typeof t}function ht(t){Object.freeze(t);var e=lt(t);return Object.getOwnPropertyNames(t).forEach((function(n){if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var r=t[n];!ct(r)&&!lt(r)||Object.isFrozen(r)||ht(r)}})),t}function ft(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(at(t)||st(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((function(n,r){if(n)return n;var i=t[r];return function(t){return lt(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(at(i)||st(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||ut(i))&&(function(t){if(!function(t){return ct(t)&&!ut(t)}(t))return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?ft(i,[].concat(_toConsumableArray(e),[r])):{path:[].concat(_toConsumableArray(e),[r]),value:i})}),!1)}function dt(t,e){if(!1!==t){var n=t.path.join("."),r=new Error("Detected unserializable ".concat(e,' at "').concat(n,'". ').concat(ot,"#strict").concat(e,"serializability"));throw r.value=t.value,r.unserializablePath=n,r}}function pt(t){return Object(r.W)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function vt(t){var e=t.strictActionSerializability,n=t.strictStateSerializability;return function(t){return e||n?function(t,e){return function(n,r){e.action(r)&&dt(ft(r),"action");var i=t(n,r);return e.state()&&dt(ft(i),"state"),i}}(t,{action:function(t){return e&&!gt(t)},state:function(){return n}}):t}}function mt(t){var e=t.strictActionImmutability,n=t.strictStateImmutability;return function(t){return e||n?function(t,e){return function(n,r){var i=e.action(r)?ht(r):r,o=t(n,i);return e.state()?ht(o):o}}(t,{action:function(t){return e&&!gt(t)},state:function(){return n}}):t}}function gt(t){return t.type.startsWith("@ngrx")}function yt(t){var e=t.strictActionWithinNgZone;return function(t){return e?function(t,e){return function(n,i){if(e.action(i)&&!r.x.isInAngularZone())throw new Error("Action '".concat(i.type,"' running outside NgZone. ").concat(ot,"#strictactionwithinngzone"));return t(n,i)}}(t,{action:function(t){return e&&!gt(t)}}):t}}function bt(t){return t}function _t(t){if(t.strictActionTypeUniqueness){var e=Object.entries(d).filter((function(t){return _slicedToArray(t,2)[1]>1})).map((function(t){return _slicedToArray(t,1)[0]}));if(e.length)throw new Error("Action types are registered more than once, ".concat(e.map((function(t){return'"'.concat(t,'"')})).join(", "),". ").concat(ot,"#strictactiontypeuniqueness"))}}var wt=_createClass((function t(e,n,r,i,o,a){_classCallCheck(this,t)})),kt=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.features=e,this.featureReducers=n,this.reducerManager=r;var a=e.map((function(t,e){var r=n.shift()[e];return Object.assign(Object.assign({},t),{reducers:r,initialState:It(t.initialState)})}));r.addFeatures(a)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),t}();function Et(t,e){return e instanceof r.o?t.get(e):e}function St(t,e,n){return n.map((function(n,i){if(e[i]instanceof r.o){var o=t.get(e[i]);return{key:n.key,reducerFactory:o.reducerFactory?o.reducerFactory:B,metaReducers:o.metaReducers?o.metaReducers:[],initialState:o.initialState}}return n}))}function Ct(t,e){return e.map((function(e){return e instanceof r.o?t.get(e):e}))}function It(t){return"function"==typeof t?t():t}function Tt(t,e){return t.concat(e)}function xt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function At(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{reducer:e.pop(),types:e.reduce((function(t,e){return[].concat(_toConsumableArray(t),[e.type])}),[])}}function Ot(t){for(var e=new Map,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=function(){var t,n=s[a],r=_createForOfIteratorHelper(n.types);try{var i=function(){var r=t.value;if(e.has(r)){var i=e.get(r);e.set(r,(function(t,e){return n.reducer(i(t,e),e)}))}else e.set(r,n.reducer)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}},a=0,s=r;a<s.length;a++)o();return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0,i=e.get(r.type);return i?i(n,r):n}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},"F/NL":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=t.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},t.prototype.setBuffer=t.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},t.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},GS7A:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return a})),n.d(e,"d",(function(){return m})),n.d(e,"n",(function(){return g})),n.d(e,"o",(function(){return y}));var r=_createClass((function t(){_classCallCheck(this,t)})),i=_createClass((function t(){_classCallCheck(this,t)})),o="*";function a(t,e){return{type:7,name:t,definitions:e,options:{}}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function l(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t){return{type:5,steps:t}}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}function v(t){Promise.resolve(null).then(t)}var m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;v((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),g=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?v((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==a&&n._onFinish()})),t.onDestroy((function(){++i==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),y="!"},GrFz:function(t,e,n){"use strict";var r=n("mrSG"),i=n("zIRd"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var l=n("qOnz"),h=n("/6Yf"),f=function(t){function e(n,r){var i=t.call(this,d(n),"Firebase Storage: "+r+" ("+d(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._codeEquals=function(t){return d(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(l.c);function d(t){return"storage/"+t}function p(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")}function v(){return new f("canceled","User canceled the upload/download.")}function m(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function g(t){return new f("invalid-argument",t)}function y(){return new f("app-deleted","The Firebase app was deleted.")}function b(t){return new f("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _(t,e){return new f("invalid-format","String does not match format '"+t+"': "+e)}function w(t){throw new f("internal-error","Internal error: "+t)}var k={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},E=function(t,e){this.data=t,this.contentType=e||null};function S(t,e){switch(t){case k.RAW:return new E(C(e));case k.BASE64:case k.BASE64URL:return new E(I(t,e));case k.DATA_URL:return new E((n=new T(e)).base64?I(k.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw _(k.DATA_URL,"Malformed data URL.")}return C(e)}(n.rest),new T(e).contentType)}var n;throw p()}function C(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function I(t,e){switch(t){case k.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw _(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case k.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw _(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw _(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var T=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(k.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},x={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function A(t){switch(t){case"running":case"pausing":case"canceling":return x.RUNNING;case"paused":return x.PAUSED;case"success":return x.SUCCESS;case"canceled":return x.CANCELED;case"error":default:return x.ERROR}}var O=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),R=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=O.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=O.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=O.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),P=function(){function t(){}return t.prototype.createConnection=function(){return new R},t}(),N=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new f("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new f("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),M=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function D(t){return"string"==typeof t||t instanceof String}function L(t){return j()&&t instanceof Blob}function j(){return"undefined"!=typeof Blob}function F(t,e,n,r){if(r<e)throw g("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw g("Invalid value for '"+t+"'. Expected "+n+" or less.")}function U(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function B(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var z=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=p()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?y():v():new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new q(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function f(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new q(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===O.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new q(a,r))}else{var s=r.getErrorCode()===O.ABORT;e(!1,new q(!1,null,s))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,c([null,t],e));else{var r,o=u()||a;o?h.call.apply(h,c([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function v(t){p||(p=!0,l||(null!==o?(t||(s=2),clearTimeout(o),f(0)):t||(s=1)))}return f(0),setTimeout((function(){a=!0,v(!0)}),r),v}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),q=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};function V(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function H(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=V();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(j())return new Blob(t);throw new f("unsupported-environment","This browser doesn't seem to support creating Blobs")}var G=function(){function t(t,e){var n=0,r="";L(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(L(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(j()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(H.apply(null,r))}var i=e.map((function(t){return D(t)?S(k.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function W(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function K(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Y(t,e){return e}var Z=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Y},Q=null;function X(){if(Q)return Q;var t=[];t.push(new Z("bucket")),t.push(new Z("generation")),t.push(new Z("metageneration")),t.push(new Z("name","fullPath",!0));var e=new Z("name");e.xform=function(t,e){return function(t){return!D(t)||t.length<2?t:K(t)}(e)},t.push(e);var n=new Z("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Z("timeCreated")),t.push(new Z("updated")),t.push(new Z("md5Hash",null,!0)),t.push(new Z("cacheControl",null,!0)),t.push(new Z("contentDisposition",null,!0)),t.push(new Z("contentEncoding",null,!0)),t.push(new Z("contentLanguage",null,!0)),t.push(new Z("contentType",null,!0)),t.push(new Z("metadata","customMetadata",!0)),Q=t}function J(t,e,n){var r=W(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new N(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function $(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var tt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function et(t){if(!t)throw p()}function nt(t,e){return function(n,r){var i=J(t,r,e);return et(null!==i),i}}function rt(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new f("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new f("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new f("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function it(t){var e=rt(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new f("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ot(t,e,n){var r=U(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new tt(r,"GET",nt(t,n),i);return o.errorHandler=it(e),o}function at(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var st=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function ut(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){et(!1)}return et(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ct=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function lt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var ht=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=X(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=at(e,r,i),s={name:a.fullPath},u=U(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=$(a,n),h=new tt(u,"POST",(function(t){var e;ut(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){et(!1)}return et(D(e)),e}),t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=rt(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new tt(n,"POST",(function(t){var e=ut(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){et(!1)}n||et(!1);var i=Number(n);return et(!isNaN(i)),new st(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=rt(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new st(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(t,e,n,r,i,o,a,s){var u=new st(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,h+l);if(null===p)throw m();var v=new tt(n,"POST",(function(t,n){var i,a=ut(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?nt(e,o)(t,n):null,new st(s,c,"final"===a,i)}),e.maxUploadRetryTime);return v.headers=d,v.body=p.uploadData(),v.progressCallback=s||null,v.errorHandler=rt(t),v}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=ot(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=at(e,r,i),c=$(u,n),l=G.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw m();var h={name:u.fullPath},f=U(o,t.host),d=t.maxUploadRetryTime,p=new tt(f,"POST",nt(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=rt(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=v(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=A(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ct(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(A(this._state)){case x.SUCCESS:lt(this._resolve.bind(null,this.snapshot))();break;case x.CANCELED:case x.ERROR:lt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(A(this._state)){case x.RUNNING:case x.PAUSED:t.next&&lt(t.next.bind(t,this.snapshot))();break;case x.SUCCESS:t.complete&&lt(t.complete.bind(t))();break;case x.CANCELED:case x.ERROR:t.error&&lt(t.error.bind(t,this._error))();break;default:t.error&&lt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ft=function(){function t(t,e){this._service=t,this._location=e instanceof N?e:N.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new N(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return K(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new N(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw b(t)},t}();function dt(t,e){return s(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&F("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=U(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new tt(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=W(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new N(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t._makeStorageReference(new N(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return et(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=rt(e),u}(t.storage,t._location,0,(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function pt(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new N(t._location.bucket,n);return new ft(t.storage,r)}function vt(t){return/^[A-Za-z]+:\/\//.test(t)}function mt(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:N.makeFromBucketSpec(n,t)}var gt=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?N.makeFromBucketSpec(i,this._host):mt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?N.makeFromBucketSpec(this._url,t):mt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){F("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){F("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return s(this,void 0,void 0,(function(){var t,e;return u(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return s(this,void 0,void 0,(function(){var t;return u(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new ft(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new M(y());var i=function(t,e,n,r,i,o){var a=B(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new z(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function yt(t,e){return function(t,e){if(e&&vt(e)){if(t instanceof gt)return new ft(t,e);throw g("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof gt){var r=e;if(null==r._bucket)throw new f("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ft(r,r._bucket);return null!=n?t(i,n):i}return void 0!==n?pt(e,n):e}(t,e)}(t=Object(l.i)(t),e)}var bt,_t,wt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),kt=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new wt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new wt(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new wt(t,i,i._ref))}:{next:e.next?function(t){return e.next(new wt(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Et=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new St(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new St(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),St=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return pt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new kt(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new ht(t,new G(e),n)}(t=Object(l.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=k.RAW),this._throwIfRoot("putString");var r=S(e,t),i=a({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new kt(new ht(this._delegate,new G(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return s(this,void 0,void 0,(function(){var i,o,a;return u(this,(function(s){switch(s.label){case 0:return[4,dt(e,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(l.i)(t))).then((function(t){return new Et(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return dt(t=Object(l.i)(t),e)}(this._delegate,t||void 0).then((function(t){return new Et(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=ot(t.storage,t._location,X()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(l.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=U(e.fullServerUrl(),t.host),o=$(n,r),a=t.maxOperationRetryTime,s=new tt(i,"PATCH",nt(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=it(e),s}(t.storage,t._location,e,X()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(l.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=U(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new tt(r,"GET",function(t,e){return function(n,r){var i=J(t,r,e);return et(null!==i),function(t,e,n){var r=W(e);if(null===r)return null;if(!D(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return U("/b/"+o(t.bucket)+"/o/"+o(r),n)+B({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=it(e),o}(t.storage,t._location,X()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new f("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(l.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return s(this,void 0,void 0,(function(){var e;return u(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=U(e.fullServerUrl(),t.host),r=new tt(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=it(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(l.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw b(t)},t}(),Ct=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(vt(t))throw g("ref() expected a child path but got a URL, use refFromURL instead.");return new St(yt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!vt(t))throw g("refFromURL() expected a full URL but got a child path, use ref() instead.");try{N.makeFromUrl(t,this._delegate.host)}catch(e){throw g("refFromUrl() expected a valid full URL but got an invalid one.")}return new St(yt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object(l.e)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();_t={TaskState:x,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:k,Storage:gt,Reference:St},(bt=i.a).INTERNAL.registerComponent(new h.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ct(r,new gt(r,o,a,new P,n,i.a.SDK_VERSION))}),"PUBLIC").setServiceProps(_t).setMultipleInstances(!0)),bt.registerVersion("@firebase/storage","0.7.1");var It=n("8Y7J"),Tt=n("Z2Br");n.d(e,"a",(function(){return At}));var xt,At=((xt=function(){function t(e){_classCallCheck(this,t),this.firebaseService=e,this.storage=this.firebaseService.firebase.storage()}return _createClass(t,[{key:"uploadFile",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image.jpg",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uploads";return this.storage.ref().child(n).child(e).put(t)}},{key:"uploadZip",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file.zip";return this.storage.ref().child("uploadZips").child(e).put(t)}},{key:"deleteFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image.jpg";return r.a(this,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.ref().child("uploads/"+t).delete().catch((function(t){if("storage/object-not-found"!==t.code)throw t})));case 1:case"end":return e.stop()}}),e,this)})))}}]),t}()).ngInjectableDef=It.Rb({factory:function(){return new xt(It.Sb(Tt.a))},token:xt,providedIn:"root"}),xt)},GyhO:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("LRne"),i=n("0EUg");function o(){return Object(i.a)()(Object(r.a).apply(void 0,arguments))}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),a=n("kJWO"),s=n("mCNh"),u=n("2fFW");n.d(e,"a",(function(){return l}));var c,l=((c=function(t){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:t,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(s.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),e}(a.a)).create=function(t){return new c(t)},c);function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}();n.d(e,"a",(function(){return i}));var i=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,e),(n=_callSuper(this,e,[t,function(){return e.delegate&&e.delegate!==_assertThisInitialized(n)?e.delegate.now():i()}])).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,r):_get(_getPrototypeOf3(e.prototype),"schedule",this).call(this,t,n,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),e}(r)},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function a(t){return function(e){return 0===t?Object(o.b)():e.lift(new s(t))}}var s=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new i.a}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.total))}}]),t}(),u=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).total=n,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),e}(r.a)},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function a(t){return function(e){var n=new s(t),r=e.lift(n);return n.caught=r}}var s=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.selector,this.caught))}}]),t}(),u=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t])).selector=n,i.caught=r,i}return _inherits(e,t),_createClass(e,[{key:"error",value:function(t){if(!this.isStopped){var n;try{n=this.selector(t,this.caught)}catch(a){return void _get(_getPrototypeOf3(e.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var r=new i.a(this,void 0,void 0);this.add(r),Object(o.a)(this,n,void 0,void 0,r)}}}]),e}(r.a)},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("yCtX"),i=n("XUOw"),o=n("EY2u"),a=n("GyhO"),s=n("z+Ro");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=e[e.length-1];Object(s.a)(n)?e.pop():n=null;var u=e.length;return 1!==u||n?u>0?Object(a.a)(Object(r.a)(e,n),t):Object(a.a)(Object(o.b)(n),t):Object(a.a)(Object(i.a)(e[0]),t)}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.10.1","app"),r.a.SDK_VERSION="8.10.1"},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}var o=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),a=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t])).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return _inherits(e,t),_createClass(e,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),e}(r.a)},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),a=n("XUOw");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=e[e.length-1];switch(Object(r.a)(s)?e.pop():s=void 0,e.length){case 0:return Object(o.b)(s);case 1:return s?Object(i.a)(e,s):Object(a.a)(e[0]);default:return Object(i.a)(e,s)}}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},LvDl:function(t,e,n){(function(t){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",w="[object WeakMap]",k="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",I="[object Int8Array]",T="[object Int16Array]",x="[object Int32Array]",A="[object Uint8Array]",O="[object Uint16Array]",R="[object Uint32Array]",P=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,j=RegExp(D.source),F=RegExp(L.source),U=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,W=RegExp(G.source),K=/^\s+/,Y=/\s/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,lt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="["+ft+"]",pt="["+ht+"]",vt="\\d+",mt="[a-z\\xdf-\\xf6\\xf8-\\xff]",gt="[^\\ud800-\\udfff"+ft+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",yt="\\ud83c[\\udffb-\\udfff]",bt="[^\\ud800-\\udfff]",_t="(?:\\ud83c[\\udde6-\\uddff]){2}",wt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Et="(?:"+mt+"|"+gt+")",St="(?:"+kt+"|"+gt+")",Ct="(?:"+pt+"|"+yt+")?",It="[\\ufe0e\\ufe0f]?"+Ct+"(?:\\u200d(?:"+[bt,_t,wt].join("|")+")[\\ufe0e\\ufe0f]?"+Ct+")*",Tt="(?:"+["[\\u2700-\\u27bf]",_t,wt].join("|")+")"+It,xt="(?:"+[bt+pt+"?",pt,_t,wt,"[\\ud800-\\udfff]"].join("|")+")",At=RegExp("['\u2019]","g"),Ot=RegExp(pt,"g"),Rt=RegExp(yt+"(?="+yt+")|"+xt+It,"g"),Pt=RegExp([kt+"?"+mt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[dt,kt,"$"].join("|")+")",St+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[dt,kt+Et,"$"].join("|")+")",kt+"?"+Et+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",kt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Tt].join("|"),"g"),Nt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Mt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,jt={};jt[S]=jt[C]=jt[I]=jt[T]=jt[x]=jt[A]=jt["[object Uint8ClampedArray]"]=jt[O]=jt[R]=!0,jt[s]=jt[u]=jt[k]=jt[c]=jt[E]=jt[l]=jt[h]=jt[f]=jt[p]=jt[v]=jt[m]=jt[g]=jt[y]=jt[b]=jt[w]=!1;var Ft={};Ft[s]=Ft[u]=Ft[k]=Ft[E]=Ft[c]=Ft[l]=Ft[S]=Ft[C]=Ft[I]=Ft[T]=Ft[x]=Ft[p]=Ft[v]=Ft[m]=Ft[g]=Ft[y]=Ft[b]=Ft[_]=Ft[A]=Ft["[object Uint8ClampedArray]"]=Ft[O]=Ft[R]=!0,Ft[h]=Ft[f]=Ft[w]=!1;var Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,zt=parseInt,qt="object"==typeof global&&global&&global.Object===Object&&global,Vt="object"==typeof self&&self&&self.Object===Object&&self,Ht=qt||Vt||Function("return this")(),Gt=e&&!e.nodeType&&e,Wt=Gt&&"object"==typeof t&&t&&!t.nodeType&&t,Kt=Wt&&Wt.exports===Gt,Yt=Kt&&qt.process,Zt=function(){try{return Wt&&Wt.require&&Wt.require("util").types||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),Qt=Zt&&Zt.isArrayBuffer,Xt=Zt&&Zt.isDate,Jt=Zt&&Zt.isMap,$t=Zt&&Zt.isRegExp,te=Zt&&Zt.isSet,ee=Zt&&Zt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function re(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function se(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function ue(t,e){return!(null==t||!t.length)&&ye(t,e,0)>-1}function ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function le(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function he(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function fe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function de(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ve=ke("length");function me(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function ge(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ye(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ge(t,_e,n)}function be(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function _e(t){return t!=t}function we(t,e){var n=null==t?0:t.length;return n?Ce(t,e)/n:NaN}function ke(t){return function(e){return null==e?void 0:e[t]}}function Ee(t){return function(e){return null==t?void 0:t[e]}}function Se(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ce(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Te(t){return t?t.slice(0,Ge(t)+1).replace(K,""):t}function xe(t){return function(e){return t(e)}}function Ae(t,e){return le(e,(function(e){return t[e]}))}function Oe(t,e){return t.has(e)}function Re(t,e){for(var n=-1,r=t.length;++n<r&&ye(e,t[n],0)>-1;);return n}function Pe(t,e){for(var n=t.length;n--&&ye(e,t[n],0)>-1;);return n}function Ne(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Me=Ee({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),De=Ee({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Ut[t]}function je(t){return Nt.test(t)}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ue(t,e){return function(n){return t(e(n))}}function Be(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var s=t[n];s!==e&&s!==o||(t[n]=o,a[i++]=n)}return a}function ze(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ve(t){return je(t)?function(t){for(var e=Rt.lastIndex=0;Rt.test(t);)++e;return e}(t):ve(t)}function He(t){return je(t)?function(t){return t.match(Rt)||[]}(t):function(t){return t.split("")}(t)}function Ge(t){for(var e=t.length;e--&&Y.test(t.charAt(e)););return e}var We=Ee({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ke=function t(e){var n,r=(e=null==e?Ht:Ke.defaults(Ht.Object(),e,Ke.pick(Ht,Dt))).Array,Y=e.Date,ht=e.Error,ft=e.Function,dt=e.Math,pt=e.Object,vt=e.RegExp,mt=e.String,gt=e.TypeError,yt=r.prototype,bt=pt.prototype,_t=e["__core-js_shared__"],wt=ft.prototype.toString,kt=bt.hasOwnProperty,Et=0,St=(n=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ct=bt.toString,It=wt.call(pt),Tt=Ht._,xt=vt("^"+wt.call(kt).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=Kt?e.Buffer:void 0,Nt=e.Symbol,Ut=e.Uint8Array,qt=Rt?Rt.allocUnsafe:void 0,Vt=Ue(pt.getPrototypeOf,pt),Gt=pt.create,Wt=bt.propertyIsEnumerable,Yt=yt.splice,Zt=Nt?Nt.isConcatSpreadable:void 0,ve=Nt?Nt.iterator:void 0,Ee=Nt?Nt.toStringTag:void 0,Ye=function(){try{var t=Ji(pt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ze=e.clearTimeout!==Ht.clearTimeout&&e.clearTimeout,Qe=Y&&Y.now!==Ht.Date.now&&Y.now,Xe=e.setTimeout!==Ht.setTimeout&&e.setTimeout,Je=dt.ceil,$e=dt.floor,tn=pt.getOwnPropertySymbols,en=Rt?Rt.isBuffer:void 0,nn=e.isFinite,rn=yt.join,on=Ue(pt.keys,pt),an=dt.max,sn=dt.min,un=Y.now,cn=e.parseInt,ln=dt.random,hn=yt.reverse,fn=Ji(e,"DataView"),dn=Ji(e,"Map"),pn=Ji(e,"Promise"),vn=Ji(e,"Set"),mn=Ji(e,"WeakMap"),gn=Ji(pt,"create"),yn=mn&&new mn,bn={},_n=xo(fn),wn=xo(dn),kn=xo(pn),En=xo(vn),Sn=xo(mn),Cn=Nt?Nt.prototype:void 0,In=Cn?Cn.valueOf:void 0,Tn=Cn?Cn.toString:void 0;function xn(t){if(Ga(t)&&!Ma(t)&&!(t instanceof Pn)){if(t instanceof Rn)return t;if(kt.call(t,"__wrapped__"))return Ao(t)}return new Rn(t)}var An=function(){function t(){}return function(e){if(!Ha(e))return{};if(Gt)return Gt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function On(){}function Rn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Pn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Dn;++e<n;)this.add(t[e])}function jn(t){var e=this.__data__=new Mn(t);this.size=e.size}function Fn(t,e){var n=Ma(t),r=!n&&Na(t),i=!n&&!r&&Fa(t),o=!n&&!r&&!i&&$a(t),a=n||r||i||o,s=a?Ie(t.length,mt):[],u=s.length;for(var c in t)!e&&!kt.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oo(c,u))||s.push(c);return s}function Un(t){var e=t.length;return e?t[Dr(0,e-1)]:void 0}function Bn(t,e){return Eo(mi(t),Zn(e,0,t.length))}function zn(t){return Eo(mi(t))}function qn(t,e,n){(void 0!==n&&!Oa(t[e],n)||void 0===n&&!(e in t))&&Kn(t,e,n)}function Vn(t,e,n){var r=t[e];kt.call(t,e)&&Oa(r,n)&&(void 0!==n||e in t)||Kn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(Oa(t[n][0],e))return n;return-1}function Gn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Wn(t,e){return t&&gi(e,ws(e),t)}function Kn(t,e,n){"__proto__"==e&&Ye?Ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:ms(t,e[n]);return o}function Zn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Qn(t,e,n,r,i,o){var a,u=1&e,h=2&e,w=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!Ha(t))return t;var P=Ma(t);if(P){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&kt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return mi(t,a)}else{var N=eo(t),M=N==f||N==d;if(Fa(t))return li(t,u);if(N==m||N==s||M&&!i){if(a=h||M?{}:ro(t),!u)return h?function(t,e){return gi(t,to(t),e)}(t,function(t,e){return t&&gi(e,ks(e),t)}(a,t)):function(t,e){return gi(t,$i(t),e)}(t,Wn(a,t))}else{if(!Ft[N])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case k:return hi(t);case c:case l:return new r(+t);case E:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case S:case C:case I:case T:case x:case A:case"[object Uint8ClampedArray]":case O:case R:return fi(t,n);case p:return new r;case v:case b:return new r(t);case g:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new r;case _:return In?pt(In.call(t)):{}}}(t,N,u)}}o||(o=new jn);var D=o.get(t);if(D)return D;o.set(t,a),Qa(t)?t.forEach((function(r){a.add(Qn(r,e,n,r,t,o))})):Wa(t)&&t.forEach((function(r,i){a.set(i,Qn(r,e,n,i,t,o))}));var L=P?void 0:(w?h?Gi:Hi:h?ks:ws)(t);return ie(L||t,(function(r,i){L&&(r=t[i=r]),Vn(a,i,Qn(r,e,n,i,t,o))})),a}function Xn(t,e,n){var r=n.length;if(null==t)return!r;for(t=pt(t);r--;){var i=n[r],o=t[i];if(void 0===o&&!(i in t)||!(0,e[i])(o))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new gt(i);return bo((function(){t.apply(void 0,n)}),e)}function $n(t,e,n,r){var i=-1,o=ue,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=le(e,xe(n))),r?(o=ce,a=!1):e.length>=200&&(o=Oe,a=!1,e=new Ln(e));t:for(;++i<s;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,a&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}xn.templateSettings={escape:U,evaluate:B,interpolate:z,variable:"",imports:{_:xn}},(xn.prototype=On.prototype).constructor=xn,(Rn.prototype=An(On.prototype)).constructor=Rn,(Pn.prototype=An(On.prototype)).constructor=Pn,Nn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Nn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nn.prototype.get=function(t){var e=this.__data__;if(gn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return kt.call(e,t)?e[t]:void 0},Nn.prototype.has=function(t){var e=this.__data__;return gn?void 0!==e[t]:kt.call(e,t)},Nn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gn&&void 0===e?"__lodash_hash_undefined__":e,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(t){var e=this.__data__,n=Hn(e,t);return!(n<0||(n==e.length-1?e.pop():Yt.call(e,n,1),--this.size,0))},Mn.prototype.get=function(t){var e=this.__data__,n=Hn(e,t);return n<0?void 0:e[n][1]},Mn.prototype.has=function(t){return Hn(this.__data__,t)>-1},Mn.prototype.set=function(t,e){var n=this.__data__,r=Hn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(dn||Mn),string:new Nn}},Dn.prototype.delete=function(t){var e=Qi(this,t).delete(t);return this.size-=e?1:0,e},Dn.prototype.get=function(t){return Qi(this,t).get(t)},Dn.prototype.has=function(t){return Qi(this,t).has(t)},Dn.prototype.set=function(t,e){var n=Qi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.clear=function(){this.__data__=new Mn,this.size=0},jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},jn.prototype.get=function(t){return this.__data__.get(t)},jn.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!dn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(t,e),this.size=n.size,this};var tr=_i(ur),er=_i(cr,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!Ja(a):n(a,s)))var s=a,u=o}return u}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=io),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?or(s,e-1,n,r,i):he(i,s):r||(i[i.length]=s)}return i}var ar=wi(),sr=wi(!0);function ur(t,e){return t&&ar(t,e,ws)}function cr(t,e){return t&&sr(t,e,ws)}function lr(t,e){return se(e,(function(e){return za(t[e])}))}function hr(t,e){for(var n=0,r=(e=ai(e,t)).length;null!=t&&n<r;)t=t[To(e[n++])];return n&&n==r?t:void 0}function fr(t,e,n){var r=e(t);return Ma(t)?r:he(r,n(t))}function dr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ee&&Ee in pt(t)?function(t){var e=kt.call(t,Ee),n=t[Ee];try{t[Ee]=void 0;var r=!0}catch(o){}var i=Ct.call(t);return r&&(e?t[Ee]=n:delete t[Ee]),i}(t):function(t){return Ct.call(t)}(t)}function pr(t,e){return t>e}function vr(t,e){return null!=t&&kt.call(t,e)}function mr(t,e){return null!=t&&e in pt(t)}function gr(t,e,n){for(var i=n?ce:ue,o=t[0].length,a=t.length,s=a,u=r(a),c=1/0,l=[];s--;){var h=t[s];s&&e&&(h=le(h,xe(e))),c=sn(h.length,c),u[s]=!n&&(e||o>=120&&h.length>=120)?new Ln(s&&h):void 0}h=t[0];var f=-1,d=u[0];t:for(;++f<o&&l.length<c;){var p=h[f],v=e?e(p):p;if(p=n||0!==p?p:0,!(d?Oe(d,v):i(l,v,n))){for(s=a;--s;){var m=u[s];if(!(m?Oe(m,v):i(t[s],v,n)))continue t}d&&d.push(v),l.push(p)}}return l}function yr(t,e,n){var r=null==(t=vo(t,e=ai(e,t)))?t:t[To(Bo(e))];return null==r?void 0:ne(r,t,n)}function br(t){return Ga(t)&&dr(t)==s}function _r(t,e,n,r,i){return t===e||(null==t||null==e||!Ga(t)&&!Ga(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Ma(t),f=Ma(e),d=a?u:eo(t),w=f?u:eo(e),S=(d=d==s?m:d)==m,C=(w=w==s?m:w)==m,I=d==w;if(I&&Fa(t)){if(!Fa(e))return!1;a=!0,S=!1}if(I&&!S)return o||(o=new jn),a||$a(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!o(new Ut(t),new Ut(e)));case c:case l:case v:return Oa(+t,+e);case h:return t.name==e.name&&t.message==e.message;case g:case b:return t==e+"";case p:var s=Fe;case y:if(s||(s=ze),t.size!=e.size&&!(1&r))return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var f=qi(s(t),s(e),r,i,o,a);return a.delete(t),f;case _:if(In)return In.call(t)==In.call(e)}return!1}(t,e,d,n,r,i,o);if(!(1&n)){var T=S&&kt.call(t,"__wrapped__"),x=C&&kt.call(e,"__wrapped__");if(T||x){var A=T?t.value():t,O=x?e.value():e;return o||(o=new jn),i(A,O,n,r,o)}}return!!I&&(o||(o=new jn),function(t,e,n,r,i,o){var a=1&n,s=Hi(t),u=s.length;if(u!=Hi(e).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in e:kt.call(e,l)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<u;){var v=t[l=s[c]],m=e[l];if(r)var g=a?r(m,v,l,e,t,o):r(v,m,l,t,e,o);if(!(void 0===g?v===m||i(v,m,n,r,o):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,_r,i))}function wr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=pt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var h=new jn;if(r)var f=r(c,l,u,t,e,h);if(!(void 0===f?_r(l,c,3,r,h):f))return!1}}return!0}function kr(t){return!(!Ha(t)||(e=t,St&&St in e))&&(za(t)?xt:ot).test(xo(t));var e}function Er(t){return"function"==typeof t?t:null==t?Ks:"object"==typeof t?Ma(t)?xr(t[0],t[1]):Tr(t):nu(t)}function Sr(t){if(!lo(t))return on(t);var e=[];for(var n in pt(t))kt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Cr(t,e){return t<e}function Ir(t,e){var n=-1,i=La(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Tr(t){var e=Xi(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(n){return n===t||wr(n,t,e)}}function xr(t,e){return so(t)&&ho(e)?fo(To(t),e):function(n){var r=ms(n,t);return void 0===r&&r===e?gs(n,t):_r(e,r,3)}}function Ar(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new jn),Ha(o))!function(t,e,n,r,i,o,a){var s=go(t,n),u=go(e,n),c=a.get(u);if(c)qn(t,n,c);else{var l=o?o(s,u,n+"",t,e,a):void 0,h=void 0===l;if(h){var f=Ma(u),d=!f&&Fa(u),p=!f&&!d&&$a(u);l=u,f||d||p?Ma(s)?l=s:ja(s)?l=mi(s):d?(h=!1,l=li(u,!0)):p?(h=!1,l=fi(u,!0)):l=[]:Ya(u)||Na(u)?(l=s,Na(s)?l=ss(s):Ha(s)&&!za(s)||(l=ro(u))):h=!1}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),qn(t,n,l)}}(t,e,a,n,Ar,r,i);else{var s=r?r(go(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),qn(t,a,s)}}),ks)}function Or(t,e){var n=t.length;if(n)return oo(e+=e<0?n:0,n)?t[e]:void 0}function Rr(t,e,n){e=e.length?le(e,(function(t){return Ma(t)?function(e){return hr(e,1===t.length?t[0]:t)}:t})):[Ks];var r=-1;return e=le(e,xe(Zi())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=di(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Ir(t,(function(t,n,i){return{criteria:le(e,(function(e){return e(t)})),index:++r,value:t}})))}function Pr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=hr(t,a);n(s,a)&&Br(o,ai(a,t),s)}return o}function Nr(t,e,n,r){var i=r?be:ye,o=-1,a=e.length,s=t;for(t===e&&(e=mi(e)),n&&(s=le(t,xe(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&Yt.call(s,u,1),Yt.call(t,u,1);return t}function Mr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;oo(i)?Yt.call(t,i,1):Jr(t,i)}}return t}function Dr(t,e){return t+$e(ln()*(e-t+1))}function Lr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=$e(e/2))&&(t+=t)}while(e);return n}function jr(t,e){return _o(po(t,e,Ks),t+"")}function Fr(t){return Un(Os(t))}function Ur(t,e){var n=Os(t);return Eo(n,Zn(e,0,n.length))}function Br(t,e,n,r){if(!Ha(t))return t;for(var i=-1,o=(e=ai(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=To(e[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Ha(l)?l:oo(e[i+1])?[]:{})}Vn(s,u,c),s=s[u]}return t}var zr=yn?function(t,e){return yn.set(t,e),t}:Ks,qr=Ye?function(t,e){return Ye(t,"toString",{configurable:!0,enumerable:!1,value:Hs(e),writable:!0})}:Ks;function Vr(t){return Eo(Os(t))}function Hr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Gr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Wr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ja(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Kr(t,e,Ks,n)}function Kr(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,u=Ja(e),c=void 0===e;i<o;){var l=$e((i+o)/2),h=n(t[l]),f=void 0!==h,d=null===h,p=h==h,v=Ja(h);if(a)var m=r||p;else m=c?p&&(r||f):s?p&&f&&(r||!d):u?p&&f&&!d&&(r||!v):!d&&!v&&(r?h<=e:h<e);m?i=l+1:o=l}return sn(o,4294967294)}function Yr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Oa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Zr(t){return"number"==typeof t?t:Ja(t)?NaN:+t}function Qr(t){if("string"==typeof t)return t;if(Ma(t))return le(t,Qr)+"";if(Ja(t))return Tn?Tn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Xr(t,e,n){var r=-1,i=ue,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=ce;else if(o>=200){var c=e?null:Li(t);if(c)return ze(c);a=!1,i=Oe,u=new Ln}else u=e?[]:s;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,a&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function Jr(t,e){return null==(t=vo(t,e=ai(e,t)))||delete t[To(Bo(e))]}function $r(t,e,n,r){return Br(t,e,n(hr(t,e)),r)}function ti(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Hr(t,r?0:o,r?o+1:i):Hr(t,r?o+1:0,r?i:o)}function ei(t,e){var n=t;return n instanceof Pn&&(n=n.value()),fe(e,(function(t,e){return e.func.apply(e.thisArg,he([t],e.args))}),n)}function ni(t,e,n){var i=t.length;if(i<2)return i?Xr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=$n(a[o]||s,t[u],e,n));return Xr(or(a,1),e,n)}function ri(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;)n(a,t[r],r<o?e[r]:void 0);return a}function ii(t){return ja(t)?t:[]}function oi(t){return"function"==typeof t?t:Ks}function ai(t,e){return Ma(t)?t:so(t,e)?[t]:Io(us(t))}var si=jr;function ui(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var ci=Ze||function(t){return Ht.clearTimeout(t)};function li(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function fi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=Ja(t),a=void 0!==e,s=null===e,u=e==e,c=Ja(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function pi(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,l=an(a-s,0),h=r(c+l),f=!i;++u<c;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function vi(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,h=an(a-u,0),f=r(h+l),d=!i;++o<h;)f[o]=t[o];for(var p=o;++c<l;)f[p+c]=e[c];for(;++s<u;)(d||o<a)&&(f[p+n[s]]=t[o++]);return f}function mi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function gi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),i?Kn(n,s,u):Vn(n,s,u)}return n}function yi(t,e){return function(n,r){var i=Ma(n)?re:Gn,o=e?e():{};return i(n,t,Zi(r,2),o)}}function bi(t){return jr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&ao(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=pt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function _i(t,e){return function(n,r){if(null==n)return n;if(!La(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=pt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=pt(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function ki(t){return function(e){var n=je(e=us(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?ui(n,1).join(""):e.slice(1);return r[t]()+i}}function Ei(t){return function(e){return fe(zs(Ns(e).replace(At,"")),t,"")}}function Si(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),r=t.apply(n,e);return Ha(r)?r:n}}function Ci(t){return function(e,n,r){var i=pt(e);if(!La(e)){var o=Zi(n,3);e=ws(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function Ii(t){return Vi((function(e){var n=e.length,r=n,o=Rn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new gt(i);if(o&&!s&&"wrapper"==Ki(a))var s=new Rn([],!0)}for(r=s?r:n;++r<n;){var u=Ki(a=e[r]),c="wrapper"==u?Wi(a):void 0;s=c&&uo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Ki(c[0])].apply(s,c[3]):1==a.length&&uo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ma(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ti(t,e,n,i,o,a,s,u,c,l){var h=128&e,f=1&e,d=2&e,p=24&e,v=512&e,m=d?void 0:Si(t);return function g(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(p)var w=Yi(g),k=Ne(b,w);if(i&&(b=pi(b,i,o,p)),a&&(b=vi(b,a,s,p)),y-=k,p&&y<l){var E=Be(b,w);return Mi(t,e,Ti,g.placeholder,n,b,E,u,c,l-y)}var S=f?n:this,C=d?S[t]:t;return y=b.length,u?b=mo(b,u):v&&y>1&&b.reverse(),h&&c<y&&(b.length=c),this&&this!==Ht&&this instanceof g&&(C=m||Si(C)),C.apply(S,b)}}function xi(t,e){return function(n,r){return function(t,e,n,r){return ur(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Ai(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Qr(n),r=Qr(r)):(n=Zr(n),r=Zr(r)),i=t(n,r)}return i}}function Oi(t){return Vi((function(e){return e=le(e,xe(Zi())),jr((function(n){var r=this;return t(e,(function(t){return ne(t,r,n)}))}))}))}function Ri(t,e){var n=(e=void 0===e?" ":Qr(e)).length;if(n<2)return n?Lr(e,t):e;var r=Lr(e,Je(t/Ve(e)));return je(e)?ui(He(r),0,t).join(""):r.slice(0,t)}function Pi(t){return function(e,n,i){return i&&"number"!=typeof i&&ao(e,n,i)&&(n=i=void 0),e=rs(e),void 0===n?(n=e,e=0):n=rs(n),function(t,e,n,i){for(var o=-1,a=an(Je((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:rs(i),t)}}function Ni(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=as(e),n=as(n)),t(e,n)}}function Mi(t,e,n,r,i,o,a,s,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],f=n.apply(void 0,h);return uo(t)&&yo(f,h),f.placeholder=r,wo(f,t,e)}function Di(t){var e=dt[t];return function(t,n){if(t=as(t),(n=null==n?0:sn(is(n),292))&&nn(t)){var r=(us(t)+"e").split("e");return+((r=(us(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Li=vn&&1/ze(new vn([,-0]))[1]==1/0?function(t){return new vn(t)}:Js;function ji(t){return function(e){var n=eo(e);return n==p?Fe(e):n==y?qe(e):function(t,e){return le(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fi(t,e,n,a,s,u,c,l){var h=2&e;if(!h&&"function"!=typeof t)throw new gt(i);var f=a?a.length:0;if(f||(e&=-97,a=s=void 0),c=void 0===c?c:an(is(c),0),l=void 0===l?l:is(l),f-=s?s.length:0,64&e){var d=a,p=s;a=s=void 0}var v=h?void 0:Wi(t),m=[t,e,n,a,s,d,p,u,c,l];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var a=e[3];if(a){var s=t[3];t[3]=s?pi(s,a,e[4]):a,t[4]=s?Be(t[3],o):e[4]}(a=e[5])&&(t[5]=(s=t[5])?vi(s,a,e[6]):a,t[6]=s?Be(t[5],o):e[6]),(a=e[7])&&(t[7]=a),128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(m,v),t=m[0],e=m[1],n=m[2],a=m[3],s=m[4],!(l=m[9]=void 0===m[9]?h?0:t.length:an(m[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,n){var i=Si(t);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Yi(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:Be(s,c);if((a-=l.length)<n)return Mi(t,e,Ti,o.placeholder,void 0,s,l,void 0,void 0,n-a);var h=this&&this!==Ht&&this instanceof o?i:t;return ne(h,this,s)}}(t,e,l):32!=e&&33!=e||s.length?Ti.apply(void 0,m):function(t,e,n,i){var o=1&e,a=Si(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),f=this&&this!==Ht&&this instanceof e?a:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++s];return ne(f,o?n:this,h)}}(t,e,n,a);else var g=function(t,e,n){var r=1&e,i=Si(t);return function e(){var o=this&&this!==Ht&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return wo((v?zr:yo)(g,m),t,e)}function Ui(t,e,n,r){return void 0===t||Oa(t,bt[n])&&!kt.call(r,n)?e:t}function Bi(t,e,n,r,i,o){return Ha(t)&&Ha(e)&&(o.set(e,t),Ar(t,e,void 0,Bi,o),o.delete(e)),t}function zi(t){return Ya(t)?void 0:t}function qi(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var h=-1,f=!0,d=2&n?new Ln:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var p=t[h],v=e[h];if(r)var m=a?r(v,p,h,e,t,o):r(p,v,h,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!pe(e,(function(t,e){if(!Oe(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Vi(t){return _o(po(t,void 0,Do),t+"")}function Hi(t){return fr(t,ws,$i)}function Gi(t){return fr(t,ks,to)}var Wi=yn?function(t){return yn.get(t)}:Js;function Ki(t){for(var e=t.name+"",n=bn[e],r=kt.call(bn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Yi(t){return(kt.call(xn,"placeholder")?xn:t).placeholder}function Zi(){var t=xn.iteratee||Ys;return t=t===Ys?Er:t,arguments.length?t(arguments[0],arguments[1]):t}function Qi(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Xi(t){for(var e=ws(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Ji(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return kr(n)?n:void 0}var $i=tn?function(t){return null==t?[]:(t=pt(t),se(tn(t),(function(e){return Wt.call(t,e)})))}:ou,to=tn?function(t){for(var e=[];t;)he(e,$i(t)),t=Vt(t);return e}:ou,eo=dr;function no(t,e,n){for(var r=-1,i=(e=ai(e,t)).length,o=!1;++r<i;){var a=To(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Va(i)&&oo(a,i)&&(Ma(t)||Na(t))}function ro(t){return"function"!=typeof t.constructor||lo(t)?{}:An(Vt(t))}function io(t){return Ma(t)||Na(t)||!!(Zt&&t&&t[Zt])}function oo(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function ao(t,e,n){if(!Ha(n))return!1;var r=typeof e;return!!("number"==r?La(n)&&oo(e,n.length):"string"==r&&e in n)&&Oa(n[e],t)}function so(t,e){if(Ma(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ja(t))||V.test(t)||!q.test(t)||null!=e&&t in pt(e)}function uo(t){var e=Ki(t),n=xn[e];if("function"!=typeof n||!(e in Pn.prototype))return!1;if(t===n)return!0;var r=Wi(n);return!!r&&t===r[0]}(fn&&eo(new fn(new ArrayBuffer(1)))!=E||dn&&eo(new dn)!=p||pn&&"[object Promise]"!=eo(pn.resolve())||vn&&eo(new vn)!=y||mn&&eo(new mn)!=w)&&(eo=function(t){var e=dr(t),n=e==m?t.constructor:void 0,r=n?xo(n):"";if(r)switch(r){case _n:return E;case wn:return p;case kn:return"[object Promise]";case En:return y;case Sn:return w}return e});var co=_t?za:au;function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)}function ho(t){return t==t&&!Ha(t)}function fo(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in pt(n))}}function po(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(s),ne(t,this,u)}}function vo(t,e){return e.length<2?t:hr(t,Hr(e,0,-1))}function mo(t,e){for(var n=t.length,r=sn(e.length,n),i=mi(t);r--;){var o=e[r];t[r]=oo(o,n)?i[o]:void 0}return t}function go(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yo=ko(zr),bo=Xe||function(t,e){return Ht.setTimeout(t,e)},_o=ko(qr);function wo(t,e,n){var r=e+"";return _o(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ie(a,(function(n){var r="_."+n[0];e&n[1]&&!ue(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Q);return e?e[1].split(X):[]}(r),n)))}function ko(t){var e=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Eo(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Dr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var So,Co,Io=(So=Sa((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,(function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===Co.size&&Co.clear(),t})),Co=So.cache,So);function To(t){if("string"==typeof t||Ja(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function xo(t){if(null!=t){try{return wt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ao(t){if(t instanceof Pn)return t.clone();var e=new Rn(t.__wrapped__,t.__chain__);return e.__actions__=mi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Oo=jr((function(t,e){return ja(t)?$n(t,or(e,1,ja,!0)):[]})),Ro=jr((function(t,e){var n=Bo(e);return ja(n)&&(n=void 0),ja(t)?$n(t,or(e,1,ja,!0),Zi(n,2)):[]})),Po=jr((function(t,e){var n=Bo(e);return ja(n)&&(n=void 0),ja(t)?$n(t,or(e,1,ja,!0),void 0,n):[]}));function No(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=an(r+i,0)),ge(t,Zi(e,3),i)}function Mo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=is(n),i=n<0?an(r+i,0):sn(i,r-1)),ge(t,Zi(e,3),i,!0)}function Do(t){return null!=t&&t.length?or(t,1):[]}function Lo(t){return t&&t.length?t[0]:void 0}var jo=jr((function(t){var e=le(t,ii);return e.length&&e[0]===t[0]?gr(e):[]})),Fo=jr((function(t){var e=Bo(t),n=le(t,ii);return e===Bo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?gr(n,Zi(e,2)):[]})),Uo=jr((function(t){var e=Bo(t),n=le(t,ii);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?gr(n,void 0,e):[]}));function Bo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var zo=jr(qo);function qo(t,e){return t&&t.length&&e&&e.length?Nr(t,e):t}var Vo=Vi((function(t,e){var n=null==t?0:t.length,r=Yn(t,e);return Mr(t,le(e,(function(t){return oo(t,n)?+t:t})).sort(di)),r}));function Ho(t){return null==t?t:hn.call(t)}var Go=jr((function(t){return Xr(or(t,1,ja,!0))})),Wo=jr((function(t){var e=Bo(t);return ja(e)&&(e=void 0),Xr(or(t,1,ja,!0),Zi(e,2))})),Ko=jr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,Xr(or(t,1,ja,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=se(t,(function(t){if(ja(t))return e=an(t.length,e),!0})),Ie(e,(function(e){return le(t,ke(e))}))}function Zo(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:le(n,(function(t){return ne(e,void 0,t)}))}var Qo=jr((function(t,e){return ja(t)?$n(t,e):[]})),Xo=jr((function(t){return ni(se(t,ja))})),Jo=jr((function(t){var e=Bo(t);return ja(e)&&(e=void 0),ni(se(t,ja),Zi(e,2))})),$o=jr((function(t){var e=Bo(t);return e="function"==typeof e?e:void 0,ni(se(t,ja),void 0,e)})),ta=jr(Yo),ea=jr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Zo(t,n)}));function na(t){var e=xn(t);return e.__chain__=!0,e}function ra(t,e){return e(t)}var ia=Vi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Pn&&oo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new Rn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),oa=yi((function(t,e,n){kt.call(t,n)?++t[n]:Kn(t,n,1)})),aa=Ci(No),sa=Ci(Mo);function ua(t,e){return(Ma(t)?ie:tr)(t,Zi(e,3))}function ca(t,e){return(Ma(t)?oe:er)(t,Zi(e,3))}var la=yi((function(t,e,n){kt.call(t,n)?t[n].push(e):Kn(t,n,[e])})),ha=jr((function(t,e,n){var i=-1,o="function"==typeof e,a=La(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?ne(e,t,n):yr(t,e,n)})),a})),fa=yi((function(t,e,n){Kn(t,n,e)}));function da(t,e){return(Ma(t)?le:Ir)(t,Zi(e,3))}var pa=yi((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),va=jr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ao(t,e[0],e[1])?e=[]:n>2&&ao(e[0],e[1],e[2])&&(e=[e[0]]),Rr(t,or(e,1),[])})),ma=Qe||function(){return Ht.Date.now()};function ga(t,e,n){return e=n?void 0:e,Fi(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function ya(t,e){var n;if("function"!=typeof e)throw new gt(i);return t=is(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ba=jr((function(t,e,n){var r=1;if(n.length){var i=Be(n,Yi(ba));r|=32}return Fi(t,r,e,n,i)})),_a=jr((function(t,e,n){var r=3;if(n.length){var i=Be(n,Yi(_a));r|=32}return Fi(e,r,t,n,i)}));function wa(t,e,n){var r,o,a,s,u,c,l=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new gt(i);function p(e){var n=r,i=o;return r=o=void 0,l=e,s=t.apply(i,n)}function v(t){return l=t,u=bo(g,e),h?p(t):s}function m(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=a}function g(){var t=ma();if(m(t))return y(t);u=bo(g,function(t){var n=e-(t-c);return f?sn(n,a-(t-l)):n}(t))}function y(t){return u=void 0,d&&r?p(t):(r=o=void 0,s)}function b(){var t=ma(),n=m(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return v(c);if(f)return ci(u),u=bo(g,e),p(c)}return void 0===u&&(u=bo(g,e)),s}return e=as(e)||0,Ha(n)&&(h=!!n.leading,a=(f="maxWait"in n)?an(as(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==u&&ci(u),l=0,r=c=o=u=void 0},b.flush=function(){return void 0===u?s:y(ma())},b}var ka=jr((function(t,e){return Jn(t,1,e)})),Ea=jr((function(t,e,n){return Jn(t,as(e)||0,n)}));function Sa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(i);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Sa.Cache||Dn),n}function Ca(t){if("function"!=typeof t)throw new gt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Sa.Cache=Dn;var Ia=si((function(t,e){var n=(e=1==e.length&&Ma(e[0])?le(e[0],xe(Zi())):le(or(e,1),xe(Zi()))).length;return jr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ne(t,this,r)}))})),Ta=jr((function(t,e){return Fi(t,32,void 0,e,Be(e,Yi(Ta)))})),xa=jr((function(t,e){return Fi(t,64,void 0,e,Be(e,Yi(xa)))})),Aa=Vi((function(t,e){return Fi(t,256,void 0,void 0,void 0,e)}));function Oa(t,e){return t===e||t!=t&&e!=e}var Ra=Ni(pr),Pa=Ni((function(t,e){return t>=e})),Na=br(function(){return arguments}())?br:function(t){return Ga(t)&&kt.call(t,"callee")&&!Wt.call(t,"callee")},Ma=r.isArray,Da=Qt?xe(Qt):function(t){return Ga(t)&&dr(t)==k};function La(t){return null!=t&&Va(t.length)&&!za(t)}function ja(t){return Ga(t)&&La(t)}var Fa=en||au,Ua=Xt?xe(Xt):function(t){return Ga(t)&&dr(t)==l};function Ba(t){if(!Ga(t))return!1;var e=dr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ya(t)}function za(t){if(!Ha(t))return!1;var e=dr(t);return e==f||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function qa(t){return"number"==typeof t&&t==is(t)}function Va(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Ha(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ga(t){return null!=t&&"object"==typeof t}var Wa=Jt?xe(Jt):function(t){return Ga(t)&&eo(t)==p};function Ka(t){return"number"==typeof t||Ga(t)&&dr(t)==v}function Ya(t){if(!Ga(t)||dr(t)!=m)return!1;var e=Vt(t);if(null===e)return!0;var n=kt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&wt.call(n)==It}var Za=$t?xe($t):function(t){return Ga(t)&&dr(t)==g},Qa=te?xe(te):function(t){return Ga(t)&&eo(t)==y};function Xa(t){return"string"==typeof t||!Ma(t)&&Ga(t)&&dr(t)==b}function Ja(t){return"symbol"==typeof t||Ga(t)&&dr(t)==_}var $a=ee?xe(ee):function(t){return Ga(t)&&Va(t.length)&&!!jt[dr(t)]},ts=Ni(Cr),es=Ni((function(t,e){return t<=e}));function ns(t){if(!t)return[];if(La(t))return Xa(t)?He(t):mi(t);if(ve&&t[ve])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ve]());var e=eo(t);return(e==p?Fe:e==y?ze:Os)(t)}function rs(t){return t?(t=as(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function is(t){var e=rs(t),n=e%1;return e==e?n?e-n:e:0}function os(t){return t?Zn(is(t),0,4294967295):0}function as(t){if("number"==typeof t)return t;if(Ja(t))return NaN;if(Ha(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ha(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Te(t);var n=it.test(t);return n||at.test(t)?zt(t.slice(2),n?2:8):rt.test(t)?NaN:+t}function ss(t){return gi(t,ks(t))}function us(t){return null==t?"":Qr(t)}var cs=bi((function(t,e){if(lo(e)||La(e))gi(e,ws(e),t);else for(var n in e)kt.call(e,n)&&Vn(t,n,e[n])})),ls=bi((function(t,e){gi(e,ks(e),t)})),hs=bi((function(t,e,n,r){gi(e,ks(e),t,r)})),fs=bi((function(t,e,n,r){gi(e,ws(e),t,r)})),ds=Vi(Yn),ps=jr((function(t,e){t=pt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&ao(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=ks(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(void 0===l||Oa(l,bt[c])&&!kt.call(t,c))&&(t[c]=o[c])}return t})),vs=jr((function(t){return t.push(void 0,Bi),ne(Ss,void 0,t)}));function ms(t,e,n){var r=null==t?void 0:hr(t,e);return void 0===r?n:r}function gs(t,e){return null!=t&&no(t,e,mr)}var ys=xi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),t[e]=n}),Hs(Ks)),bs=xi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),kt.call(t,e)?t[e].push(n):t[e]=[n]}),Zi),_s=jr(yr);function ws(t){return La(t)?Fn(t):Sr(t)}function ks(t){return La(t)?Fn(t,!0):function(t){if(!Ha(t))return function(t){var e=[];if(null!=t)for(var n in pt(t))e.push(n);return e}(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&kt.call(t,r))&&n.push(r);return n}(t)}var Es=bi((function(t,e,n){Ar(t,e,n)})),Ss=bi((function(t,e,n,r){Ar(t,e,n,r)})),Cs=Vi((function(t,e){var n={};if(null==t)return n;var r=!1;e=le(e,(function(e){return e=ai(e,t),r||(r=e.length>1),e})),gi(t,Gi(t),n),r&&(n=Qn(n,7,zi));for(var i=e.length;i--;)Jr(n,e[i]);return n})),Is=Vi((function(t,e){return null==t?{}:function(t,e){return Pr(t,e,(function(e,n){return gs(t,n)}))}(t,e)}));function Ts(t,e){if(null==t)return{};var n=le(Gi(t),(function(t){return[t]}));return e=Zi(e),Pr(t,n,(function(t,n){return e(t,n[0])}))}var xs=ji(ws),As=ji(ks);function Os(t){return null==t?[]:Ae(t,ws(t))}var Rs=Ei((function(t,e,n){return e=e.toLowerCase(),t+(n?Ps(e):e)}));function Ps(t){return Bs(us(t).toLowerCase())}function Ns(t){return(t=us(t))&&t.replace(ut,Me).replace(Ot,"")}var Ms=Ei((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ds=Ei((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ls=ki("toLowerCase"),js=Ei((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Fs=Ei((function(t,e,n){return t+(n?" ":"")+Bs(e)})),Us=Ei((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Bs=ki("toUpperCase");function zs(t,e,n){return t=us(t),void 0===(e=n?void 0:e)?function(t){return Mt.test(t)}(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.match(J)||[]}(t):t.match(e)||[]}var qs=jr((function(t,e){try{return ne(t,void 0,e)}catch(n){return Ba(n)?n:new ht(n)}})),Vs=Vi((function(t,e){return ie(e,(function(e){e=To(e),Kn(t,e,ba(t[e],t))})),t}));function Hs(t){return function(){return t}}var Gs=Ii(),Ws=Ii(!0);function Ks(t){return t}function Ys(t){return Er("function"==typeof t?t:Qn(t,1))}var Zs=jr((function(t,e){return function(n){return yr(n,t,e)}})),Qs=jr((function(t,e){return function(n){return yr(t,n,e)}}));function Xs(t,e,n){var r=ws(e),i=lr(e,r);null!=n||Ha(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=lr(e,ws(e)));var o=!(Ha(n)&&"chain"in n&&!n.chain),a=za(t);return ie(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=mi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,he([this.value()],arguments))})})),t}function Js(){}var $s=Oi(le),tu=Oi(ae),eu=Oi(pe);function nu(t){return so(t)?ke(To(t)):function(t){return function(e){return hr(e,t)}}(t)}var ru=Pi(),iu=Pi(!0);function ou(){return[]}function au(){return!1}var su,uu=Ai((function(t,e){return t+e}),0),cu=Di("ceil"),lu=Ai((function(t,e){return t/e}),1),hu=Di("floor"),fu=Ai((function(t,e){return t*e}),1),du=Di("round"),pu=Ai((function(t,e){return t-e}),0);return xn.after=function(t,e){if("function"!=typeof e)throw new gt(i);return t=is(t),function(){if(--t<1)return e.apply(this,arguments)}},xn.ary=ga,xn.assign=cs,xn.assignIn=ls,xn.assignInWith=hs,xn.assignWith=fs,xn.at=ds,xn.before=ya,xn.bind=ba,xn.bindAll=Vs,xn.bindKey=_a,xn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ma(t)?t:[t]},xn.chain=na,xn.chunk=function(t,e,n){e=(n?ao(t,e,n):void 0===e)?1:an(is(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=r(Je(i/e));o<i;)s[a++]=Hr(t,o,o+=e);return s},xn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},xn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return he(Ma(n)?mi(n):[n],or(e,1))},xn.cond=function(t){var e=null==t?0:t.length,n=Zi();return t=e?le(t,(function(t){if("function"!=typeof t[1])throw new gt(i);return[n(t[0]),t[1]]})):[],jr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},xn.conforms=function(t){return function(t){var e=ws(t);return function(n){return Xn(n,t,e)}}(Qn(t,1))},xn.constant=Hs,xn.countBy=oa,xn.create=function(t,e){var n=An(t);return null==e?n:Wn(n,e)},xn.curry=function t(e,n,r){var i=Fi(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},xn.curryRight=function t(e,n,r){var i=Fi(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},xn.debounce=wa,xn.defaults=ps,xn.defaultsDeep=vs,xn.defer=ka,xn.delay=Ea,xn.difference=Oo,xn.differenceBy=Ro,xn.differenceWith=Po,xn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:is(e))<0?0:e,r):[]},xn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:is(e)))<0?0:e):[]},xn.dropRightWhile=function(t,e){return t&&t.length?ti(t,Zi(e,3),!0,!0):[]},xn.dropWhile=function(t,e){return t&&t.length?ti(t,Zi(e,3),!0):[]},xn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ao(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=is(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:is(r))<0&&(r+=i),r=n>r?0:os(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},xn.filter=function(t,e){return(Ma(t)?se:ir)(t,Zi(e,3))},xn.flatMap=function(t,e){return or(da(t,e),1)},xn.flatMapDeep=function(t,e){return or(da(t,e),1/0)},xn.flatMapDepth=function(t,e,n){return n=void 0===n?1:is(n),or(da(t,e),n)},xn.flatten=Do,xn.flattenDeep=function(t){return null!=t&&t.length?or(t,1/0):[]},xn.flattenDepth=function(t,e){return null!=t&&t.length?or(t,e=void 0===e?1:is(e)):[]},xn.flip=function(t){return Fi(t,512)},xn.flow=Gs,xn.flowRight=Ws,xn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},xn.functions=function(t){return null==t?[]:lr(t,ws(t))},xn.functionsIn=function(t){return null==t?[]:lr(t,ks(t))},xn.groupBy=la,xn.initial=function(t){return null!=t&&t.length?Hr(t,0,-1):[]},xn.intersection=jo,xn.intersectionBy=Fo,xn.intersectionWith=Uo,xn.invert=ys,xn.invertBy=bs,xn.invokeMap=ha,xn.iteratee=Ys,xn.keyBy=fa,xn.keys=ws,xn.keysIn=ks,xn.map=da,xn.mapKeys=function(t,e){var n={};return e=Zi(e,3),ur(t,(function(t,r,i){Kn(n,e(t,r,i),t)})),n},xn.mapValues=function(t,e){var n={};return e=Zi(e,3),ur(t,(function(t,r,i){Kn(n,r,e(t,r,i))})),n},xn.matches=function(t){return Tr(Qn(t,1))},xn.matchesProperty=function(t,e){return xr(t,Qn(e,1))},xn.memoize=Sa,xn.merge=Es,xn.mergeWith=Ss,xn.method=Zs,xn.methodOf=Qs,xn.mixin=Xs,xn.negate=Ca,xn.nthArg=function(t){return t=is(t),jr((function(e){return Or(e,t)}))},xn.omit=Cs,xn.omitBy=function(t,e){return Ts(t,Ca(Zi(e)))},xn.once=function(t){return ya(2,t)},xn.orderBy=function(t,e,n,r){return null==t?[]:(Ma(e)||(e=null==e?[]:[e]),Ma(n=r?void 0:n)||(n=null==n?[]:[n]),Rr(t,e,n))},xn.over=$s,xn.overArgs=Ia,xn.overEvery=tu,xn.overSome=eu,xn.partial=Ta,xn.partialRight=xa,xn.partition=pa,xn.pick=Is,xn.pickBy=Ts,xn.property=nu,xn.propertyOf=function(t){return function(e){return null==t?void 0:hr(t,e)}},xn.pull=zo,xn.pullAll=qo,xn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Nr(t,e,Zi(n,2)):t},xn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Nr(t,e,void 0,n):t},xn.pullAt=Vo,xn.range=ru,xn.rangeRight=iu,xn.rearg=Aa,xn.reject=function(t,e){return(Ma(t)?se:ir)(t,Ca(Zi(e,3)))},xn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Zi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Mr(t,i),n},xn.rest=function(t,e){if("function"!=typeof t)throw new gt(i);return jr(t,e=void 0===e?e:is(e))},xn.reverse=Ho,xn.sampleSize=function(t,e,n){return e=(n?ao(t,e,n):void 0===e)?1:is(e),(Ma(t)?Bn:Ur)(t,e)},xn.set=function(t,e,n){return null==t?t:Br(t,e,n)},xn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},xn.shuffle=function(t){return(Ma(t)?zn:Vr)(t)},xn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ao(t,e,n)?(e=0,n=r):(e=null==e?0:is(e),n=void 0===n?r:is(n)),Hr(t,e,n)):[]},xn.sortBy=va,xn.sortedUniq=function(t){return t&&t.length?Yr(t):[]},xn.sortedUniqBy=function(t,e){return t&&t.length?Yr(t,Zi(e,2)):[]},xn.split=function(t,e,n){return n&&"number"!=typeof n&&ao(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=us(t))&&("string"==typeof e||null!=e&&!Za(e))&&!(e=Qr(e))&&je(t)?ui(He(t),0,n):t.split(e,n):[]},xn.spread=function(t,e){if("function"!=typeof t)throw new gt(i);return e=null==e?0:an(is(e),0),jr((function(n){var r=n[e],i=ui(n,0,e);return r&&he(i,r),ne(t,this,i)}))},xn.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},xn.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:is(e))<0?0:e):[]},xn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:is(e)))<0?0:e,r):[]},xn.takeRightWhile=function(t,e){return t&&t.length?ti(t,Zi(e,3),!1,!0):[]},xn.takeWhile=function(t,e){return t&&t.length?ti(t,Zi(e,3)):[]},xn.tap=function(t,e){return e(t),t},xn.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new gt(i);return Ha(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),wa(t,e,{leading:r,maxWait:e,trailing:o})},xn.thru=ra,xn.toArray=ns,xn.toPairs=xs,xn.toPairsIn=As,xn.toPath=function(t){return Ma(t)?le(t,To):Ja(t)?[t]:mi(Io(us(t)))},xn.toPlainObject=ss,xn.transform=function(t,e,n){var r=Ma(t),i=r||Fa(t)||$a(t);if(e=Zi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ha(t)&&za(o)?An(Vt(t)):{}}return(i?ie:ur)(t,(function(t,r,i){return e(n,t,r,i)})),n},xn.unary=function(t){return ga(t,1)},xn.union=Go,xn.unionBy=Wo,xn.unionWith=Ko,xn.uniq=function(t){return t&&t.length?Xr(t):[]},xn.uniqBy=function(t,e){return t&&t.length?Xr(t,Zi(e,2)):[]},xn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Xr(t,void 0,e):[]},xn.unset=function(t,e){return null==t||Jr(t,e)},xn.unzip=Yo,xn.unzipWith=Zo,xn.update=function(t,e,n){return null==t?t:$r(t,e,oi(n))},xn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:$r(t,e,oi(n),r)},xn.values=Os,xn.valuesIn=function(t){return null==t?[]:Ae(t,ks(t))},xn.without=Qo,xn.words=zs,xn.wrap=function(t,e){return Ta(oi(e),t)},xn.xor=Xo,xn.xorBy=Jo,xn.xorWith=$o,xn.zip=ta,xn.zipObject=function(t,e){return ri(t||[],e||[],Vn)},xn.zipObjectDeep=function(t,e){return ri(t||[],e||[],Br)},xn.zipWith=ea,xn.entries=xs,xn.entriesIn=As,xn.extend=ls,xn.extendWith=hs,Xs(xn,xn),xn.add=uu,xn.attempt=qs,xn.camelCase=Rs,xn.capitalize=Ps,xn.ceil=cu,xn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==e&&(e=(e=as(e))==e?e:0),Zn(as(t),e,n)},xn.clone=function(t){return Qn(t,4)},xn.cloneDeep=function(t){return Qn(t,5)},xn.cloneDeepWith=function(t,e){return Qn(t,5,e="function"==typeof e?e:void 0)},xn.cloneWith=function(t,e){return Qn(t,4,e="function"==typeof e?e:void 0)},xn.conformsTo=function(t,e){return null==e||Xn(t,e,ws(e))},xn.deburr=Ns,xn.defaultTo=function(t,e){return null==t||t!=t?e:t},xn.divide=lu,xn.endsWith=function(t,e,n){t=us(t),e=Qr(e);var r=t.length,i=n=void 0===n?r:Zn(is(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},xn.eq=Oa,xn.escape=function(t){return(t=us(t))&&F.test(t)?t.replace(L,De):t},xn.escapeRegExp=function(t){return(t=us(t))&&W.test(t)?t.replace(G,"\\$&"):t},xn.every=function(t,e,n){var r=Ma(t)?ae:nr;return n&&ao(t,e,n)&&(e=void 0),r(t,Zi(e,3))},xn.find=aa,xn.findIndex=No,xn.findKey=function(t,e){return me(t,Zi(e,3),ur)},xn.findLast=sa,xn.findLastIndex=Mo,xn.findLastKey=function(t,e){return me(t,Zi(e,3),cr)},xn.floor=hu,xn.forEach=ua,xn.forEachRight=ca,xn.forIn=function(t,e){return null==t?t:ar(t,Zi(e,3),ks)},xn.forInRight=function(t,e){return null==t?t:sr(t,Zi(e,3),ks)},xn.forOwn=function(t,e){return t&&ur(t,Zi(e,3))},xn.forOwnRight=function(t,e){return t&&cr(t,Zi(e,3))},xn.get=ms,xn.gt=Ra,xn.gte=Pa,xn.has=function(t,e){return null!=t&&no(t,e,vr)},xn.hasIn=gs,xn.head=Lo,xn.identity=Ks,xn.includes=function(t,e,n,r){t=La(t)?t:Os(t),n=n&&!r?is(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Xa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ye(t,e,n)>-1},xn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=an(r+i,0)),ye(t,e,i)},xn.inRange=function(t,e,n){return e=rs(e),void 0===n?(n=e,e=0):n=rs(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=as(t),e,n)},xn.invoke=_s,xn.isArguments=Na,xn.isArray=Ma,xn.isArrayBuffer=Da,xn.isArrayLike=La,xn.isArrayLikeObject=ja,xn.isBoolean=function(t){return!0===t||!1===t||Ga(t)&&dr(t)==c},xn.isBuffer=Fa,xn.isDate=Ua,xn.isElement=function(t){return Ga(t)&&1===t.nodeType&&!Ya(t)},xn.isEmpty=function(t){if(null==t)return!0;if(La(t)&&(Ma(t)||"string"==typeof t||"function"==typeof t.splice||Fa(t)||$a(t)||Na(t)))return!t.length;var e=eo(t);if(e==p||e==y)return!t.size;if(lo(t))return!Sr(t).length;for(var n in t)if(kt.call(t,n))return!1;return!0},xn.isEqual=function(t,e){return _r(t,e)},xn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?_r(t,e,void 0,n):!!r},xn.isError=Ba,xn.isFinite=function(t){return"number"==typeof t&&nn(t)},xn.isFunction=za,xn.isInteger=qa,xn.isLength=Va,xn.isMap=Wa,xn.isMatch=function(t,e){return t===e||wr(t,e,Xi(e))},xn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wr(t,e,Xi(e),n)},xn.isNaN=function(t){return Ka(t)&&t!=+t},xn.isNative=function(t){if(co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kr(t)},xn.isNil=function(t){return null==t},xn.isNull=function(t){return null===t},xn.isNumber=Ka,xn.isObject=Ha,xn.isObjectLike=Ga,xn.isPlainObject=Ya,xn.isRegExp=Za,xn.isSafeInteger=function(t){return qa(t)&&t>=-9007199254740991&&t<=9007199254740991},xn.isSet=Qa,xn.isString=Xa,xn.isSymbol=Ja,xn.isTypedArray=$a,xn.isUndefined=function(t){return void 0===t},xn.isWeakMap=function(t){return Ga(t)&&eo(t)==w},xn.isWeakSet=function(t){return Ga(t)&&"[object WeakSet]"==dr(t)},xn.join=function(t,e){return null==t?"":rn.call(t,e)},xn.kebabCase=Ms,xn.last=Bo,xn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=is(n))<0?an(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):ge(t,_e,i,!0)},xn.lowerCase=Ds,xn.lowerFirst=Ls,xn.lt=ts,xn.lte=es,xn.max=function(t){return t&&t.length?rr(t,Ks,pr):void 0},xn.maxBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),pr):void 0},xn.mean=function(t){return we(t,Ks)},xn.meanBy=function(t,e){return we(t,Zi(e,2))},xn.min=function(t){return t&&t.length?rr(t,Ks,Cr):void 0},xn.minBy=function(t,e){return t&&t.length?rr(t,Zi(e,2),Cr):void 0},xn.stubArray=ou,xn.stubFalse=au,xn.stubObject=function(){return{}},xn.stubString=function(){return""},xn.stubTrue=function(){return!0},xn.multiply=fu,xn.nth=function(t,e){return t&&t.length?Or(t,is(e)):void 0},xn.noConflict=function(){return Ht._===this&&(Ht._=Tt),this},xn.noop=Js,xn.now=ma,xn.pad=function(t,e,n){t=us(t);var r=(e=is(e))?Ve(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ri($e(i),n)+t+Ri(Je(i),n)},xn.padEnd=function(t,e,n){t=us(t);var r=(e=is(e))?Ve(t):0;return e&&r<e?t+Ri(e-r,n):t},xn.padStart=function(t,e,n){t=us(t);var r=(e=is(e))?Ve(t):0;return e&&r<e?Ri(e-r,n)+t:t},xn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(us(t).replace(K,""),e||0)},xn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&ao(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=rs(t),void 0===e?(e=t,t=0):e=rs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ln();return sn(t+i*(e-t+Bt("1e-"+((i+"").length-1))),e)}return Dr(t,e)},xn.reduce=function(t,e,n){var r=Ma(t)?fe:Se,i=arguments.length<3;return r(t,Zi(e,4),n,i,tr)},xn.reduceRight=function(t,e,n){var r=Ma(t)?de:Se,i=arguments.length<3;return r(t,Zi(e,4),n,i,er)},xn.repeat=function(t,e,n){return e=(n?ao(t,e,n):void 0===e)?1:is(e),Lr(us(t),e)},xn.replace=function(){var t=arguments,e=us(t[0]);return t.length<3?e:e.replace(t[1],t[2])},xn.result=function(t,e,n){var r=-1,i=(e=ai(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[To(e[r])];void 0===o&&(r=i,o=n),t=za(o)?o.call(t):o}return t},xn.round=du,xn.runInContext=t,xn.sample=function(t){return(Ma(t)?Un:Fr)(t)},xn.size=function(t){if(null==t)return 0;if(La(t))return Xa(t)?Ve(t):t.length;var e=eo(t);return e==p||e==y?t.size:Sr(t).length},xn.snakeCase=js,xn.some=function(t,e,n){var r=Ma(t)?pe:Gr;return n&&ao(t,e,n)&&(e=void 0),r(t,Zi(e,3))},xn.sortedIndex=function(t,e){return Wr(t,e)},xn.sortedIndexBy=function(t,e,n){return Kr(t,e,Zi(n,2))},xn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Wr(t,e);if(r<n&&Oa(t[r],e))return r}return-1},xn.sortedLastIndex=function(t,e){return Wr(t,e,!0)},xn.sortedLastIndexBy=function(t,e,n){return Kr(t,e,Zi(n,2),!0)},xn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Wr(t,e,!0)-1;if(Oa(t[n],e))return n}return-1},xn.startCase=Fs,xn.startsWith=function(t,e,n){return t=us(t),n=null==n?0:Zn(is(n),0,t.length),e=Qr(e),t.slice(n,n+e.length)==e},xn.subtract=pu,xn.sum=function(t){return t&&t.length?Ce(t,Ks):0},xn.sumBy=function(t,e){return t&&t.length?Ce(t,Zi(e,2)):0},xn.template=function(t,e,n){var r=xn.templateSettings;n&&ao(t,e,n)&&(e=void 0),t=us(t),e=hs({},e,r,Ui);var i,o,a=hs({},e.imports,r.imports,Ui),s=ws(a),u=Ae(a,s),c=0,l=e.interpolate||ct,h="__p += '",f=vt((e.escape||ct).source+"|"+l.source+"|"+(l===z?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),d="//# sourceURL="+(kt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";t.replace(f,(function(e,n,r,a,s,u){return r||(r=a),h+=t.slice(c,u).replace(lt,Le),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),h+="';\n";var p=kt.call(e,"variable")&&e.variable;if(p){if($.test(p))throw new ht("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(P,""):h).replace(N,"$1").replace(M,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=qs((function(){return ft(s,d+"return "+h).apply(void 0,u)}));if(v.source=h,Ba(v))throw v;return v},xn.times=function(t,e){if((t=is(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Ie(r,e=Zi(e));++n<t;)e(n);return i},xn.toFinite=rs,xn.toInteger=is,xn.toLength=os,xn.toLower=function(t){return us(t).toLowerCase()},xn.toNumber=as,xn.toSafeInteger=function(t){return t?Zn(is(t),-9007199254740991,9007199254740991):0===t?t:0},xn.toString=us,xn.toUpper=function(t){return us(t).toUpperCase()},xn.trim=function(t,e,n){if((t=us(t))&&(n||void 0===e))return Te(t);if(!t||!(e=Qr(e)))return t;var r=He(t),i=He(e);return ui(r,Re(r,i),Pe(r,i)+1).join("")},xn.trimEnd=function(t,e,n){if((t=us(t))&&(n||void 0===e))return t.slice(0,Ge(t)+1);if(!t||!(e=Qr(e)))return t;var r=He(t);return ui(r,0,Pe(r,He(e))+1).join("")},xn.trimStart=function(t,e,n){if((t=us(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=Qr(e)))return t;var r=He(t);return ui(r,Re(r,He(e))).join("")},xn.truncate=function(t,e){var n=30,r="...";if(Ha(e)){var i="separator"in e?e.separator:i;n="length"in e?is(e.length):n,r="omission"in e?Qr(e.omission):r}var o=(t=us(t)).length;if(je(t)){var a=He(t);o=a.length}if(n>=o)return t;var s=n-Ve(r);if(s<1)return r;var u=a?ui(a,0,s).join(""):t.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Za(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=vt(i.source,us(nt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?s:h)}}else if(t.indexOf(Qr(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},xn.unescape=function(t){return(t=us(t))&&j.test(t)?t.replace(D,We):t},xn.uniqueId=function(t){var e=++Et;return us(t)+e},xn.upperCase=Us,xn.upperFirst=Bs,xn.each=ua,xn.eachRight=ca,xn.first=Lo,Xs(xn,(su={},ur(xn,(function(t,e){kt.call(xn.prototype,e)||(su[e]=t)})),su),{chain:!1}),xn.VERSION="4.17.21",ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){xn[t].placeholder=xn})),ie(["drop","take"],(function(t,e){Pn.prototype[t]=function(n){n=void 0===n?1:an(is(n),0);var r=this.__filtered__&&!e?new Pn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Pn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ie(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Pn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Zi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ie(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Pn.prototype[t]=function(){return this[n](1).value()[0]}})),ie(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Pn.prototype[t]=function(){return this.__filtered__?new Pn(this):this[n](1)}})),Pn.prototype.compact=function(){return this.filter(Ks)},Pn.prototype.find=function(t){return this.filter(t).head()},Pn.prototype.findLast=function(t){return this.reverse().find(t)},Pn.prototype.invokeMap=jr((function(t,e){return"function"==typeof t?new Pn(this):this.map((function(n){return yr(n,t,e)}))})),Pn.prototype.reject=function(t){return this.filter(Ca(Zi(t)))},Pn.prototype.slice=function(t,e){t=is(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Pn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=is(e))<0?n.dropRight(-e):n.take(e-t)),n)},Pn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Pn.prototype.toArray=function(){return this.take(4294967295)},ur(Pn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=xn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(xn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Pn,u=a[0],c=s||Ma(e),l=function(t){var e=i.apply(xn,he([t],a));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var h=this.__chain__,f=!!this.__actions__.length,d=o&&!h,p=s&&!f;if(!o&&c){e=p?e:new Pn(this);var v=t.apply(e,a);return v.__actions__.push({func:ra,args:[l],thisArg:void 0}),new Rn(v,h)}return d&&p?t.apply(this,a):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})})),ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);xn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ma(i)?i:[],t)}return this[n]((function(n){return e.apply(Ma(n)?n:[],t)}))}})),ur(Pn.prototype,(function(t,e){var n=xn[e];if(n){var r=n.name+"";kt.call(bn,r)||(bn[r]=[]),bn[r].push({name:e,func:n})}})),bn[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],Pn.prototype.clone=function(){var t=new Pn(this.__wrapped__);return t.__actions__=mi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mi(this.__views__),t},Pn.prototype.reverse=function(){if(this.__filtered__){var t=new Pn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Pn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ma(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,d=sn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return ei(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var v=-1,m=t[c+=e];++v<h;){var g=l[v],y=g.type,b=(0,g.iteratee)(m);if(2==y)m=b;else if(!b){if(1==y)continue t;break t}}p[f++]=m}return p},xn.prototype.at=ia,xn.prototype.chain=function(){return na(this)},xn.prototype.commit=function(){return new Rn(this.value(),this.__chain__)},xn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},xn.prototype.plant=function(t){for(var e,n=this;n instanceof On;){var r=Ao(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},xn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Pn){var e=t;return this.__actions__.length&&(e=new Pn(this)),(e=e.reverse()).__actions__.push({func:ra,args:[Ho],thisArg:void 0}),new Rn(e,this.__chain__)}return this.thru(Ho)},xn.prototype.toJSON=xn.prototype.valueOf=xn.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},xn.prototype.first=xn.prototype.head,ve&&(xn.prototype[ve]=function(){return this}),xn}();Ht._=Ke,void 0===(r=(function(){return Ke}).call(e,n,e,t))||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}))}n.d(e,"a",(function(){return r}))},NXyV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("Cfvw"),o=n("EY2u");function a(t){return new r.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)}))}},QmNs:function(t,e,n){"use strict";var r=n("zIRd"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}"function"==typeof SuppressedError&&SuppressedError;var s=n("/6Yf"),u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),l=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return o(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return o(this,void 0,void 0,(function(){var t,e;return a(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function h(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var f,d,p,v=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return h(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?h(t,(function(t){return e.decode(t)})):t},t}(),m=function(){function t(t,e,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new l(e,n),this.cancelAllRequests=new Promise((function(t){a.deleteService=function(){return t()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i,o;return a(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return o(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return o(this,void 0,void 0,(function(){var r,i,o,s,l,h,f,d,p,v;return a(this,(function(a){switch(a.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=a.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),l=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new c("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),h=l.timer,f=l.promise,[4,Promise.race([g(h,this.postJSON(r,i,o)),f,g(h,this.cancelAllRequests)])];case 2:if(!(d=a.sent()))throw new c("cancelled","Firebase Functions instance was deleted.");if(p=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!u[s])return new c("internal","internal");r=u[s],i=s}var l=a.message;"string"==typeof l&&(i=l),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(h){}return"ok"===r?null:new c(r,i,o)}(d.status,d.json,this.serializer))throw p;if(!d.json)throw new c("internal","Response is not valid JSON object.");if(void 0===(v=d.json.data)&&(v=d.json.result),void 0===v)throw new c("internal","Response is missing data field.");return[2,{data:this.serializer.decode(v)}]}}))}))},t}();function g(t,e){return o(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}f=r.a,d=fetch.bind(self),p={Functions:m},f.INTERNAL.registerComponent(new s.a("functions",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new m(r,i,a,o,n,d)}),"PUBLIC").setServiceProps(p).setMultipleInstances(!0)),r.a.registerVersion("@firebase/functions","0.6.16");var y=n("8Y7J"),b=n("Z2Br");n.d(e,"a",(function(){return w}));var _,w=((_=_createClass((function t(e){_classCallCheck(this,t),this.firebaseService=e,this.functions=this.firebaseService.firebase.functions()}))).ngInjectableDef=y.Rb({factory:function(){return new _(y.Sb(b.a))},token:_,providedIn:"root"}),_)},SVse:function(t,e,n){"use strict";n.d(e,"A",(function(){return b})),n.d(e,"n",(function(){return w})),n.d(e,"o",(function(){return _})),n.d(e,"B",(function(){return k})),n.d(e,"c",(function(){return V})),n.d(e,"k",(function(){return C})),n.d(e,"l",(function(){return T})),n.d(e,"m",(function(){return A})),n.d(e,"p",(function(){return N})),n.d(e,"q",(function(){return M})),n.d(e,"r",(function(){return D})),n.d(e,"d",(function(){return H})),n.d(e,"b",(function(){return B})),n.d(e,"g",(function(){return z})),n.d(e,"e",(function(){return q})),n.d(e,"z",(function(){return G})),n.d(e,"v",(function(){return W})),n.d(e,"w",(function(){return K})),n.d(e,"u",(function(){return Y})),n.d(e,"y",(function(){return S})),n.d(e,"x",(function(){return E})),n.d(e,"t",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"j",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"s",(function(){return h})),n.d(e,"i",(function(){return u}));var r=n("8Y7J"),i=_createClass((function t(){_classCallCheck(this,t)})),o=new r.o("Location Initialized"),a=_createClass((function t(){_classCallCheck(this,t)})),s=new r.o("appBaseHref"),u=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(c(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+t.normalizeQueryParams(n))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}],[{key:"normalizeQueryParams",value:function(t){return t&&"?"!==t[0]?"?"+t:t}},{key:"joinWithSlash",value:function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}},{key:"stripTrailingSlash",value:function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}]),t}();function c(t){return t.replace(/\/index.html$/,"")}var l=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e))._platformLocation=t,r._baseHref="",null!=n&&(r._baseHref=n),r}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=u.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(a),h=function(t){function e(t,n){var r;if(_classCallCheck(this,e),(r=_callSuper(this,e))._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,_possibleConstructorReturn(r)}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return u.joinWithSlash(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+u.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(a),f=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),d=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),p=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function v(t,e){var n=Object(r.tb)(t),i=n[r.db.NumberSymbols][e];if(void 0===i){if(e===p.CurrencyDecimal)return n[r.db.NumberSymbols][p.Decimal];if(e===p.CurrencyGroup)return n[r.db.NumberSymbols][p.Group]}return i}var m=r.ub,g=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function y(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var b=new r.o("UseV4Plurals"),_=_createClass((function t(){_classCallCheck(this,t)})),w=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e)).locale=t,r.deprecatedPluralFn=n,r}return _inherits(e,t),_createClass(e,[{key:"getPluralCategory",value:function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):m(e||this.locale)(t)){case d.Zero:return"zero";case d.One:return"one";case d.Two:return"two";case d.Few:return"few";case d.Many:return"many";default:return"other"}}}]),e}(_);function k(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var E=_createClass((function t(){_classCallCheck(this,t)})),S=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass(t,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.wb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Kb)(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}}]),t}(),C=function(t){function e(t){return _classCallCheck(this,e),_callSuper(this,e,[t])}return _inherits(e,t),_createClass(e,[{key:"klass",set:function(t){this._delegate.setClass(t)}},{key:"ngClass",set:function(t){this._delegate.setNgClass(t)}},{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}}]),e}(function(){var t=function(){function t(e){_classCallCheck(this,t),this._delegate=e}return _createClass(t,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),t}();return t.ngDirectiveDef=void 0,t}()),I=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),T=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.")),this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new I(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new x(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new x(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}(),x=_createClass((function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n})),A=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new O,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}]),t}(),O=_createClass((function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null}));function R(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.Kb)(e),"'."))}var P=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),N=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}]),t}(),M=function(){function t(e,n,r){_classCallCheck(this,t),this.ngSwitch=r,r._addCase(),this._view=new P(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}(),D=function(){function t(e){_classCallCheck(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(t,[{key:"ngOnChanges",value:function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===e.indexOf(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),t}();function L(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(r.Kb)(t),"'"))}var j=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),F=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),U=new j,B=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r.zb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.Q.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Object(r.yb)(e))return F;if(Object(r.xb)(e))return U;throw L(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}(),z=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t){return JSON.stringify(t,null,2)}}]),t}(),q=function(){function t(e){_classCallCheck(this,t),this._locale=e}return _createClass(t,[{key:"transform",value:function(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(t)){var c=function(t){var e,n,r,i,o,a=Math.abs(t)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))e=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(a.charAt(r))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);a&&(c=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));var l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var d=o.match(g);if(null===d)throw new Error(o+" is not a valid digit info");var m=d[1],b=d[3],_=d[5];null!=m&&(l=y(m)),null!=b&&(h=y(b)),null!=_?f=y(_):null!=b&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,d=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0}),0);d&&(r.unshift(d),t.integerLen++)}(c,h,f);var w=c.digits,k=c.integerLen,E=c.exponent,S=[];for(u=w.every((function(t){return!t}));k<l;k++)w.unshift(0);for(;k<0;k++)w.unshift(0);k>0?S=w.splice(k,w.length):(S=w,w=[0]);var C=[];for(w.length>=e.lgSize&&C.unshift(w.splice(-e.lgSize,w.length).join(""));w.length>e.gSize;)C.unshift(w.splice(-e.gSize,w.length).join(""));w.length&&C.unshift(w.join("")),s=C.join(v(n,r)),S.length&&(s+=v(n,i)+S.join("")),E&&(s+=v(n,p.Exponential)+"+"+E)}else s=v(n,p.Infinity);return s=t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.tb)(t)[r.db.NumberFormats][e]}(e,f.Decimal),v(e,p.MinusSign)),e,p.Group,p.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw L(t,o.message)}}}]),t}(),V=_createClass((function t(){_classCallCheck(this,t)})),H=new r.o("DocumentToken"),G="browser";function W(t){return t===G}function K(t){return"server"===t}var Y=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.ngInjectableDef=Object(r.Rb)({token:t,providedIn:"root",factory:function(){return new Z(Object(r.Sb)(H),window,Object(r.Sb)(r.l))}}),t}(),Z=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}()},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),a=n("pLzU"),s=n("CRDf"),u=n("I55L"),c=n("c2HN"),l=n("XoHu"),h=n("Lhse"),f=n("kJWO"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(e," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},Tlfp:function(t,e){var n={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(n=function(){"use strict";var t=[],e=[];function n(e,n){for(var r=0;r<t.length;r++)if(t[r].className===e)return void 0!==n&&(t[r]=n),t[r];return!1}function r(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function i(t,e){return-1!==r(t).indexOf(e)}function o(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function a(e,r){if(void 0===e&&void 0===r)for(var i=0;i<t.length;i++)a(t[i].className,t[i].cssClass);else{var o=e;if(void 0===r){var u=n(o);u&&(r=u.cssClass)}for(var c=document.querySelectorAll("."+r),l=0;l<c.length;l++)s(c[l],o)}}function s(a,s){if(!("object"==typeof a&&a instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var u=o("mdl-componentupgrading",!0,!0);if(a.dispatchEvent(u),!u.defaultPrevented){var c=r(a),l=[];if(s)i(a,s)||l.push(n(s));else{var h=a.classList;t.forEach((function(t){h.contains(t.cssClass)&&-1===l.indexOf(t)&&!i(a,t.className)&&l.push(t)}))}for(var f,d=0,p=l.length;d<p;d++){if(!(f=l[d]))throw new Error("Unable to find a registered component for the given class.");c.push(f.className),a.setAttribute("data-upgraded",c.join(","));var v=new f.classConstructor(a);v.mdlComponentConfigInternal_=f,e.push(v);for(var m=0,g=f.callbacks.length;m<g;m++)f.callbacks[m](a);f.widget&&(a[f.className]=v);var y=o("mdl-componentupgraded",!0,!1);a.dispatchEvent(y)}}}function u(t){if(t){var n=e.indexOf(t);e.splice(n,1);var r=t.element_.getAttribute("data-upgraded").split(","),i=r.indexOf(t.mdlComponentConfigInternal_.classAsString);r.splice(i,1),t.element_.setAttribute("data-upgraded",r.join(","));var a=o("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(a)}}return{upgradeDom:a,upgradeElement:s,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(s(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)a(t[e].className)},registerUpgradedCallback:function(t,e){var r=n(t);r&&r.callbacks.push(e)},register:function(e){var r=!0;void 0===e.widget&&void 0===e.widget||(r=e.widget||e.widget);var i={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:r,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===i.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===i.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty("mdlComponentConfigInternal_"))throw new Error("MDL component classes must not have mdlComponentConfigInternal_ defined as a property.");n(e.classAsString,i)||t.push(i)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(u)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)n(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";var r=n("EY2u"),i=n("LRne"),o=n("HDdC");n.d(e,"a",(function(){return a}));var a=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a((function(e){return e.error(t)}));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XBV3:function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=t.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],a=0;a<o.length;a++){var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[a].appendChild(s)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},t.prototype.stop=t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.start=t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_callSuper(this,e,[t])).destination=t,n}return _inherits(e,t),_createClass(e)}(i.a),l=function(){var t=function(t,e){function n(){var t;return _classCallCheck(this,n),(t=_callSuper(this,n)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _inherits(n,t),_createClass(n,[{key:e,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf3(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a,u.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e)).destination=t,r.source=n,r}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),e}(l)},XUOw:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t){var e=new r.a((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},YDhq:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("b0Xh"),i=n("611t"),o=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getExifData",value:function(t){return new Promise((function(e,n){var i=new FileReader;i.onloadend=function(){var t=r.EXIF.readFromBinaryFile(i.result);e(t)},i.readAsArrayBuffer(t)}))}},{key:"getLocationData",value:function(t){if(t&&t.GPSLatitude){var e=t.GPSLatitude[0]+t.GPSLatitude[1]/60+t.GPSLatitude[2]/3600,n=t.GPSLongitude[0]+t.GPSLongitude[1]/60+t.GPSLongitude[2]/3600;return i.a.fromLatLong("N"===t.GPSLatitudeRef?e:-e,"E"===t.GPSLongitudeRef?n:-n,{locationSource:"EXIF"})}}}]),t}()},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e)).subject=t,r.subscriber=n,r.closed=!1,r}return _inherits(e,t),_createClass(e,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),e}(n("quSY").a)},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z0Sn:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DQLy"),i=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.CATEGORY="[AUTH]",t.linkFirebaseAuth=Object(r.u)(t.CATEGORY+" LINK_FIREBASE_AUTH"),t.setUser=Object(r.u)(t.CATEGORY+" SET_USER",Object(r.A)()),t.renderLogin=Object(r.u)(t.CATEGORY+" RENDER_LOGIN",Object(r.A)()),t.signOut=Object(r.u)(t.CATEGORY+" SIGN_OUT",Object(r.A)()),t}()},Z2Br:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("Jgta"),i=(n("6nsN"),n("8Y7J")),o=function(){var t=_createClass((function t(){_classCallCheck(this,t),r.a.initializeApp({apiKey:"AIzaSyCNPiqa4cqnd_tnPwNigHHw7fREF6-R3Fw",authDomain:"trendrunner-84e44.firebaseapp.com",databaseURL:"https://trendrunner-84e44.firebaseio.com",projectId:"trendrunner-84e44",storageBucket:"trendrunner-84e44.appspot.com",messagingSenderId:"456585926372",appId:"1:456585926372:web:f2ef3c703e39ba8b173ef1",measurementId:"G-6H11P5W2FP"}),this.firebase=r.a}));return t.ngInjectableDef=i.Rb({factory:function(){return new t},token:t,providedIn:"root"}),t}()},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(t,e,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,o);if(!a.closed)return Object(i.a)(e)(a)}},a7t3:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("NJ4a"),i=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.a),e}}},b0Xh:function(t,e,r){var i;(function(){var r=function t(e){return e instanceof t?e:this instanceof t?void(this.EXIFwrapped=e):new t(e)};t.exports&&(e=t.exports=r),e.EXIF=r;var o=r.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},a=r.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},s=r.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},u=r.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=r.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(t){return!!t.exifdata}function h(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,r=t.byteLength;n<r;){if(255!=e.getUint8(n))return!1;if(225==e.getUint8(n+1))return g(e,n+4,e.getUint16(n+2));n+=2+e.getUint16(n+2)}}var f={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function d(t,e,n){for(var r,i,o,a,s=new DataView(t),u={},c=e;c<e+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in f&&(o=s.getInt16(c+3),i=f[a],r=m(s,c+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(r):u[i]=[u[i],r]:u[i]=r),c++;return u}function p(t,e,n,r,i){var o,a,s=t.getUint16(n,!i),u={};for(a=0;a<s;a++)u[r[t.getUint16(o=n+12*a+2,!i)]]=v(t,o,e,0,i);return u}function v(t,e,n,r,i){var o,a,s,u,c,l,h=t.getUint16(e+2,!i),f=t.getUint32(e+4,!i),d=t.getUint32(e+8,!i)+n;switch(h){case 1:case 7:if(1==f)return t.getUint8(e+8,!i);for(o=f>4?d:e+8,a=[],u=0;u<f;u++)a[u]=t.getUint8(o+u);return a;case 2:return m(t,o=f>4?d:e+8,f-1);case 3:if(1==f)return t.getUint16(e+8,!i);for(o=f>2?d:e+8,a=[],u=0;u<f;u++)a[u]=t.getUint16(o+2*u,!i);return a;case 4:if(1==f)return t.getUint32(e+8,!i);for(a=[],u=0;u<f;u++)a[u]=t.getUint32(d+4*u,!i);return a;case 5:if(1==f)return c=t.getUint32(d,!i),l=t.getUint32(d+4,!i),(s=new Number(c/l)).numerator=c,s.denominator=l,s;for(a=[],u=0;u<f;u++)c=t.getUint32(d+8*u,!i),l=t.getUint32(d+4+8*u,!i),a[u]=new Number(c/l),a[u].numerator=c,a[u].denominator=l;return a;case 9:if(1==f)return t.getInt32(e+8,!i);for(a=[],u=0;u<f;u++)a[u]=t.getInt32(d+4*u,!i);return a;case 10:if(1==f)return t.getInt32(d,!i)/t.getInt32(d+4,!i);for(a=[],u=0;u<f;u++)a[u]=t.getInt32(d+8*u,!i)/t.getInt32(d+4+8*u,!i);return a}}function m(t,e,r){var i="";for(n=e;n<e+r;n++)i+=String.fromCharCode(t.getUint8(n));return i}function g(t,e){if("Exif"!=m(t,e,4))return!1;var n,r,i,l,h,f=e+6;if(18761==t.getUint16(f))n=!1;else{if(19789!=t.getUint16(f))return!1;n=!0}if(42!=t.getUint16(f+2,!n))return!1;var d=t.getUint32(f+4,!n);if(d<8)return!1;if((r=p(t,f,f+d,a,n)).ExifIFDPointer)for(i in l=p(t,f,f+r.ExifIFDPointer,o,n)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":l[i]=c[i][l[i]];break;case"ExifVersion":case"FlashpixVersion":l[i]=String.fromCharCode(l[i][0],l[i][1],l[i][2],l[i][3]);break;case"ComponentsConfiguration":l[i]=c.Components[l[i][0]]+c.Components[l[i][1]]+c.Components[l[i][2]]+c.Components[l[i][3]]}r[i]=l[i]}if(r.GPSInfoIFDPointer)for(i in h=p(t,f,f+r.GPSInfoIFDPointer,s,n)){switch(i){case"GPSVersionID":h[i]=h[i][0]+"."+h[i][1]+"."+h[i][2]+"."+h[i][3]}r[i]=h[i]}return r.thumbnail=function(t,e,n,r){var i=function(t,e,n){var r=t.getUint16(e,!n);return t.getUint32(e+2+12*r,!n)}(t,e+n,r);if(!i)return{};if(i>t.byteLength)return{};var o=p(t,e,e+i,u,r);if(o.Compression)switch(o.Compression){case 6:o.JpegIFOffset&&o.JpegIFByteCount&&(o.blob=new Blob([new Uint8Array(t.buffer,e+o.JpegIFOffset,o.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(t,f,d,n),r}function y(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);e["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes.item(i),a=o.nodeName;if(null==e[a])e[a]=y(o);else{if(null==e[a].push){var s=e[a];e[a]=[],e[a].push(s)}e[a].push(y(o))}}return e}function b(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var r=t.children.item(n),i=r.attributes;for(var o in i){var a=i[o],s=a.nodeName;void 0!==s&&(e[s]=a.nodeValue)}var u=r.nodeName;if(void 0===e[u])e[u]=y(r);else{if(void 0===e[u].push){var c=e[u];e[u]=[],e[u].push(c)}e[u].push(y(r))}}else e=t.textContent;return e}catch(l){console.log(l.message)}}r.enableXmp=function(){r.isXmpEnabled=!0},r.disableXmp=function(){r.isXmpEnabled=!1},r.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete||(l(t)?e&&e.call(t):function(t,e){function n(n){var i=h(n);t.exifdata=i||{};var o=function(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,r=t.byteLength,i=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};n<r;){if(i(e,n)){var o=e.getUint8(n+7);return o%2!=0&&(o+=1),0===o&&(o=4),d(t,n+8+o,e.getUint16(n+6+o))}n++}}(n);if(t.iptcdata=o||{},r.isXmpEnabled){var a=function(t){if("DOMParser"in self){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,r=t.byteLength,i=new DOMParser;n<r-4;){if("http"==m(e,n,4)){var o=n-1,a=e.getUint16(n-2)-1,s=m(e,o,a),u=s.indexOf("xmpmeta>")+8,c=(s=s.substring(s.indexOf("<x:xmpmeta"),u)).indexOf("x:xmpmeta")+10;return s=s.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(c),b(i.parseFromString(s,"text/xml"))}n++}}}(n);t.xmpdata=a||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))n(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0;a<r;a++)o[a]=n.charCodeAt(a);return i}(t.src));else if(/^blob\:/i.test(t.src))(o=new FileReader).onload=function(t){n(t.target.result)},function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||o.readAsArrayBuffer(this.response)},n.send()}(t.src);else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",t.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var o;(o=new FileReader).onload=function(t){n(t.target.result)},o.readAsArrayBuffer(t)}}(t,e),0))},r.getTag=function(t,e){if(l(t))return t.exifdata[e]},r.getIptcTag=function(t,e){if(l(t))return t.iptcdata[e]},r.getAllTags=function(t){if(!l(t))return{};var e,n=t.exifdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},r.getAllIptcTags=function(t){if(!l(t))return{};var e,n=t.iptcdata,r={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r},r.pretty=function(t){if(!l(t))return"";var e,n=t.exifdata,r="";for(e in n)n.hasOwnProperty(e)&&(r+="object"==typeof n[e]?n[e]instanceof Number?e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":e+" : ["+n[e].length+" values]\r\n":e+" : "+n[e]+"\r\n");return r},r.readFromBinaryFile=function(t){return h(t)},void 0===(i=(function(){return r}).apply(e,[]))||(t.exports=i)}).call(this)},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},cUpR:function(t,e,n){"use strict";n.d(e,"p",(function(){return lt})),n.d(e,"q",(function(){return w})),n.d(e,"a",(function(){return ht})),n.d(e,"h",(function(){return ct})),n.d(e,"c",(function(){return k})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return K})),n.d(e,"f",(function(){return Y})),n.d(e,"g",(function(){return Z})),n.d(e,"b",(function(){return tt})),n.d(e,"r",(function(){return a})),n.d(e,"j",(function(){return R})),n.d(e,"i",(function(){return G})),n.d(e,"m",(function(){return Q})),n.d(e,"n",(function(){return $})),n.d(e,"l",(function(){return I})),n.d(e,"o",(function(){return C})),n.d(e,"k",(function(){return et}));var r=n("SVse"),i=n("8Y7J"),o=null;function a(){return o}var s,u={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},h=function(){if(i.vb.Node)return i.vb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),f=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"parse",value:function(t){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(t,e){return e in t}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"getProperty",value:function(t,e){return t[e]}},{key:"invoke",value:function(t,e,n){t[e].apply(t,_toConsumableArray(n))}},{key:"logError",value:function(t){window.console&&(console.error?console.error(t):console.log(t))}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"attrToPropMap",get:function(){return u}},{key:"contains",value:function(t,e){return h.call(t,e)}},{key:"querySelector",value:function(t,e){return t.querySelector(e)}},{key:"querySelectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"on",value:function(t,e,n){t.addEventListener(e,n,!1)}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"createMouseEvent",value:function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}},{key:"createEvent",value:function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}},{key:"preventDefault",value:function(t){t.preventDefault(),t.returnValue=!1}},{key:"isPrevented",value:function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}},{key:"getInnerHTML",value:function(t){return t.innerHTML}},{key:"getTemplateContent",value:function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}},{key:"getOuterHTML",value:function(t){return t.outerHTML}},{key:"nodeName",value:function(t){return t.nodeName}},{key:"nodeValue",value:function(t){return t.nodeValue}},{key:"type",value:function(t){return t.type}},{key:"content",value:function(t){return this.hasProperty(t,"content")?t.content:t}},{key:"firstChild",value:function(t){return t.firstChild}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"parentElement",value:function(t){return t.parentNode}},{key:"childNodes",value:function(t){return t.childNodes}},{key:"childNodesAsList",value:function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"clearNodes",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"removeChild",value:function(t,e){t.removeChild(e)}},{key:"replaceChild",value:function(t,e,n){t.replaceChild(e,n)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(n,e)}},{key:"insertAllBefore",value:function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))}},{key:"insertAfter",value:function(t,e,n){t.insertBefore(n,e.nextSibling)}},{key:"setInnerHTML",value:function(t,e){t.innerHTML=e}},{key:"getText",value:function(t){return t.textContent}},{key:"setText",value:function(t,e){t.textContent=e}},{key:"getValue",value:function(t){return t.value}},{key:"setValue",value:function(t,e){t.value=e}},{key:"getChecked",value:function(t){return t.checked}},{key:"setChecked",value:function(t,e){t.checked=e}},{key:"createComment",value:function(t){return this.getDefaultDocument().createComment(t)}},{key:"createTemplate",value:function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createElementNS",value:function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}},{key:"createTextNode",value:function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}},{key:"createScriptTag",value:function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}},{key:"createStyleElement",value:function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}},{key:"createShadowRoot",value:function(t){return t.createShadowRoot()}},{key:"getShadowRoot",value:function(t){return t.shadowRoot}},{key:"getHost",value:function(t){return t.host}},{key:"clone",value:function(t){return t.cloneNode(!0)}},{key:"getElementsByClassName",value:function(t,e){return t.getElementsByClassName(e)}},{key:"getElementsByTagName",value:function(t,e){return t.getElementsByTagName(e)}},{key:"classList",value:function(t){return Array.prototype.slice.call(t.classList,0)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"hasClass",value:function(t,e){return t.classList.contains(e)}},{key:"setStyle",value:function(t,e,n){t.style[e]=n}},{key:"removeStyle",value:function(t,e){t.style[e]=""}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"hasStyle",value:function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(t){return t.tagName}},{key:"attributeMap",value:function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e}},{key:"hasAttribute",value:function(t,e){return t.hasAttribute(e)}},{key:"hasAttributeNS",value:function(t,e,n){return t.hasAttributeNS(e,n)}},{key:"getAttribute",value:function(t,e){return t.getAttribute(e)}},{key:"getAttributeNS",value:function(t,e,n){return t.getAttributeNS(e,n)}},{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"setAttributeNS",value:function(t,e,n,r){t.setAttributeNS(e,n,r)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"removeAttributeNS",value:function(t,e,n){t.removeAttributeNS(e,n)}},{key:"templateAwareRoot",value:function(t){return this.isTemplateElement(t)?this.content(t):t}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(t){return t.title}},{key:"setTitle",value:function(t,e){t.title=e||""}},{key:"elementMatches",value:function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}},{key:"isTemplateElement",value:function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}},{key:"isTextNode",value:function(t){return t.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(t){return t.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(t){return null!=t.shadowRoot&&t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"importIntoDoc",value:function(t){return document.importNode(this.templateAwareRoot(t),!0)}},{key:"adoptNode",value:function(t){return document.adoptNode(t)}},{key:"getHref",value:function(t){return t.getAttribute("href")}},{key:"getEventKey",value:function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&l.hasOwnProperty(e)&&(e=l[e]))}return c[e]||e}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=d||(d=document.querySelector("base"))?d.getAttribute("href"):null;return null==n?null:(e=n,s||(s=document.createElement("a")),s.setAttribute("href",e),"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname)}},{key:"resetBaseElement",value:function(){d=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(t,e,n){this.setAttribute(t,"data-"+e,n)}},{key:"getData",value:function(t,e){return this.getAttribute(t,"data-"+e)}},{key:"getComputedStyle",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return getComputedStyle(t)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(r.B)(document.cookie,t)}},{key:"setCookie",value:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}],[{key:"makeCurrent",value:function(){var t;t=new e,o||(o=t)}}]),e}(function(t){function e(){var t;_classCallCheck(this,e),(t=_callSuper(this,e))._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=t.getStyle(n,r[i]+"AnimationName")){t._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])}))}catch(a){t._animationPrefix=null,t._transitionEnd=null}return t}return _inherits(e,t),_createClass(e,[{key:"getDistributedNodes",value:function(t){return t.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(t,e,n){t.href=null==n?e:e+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),e}(function(){function t(){_classCallCheck(this,t),this.resourceLoaderType=null}return _createClass(t,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t}}]),t}())),d=null;function p(){return!!window.history.pushState}var v=new i.o("TRANSITION_ID"),m=[{provide:i.d,useFactory:function(t,e,n){return function(){n.get(i.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[v,r.d,i.p],multi:!0}],g=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){i.vb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.vb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},i.vb.getAllAngularRootElements=function(){return t.getAllRootElements()},i.vb.frameworkStabilizers||(i.vb.frameworkStabilizers=[]),i.vb.frameworkStabilizers.push((function(t){var e=i.vb.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,a().getHost(e),!0):this.findTestabilityInTree(t,a().parentElement(e),!0):null}}],[{key:"init",value:function(){Object(i.Y)(new t)}}]),t}();function y(t,e){"undefined"!=typeof COMPILED&&COMPILED||((i.vb.ng=i.vb.ng||{})[t]=e)}var b={ApplicationRef:i.g,NgZone:i.x};function _(t){return Object(i.U)(t)}function w(t){return y("probe",_),y("coreTokens",Object.assign({},b,(t||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return _}}var k=new i.o("EventManagerPlugins"),E=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}(),S=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),C=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}(),I=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_callSuper(this,e))._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return _inherits(e,t),_createClass(e,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),e}(C),T={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},x=/%COMP%/g;function A(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?A(t,i,n):(i=i.replace(x,t),n.push(i))}return n}function O(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var R=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new P(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new D(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case i.P.Native:case i.P.ShadowDom:return new L(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=A(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}(),P=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(T[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=T[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=T[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&i.E.DashCase?t.style.setProperty(e,n,r&i.E.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&i.E.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){M(e,"property"),t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return M(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,O(n)):this.eventManager.addEventListener(t,e,O(n))}}]),t}(),N="@".charCodeAt(0);function M(t,e){if(t.charCodeAt(0)===N)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var D=function(t){function e(t,n,r,i){var o;_classCallCheck(this,e),(o=_callSuper(this,e,[t])).component=r;var a,s=A(i+"-"+r.id,r.styles,[]);return n.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(x,i+"-"+r.id),o.hostAttr=(a=i+"-"+r.id,"_nghost-%COMP%".replace(x,a)),o}return _inherits(e,t),_createClass(e,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf3(e.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,n){var r=_get(_getPrototypeOf3(e.prototype),"createElement",this).call(this,t,n);return _get(_getPrototypeOf3(e.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),e}(P),L=function(t){function e(t,n,r,o){var a;_classCallCheck(this,e),(a=_callSuper(this,e,[t])).sharedStylesHost=n,a.hostEl=r,a.component=o,a.shadowRoot=o.encapsulation===i.P.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=A(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return _inherits(e,t),_createClass(e,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,n){return _get(_getPrototypeOf3(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"insertBefore",value:function(t,n,r){return _get(_getPrototypeOf3(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),n,r)}},{key:"removeChild",value:function(t,n){return _get(_getPrototypeOf3(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf3(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),e}(P),j="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},F=j("addEventListener"),U=j("removeEventListener"),B={},z="__zone_symbol__propagationStopped",q=function(){var t="undefined"!=typeof Zone&&Zone[j("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),V=function(t){return!!q&&q.hasOwnProperty(t)},H=function(t){var e=B[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),a=0;a<o.length&&!0!==t[z];a++){var s=o[a];s.zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},G=function(t){function e(t,n,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t])).ngZone=n,i&&Object(r.w)(i)||o.patchEvent(),o}return _inherits(e,t),_createClass(e,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[z]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this,o=n;if(!t[F]||i.x.isInAngularZone()&&!V(e))t.addEventListener(e,o,!1);else{var a=B[e];a||(a=B[e]=j("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=V(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:o});else{for(var l=!1,h=0;h<s.length;h++)if(s[h].handler===o){l=!0;break}l||s.push({zone:c,handler:o})}u||t[F](e,H,!1)}return function(){return r.removeEventListener(t,e,o)}}},{key:"removeEventListener",value:function(t,e,n){var r=t[U];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=B[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,H,!1]):t.removeEventListener.apply(t,[e,n,!1])}}]),e}(S),W={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},K=new i.o("HammerGestureConfig"),Y=new i.o("HammerLoader"),Z=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}(),Q=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t]))._config=n,o.console=r,o.loader=i,o}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return!(!W.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.')),1))}},{key:"addEventListener",value:function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))})).catch((function(){r.console.warn('The "'.concat(e,'" event cannot be bound because the custom Hammer.JS loader failed.')),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded((function(){n(t)}))};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),e}(S),X=["alt","control","meta","shift"],J={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},$=function(t){function e(t){return _classCallCheck(this,e),_callSuper(this,e,[t])}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return null!=e.parseEventName(t)}},{key:"addEventListener",value:function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(X.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")})),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=a().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),X.forEach((function(r){r!=n&&(0,J[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded((function(){return n(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),e}(S),tt=_createClass((function t(){_classCallCheck(this,t)})),et=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_callSuper(this,e))._doc=t,n}return _inherits(e,t),_createClass(e,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case i.G.NONE:return e;case i.G.HTML:return e instanceof rt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(i.eb)(this._doc,String(e)));case i.G.STYLE:return e instanceof it?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(i.fb)(e));case i.G.SCRIPT:if(e instanceof ot)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case i.G.URL:return e instanceof st||e instanceof at?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(i.gb)(String(e)));case i.G.RESOURCE_URL:if(e instanceof st)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(t,e){if(t instanceof nt)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," (see http://g.co/ng/security#xss)"))}},{key:"bypassSecurityTrustHtml",value:function(t){return new rt(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new it(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new ot(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new at(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new st(t)}}]),e}(tt),nt=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),rt=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"HTML"}}]),e}(nt),it=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Style"}}]),e}(nt),ot=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Script"}}]),e}(nt),at=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"URL"}}]),e}(nt),st=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),e}(nt),ut=[{provide:i.z,useValue:r.z},{provide:i.A,useValue:function(){f.makeCurrent(),g.init()},multi:!0},{provide:r.t,useClass:function(t){function e(t){var n;return _classCallCheck(this,e),(n=_callSuper(this,e))._doc=t,n._init(),n}return _inherits(e,t),_createClass(e,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),e}(r.t),deps:[r.d]},{provide:r.d,useFactory:function(){return document},deps:[]}],ct=Object(i.R)(i.X,"browser",ut);function lt(){return new i.l}var ht=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:v,useExisting:i.c},m]}}}]),t}();"undefined"!=typeof window&&window},cxyc:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("mrSG"),i=n("fjcx"),o=function(){var t=function(){function t(){_classCallCheck(this,t),this.quarterTurnOrientations=new Set([5,6,7,8])}return _createClass(t,[{key:"processImageFile",value:function(t,e){return r.a(this,void 0,void 0,_regeneratorRuntime().mark((function n(){var r,i;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getJimpFromFile(t);case 2:return r=n.sent,i=e&&e.Orientation,r=r.quality(80),r=this.resizeImage(r,i),r=this.uprightImage(r,i),n.next=9,this.getFileFromJimp(r,t.name);case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"uprightImage",value:function(t,e){return 5!==e&&6!==e||(t=t.rotate(90)),7!==e&&8!==e||(t=t.rotate(270)),3!==e&&4!==e||(t=t.rotate(180)),t}},{key:"resizeImage",value:function(e,n){return this.quarterTurnOrientations.has(n)?e.resize(i.AUTO,t.imageSizes.lg):e.resize(t.imageSizes.lg,i.AUTO)}},{key:"getJimpFromFile",value:function(t){return r.a(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var n,r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([t]),e.next=3,n.arrayBuffer();case 3:return r=e.sent,e.next=6,i.read(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))}},{key:"getFileFromJimp",value:function(t,e){return new Promise((function(n,r){t.getBuffer(i.MIME_JPEG,(function(t,i){t&&r(t);var o=new Blob([i]),a=new File([o],e);n(a)}))}))}}]),t}();return t.imageSizes={lg:1080,md:640,sm:320,xs:150},t}()},dAlA:function(t,e,n){(function(t){var r,i=function(t){"use strict";var e=9007199254740992,n=l(e),r="function"==typeof BigInt;function o(t,e,n,r){return void 0===t?o[0]:void 0===e||10==+e&&!n?H(t):U(t,e,n,r)}function a(t,e){this.value=t,this.sign=e,this.isSmall=!1}function s(t){this.value=t,this.sign=t<0,this.isSmall=!0}function u(t){this.value=t}function c(t){return-e<t&&t<e}function l(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function h(t){f(t);var e=t.length;if(e<4&&T(t,n)<0)switch(e){case 0:return 0;case 1:return t[0];case 2:return t[0]+1e7*t[1];default:return t[0]+1e7*(t[1]+1e7*t[2])}return t}function f(t){for(var e=t.length;0===t[--e];);t.length=e+1}function d(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function p(t){return t>0?Math.floor(t):Math.ceil(t)}function v(t,e){var n,r,i=t.length,o=e.length,a=new Array(i),s=0;for(r=0;r<o;r++)a[r]=(n=t[r]+e[r]+s)-1e7*(s=n>=1e7?1:0);for(;r<i;)n=t[r]+s,a[r++]=n-1e7*(s=1e7===n?1:0);return s>0&&a.push(s),a}function m(t,e){return t.length>=e.length?v(t,e):v(e,t)}function g(t,e){var n,r,i=t.length,o=new Array(i);for(r=0;r<i;r++)n=t[r]-1e7+e,e=Math.floor(n/1e7),o[r]=n-1e7*e,e+=1;for(;e>0;)o[r++]=e%1e7,e=Math.floor(e/1e7);return o}function y(t,e){var n,r,i=t.length,o=e.length,a=new Array(i),s=0;for(n=0;n<o;n++)(r=t[n]-s-e[n])<0?(r+=1e7,s=1):s=0,a[n]=r;for(n=o;n<i;n++){if(!((r=t[n]-s)<0)){a[n++]=r;break}a[n]=r+=1e7}for(;n<i;n++)a[n]=t[n];return f(a),a}function b(t,e,n){var r,i,o=t.length,u=new Array(o),c=-e;for(r=0;r<o;r++)i=t[r]+c,c=Math.floor(i/1e7),u[r]=(i%=1e7)<0?i+1e7:i;return"number"==typeof(u=h(u))?(n&&(u=-u),new s(u)):new a(u,n)}function _(t,e){var n,r,i,o,a=t.length,s=e.length,u=d(a+s);for(i=0;i<a;++i){o=t[i];for(var c=0;c<s;++c)n=o*e[c]+u[i+c],r=Math.floor(n/1e7),u[i+c]=n-1e7*r,u[i+c+1]+=r}return f(u),u}function w(t,e){var n,r,i=t.length,o=new Array(i),a=0;for(r=0;r<i;r++)n=t[r]*e+a,a=Math.floor(n/1e7),o[r]=n-1e7*a;for(;a>0;)o[r++]=a%1e7,a=Math.floor(a/1e7);return o}function k(t,e){for(var n=[];e-- >0;)n.push(0);return n.concat(t)}function E(t,e,n){return new a(t<1e7?w(e,t):_(e,l(t)),n)}function S(t){var e,n,r,i,o=t.length,a=d(o+o);for(r=0;r<o;r++){n=0-(i=t[r])*i;for(var s=r;s<o;s++)e=i*t[s]*2+a[r+s]+n,n=Math.floor(e/1e7),a[r+s]=e-1e7*n;a[r+o]=n}return f(a),a}function C(t,e){var n,r,i,o,a=t.length,s=d(a);for(i=0,n=a-1;n>=0;--n)i=(o=1e7*i+t[n])-(r=p(o/e))*e,s[n]=0|r;return[s,0|i]}function I(t,e){var n,i=H(e);if(r)return[new u(t.value/i.value),new u(t.value%i.value)];var c,v=t.value,m=i.value;if(0===m)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new s(p(v/m)),new s(v%m)]:[o[0],t];if(i.isSmall){if(1===m)return[t,o[0]];if(-1==m)return[t.negate(),o[0]];var g=Math.abs(m);if(g<1e7){c=h((n=C(v,g))[0]);var b=n[1];return t.sign&&(b=-b),"number"==typeof c?(t.sign!==i.sign&&(c=-c),[new s(c),new s(b)]):[new a(c,t.sign!==i.sign),new s(b)]}m=l(g)}var _=T(v,m);if(-1===_)return[o[0],t];if(0===_)return[o[t.sign===i.sign?1:-1],o[0]];n=v.length+m.length<=200?function(t,e){var n,r,i,o,a,s,u,c=t.length,l=e.length,f=d(e.length),p=e[l-1],v=Math.ceil(1e7/(2*p)),m=w(t,v),g=w(e,v);for(m.length<=c&&m.push(0),g.push(0),p=g[l-1],r=c-l;r>=0;r--){for(n=1e7-1,m[r+l]!==p&&(n=Math.floor((1e7*m[r+l]+m[r+l-1])/p)),i=0,o=0,s=g.length,a=0;a<s;a++)i+=n*g[a],u=Math.floor(i/1e7),o+=m[r+a]-(i-1e7*u),i=u,o<0?(m[r+a]=o+1e7,o=-1):(m[r+a]=o,o=0);for(;0!==o;){for(n-=1,i=0,a=0;a<s;a++)(i+=m[r+a]-1e7+g[a])<0?(m[r+a]=i+1e7,i=0):(m[r+a]=i,i=1);o+=i}f[r]=n}return m=C(m,v)[0],[h(f),h(m)]}(v,m):function(t,e){for(var n,r,i,o,a=t.length,s=e.length,u=[],c=[];a;)if(c.unshift(t[--a]),f(c),T(c,e)<0)u.push(0);else{i=1e7*c[(r=c.length)-1]+c[r-2],r>s&&(i=1e7*(i+1)),n=Math.ceil(i/(1e7*e[s-1]+e[s-2]));do{if(T(o=w(e,n),c)<=0)break;n--}while(n);u.push(n),c=y(c,o)}return u.reverse(),[h(u),h(c)]}(v,m);var k=t.sign!==i.sign,E=n[1],S=t.sign;return"number"==typeof(c=n[0])?(k&&(c=-c),c=new s(c)):c=new a(c,k),"number"==typeof E?(S&&(E=-E),E=new s(E)):E=new a(E,S),[c,E]}function T(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var n=t.length-1;n>=0;n--)if(t[n]!==e[n])return t[n]>e[n]?1:-1;return 0}function x(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function A(t,e){for(var n,r,o,a=t.prev(),s=a,u=0;s.isEven();)s=s.divide(2),u++;t:for(r=0;r<e.length;r++)if(!t.lesser(e[r])&&!(o=i(e[r]).modPow(s,t)).isUnit()&&!o.equals(a)){for(n=u-1;0!=n;n--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(a))continue t}return!1}return!0}a.prototype=Object.create(o.prototype),s.prototype=Object.create(o.prototype),u.prototype=Object.create(o.prototype),a.prototype.add=function(t){var e=H(t);if(this.sign!==e.sign)return this.subtract(e.negate());var n=this.value,r=e.value;return new a(e.isSmall?g(n,Math.abs(r)):m(n,r),this.sign)},a.prototype.plus=a.prototype.add,s.prototype.add=function(t){var e=H(t),n=this.value;if(n<0!==e.sign)return this.subtract(e.negate());var r=e.value;if(e.isSmall){if(c(n+r))return new s(n+r);r=l(Math.abs(r))}return new a(g(r,Math.abs(n)),n<0)},s.prototype.plus=s.prototype.add,u.prototype.add=function(t){return new u(this.value+H(t).value)},u.prototype.plus=u.prototype.add,a.prototype.subtract=function(t){var e=H(t);if(this.sign!==e.sign)return this.add(e.negate());var n=this.value,r=e.value;return e.isSmall?b(n,Math.abs(r),this.sign):function(t,e,n){var r;return T(t,e)>=0?r=y(t,e):(r=y(e,t),n=!n),"number"==typeof(r=h(r))?(n&&(r=-r),new s(r)):new a(r,n)}(n,r,this.sign)},a.prototype.minus=a.prototype.subtract,s.prototype.subtract=function(t){var e=H(t),n=this.value;if(n<0!==e.sign)return this.add(e.negate());var r=e.value;return e.isSmall?new s(n-r):b(r,Math.abs(n),n>=0)},s.prototype.minus=s.prototype.subtract,u.prototype.subtract=function(t){return new u(this.value-H(t).value)},u.prototype.minus=u.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},s.prototype.negate=function(){var t=this.sign,e=new s(-this.value);return e.sign=!t,e},u.prototype.negate=function(){return new u(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},s.prototype.abs=function(){return new s(Math.abs(this.value))},u.prototype.abs=function(){return new u(this.value>=0?this.value:-this.value)},a.prototype.multiply=function(t){var e,n,r,i=H(t),s=this.value,u=i.value,c=this.sign!==i.sign;if(i.isSmall){if(0===u)return o[0];if(1===u)return this;if(-1===u)return this.negate();if((e=Math.abs(u))<1e7)return new a(w(s,e),c);u=l(e)}return-.012*(n=s.length)-.012*(r=u.length)+15e-6*n*r>0?new a(function t(e,n){var r=Math.max(e.length,n.length);if(r<=30)return _(e,n);r=Math.ceil(r/2);var i=e.slice(r),o=e.slice(0,r),a=n.slice(r),s=n.slice(0,r),u=t(o,s),c=t(i,a),l=t(m(o,i),m(s,a)),h=m(m(u,k(y(y(l,u),c),r)),k(c,2*r));return f(h),h}(s,u),c):new a(_(s,u),c)},a.prototype.times=a.prototype.multiply,s.prototype._multiplyBySmall=function(t){return c(t.value*this.value)?new s(t.value*this.value):E(Math.abs(t.value),l(Math.abs(this.value)),this.sign!==t.sign)},a.prototype._multiplyBySmall=function(t){return 0===t.value?o[0]:1===t.value?this:-1===t.value?this.negate():E(Math.abs(t.value),this.value,this.sign!==t.sign)},s.prototype.times=s.prototype.multiply=function(t){return H(t)._multiplyBySmall(this)},u.prototype.multiply=function(t){return new u(this.value*H(t).value)},u.prototype.times=u.prototype.multiply,a.prototype.square=function(){return new a(S(this.value),!1)},s.prototype.square=function(){var t=this.value*this.value;return c(t)?new s(t):new a(S(l(Math.abs(this.value))),!1)},u.prototype.square=function(t){return new u(this.value*this.value)},u.prototype.divmod=s.prototype.divmod=a.prototype.divmod=function(t){var e=I(this,t);return{quotient:e[0],remainder:e[1]}},a.prototype.divide=function(t){return I(this,t)[0]},u.prototype.over=u.prototype.divide=function(t){return new u(this.value/H(t).value)},s.prototype.over=s.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(t){return I(this,t)[1]},u.prototype.mod=u.prototype.remainder=function(t){return new u(this.value%H(t).value)},s.prototype.remainder=s.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(t){var e,n,r,i=H(t),a=this.value,u=i.value;if(0===u)return o[1];if(0===a)return o[0];if(1===a)return o[1];if(-1===a)return i.isEven()?o[1]:o[-1];if(i.sign)return o[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&c(e=Math.pow(a,u)))return new s(p(e));for(n=this,r=o[1];!0&u&&(r=r.times(n),--u),0!==u;)u/=2,n=n.square();return r},s.prototype.pow=a.prototype.pow,u.prototype.pow=function(t){var e=H(t),n=this.value,r=e.value,i=BigInt(0),a=BigInt(1),s=BigInt(2);if(r===i)return o[1];if(n===i)return o[0];if(n===a)return o[1];if(n===BigInt(-1))return e.isEven()?o[1]:o[-1];if(e.isNegative())return new u(i);for(var c=this,l=o[1];(r&a)===a&&(l=l.times(c),--r),r!==i;)r/=s,c=c.square();return l},u.prototype.modPow=s.prototype.modPow=a.prototype.modPow=function(t,e){if(t=H(t),(e=H(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=o[1],r=this.mod(e);for(t.isNegative()&&(t=t.multiply(o[-1]),r=r.modInv(e));t.isPositive();){if(r.isZero())return o[0];t.isOdd()&&(n=n.multiply(r).mod(e)),t=t.divide(2),r=r.square().mod(e)}return n},a.prototype.compareAbs=function(t){var e=H(t);return e.isSmall?1:T(this.value,e.value)},s.prototype.compareAbs=function(t){var e=H(t),n=Math.abs(this.value),r=e.value;return e.isSmall?n===(r=Math.abs(r))?0:n>r?1:-1:-1},u.prototype.compareAbs=function(t){var e=this.value,n=H(t).value;return(e=e>=0?e:-e)===(n=n>=0?n:-n)?0:e>n?1:-1},a.prototype.compareTo=a.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=H(t);return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:T(this.value,e.value)*(this.sign?-1:1)},s.prototype.compareTo=s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=H(t),n=this.value,r=e.value;return e.isSmall?n==r?0:n>r?1:-1:n<0!==e.sign?n<0?-1:1:n<0?1:-1},u.prototype.compareTo=u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,n=H(t).value;return e===n?0:e>n?1:-1},u.prototype.eq=u.prototype.equals=s.prototype.eq=s.prototype.equals=a.prototype.eq=a.prototype.equals=function(t){return 0===this.compare(t)},u.prototype.neq=u.prototype.notEquals=s.prototype.neq=s.prototype.notEquals=a.prototype.neq=a.prototype.notEquals=function(t){return 0!==this.compare(t)},u.prototype.gt=u.prototype.greater=s.prototype.gt=s.prototype.greater=a.prototype.gt=a.prototype.greater=function(t){return this.compare(t)>0},u.prototype.lt=u.prototype.lesser=s.prototype.lt=s.prototype.lesser=a.prototype.lt=a.prototype.lesser=function(t){return this.compare(t)<0},u.prototype.geq=u.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},u.prototype.leq=u.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},a.prototype.isEven=function(){return 0==(1&this.value[0])},s.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return 1==(1&this.value[0])},s.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=s.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=s.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},s.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},s.prototype.isZero=function(){return 0===this.value},u.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=s.prototype.isDivisibleBy=a.prototype.isDivisibleBy=function(t){var e=H(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},u.prototype.isPrime=s.prototype.isPrime=a.prototype.isPrime=function(t){var e=x(this);if(void 0!==e)return e;var n=this.abs(),r=n.bitLength();if(r<=64)return A(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*r.toJSNumber(),a=Math.ceil(!0===t?2*Math.pow(o,2):o),s=[],u=0;u<a;u++)s.push(i(u+2));return A(n,s)},u.prototype.isProbablePrime=s.prototype.isProbablePrime=a.prototype.isProbablePrime=function(t,e){var n=x(this);if(void 0!==n)return n;for(var r=this.abs(),o=void 0===t?5:t,a=[],s=0;s<o;s++)a.push(i.randBetween(2,r.minus(2),e));return A(r,a)},u.prototype.modInv=s.prototype.modInv=a.prototype.modInv=function(t){for(var e,n,r,o=i.zero,a=i.one,s=H(t),u=this.abs();!u.isZero();)e=s.divide(u),n=o,r=s,o=a,s=u,a=n.subtract(e.multiply(a)),u=r.subtract(e.multiply(u));if(!s.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},a.prototype.next=function(){var t=this.value;return this.sign?b(t,1,this.sign):new a(g(t,1),this.sign)},s.prototype.next=function(){var t=this.value;return t+1<e?new s(t+1):new a(n,!1)},u.prototype.next=function(){return new u(this.value+BigInt(1))},a.prototype.prev=function(){var t=this.value;return this.sign?new a(g(t,1),!0):b(t,1,this.sign)},s.prototype.prev=function(){var t=this.value;return t-1>-e?new s(t-1):new a(n,!0)},u.prototype.prev=function(){return new u(this.value-BigInt(1))};for(var O=[1];2*O[O.length-1]<=1e7;)O.push(2*O[O.length-1]);var R=O.length,P=O[R-1];function N(t){return Math.abs(t)<=1e7}function M(t,e,n){e=H(e);for(var r=t.isNegative(),o=e.isNegative(),a=r?t.not():t,s=o?e.not():e,u=0,c=0,l=null,h=null,f=[];!a.isZero()||!s.isZero();)u=(l=I(a,P))[1].toJSNumber(),r&&(u=P-1-u),c=(h=I(s,P))[1].toJSNumber(),o&&(c=P-1-c),a=l[0],s=h[0],f.push(n(u,c));for(var d=0!==n(r?1:0,o?1:0)?i(-1):i(0),p=f.length-1;p>=0;p-=1)d=d.multiply(P).add(i(f[p]));return d}function D(t){var e=t.value,n="number"==typeof e?e|1<<30:"bigint"==typeof e?e|BigInt(1<<30):e[0]+1e7*e[1]|1073758208;return n&-n}function L(t,e){return t=H(t),e=H(e),t.greater(e)?t:e}function j(t,e){return t=H(t),e=H(e),t.lesser(e)?t:e}function F(t,e){if(t=H(t).abs(),e=H(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var n,r,i=o[1];t.isEven()&&e.isEven();)n=j(D(t),D(e)),t=t.divide(n),e=e.divide(n),i=i.multiply(n);for(;t.isEven();)t=t.divide(D(t));do{for(;e.isEven();)e=e.divide(D(e));t.greater(e)&&(r=e,e=t,t=r),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}u.prototype.shiftLeft=s.prototype.shiftLeft=a.prototype.shiftLeft=function(t){var e=H(t).toJSNumber();if(!N(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var n=this;if(n.isZero())return n;for(;e>=R;)n=n.multiply(P),e-=R-1;return n.multiply(O[e])},u.prototype.shiftRight=s.prototype.shiftRight=a.prototype.shiftRight=function(t){var e,n=H(t).toJSNumber();if(!N(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;n>=R;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(e=I(r,P))[1].isNegative()?e[0].prev():e[0],n-=R-1}return(e=I(r,O[n]))[1].isNegative()?e[0].prev():e[0]},u.prototype.not=s.prototype.not=a.prototype.not=function(){return this.negate().prev()},u.prototype.and=s.prototype.and=a.prototype.and=function(t){return M(this,t,(function(t,e){return t&e}))},u.prototype.or=s.prototype.or=a.prototype.or=function(t){return M(this,t,(function(t,e){return t|e}))},u.prototype.xor=s.prototype.xor=a.prototype.xor=function(t){return M(this,t,(function(t,e){return t^e}))},u.prototype.bitLength=s.prototype.bitLength=a.prototype.bitLength=function(){var t=this;return t.compareTo(i(0))<0&&(t=t.negate().subtract(i(1))),0===t.compareTo(i(0))?i(0):i(function t(e,n){if(n.compareTo(e)<=0){var r=t(e,n.square(n)),o=r.p,a=r.e,s=o.multiply(n);return s.compareTo(e)<=0?{p:s,e:2*a+1}:{p:o,e:2*a}}return{p:i(1),e:0}}(t,i(2)).e).add(i(1))};var U=function(t,e,n,r){n=n||"0123456789abcdefghijklmnopqrstuvwxyz",t=String(t),r||(t=t.toLowerCase(),n=n.toLowerCase());var i,o=t.length,a=Math.abs(e),s={};for(i=0;i<n.length;i++)s[n[i]]=i;for(i=0;i<o;i++)if("-"!==(l=t[i])&&l in s&&s[l]>=a){if("1"===l&&1===a)continue;throw new Error(l+" is not a valid digit in base "+e+".")}e=H(e);var u=[],c="-"===t[0];for(i=c?1:0;i<t.length;i++){var l;if((l=t[i])in s)u.push(H(s[l]));else{if("<"!==l)throw new Error(l+" is not a valid character");var h=i;do{i++}while(">"!==t[i]&&i<t.length);u.push(H(t.slice(h+1,i)))}}return B(u,e,c)};function B(t,e,n){var r,i=o[0],a=o[1];for(r=t.length-1;r>=0;r--)i=i.add(t[r].times(a)),a=a.times(e);return n?i.negate():i}function z(t,e){if((e=i(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}var r=!1;if(t.isNegative()&&e.isPositive()&&(r=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:r};for(var o,a=[],s=t;s.isNegative()||s.compareAbs(e)>=0;){o=s.divmod(e),s=o.quotient;var u=o.remainder;u.isNegative()&&(u=e.minus(u).abs(),s=s.next()),a.push(u.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:r}}function q(t,e,n){var r=z(t,e);return(r.isNegative?"-":"")+r.value.map((function(t){return function(t,e){return t<(e=e||"0123456789abcdefghijklmnopqrstuvwxyz").length?e[t]:"<"+t+">"}(t,n)})).join("")}function V(t){if(c(+t)){var e=+t;if(e===p(e))return r?new u(BigInt(e)):new s(e);throw new Error("Invalid integer: "+t)}var n="-"===t[0];n&&(t=t.slice(1));var i=t.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var o=i[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==p(o)||!c(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var l=i[0],h=l.indexOf(".");if(h>=0&&(o-=l.length-h-1,l=l.slice(0,h)+l.slice(h+1)),o<0)throw new Error("Cannot include negative exponent part for integers");t=l+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(r)return new u(BigInt(n?"-"+t:t));for(var d=[],v=t.length,m=v-7;v>0;)d.push(+t.slice(m,v)),(m-=7)<0&&(m=0),v-=7;return f(d),new a(d,n)}function H(t){return"number"==typeof t?function(t){if(r)return new u(BigInt(t));if(c(t)){if(t!==p(t))throw new Error(t+" is not an integer.");return new s(t)}return V(t.toString())}(t):"string"==typeof t?V(t):"bigint"==typeof t?new u(t):t}a.prototype.toArray=function(t){return z(this,t)},s.prototype.toArray=function(t){return z(this,t)},u.prototype.toArray=function(t){return z(this,t)},a.prototype.toString=function(t,e){if(void 0===t&&(t=10),10!==t||e)return q(this,t,e);for(var n,r=this.value,i=r.length,o=String(r[--i]);--i>=0;)n=String(r[i]),o+="0000000".slice(n.length)+n;return(this.sign?"-":"")+o},u.prototype.toString=s.prototype.toString=function(t,e){return void 0===t&&(t=10),10!=t||e?q(this,t,e):String(this.value)},u.prototype.toJSON=a.prototype.toJSON=s.prototype.toJSON=function(){return this.toString()},a.prototype.toJSNumber=a.prototype.valueOf=function(){return parseInt(this.toString(),10)},s.prototype.toJSNumber=s.prototype.valueOf=function(){return this.value},u.prototype.valueOf=u.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var G=0;G<1e3;G++)o[G]=H(G),G>0&&(o[-G]=H(-G));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=L,o.min=j,o.gcd=F,o.lcm=function(t,e){return t=H(t).abs(),e=H(e).abs(),t.divide(F(t,e)).multiply(e)},o.isInstance=function(t){return t instanceof a||t instanceof s||t instanceof u},o.randBetween=function(t,e,n){t=H(t),e=H(e);var r=n||Math.random,i=j(t,e),a=L(t,e).subtract(i).add(1);if(a.isSmall)return i.add(Math.floor(r()*a));for(var s=z(a,1e7).value,u=[],c=!0,l=0;l<s.length;l++){var h=c?s[l]+(l+1<s.length?s[l+1]/1e7:0):1e7,f=p(r()*h);u.push(f),f<s[l]&&(c=!1)}return i.add(o.fromArray(u,1e7,!1))},o.fromArray=function(t,e,n){return B(t.map(H),H(e||10),n)},o}();t.hasOwnProperty("exports")&&(t.exports=i),void 0===(r=(function(){return i}).call(e,n,e,t))||(t.exports=r)}).call(this,n("YuTi")(t))},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),a=n("lJxs"),s=n("Cfvw");function u(t,e){return"function"==typeof e?function(n){return n.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new c(t))}}var c=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project))}}]),t}(),l=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).project=n,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var a=new i.a(this,void 0,void 0);this.destination.add(a),this.innerSubscription=Object(o.a)(this,t,e,n,a)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf3(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf3(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),e}(r.a)},fDlF:function(t,e,n){"use strict";n.d(e,"a",(function(){return S})),n.d(e,"c",(function(){return pt})),n.d(e,"g",(function(){return vt})),n.d(e,"e",(function(){return E})),n.d(e,"b",(function(){return zt})),n.d(e,"d",(function(){return ee})),n.d(e,"f",(function(){return re})),n.d(e,"h",(function(){return ie}));var r=n("GS7A");function i(){return"undefined"!=typeof process}function o(t){switch(t.length){case 0:return new r.d;case 1:return t[0];default:return new r.n(t)}}function a(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],u=[],c=-1,l=null;if(i.forEach((function(t){var n=t.offset,i=n==c,h=i&&l||{};Object.keys(t).forEach((function(n){var i=n,u=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),u){case r.o:u=o[n];break;case r.a:u=a[n];break;default:u=e.normalizeStyleValue(n,i,u,s)}h[i]=u})),i||u.push(h),l=h,c=n})),s.length){var h="\n - ";throw new Error("Unable to animate due to the following errors:".concat(h).concat(s.join(h)))}return u}function s(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&u(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&u(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&u(n,"destroy",t))}))}}function u(t,e,n){var r=n.totalTime,i=c(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function c(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function l(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function h(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var f=function(t,e){return!1},d=function(t,e){return!1},p=function(t,e,n){return[]},v=i();(v||"undefined"!=typeof Element)&&(f=function(t,e){return t.contains(e)},d=function(){if(v||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:d}(),p=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var m=null,g=!1;function y(t){m||(m=("undefined"!=typeof document?document.body:null)||{},g=!!m.style&&"WebkitAppearance"in m.style);var e=!0;return m.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in m.style)&&g)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in m.style),e}var b=d,_=f,w=p;function k(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var E=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return y(t)}},{key:"matchesElement",value:function(t,e){return b(t,e)}},{key:"containsElement",value:function(t,e){return _(t,e)}},{key:"query",value:function(t,e,n){return w(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,o){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new r.d(n,i)}}]),t}(),S=function(){var t=_createClass((function t(){_classCallCheck(this,t)}));return t.NOOP=new E,t}();function C(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:I(parseFloat(e[1]),e[2])}function I(t,e){switch(e){case"s":return 1e3*t;default:return t}}function T(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=I(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=I(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else x(t,n);return n}function O(t,e,n){return n?e+":"+n+";":""}function R(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=O(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=O(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function P(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=B(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),i()&&R(t))}function N(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=B(e);t.style[n]=""})),i()&&R(t))}function M(t){return Array.isArray(t)?1==t.length?t[0]:Object(r.i)(t):t}var D=new RegExp("{{\\s*(.+?)\\s*}}","g");function L(t){var e=[];if("string"==typeof t){for(var n,r=t.toString();n=D.exec(r);)e.push(n[1]);D.lastIndex=0}return e}function j(t,e,n){var r=t.toString(),i=r.replace(D,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function F(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var U=/-+([a-z0-9])/g;function B(t){return t.replace(U,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function z(t,e){return 0===t||0===e}function q(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=H(t,e)}))},s=1;s<e.length;s++)a()}return e}function V(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function H(t,e){return window.getComputedStyle(t)[e]}var G=new Set(["true","1"]),W=new Set(["false","0"]);function K(t,e){var n=G.has(t)||W.has(t),r=G.has(e)||W.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?G.has(t):W.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?G.has(e):W.has(e)),a&&s}}var Y=new RegExp("s*:selfs*,?","g");function Z(t,e,n){return new Q(t).build(e,n)}var Q=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new X(e);return this._resetContextStyleTimingState(n),V(this,M(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(J(t)){var e=t;Object.keys(e).forEach((function(t){L(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=F(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=V(this,M(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(K(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(K(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:$(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return V(n,t,e)})),options:$(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=V(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:$(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return tt(T(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=tt(0,0,"");return i.dynamic=!0,i.strValue=r,i}return tt((n=n||T(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var o=t.styles?t.styles:Object(r.k)({});if(5==o.type)n=this.visitKeyframes(o,e);else{var a=t.styles,s=!1;if(!a){s=!0;var u={};i.easing&&(u.easing=i.easing),a=Object(r.k)(u)}e.currentTime+=i.duration+i.delay;var c=this.visitStyle(a,e);c.isEmptyStep=s,n=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?t==r.a?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var i=!1,o=null;return n.forEach((function(t){if(J(t)){var e=t,n=e.easing;if(n&&(o=n,delete e.easing),!i)for(var r in e)if(e[r].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=L(a)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(J(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(J(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:V(this,M(t.animation),e),options:$(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:$(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:$(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Y,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,l(e.collectedStyles,e.currentQuerySelector,{});var s=V(this,M(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:$(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:T(t.timings,e.errors,!0);return{type:12,animation:V(this,M(t.animation),e),timings:n,options:null}}}]),t}(),X=_createClass((function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}));function J(t){return!Array.isArray(t)&&"object"==typeof t}function $(t){var e;return t?(t=x(t)).params&&(t.params=(e=t.params)?x(e):null):t={},t}function tt(t,e,n){return{duration:t,delay:e,easing:n}}function et(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var nt=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),rt=new RegExp(":enter","g"),it=new RegExp(":leave","g");function ot(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new at).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var at=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new nt;var l=new ut(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),V(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[et(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?C(n.duration):null,o=null!=n.delay?C(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),V(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=st);var a=C(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return V(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?C(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),V(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return T(e.params?j(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?C(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=st);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),V(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;V(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),st={},ut=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=st,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ct(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=C(r.duration)),null!=r.delay&&(i.delay=C(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=j(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=st,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new lt(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(rt,"."+this._enterClassName)).replace(it,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}}]),t}(),ct=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||r.a,e._currentKeyframe[t]=r.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var o=this;e&&(this._previousKeyframe.easing=e);var a=i&&i.params||{},s=function(t,e){var n,i={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){i[t]=r.a})):A(t,!1,i)})),i}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=j(s[t],a,n);o._pendingStyles[t]=e,o._localTimelineStyles.hasOwnProperty(t)||(o._backFill[t]=o._globalTimelineStyles.hasOwnProperty(t)?o._globalTimelineStyles[t]:r.a),o._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,o=[];this._keyframes.forEach((function(a,s){var u=A(a,!0);Object.keys(u).forEach((function(t){var i=u[t];i==r.o?e.add(t):i==r.a&&n.add(t)})),i||(u.offset=s/t.duration),o.push(u)}));var a=e.size?F(e.values()):[],s=n.size?F(n.values()):[];if(i){var u=o[0],c=x(u);u.offset=0,c.offset=1,o=[u,c]}return et(this.element,o,a,s,this.duration,this.startTime,this.easing,!1)}}]),t}(),lt=function(t){function e(t,n,r,i,o,a){var s,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,e),(s=_callSuper(this,e,[t,n,a.delay])).element=n,s.keyframes=r,s.preStyleProps=i,s.postStyleProps=o,s._stretchStartingKeyframe=u,s.timings={duration:a.duration,delay:a.delay,easing:a.easing},s}return _inherits(e,t),_createClass(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=A(t[0],!1);u.offset=0,o.push(u);var c=A(t[0],!1);c.offset=ht(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=A(t[h],!1);f.offset=ht((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return et(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),e}(ct);function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var ft,dt,pt=_createClass((function t(){_classCallCheck(this,t)})),vt=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"normalizePropertyName",value:function(t,e){return B(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(mt[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),e}(pt),mt=(ft="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),dt={},ft.forEach((function(t){return dt[t]=!0})),dt);function gt(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var yt={},bt=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var h=[],f=this.ast.options&&this.ast.options.params||yt,d=this.buildStyles(n,a&&a.params||yt,h),p=s&&s.params||yt,v=this.buildStyles(r,p,h),m=new Set,g=new Map,y=new Map,b="void"===r,_={params:Object.assign({},f,p)},w=c?[]:ot(t,e,this.ast.animation,i,o,d,v,_,u,h),k=0;if(w.forEach((function(t){k=Math.max(t.duration+t.delay,k)})),h.length)return gt(e,this._triggerName,n,r,b,d,v,[],[],g,y,k,h);w.forEach((function(t){var n=t.element,r=l(g,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=l(y,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&m.add(n)}));var E=F(m.values());return gt(e,this._triggerName,n,r,b,d,v,w,E,g,y,k)}}]),t}(),_t=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=x(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=j(o,r,e)),n[t]=o}))}})),n}}]),t}(),wt=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new _t(t.style,t.options&&t.options.params||{})})),kt(this.states,"true","1"),kt(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new bt(e,t,r.states))})),this.fallbackTransition=new bt(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function kt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Et=new nt,St=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=Z(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=a(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=[],u=this._animations[t],c=new Map;if(u?(n=ot(this._driver,e,u,"ng-enter","ng-leave",{},{},a,Et,s)).forEach((function(t){var e=l(c,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(s.push("The requested animation doesn't exist or has already been destroyed"),n=[]),s.length)throw new Error("Unable to create the animation due to the following errors: "+s.join("\n"));c.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=i._driver.computeStyle(e,n,r.a)}))}));var h=o(n.map((function(t){var e=c.get(t.element);return i._buildPlayer(t,{},e)})));return this._playersById[t]=h,h.onDestroy((function(){return i.destroy(t)})),this.players.push(h),h}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=c(e,"","","");return s(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),Ct=[],It={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=x(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}}]),t}(),At=new xt("void"),Ot=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jt(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=l(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=l(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(jt(t,"ng-trigger"),jt(t,"ng-trigger-"+e),u[e]=At),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Pt(this.id,e,t),s=this._engine.statesByElement.get(t);s||(jt(t,"ng-trigger"),jt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new xt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=At),"void"===c.value||u.value!==c.value){var h=l(this._engine.playersByElement,t,[]);h.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var f=o.matchTransition(u.value,c.value,t,c.params),d=!1;if(!f){if(!i)return;f=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:u,toState:c,player:a,isFallbackTransition:d}),d||(jt(t,"ng-animate-queued"),a.onStart((function(){Ft(t,"ng-animate-queued")}))),a.onDone((function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),h.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var p=[],v=o.matchStyles(u.value,u.params,p),m=o.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){N(t,v),P(t,m)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,a=this._engine.statesByElement.get(t);if(a){var s=[];if(Object.keys(a).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&o(s).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||At,s=new xt("void"),u=new Pt(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}},{key:"insertNode",value:function(t,e){jt(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=c(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,s(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Rt=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}},{key:"createNamespace",value:function(t,e){var n=new Ot(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Nt(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Nt(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),jt(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ft(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Nt(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Nt(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return o(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=It,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)jt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var a=0;a<i.length;a++)i[a]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var u=this._whenQuietFns;this._whenQuietFns=[],n.length?o(n).onDone((function(){u.forEach((function(t){return t()}))})):u.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new nt,a=[],s=new Map,u=[],c=new Map,h=new Map,f=new Map,d=new Set;this.disabledNodes.forEach((function(t){d.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)d.add(e[r])}));var p=this.bodyNode,v=Array.from(this.statesByElement.keys()),m=Lt(v,this.collectedEnterElements),g=new Map,y=0;m.forEach((function(t,e){var n="ng-enter"+y++;g.set(e,n),t.forEach((function(t){return jt(t,n)}))}));for(var b=[],_=new Set,w=new Set,k=0;k<this.collectedLeaveElements.length;k++){var E=this.collectedLeaveElements[k],S=E.__ng_removed;S&&S.setForRemoval&&(b.push(E),_.add(E),S.hasAnimation?this.driver.query(E,".ng-star-inserted",!0).forEach((function(t){return _.add(t)})):w.add(E))}var C=new Map,I=Lt(v,Array.from(_));I.forEach((function(t,e){var n="ng-leave"+y++;C.set(e,n),t.forEach((function(t){return jt(t,n)}))})),t.push((function(){m.forEach((function(t,e){var n=g.get(e);t.forEach((function(t){return Ft(t,n)}))})),I.forEach((function(t,e){var n=C.get(e);t.forEach((function(t){return Ft(t,n)}))})),b.forEach((function(t){n.processLeaveNode(t)}))}));for(var T=[],x=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach((function(t){var e=t.player,r=t.element;if(T.push(e),n.collectedEnterElements.length){var o=r.__ng_removed;if(o&&o.setForMove)return void e.destroy()}var s=!p||!n.driver.containsElement(p,r),d=C.get(r),v=g.get(r),m=n._buildInstruction(t,i,v,d,s);if(m.errors&&m.errors.length)x.push(m);else{if(s)return e.onStart((function(){return N(r,m.fromStyles)})),e.onDestroy((function(){return P(r,m.toStyles)})),void a.push(e);if(t.isFallbackTransition)return e.onStart((function(){return N(r,m.fromStyles)})),e.onDestroy((function(){return P(r,m.toStyles)})),void a.push(e);m.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(r,m.timelines),u.push({instruction:m,player:e,element:r}),m.queriedElements.forEach((function(t){return l(c,t,[]).push(e)})),m.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=h.get(e);r||h.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),m.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=f.get(e);r||f.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(x.length){var O=[];x.forEach((function(t){O.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return O.push("- ".concat(t,"\n"))}))})),T.forEach((function(t){return t.destroy()})),this.reportError(O)}var R=new Map,M=new Map;u.forEach((function(t){var e=t.element;i.has(e)&&(M.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,R))})),a.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){l(R,e,[]).push(t),t.destroy()}))}));var D=b.filter((function(t){return Bt(t,h,f)})),L=new Map;Dt(L,this.driver,w,f,r.a).forEach((function(t){Bt(t,h,f)&&D.push(t)}));var j=new Map;m.forEach((function(t,e){Dt(j,n.driver,new Set(t),h,r.o)})),D.forEach((function(t){var e=L.get(t),n=j.get(t);L.set(t,Object.assign({},e,n))}));var F=[],U=[],B={};u.forEach((function(t){var e=t.element,r=t.player,u=t.instruction;if(i.has(e)){if(d.has(e))return r.onDestroy((function(){return P(e,u.toStyles)})),r.disabled=!0,r.overrideTotalTime(u.totalTime),void a.push(r);var c=B;if(M.size>1){for(var l=e,h=[];l=l.parentNode;){var f=M.get(l);if(f){c=f;break}h.push(l)}h.forEach((function(t){return M.set(t,c)}))}var p=n._buildAnimation(r.namespaceId,u,R,s,j,L);if(r.setRealPlayer(p),c===B)F.push(r);else{var v=n.playersByElement.get(c);v&&v.length&&(r.parentPlayer=o(v)),a.push(r)}}else N(e,u.fromStyles),r.onDestroy((function(){return P(e,u.toStyles)})),U.push(r),d.has(e)&&a.push(r)})),U.forEach((function(t){var e=s.get(t.element);if(e&&e.length){var n=o(e);t.setRealPlayer(n)}})),a.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var z=0;z<b.length;z++){var q=b[z],V=q.__ng_removed;if(Ft(q,"ng-leave"),!V||!V.hasAnimation){var H=[];if(c.size){var G=c.get(q);G&&G.length&&H.push.apply(H,_toConsumableArray(G));for(var W=this.driver.query(q,".ng-animating",!0),K=0;K<W.length;K++){var Y=c.get(W[K]);Y&&Y.length&&H.push.apply(H,_toConsumableArray(Y))}}var Z=H.filter((function(t){return!t.destroyed}));Z.length?Ut(this,q,Z):this.processLeaveNode(q)}}return b.length=0,F.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),F}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=l(n,t,[]);i._getPreviousPlayers(t,u,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(h){u.e(h)}finally{u.f()}N(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,s,u){var c=this,h=e.triggerName,f=e.element,d=[],p=new Set,v=new Set,m=e.timelines.map((function(e){var o=e.element;p.add(o);var l=o.__ng_removed;if(l&&l.removedBeforeQueried)return new r.d(e.duration,e.delay);var m,g,y=o!==f,b=(m=(n.get(o)||Ct).map((function(t){return t.getRealPlayer()})),g=[],function t(e,n){for(var i=0;i<e.length;i++){var o=e[i];o instanceof r.n?t(o.players,n):n.push(o)}}(m,g),g).filter((function(t){return!!t.element&&t.element===o})),_=s.get(o),w=u.get(o),k=a(0,c._normalizer,0,e.keyframes,_,w),E=c._buildPlayer(e,k,b);if(e.subTimeline&&i&&v.add(o),y){var S=new Pt(t,h,o);S.setRealPlayer(E),d.push(S)}return E}));d.forEach((function(t){l(c.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(c.playersByQueriedElement,t.element,t)}))})),p.forEach((function(t){return jt(t,"ng-animating")}));var g=o(m);return g.onDestroy((function(){p.forEach((function(t){return Ft(t,"ng-animating")})),P(f,e.toStyles)})),v.forEach((function(t){l(i,t,[]).push(g)})),g}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new r.d(t.duration,t.delay)}}]),t}(),Pt=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new r.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return s(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){l(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Nt(t){return t&&1===t.nodeType}function Mt(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Dt(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(Mt(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Tt,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return Mt(t,o[s++])})),a}function Lt(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function jt(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ft(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Ut(t,e,n){o(n).onDone((function(){return t.processLeaveNode(e)}))}function Bt(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var zt=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Rt(e,n,r),this._timelineEngine=new St(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Z(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new wt(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(h(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(h(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function qt(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Ht(e[0]),e.length>1&&(r=Ht(e[e.length-1]))):e&&(n=Ht(e)),n||r?new Vt(t,n,r):null}var Vt=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&P(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(P(this._element,this._initialStyles),this._endStyles&&(P(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(N(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(N(this._element,this._endStyles),this._endStyles=null),P(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Ht(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Gt(i)&&((e=e||{})[i]=t[i])}return e}function Gt(t){return"display"===t||"position"===t}var Wt=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Jt(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Xt(t,"",e),Qt(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Kt(this._element,this._name,"paused")}},{key:"resume",value:function(){Kt(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Yt(this._element,this._name);this._position=t*this._duration,Xt(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Qt(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=Jt(t,"").split(","),(r=Zt(n,e))>=0&&(n.splice(r,1),Xt(t,"",n.join(","))))}}]),t}();function Kt(t,e,n){Xt(t,"PlayState",n,Yt(t,e))}function Yt(t,e){var n=Jt(t,"");return n.indexOf(",")>0?Zt(n.split(","),e):Zt([n],e)}function Zt(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Qt(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Xt(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function Jt(t,e){return t.style["animation"+e]}var $t=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Wt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:H(t.element,r))}))}this.currentSnapshot=e}}]),t}(),te=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=k(n),r}return _inherits(e,t),_createClass(e,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf3(e.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf3(e.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf3(e.prototype),"destroy",this).call(this))}}]),e}(r.d),ee=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return y(t)}},{key:"matchesElement",value:function(t,e){return b(t,e)}},{key:"containsElement",value:function(t,e){return _(t,e)}},{key:"query",value:function(t,e,n){return w(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return k(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof $t})),u={};z(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=q(t,e,u));if(0==n)return new te(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=qt(t,e),d=new $t(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),ne=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:H(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),re=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(oe().toString()),this._cssKeyframesDriver=new ee}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return y(t)}},{key:"matchesElement",value:function(t,e){return b(t,e)}},{key:"containsElement",value:function(t,e){return _(t,e)}},{key:"query",value:function(t,e,n){return w(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(t){return t instanceof ne}));z(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=qt(t,e=q(t,e=e.map((function(t){return A(t,!1)})),u));return new ne(t,e,s,l)}}]),t}();function ie(){return"function"==typeof oe()}function oe(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}},fjcx:function(t,e,n){if((void 0===r||!r)&&"undefined"!=typeof self)var r=self;t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){e.exports=function(t){if(Array.isArray(t))return t}},{}],2:[function(t,e,n){e.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},{}],3:[function(t,e,n){e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},{}],4:[function(t,e,n){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],5:[function(t,e,n){var r=t("./setPrototypeOf");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o(t,n,a){return e.exports=o=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},{"./setPrototypeOf":18}],6:[function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},{}],7:[function(t,e,n){e.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},{}],8:[function(t,e,n){function r(){return e.exports=r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}e.exports=r},{}],9:[function(t,e,n){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}e.exports=r},{}],10:[function(t,e,n){var r=t("./setPrototypeOf");e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},{"./setPrototypeOf":18}],11:[function(t,e,n){e.exports=function(t){return t&&t.__esModule?t:{default:t}}},{}],12:[function(t,e,n){var r=t("../helpers/typeof");function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}e.exports=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}},{"../helpers/typeof":21}],13:[function(t,e,n){e.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},{}],14:[function(t,e,n){e.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},{}],15:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],16:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},{}],17:[function(t,e,n){var r=t("../helpers/typeof"),i=t("./assertThisInitialized");e.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(t,e,n){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,n)}e.exports=r},{}],19:[function(t,e,n){var r=t("./arrayWithHoles"),i=t("./iterableToArrayLimit"),o=t("./nonIterableRest");e.exports=function(t,e){return r(t)||i(t,e)||o()}},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(t,e,n){var r=t("./arrayWithoutHoles"),i=t("./iterableToArray"),o=t("./nonIterableSpread");e.exports=function(t){return r(t)||i(t)||o()}},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},i(t)}e.exports=i},{}],22:[function(t,e,n){e.exports=t("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(t,e,n){var r=t("./src/converter");function i(t,e){var n=new r(t,e);return function(t){return n.convert(t)}}i.BIN="01",i.OCT="01234567",i.DEC="0123456789",i.HEX="0123456789abcdef",e.exports=i},{"./src/converter":24}],24:[function(t,e,n){"use strict";function r(t,e){if(!(t&&e&&t.length&&e.length))throw new Error("Bad alphabet");this.srcAlphabet=t,this.dstAlphabet=e}r.prototype.convert=function(t){var e,n,r,i={},o=this.srcAlphabet.length,a=this.dstAlphabet.length,s=t.length,u="string"==typeof t?"":[];if(!this.isValid(t))throw new Error('Number "'+t+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<s;e++)i[e]=this.srcAlphabet.indexOf(t[e]);do{for(n=0,r=0,e=0;e<s;e++)(n=n*o+i[e])>=a?(i[r++]=parseInt(n/a,10),n%=a):r>0&&(i[r++]=0);s=r,u=this.dstAlphabet.slice(n,n+1).concat(u)}while(0!==r);return u},r.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0},e.exports=r},{}],25:[function(t,e,n){(function(n){"use strict";var r=t("object-assign");function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=t("util/"),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===(function(){}).name;function l(t){return Object.prototype.toString.call(t)}function h(t){return!o(t)&&"function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var f=e.exports=y,d=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(a.isFunction(t)){if(c)return t.name;var e=t.toString().match(d);return e&&e[1]}}function v(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function m(t){if(c||!a.isFunction(t))return a.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,n,r,i){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function y(t,e){t||g(t,!0,e,"==",f.ok)}function b(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(h(t)&&h(e)&&l(t)===l(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=_(t),o=_(e);if(i&&!o||!i&&o)return!1;if(i)return b(t=u.call(t),e=u.call(e),n);var s,c,l=E(t),h=E(e);if(l.length!==h.length)return!1;for(l.sort(),h.sort(),c=l.length-1;c>=0;c--)if(l[c]!==h[c])return!1;for(c=l.length-1;c>=0;c--)if(!b(t[s=l[c]],e[s],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function _(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function k(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(n){e=n}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&g(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!t&&i&&!n;if((!t&&a.isError(i)&&o&&w(i,n)||s)&&g(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return v(m(t.actual),128)+" "+t.operator+" "+v(m(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=p(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(f.AssertionError,Error),f.fail=g,f.ok=y,f.equal=function(t,e,n){t!=e&&g(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&g(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){b(t,e,!1)||g(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){b(t,e,!0)||g(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){b(t,e,!1)&&g(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&g(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&g(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&g(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){k(!0,t,e,n)},f.doesNotThrow=function(t,e,n){k(!1,t,e,n)},f.ifError=function(t){if(t)throw t},f.strict=r((function t(e,n){e||g(e,!0,n,"==",t)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var E=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"object-assign":84,"util/":28}],26:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],27:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],28:[function(t,e,n){(function(e,r){var i=/%[sdj%]/g;n.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),u=r[n];n<o;u=r[++n])v(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},n.deprecate=function(t,i){if(y(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),o=!0}return t.apply(this,arguments)}};var o,a={};function s(t,e){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(e)?r.showHidden=e:e&&n._extend(r,e),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,e,r){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return g(i)||(i=l(t,i,r)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}(t,e);if(o)return o;var a=Object.keys(e),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),k(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(e);if(0===a.length){if(E(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(b(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(w(e))return t.stylize(Date.prototype.toString.call(e),"date");if(k(e))return h(e)}var u,c="",_=!1,S=["{","}"];return d(e)&&(_=!0,S=["[","]"]),E(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),b(e)&&(c=" "+RegExp.prototype.toString.call(e)),w(e)&&(c=" "+Date.prototype.toUTCString.call(e)),k(e)&&(c=" "+h(e)),0!==a.length||_&&0!=e.length?r<0?b(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=_?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)x(e,String(a))?o.push(f(t,e,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))})),o}(t,e,r,s,a):a.map((function(n){return f(t,e,r,s,n,_)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,c,S)):S[0]+c+S[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),x(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=v(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return"number"==typeof t}function g(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===S(t)}function _(t){return"object"==typeof t&&null!==t}function w(t){return _(t)&&"[object Date]"===S(t)}function k(t){return _(t)&&("[object Error]"===S(t)||t instanceof Error)}function E(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){if(y(o)&&(o=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var r=e.pid;a[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else a[t]=function(){};return a[t]},n.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=p,n.isNull=v,n.isNullOrUndefined=function(t){return null==t},n.isNumber=m,n.isString=g,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=y,n.isRegExp=b,n.isObject=_,n.isDate=w,n.isError=k,n.isFunction=E,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){console.log("%s - %s",T(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!_(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(t,e,n){"use strict";n.byteLength=function(t){var e=c(t),n=e[1];return 3*(e[0]+n)/4-n},n.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o=[],a=e;a<n;a+=3)o.push(r[(i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],30:[function(t,e,n){var r=t("./lib/encoder"),i=t("./lib/decoder");e.exports={encode:r,decode:i}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(t,e,n){(function(t){function n(t,e){if(this.pos=0,this.buffer=t,this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}n.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},n.prototype.parseRGBA=function(){var e="bit"+this.bitPP;this.data=new t(this.width*this.height*4),this[e]()},n.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,n=this.height>=0?this.height-1:-this.height;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.buffer.readUInt8(this.pos++),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var u=this.palette[o>>7-s&1];this.data[a+4*s]=0,this.data[a+4*s+1]=u.blue,this.data[a+4*s+2]=u.green,this.data[a+4*s+3]=u.red}0!=e&&(this.pos+=4-e)}},n.prototype.bit4=function(){if(2==this.compress){var t=function(t){var n=this.palette[t];this.data[e]=0,this.data[e+1]=n.blue,this.data[e+2]=n.green,this.data[e+3]=n.red,e+=4};this.data.fill(255);for(var e=0,n=this.bottom_up?this.height-1:0,r=!1;e<this.data.length;){var i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);if(0==i){if(0==o){this.bottom_up?n--:n++,e=n*this.width*4,r=!1;continue}if(1==o)break;if(2==o){var a=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);this.bottom_up?n-=s:n+=s,e+=s*this.width*4+4*a}else{for(var u=this.buffer.readUInt8(this.pos++),c=0;c<o;c++)t.call(this,r?15&u:(240&u)>>4),1&c&&c+1<o&&(u=this.buffer.readUInt8(this.pos++)),r=!r;1==(o+1>>1&1)&&this.pos++}}else for(c=0;c<i;c++)t.call(this,r?15&o:(240&o)>>4),r=!r}}else{var l=Math.ceil(this.width/2),h=l%4;for(s=this.height-1;s>=0;s--){var f=this.bottom_up?s:this.height-1-s;for(a=0;a<l;a++){var d=15&(o=this.buffer.readUInt8(this.pos++)),p=this.palette[o>>4];if(this.data[e=f*this.width*4+2*a*4]=0,this.data[e+1]=p.blue,this.data[e+2]=p.green,this.data[e+3]=p.red,2*a+1>=this.width)break;p=this.palette[d],this.data[e+4]=0,this.data[e+4+1]=p.blue,this.data[e+4+2]=p.green,this.data[e+4+3]=p.red}0!=h&&(this.pos+=4-h)}}},n.prototype.bit8=function(){if(1==this.compress){var t=function(t){var n=this.palette[t];this.data[e]=0,this.data[e+1]=n.blue,this.data[e+2]=n.green,this.data[e+3]=n.red,e+=4};this.data.fill(255);for(var e=0,n=this.bottom_up?this.height-1:0;e<this.data.length;){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==r){if(0==i){this.bottom_up?n--:n++,e=n*this.width*4;continue}if(1==i)break;if(2==i){var o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?n-=a:n+=a,e+=a*this.width*4+4*o}else{for(var s=0;s<i;s++){var u=this.buffer.readUInt8(this.pos++);t.call(this,u)}!0&i&&this.pos++}}else for(s=0;s<r;s++)t.call(this,i)}}else{var c=this.width%4;for(a=this.height-1;a>=0;a--){var l=this.bottom_up?a:this.height-1-a;for(o=0;o<this.width;o++)if(i=this.buffer.readUInt8(this.pos++),e=l*this.width*4+4*o,i<this.palette.length){var h=this.palette[i];this.data[e]=0,this.data[e+1]=h.blue,this.data[e+2]=h.green,this.data[e+3]=h.red}else this.data[e]=0,this.data[e+1]=255,this.data[e+2]=255,this.data[e+3]=255;0!=c&&(this.pos+=4-c)}}},n.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.buffer.readUInt16LE(this.pos);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,c=r*this.width*4+4*i;this.data[c]=o>>15?255:0,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}this.pos+=t}},n.prototype.bit16=function(){var t=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var e=[0,0,0],n=0;n<16;n++)this.maskRed>>n&1&&e[0]++,this.maskGreen>>n&1&&e[1]++,this.maskBlue>>n&1&&e[2]++;e[1]+=e[0],e[2]+=e[1],e[0]=8-e[0],e[1]-=8,e[2]-=8;for(var r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&this.maskBlue)<<e[0],u=(a&this.maskGreen)>>e[1],c=(a&this.maskRed)>>e[2],l=i*this.width*4+4*o;this.data[l]=0,this.data[l+1]=s,this.data[l+2]=u,this.data[l+3]=c}this.pos+=t}},n.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=e*this.width*4+4*n;this.data[a]=0,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}this.pos+=this.width%4}},n.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.data[s=e*this.width*4+4*n]=r,this.data[s+1]=i,this.data[s+2]=o,this.data[s+3]=a}}else for(t=this.height-1;t>=0;t--)for(e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s;i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),this.data[s=e*this.width*4+4*n]=r,this.data[s+1]=i,this.data[s+2]=o,this.data[s+3]=a}},n.prototype.getData=function(){return this.data},e.exports=function(t){return new n(t)}}).call(this,t("buffer").Buffer)},{buffer:48}],32:[function(t,e,n){(function(t){function n(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}n.prototype.encode=function(){var e=new t(this.offset+this.rgbSize);this.pos=0,e.write(this.flag,this.pos,2),this.pos+=2,e.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,e.writeUInt32LE(this.reserved,this.pos),this.pos+=4,e.writeUInt32LE(this.offset,this.pos),this.pos+=4,e.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,e.writeUInt32LE(this.width,this.pos),this.pos+=4,e.writeInt32LE(-this.height,this.pos),this.pos+=4,e.writeUInt16LE(this.planes,this.pos),this.pos+=2,e.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,e.writeUInt32LE(this.compress,this.pos),this.pos+=4,e.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,e.writeUInt32LE(this.hr,this.pos),this.pos+=4,e.writeUInt32LE(this.vr,this.pos),this.pos+=4,e.writeUInt32LE(this.colors,this.pos),this.pos+=4,e.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var n=0,r=3*this.width+this.extraBytes,i=0;i<this.height;i++){for(var o=0;o<this.width;o++){var a=this.pos+i*r+3*o;n++,e[a]=this.buffer[n++],e[a+1]=this.buffer[n++],e[a+2]=this.buffer[n++]}if(this.extraBytes>0){var s=this.pos+i*r+3*this.width;e.fill(0,s,s+this.extraBytes)}}return e},e.exports=function(t,e){return void 0===e&&(e=100),{data:new n(t).encode(),width:t.width,height:t.height}}}).call(this,t("buffer").Buffer)},{buffer:48}],33:[function(t,e,n){},{}],34:[function(t,e,n){(function(e,r){"use strict";var i=t("assert"),o=t("pako/lib/zlib/zstream"),a=t("pako/lib/zlib/deflate.js"),s=t("pako/lib/zlib/inflate.js"),u=t("pako/lib/zlib/constants");for(var c in u)n[c]=u[c];function l(t){if("number"!=typeof t||t<n.DEFLATE||t>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7,l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||s.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},l.prototype.write=function(t,e,n,r,i,o,a){return this._write(!0,t,e,n,r,i,o,a)},l.prototype.writeSync=function(t,e,n,r,i,o,a){return this._write(!1,t,e,n,r,i,o,a)},l.prototype._write=function(t,o,a,s,u,c,l,h){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==n.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==n.Z_NO_FLUSH&&o!==n.Z_PARTIAL_FLUSH&&o!==n.Z_SYNC_FLUSH&&o!==n.Z_FULL_FLUSH&&o!==n.Z_FINISH&&o!==n.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=r.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=c,this.strm.next_out=l,this.flush=o,!t)return this._process(),this._checkError()?this._afterSync():void 0;var f=this;return e.nextTick((function(){f._process(),f._after()})),this},l.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},l.prototype._process=function(){var t=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return this._error(null==this.dictionary?"Missing dictionary":"Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},l.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(t,e,r,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(t>=8&&t<=15,"invalid windowBits"),i(e>=-1&&e<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===n.Z_FILTERED||o===n.Z_HUFFMAN_ONLY||o===n.Z_RLE||o===n.Z_FIXED||o===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,r,o,a),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(t,e,r,i,u){switch(this.level=t,this.windowBits=e,this.memLevel=r,this.strategy=i,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=a.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=l}).call(this,t("_process"),t("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(t,e,n){(function(e){"use strict";var r=t("buffer").Buffer,i=t("stream").Transform,o=t("./binding"),a=t("util"),s=t("assert").ok,u=t("buffer").kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(o),h=0;h<l.length;h++){var f=l[h];f.match(/^Z/)&&Object.defineProperty(n,f,{enumerable:!0,value:o[f],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),v=0;v<p.length;v++){var m=p[v];d[d[m]]=m}function g(t,e,n){var i=[],o=0;function a(){for(var e;null!==(e=t.read());)i.push(e),o+=e.length;t.once("readable",a)}function s(){var e,a=null;o>=u?a=new RangeError(c):e=r.concat(i,o),i=[],t.close(),n(a,e)}t.on("error",(function(e){t.removeListener("end",s),t.removeListener("readable",a),n(e)})),t.on("end",s),t.end(e),a()}function y(t,e){if("string"==typeof e&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Not a string or buffer");return t._processChunk(e,t._finishFlushFlag)}function b(t){if(!(this instanceof b))return new b(t);T.call(this,t,o.DEFLATE)}function _(t){if(!(this instanceof _))return new _(t);T.call(this,t,o.INFLATE)}function w(t){if(!(this instanceof w))return new w(t);T.call(this,t,o.GZIP)}function k(t){if(!(this instanceof k))return new k(t);T.call(this,t,o.GUNZIP)}function E(t){if(!(this instanceof E))return new E(t);T.call(this,t,o.DEFLATERAW)}function S(t){if(!(this instanceof S))return new S(t);T.call(this,t,o.INFLATERAW)}function C(t){if(!(this instanceof C))return new C(t);T.call(this,t,o.UNZIP)}function I(t){return t===o.Z_NO_FLUSH||t===o.Z_PARTIAL_FLUSH||t===o.Z_SYNC_FLUSH||t===o.Z_FULL_FLUSH||t===o.Z_FINISH||t===o.Z_BLOCK}function T(t,e){var a=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||n.Z_DEFAULT_CHUNK,i.call(this,t),t.flush&&!I(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!I(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:o.Z_FINISH,t.chunkSize&&(t.chunkSize<n.Z_MIN_CHUNK||t.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<n.Z_MIN_WINDOWBITS||t.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<n.Z_MIN_LEVEL||t.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<n.Z_MIN_MEMLEVEL||t.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=n.Z_FILTERED&&t.strategy!=n.Z_HUFFMAN_ONLY&&t.strategy!=n.Z_RLE&&t.strategy!=n.Z_FIXED&&t.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!r.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(e);var s=this;this._hadError=!1,this._handle.onerror=function(t,e){x(s),s._hadError=!0;var r=new Error(t);r.errno=e,r.code=n.codes[e],s.emit("error",r)};var u=n.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(u=t.level);var c=n.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(c=t.strategy),this._handle.init(t.windowBits||n.Z_DEFAULT_WINDOWBITS,u,t.memLevel||n.Z_DEFAULT_MEMLEVEL,c,t.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function x(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function A(t){t.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),n.Deflate=b,n.Inflate=_,n.Gzip=w,n.Gunzip=k,n.DeflateRaw=E,n.InflateRaw=S,n.Unzip=C,n.createDeflate=function(t){return new b(t)},n.createInflate=function(t){return new _(t)},n.createDeflateRaw=function(t){return new E(t)},n.createInflateRaw=function(t){return new S(t)},n.createGzip=function(t){return new w(t)},n.createGunzip=function(t){return new k(t)},n.createUnzip=function(t){return new C(t)},n.deflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new b(e),t,n)},n.deflateSync=function(t,e){return y(new b(e),t)},n.gzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new w(e),t,n)},n.gzipSync=function(t,e){return y(new w(e),t)},n.deflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new E(e),t,n)},n.deflateRawSync=function(t,e){return y(new E(e),t)},n.unzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new C(e),t,n)},n.unzipSync=function(t,e){return y(new C(e),t)},n.inflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new _(e),t,n)},n.inflateSync=function(t,e){return y(new _(e),t)},n.gunzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new k(e),t,n)},n.gunzipSync=function(t,e){return y(new k(e),t)},n.inflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),g(new S(e),t,n)},n.inflateRawSync=function(t,e){return y(new S(e),t)},a.inherits(T,i),T.prototype.params=function(t,r,i){if(t<n.Z_MIN_LEVEL||t>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==t||this._strategy!==r){var a=this;this.flush(o.Z_SYNC_FLUSH,(function(){s(a._handle,"zlib binding closed"),a._handle.params(t,r),a._hadError||(a._level=t,a._strategy=r,i&&i())}))}else e.nextTick(i)},T.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},T.prototype._flush=function(t){this._transform(r.alloc(0),"",t)},T.prototype.flush=function(t,n){var i=this,a=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=o.Z_FULL_FLUSH),a.ended?n&&e.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},T.prototype.close=function(t){x(this,t),e.nextTick(A,this)},T.prototype._transform=function(t,e,n){var i,a=this._writableState,s=(a.ending||a.ended)&&(!t||a.length===t.length);return null===t||r.isBuffer(t)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,t.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(t,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},T.prototype._processChunk=function(t,e,n){var i=t&&t.length,o=this._chunkSize-this._offset,a=0,l=this,h="function"==typeof n;if(!h){var f,d=[],p=0;this.on("error",(function(t){f=t})),s(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(e,t,a,i,this._buffer,this._offset,o)}while(!this._hadError&&y(v[0],v[1]));if(this._hadError)throw f;if(p>=u)throw x(this),new RangeError(c);var m=r.concat(d,p);return x(this),m}s(this._handle,"zlib binding closed");var g=this._handle.write(e,t,a,i,this._buffer,this._offset,o);function y(u,c){if(this&&(this.buffer=null,this.callback=null),!l._hadError){var f=o-c;if(s(f>=0,"have should not go down"),f>0){var v=l._buffer.slice(l._offset,l._offset+f);l._offset+=f,h?l.push(v):(d.push(v),p+=v.length)}if((0===c||l._offset>=l._chunkSize)&&(o=l._chunkSize,l._offset=0,l._buffer=r.allocUnsafe(l._chunkSize)),0===c){if(a+=i-u,i=u,!h)return!0;var m=l._handle.write(e,t,a,i,l._buffer,l._offset,l._chunkSize);return m.callback=y,void(m.buffer=t)}if(!h)return!1;n()}}g.buffer=t,g.callback=y},a.inherits(b,T),a.inherits(_,T),a.inherits(w,T),a.inherits(k,T),a.inherits(E,T),a.inherits(S,T),a.inherits(C,T)}).call(this,t("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)a.set(o=t[e],i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],37:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},{}],38:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],40:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),u=t("./messages");function c(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function v(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function m(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,h=t.prev,f=t.strstart+258,d=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===p&&c[n+a-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=258-(f-o),o=f-258,r>a){if(t.match_start=e,a=r,r>=s)break;d=c[o+a-1],p=c[o+a]}}}while((e=h[e&l])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function g(t){var e,n,r,o,u,c,l,h,f,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(l=t.window,h=t.strstart+t.lookahead,d=void 0,(d=(c=t.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(c.avail_in-=d,i.arraySet(l,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=a(c.adler,l,d,h):2===c.state.wrap&&(c.adler=s(c.adler,l,d,h)),c.next_in+=d,c.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[u=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function y(t,e){for(var n,r;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=m(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var n,r,i;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=m(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function _(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):c(t,-2)}function E(t){var e,n=k(t);return 0===n&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function S(t,e,n,r,o,a){if(!t)return-2;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||a<0||a>4)return c(t,-2);8===r&&(r=9);var u=new w;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,E(t)}r=[new _(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&d(t,!1),1)})),new _(4,4,8,4,y),new _(4,5,16,8,y),new _(4,6,32,32,y),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],n.deflateInit=function(t,e){return S(t,e,8,15,8,0)},n.deflateInit2=S,n.deflateReset=E,n.deflateResetKeep=k,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},n.deflate=function(t,e){var n,i,a,u;if(!t||!t.state||e>5||e<0)return t?c(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return c(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var m=8+(i.w_bits-8<<4)<<8;m|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(m|=32),m+=31-m%31,i.status=113,v(i,m),0!==i.strstart&&(v(i,t.adler>>>16),v(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return c(t,-5);if(666===i.status&&0!==t.avail_in)return c(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var y=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==y&&4!==y||(i.status=666),1===y||3===y)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(v(i,t.adler>>>16),v(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?c(t,-2):(t.state=null,113===e?c(t,-3):0):-2},n.deflateSetDictionary=function(t,e){var n,r,o,s,u,c,l,f,d=e.length;if(!t||!t.state)return-2;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,g(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,y,b,_,w,k,E,S,C,I;C=t.input,i=(r=t.next_in)+(t.avail_in-5),I=t.output,a=(o=t.next_out)-(e-t.avail_out),s=o+(t.avail_out-257),u=(n=t.state).dmax,c=n.wsize,l=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=C[r++]<<p,d+=C[r++]<<(p+=8),p+=8),b=v[d&g];e:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))I[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=v[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(_&=15)&&(p<_&&(d+=C[r++]<<p,p+=8),w+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=C[r++]<<p,d+=C[r++]<<(p+=8),p+=8),b=m[d&y];n:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=m[(65535&b)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&b,p<(_&=15)&&(d+=C[r++]<<p,(p+=8)<_&&(d+=C[r++]<<p,p+=8)),(k+=d&(1<<_)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=_,p-=_,k>(_=o-a)){if((_=k-_)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,S=f,0===h){if(E+=c-_,_<w){w-=_;do{I[o++]=f[E++]}while(--_);E=o-k,S=I}}else if(h<_){if(E+=c+h-_,(_-=h)<w){w-=_;do{I[o++]=f[E++]}while(--_);if(E=0,h<w){w-=_=h;do{I[o++]=f[E++]}while(--_);E=o-k,S=I}}}else if(E+=h-_,_<w){w-=_;do{I[o++]=f[E++]}while(--_);E=o-k,S=I}for(;w>2;)I[o++]=S[E++],I[o++]=S[E++],I[o++]=S[E++],w-=3;w&&(I[o++]=S[E++],w>1&&(I[o++]=S[E++]))}else{E=o-k;do{I[o++]=I[E++],I[o++]=I[E++],I[o++]=I[E++],w-=3}while(w>2);w&&(I[o++]=I[E++],w>1&&(I[o++]=I[E++]))}break}}break}}while(r<i&&o<s);d&=(1<<(p-=(w=p>>3)<<3))-1,t.next_in=r-=w,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},{}],42:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees");function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function f(t,e){var n,r;return t&&t.state?(e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==(r=t.state).window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,h(t))):-2}function d(t,e){var n,r;return t?(r=new c,t.state=r,r.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var p,v,m=!0;function g(t){if(m){var e;for(p=new r.Buf32(512),v=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,v,0,t.work,{bits:5}),m=!1}t.lencode=p,t.lenbits=9,t.distcode=v,t.distbits=5}function y(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=h,n.inflateReset2=f,n.inflateResetKeep=l,n.inflateInit=function(t){return d(t,15)},n.inflateInit2=d,n.inflate=function(t,e){var n,c,l,h,f,d,p,v,m,b,_,w,k,E,S,C,I,T,x,A,O,R,P,N,M=0,D=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,l=t.output,h=t.next_in,c=t.input,v=n.hold,m=n.bits,b=d=t.avail_in,_=p=t.avail_out,R=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(2&n.wrap&&35615===v){n.check=0,D[0]=255&v,D[1]=v>>>8&255,n.check=o(n.check,D,2,0),v=0,m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){t.msg="unknown compression method",n.mode=30;break}if(m-=4,O=8+(15&(v>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,t.adler=n.check=1,n.mode=512&v?10:12,v=0,m=0;break;case 2:for(;m<16;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(n.flags=v,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(D[0]=255&v,D[1]=v>>>8&255,n.check=o(n.check,D,2,0)),v=0,m=0,n.mode=3;case 3:for(;m<32;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}n.head&&(n.head.time=v),512&n.flags&&(D[0]=255&v,D[1]=v>>>8&255,D[2]=v>>>16&255,D[3]=v>>>24&255,n.check=o(n.check,D,4,0)),v=0,m=0,n.mode=4;case 4:for(;m<16;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(D[0]=255&v,D[1]=v>>>8&255,n.check=o(n.check,D,2,0)),v=0,m=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(D[0]=255&v,D[1]=v>>>8&255,n.check=o(n.check,D,2,0)),v=0,m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>d&&(w=d),w&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,h,w,O)),512&n.flags&&(n.check=o(n.check,c,w,h)),d-=w,h+=w,n.length-=w),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break t;w=0;do{O=c[h+w++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&w<d);if(512&n.flags&&(n.check=o(n.check,c,w,h)),d-=w,h+=w,O)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break t;w=0;do{O=c[h+w++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&w<d);if(512&n.flags&&(n.check=o(n.check,c,w,h)),d-=w,h+=w,O)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(v!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}v=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}t.adler=n.check=u(v),v=0,m=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=v,n.bits=m,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){v>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}switch(n.last=1&v,m-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===e){v>>>=2,m-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}v>>>=2,m-=2;break;case 14:for(v>>>=7&m,m-=7&m;m<32;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,v=0,m=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(w=n.length){if(w>d&&(w=d),w>p&&(w=p),0===w)break t;r.arraySet(l,c,h,w,f),d-=w,h+=w,p-=w,f+=w,n.length-=w;break}n.mode=12;break;case 17:for(;m<14;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(n.nlen=257+(31&v),m-=5,n.ndist=1+(31&(v>>>=5)),m-=5,n.ncode=4+(15&(v>>>=5)),v>>>=4,m-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}n.lens[L[n.have++]]=7&v,v>>>=3,m-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R=s(0,n.lens,0,19,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,R){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;C=(M=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,I=65535&M,!((S=M>>>24)<=m);){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(I<16)v>>>=S,m-=S,n.lens[n.have++]=I;else{if(16===I){for(N=S+2;m<N;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(v>>>=S,m-=S,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],w=3+(3&v),v>>>=2,m-=2}else if(17===I){for(N=S+3;m<N;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}m-=S,O=0,w=3+(7&(v>>>=S)),v>>>=3,m-=3}else{for(N=S+7;m<N;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}m-=S,O=0,w=11+(127&(v>>>=S)),v>>>=7,m-=7}if(n.have+w>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,P={bits:n.lenbits}),n.lenbits=P.bits,R){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P={bits:n.distbits}),n.distbits=P.bits,R){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(d>=6&&p>=258){t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=v,n.bits=m,a(t,_),f=t.next_out,l=t.output,p=t.avail_out,h=t.next_in,c=t.input,d=t.avail_in,v=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;C=(M=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,I=65535&M,!((S=M>>>24)<=m);){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(C&&0==(240&C)){for(T=S,x=C,A=I;C=(M=n.lencode[A+((v&(1<<T+x)-1)>>T)])>>>16&255,I=65535&M,!(T+(S=M>>>24)<=m);){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}v>>>=T,m-=T,n.back+=T}if(v>>>=S,m-=S,n.back+=S,n.length=I,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(N=n.extra;m<N;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;C=(M=n.distcode[v&(1<<n.distbits)-1])>>>16&255,I=65535&M,!((S=M>>>24)<=m);){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(0==(240&C)){for(T=S,x=C,A=I;C=(M=n.distcode[A+((v&(1<<T+x)-1)>>T)])>>>16&255,I=65535&M,!(T+(S=M>>>24)<=m);){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}v>>>=T,m-=T,n.back+=T}if(v>>>=S,m-=S,n.back+=S,64&C){t.msg="invalid distance code",n.mode=30;break}n.offset=I,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(N=n.extra;m<N;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break t;if(n.offset>(w=_-p)){if((w=n.offset-w)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}k=w>n.wnext?n.wsize-(w-=n.wnext):n.wnext-w,w>n.length&&(w=n.length),E=n.window}else E=l,k=f-n.offset,w=n.length;w>p&&(w=p),p-=w,n.length-=w;do{l[f++]=E[k++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===p)break t;l[f++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===d)break t;d--,v|=c[h++]<<m,m+=8}if(t.total_out+=_-=p,n.total+=_,_&&(t.adler=n.check=n.flags?o(n.check,l,_,f-_):i(n.check,l,_,f-_)),_=p,(n.flags?v:u(v))!==n.check){t.msg="incorrect data check",n.mode=30;break}v=0,m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===d)break t;d--,v+=c[h++]<<m,m+=8}if(v!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}v=0,m=0}n.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=p,t.next_in=h,t.avail_in=d,n.hold=v,n.bits=m,(n.wsize||_!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&y(t,t.output,t.next_out,_-t.avail_out)?(n.mode=31,-4):(_-=t.avail_out,t.total_in+=b-=t.avail_in,t.total_out+=_,n.total+=_,n.wrap&&_&&(t.adler=n.check=n.flags?o(n.check,l,_,t.next_out-_):i(n.check,l,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===_||4===e)&&0===R&&(R=-5),R)},n.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,e,r,0)!==n.check?-3:y(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,u,c,l,h,f){var d,p,v,m,g,y,b,_,w,k=f.bits,E=0,S=0,C=0,I=0,T=0,x=0,A=0,O=0,R=0,P=0,N=null,M=0,D=new r.Buf16(16),L=new r.Buf16(16),j=null,F=0;for(E=0;E<=15;E++)D[E]=0;for(S=0;S<u;S++)D[e[n+S]]++;for(T=k,I=15;I>=1&&0===D[I];I--);if(T>I&&(T=I),0===I)return c[l++]=20971520,c[l++]=20971520,f.bits=1,0;for(C=1;C<I&&0===D[C];C++);for(T<C&&(T=C),O=1,E=1;E<=15;E++)if(O<<=1,(O-=D[E])<0)return-1;if(O>0&&(0===t||1!==I))return-1;for(L[1]=0,E=1;E<15;E++)L[E+1]=L[E]+D[E];for(S=0;S<u;S++)0!==e[n+S]&&(h[L[e[n+S]]++]=S);if(0===t?(N=j=h,y=19):1===t?(N=i,M-=257,j=o,F-=257,y=256):(N=a,j=s,y=-1),P=0,S=0,E=C,g=l,x=T,A=0,v=-1,m=(R=1<<T)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=E-A,h[S]<y?(_=0,w=h[S]):h[S]>y?(_=j[F+h[S]],w=N[M+h[S]]):(_=96,w=0),d=1<<E-A,C=p=1<<x;do{c[g+(P>>A)+(p-=d)]=b<<24|_<<16|w|0}while(0!==p);for(d=1<<E-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,S++,0==--D[E]){if(E===I)break;E=e[n+h[S]]}if(E>T&&(P&m)!==v){for(0===A&&(A=T),g+=C,O=1<<(x=E-A);x+A<I&&!((O-=D[x+A])<=0);)x++,O<<=1;if(R+=1<<x,1===t&&R>852||2===t&&R>592)return 1;c[v=P&m]=T<<24|x<<16|g-l|0}}return 0!==P&&(c[g+P]=E-A<<24|64<<16|0),f.bits=T,0}},{"../utils/common":36}],44:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(t,e,n){"use strict";var r=t("../utils/common");function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var l=new Array(60);i(l);var h=new Array(512);i(h);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,v,m,g=new Array(30);function y(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function k(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function E(t,e,n){k(t,n[2*e],n[2*e+1])}function S(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function C(t,e,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=S(o[s]++,s))}}function I(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function T(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function x(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function A(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&x(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!x(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function O(t,e,n){var r,i,s,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?E(t,i,e):(E(t,(s=f[i])+256+1,e),0!==(u=o[s])&&k(t,i-=d[s],u),E(t,s=_(--r),n),0!==(u=a[s])&&k(t,r-=g[s],u))}while(c<t.last_lit);E(t,256,e)}function R(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)A(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,A(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,v++),u[2*r+1]=o,r>c||(t.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),t.opt_len+=(s=u[2*r])*(o+a),h&&(t.static_len+=s*(l[2*r+1]+a)));if(0!==v){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),C(o,c,t.bl_count)}function P(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function N(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)do{E(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(E(t,i,t.bl_tree),s--),E(t,16,t.bl_tree),k(t,s-3,2)):s<=10?(E(t,17,t.bl_tree),k(t,s-3,3)):(E(t,18,t.bl_tree),k(t,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}i(g);var M=!1;function D(t,e,n,i){k(t,0+(i?1:0),3),function(t,e,n,i){T(t),w(t,n),w(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){M||(function(){var t,e,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<o[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,t=0;t<1<<a[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,t=0;t<1<<a[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(C(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=S(t,5);p=new y(c,o,257,286,15),v=new y(l,a,0,30,15),m=new y(new Array(0),s,0,19,7)}(),M=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,v),t.bl_desc=new b(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,I(t)},n._tr_stored_block=D,n._tr_flush_block=function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),R(t,t.l_desc),R(t,t.d_desc),a=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(o=t.static_len+3+7>>>3)<=(i=t.opt_len+3+7>>>3)&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?D(t,e,n,r):4===t.strategy||o===i?(k(t,2+(r?1:0),3),O(t,c,l)):(k(t,4+(r?1:0),3),function(t,e,n,r){var i;for(k(t,e-257,5),k(t,n-1,5),k(t,r-4,4),i=0;i<r;i++)k(t,t.bl_tree[2*u[i]+1],3);N(t,t.dyn_ltree,e-1),N(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),O(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&T(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){k(t,2,3),E(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":36}],46:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],47:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],48:[function(t,e,n){(function(e){"use strict";var r=t("base64-js"),i=t("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return Object.setPrototypeOf(n,e.prototype),n}function e(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return s(t,e,n)}function s(t,n,r){if("string"==typeof t)return function(t,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|f(t,n),i=a(r),o=i.write(t,n);return o!==r&&(i=i.slice(0,o)),i}(t,n);if(ArrayBuffer.isView(t))return l(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(F(t,ArrayBuffer)||t&&F(t.buffer,ArrayBuffer))return function(t,n,r){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Object.setPrototypeOf(i,e.prototype),i}(t,n,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return e.from(i,n,r);var o=function(t){if(e.isBuffer(t)){var n=0|h(t.length),r=a(n);return 0===r.length||t.copy(r,0,0,n),r}return void 0!==t.length?"number"!=typeof t.length||U(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return e.from(t[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return u(t),a(t<0?0:0|h(t))}function l(t){for(var e=t.length<0?0:0|h(t.length),n=a(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function h(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function f(t,n){if(e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(t).length;default:if(o)return i?-1:D(t).length;n=(""+n).toLowerCase(),o=!0}}function d(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function p(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,n,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:m(t,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):m(t,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(U(s))return a;t[n+a]=s}return a}function y(t,e,n,r){return j(D(e,t.length-n),t,n,r)}function b(t,e,n,r){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return j(L(e),t,n,r)}function k(t,e,n,r){return j(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function E(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=t[i+2],s=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B[t[o]];return i}function x(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function O(t,n,r,i,o,a){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,o){return e=+e,n>>>=0,o||R(t,0,n,8),i.write(t,e,n,r,52,8),n+8}n.Buffer=e,n.SlowBuffer=function(t){return+t!=t&&(t=0),e.alloc(+t)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,(e.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(t,e,n){return s(t,e,n)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array),e.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},e.allocUnsafe=function(t){return c(t)},e.allocUnsafeSlow=function(t){return c(t)},e.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==e.prototype},e.compare=function(t,n){if(F(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),F(n,Uint8Array)&&(n=e.from(n,n.offset,n.byteLength)),!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var r=t.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},e.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var a=t[r];if(F(a,Uint8Array)&&(a=e.from(a)),!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},e.byteLength=f,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},e.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},e.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},e.prototype.toLocaleString=e.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):d.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},o&&(e.prototype[o]=e.prototype.inspect),e.prototype.compare=function(t,n,r,i,o){if(F(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),!e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===t)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(r>>>=0)-(n>>>=0),u=Math.min(a,s),c=this.slice(i,o),l=t.slice(n,r),h=0;h<u;++h)if(c[h]!==l[h]){a=c[h],s=l[h];break}return a<s?-1:s<a?1:0},e.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},e.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},e.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},e.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e.prototype.slice=function(t,n){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t);var i=this.subarray(t,n);return Object.setPrototypeOf(i,e.prototype),i},e.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},e.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},e.prototype.readUInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),this[t]},e.prototype.readUInt16LE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]|this[t+1]<<8},e.prototype.readUInt16BE=function(t,e){return t>>>=0,e||A(t,2,this.length),this[t]<<8|this[t+1]},e.prototype.readUInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},e.prototype.readUInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},e.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},e.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||A(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},e.prototype.readInt8=function(t,e){return t>>>=0,e||A(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},e.prototype.readInt16LE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(t,e){t>>>=0,e||A(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},e.prototype.readInt32BE=function(t,e){return t>>>=0,e||A(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},e.prototype.readFloatLE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!0,23,4)},e.prototype.readFloatBE=function(t,e){return t>>>=0,e||A(t,4,this.length),i.read(this,t,!1,23,4)},e.prototype.readDoubleLE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!0,52,8)},e.prototype.readDoubleBE=function(t,e){return t>>>=0,e||A(t,8,this.length),i.read(this,t,!1,52,8)},e.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},e.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||O(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},e.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,255,0),this[e]=255&t,e+1},e.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},e.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},e.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},e.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},e.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},e.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},e.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},e.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},e.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},e.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},e.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},e.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},e.prototype.copy=function(t,n,r,i){if(!e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o=i-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===t&&r<n&&n<i)for(var a=o-1;a>=0;--a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),n);return o},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var o=t.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=n;a<r;++a)this[a]=t;else{var s=e.isBuffer(t)?t:e.from(t,i),u=s.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var M=/[^+/0-9A-Za-z-_]/g;function D(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function L(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function F(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function U(t){return t!=t}var B=function(){for(var t=new Array(256),e=0;e<16;++e)for(var n=16*e,r=0;r<16;++r)t[n+r]="0123456789abcdef"[e]+"0123456789abcdef"[r];return t}()}).call(this,t("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(t,e,n){var r=t("buffer").Buffer;e.exports=function(t,e){if(r.isBuffer(t)&&r.isBuffer(e)){if("function"==typeof t.equals)return t.equals(e);if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}},{buffer:48}],50:[function(t,e,n){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(t,e,n){(function(t){function e(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===e(t)},n.isObject=function(t){return"object"==typeof t&&null!==t},n.isDate=function(t){return"[object Date]"===e(t)},n.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(t,e,n){var r=Object.create||function(t){var e=function(){};return e.prototype=t,new e},i=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n},o=Function.prototype.bind||function(t){var e=this;return function(){return e.apply(t,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(k){s=!1}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n){if(e)t.call(n);else for(var r=t.length,i=w(t,r),o=0;o<r;++o)i[o].call(n)}function f(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=w(t,i),a=0;a<i;++a)o[a].call(n,r)}function d(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,a=w(t,o),s=0;s<o;++s)a[s].call(n,r,i)}function p(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var a=t.length,s=w(t,a),u=0;u<a;++u)s[u].call(n,r,i,o)}function v(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=w(t,i),a=0;a<i;++a)o[a].apply(n,r)}function m(t,e,n,i){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=t._events)?(a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),s=a[e]):(a=t._events=r(null),t._eventsCount=0),s){if("function"==typeof s?s=a[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=l(t))&&o>0&&s.length>o){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else s=a[e]=n,++t._eventsCount;return t}function g(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function y(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=o.call(g,r);return i.listener=n,r.wrapFn=i,i}function b(t,e,n){var r=t._events;if(!r)return[];var i=r[e];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):w(i,i.length):[]}function _(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function w(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||t!=t)throw new TypeError('"defaultMaxListeners" must be a positive number');u=t}}):a.defaultMaxListeners=u,a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){var e,n,r,i,o,a,s="error"===t;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var u=new Error('Unhandled "error" event. ('+e+")");throw u.context=e,u}if(!(n=a[t]))return!1;var c="function"==typeof n;switch(r=arguments.length){case 1:h(n,c,this);break;case 2:f(n,c,this,arguments[1]);break;case 3:d(n,c,this,arguments[1],arguments[2]);break;case 4:p(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];v(n,c,this,i)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return m(this,t,e,!1)},a.prototype.prependListener=function(t,e){return m(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,y(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,y(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,i,o,a,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=r(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}(n,o),1===n.length&&(i[t]=n[0]),i.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.removeAllListeners=function(t){var e,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=r(null):delete n[t]),this;if(0===arguments.length){var a,s=i(n);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)for(o=e.length-1;o>=0;o--)this.removeListener(t,e[o]);return this},a.prototype.listeners=function(t){return b(this,t,!0)},a.prototype.rawListeners=function(t){return b(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):_.call(t,e)},a.prototype.listenerCount=_,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],53:[function(t,e,n){var r=t("./lib/parser");e.exports={create:function(e,n){if(e instanceof(n=n||(0,eval)("this")).ArrayBuffer){var i=t("./lib/dom-bufferstream");return new r(new i(e,0,e.byteLength,!0,n))}var o=t("./lib/bufferstream");return new r(new o(e,0,e.length,!0))}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(t,e,n){function r(t,e,n,r){this.buffer=t,this.offset=e||0,this.endPosition=this.offset+(n="number"==typeof n?n:t.length),this.setBigEndian(r)}r.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var e=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(e){return new r(t.buffer,e=(e||0)+this.offset,t.endPosition-e,t.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(t,e){return new r(this.buffer,this.offset+t,e="number"==typeof e?e:this.endPosition-(this.offset+t),this.bigEndian)}},e.exports=r},{}],55:[function(t,e,n){function r(t){return parseInt(t,10)}function i(t,e){return t=t.map(r),e=e.map(r),Date.UTC(t[0],t[1]-1,t[2],e[0],e[1],e[2],0)/1e3}function o(t){var e=t.substr(0,10).split("-"),n=t.substr(11,8).split(":"),o=t.substr(19,6).split(":").map(r),a=3600*o[0]+60*o[1],s=i(e,n);if("number"==typeof(s-=a)&&!isNaN(s))return s}function a(t){var e=t.split(" "),n=i(e[0].split(":"),e[1].split(":"));if("number"==typeof n&&!isNaN(n))return n}e.exports={parseDateWithSpecFormat:a,parseDateWithTimezoneFormat:o,parseExifDate:function(t){var e=19===t.length&&":"===t.charAt(4);return 25===t.length&&"T"===t.charAt(10)?o(t):e?a(t):void 0}}},{}],56:[function(t,e,n){function r(t,e,n,r,i,o){this.global=i,this.arrayBuffer=t.slice(e=e||0,e+(n=n||t.byteLength-e)),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(r),this.offset=0,this.parentOffset=(o||0)+e}r.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return e=String.fromCharCode.apply(null,new this.global.Uint8Array(e)),this.offset+=t,e},mark:function(){var t=this;return{openWithOffset:function(e){return new r(t.arrayBuffer,e=(e||0)+this.offset,t.arrayBuffer.byteLength-e,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(t,e){return new r(this.arrayBuffer,this.offset+t,e="number"==typeof e?e:this.arrayBuffer.byteLength-(this.offset+t),!this.littleEndian,this.global,this.parentOffset)}},e.exports=r},{}],57:[function(t,e,n){e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(t,e,n){function r(t,e){switch(t){case 1:return e.nextUInt8();case 3:return e.nextUInt16();case 4:return e.nextUInt32();case 5:return[e.nextUInt32(),e.nextUInt32()];case 6:return e.nextInt8();case 8:return e.nextUInt16();case 9:return e.nextUInt32();case 10:return[e.nextInt32(),e.nextInt32()];case 11:return e.nextFloat();case 12:return e.nextDouble();default:throw new Error("Invalid format while decoding: "+t)}}function i(t,e){var n,i,o=e.nextUInt16(),a=e.nextUInt16(),s=function(t){switch(t){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(a),u=e.nextUInt32(),c=s*u;if(c>4&&(e=t.openWithOffset(e.nextUInt32())),2===a){var l=(n=e.nextString(u)).indexOf("\0");-1!==l&&(n=n.substr(0,l))}else if(7===a)n=e.nextBuffer(u);else if(0!==a)for(n=[],i=0;i<u;++i)n.push(r(a,e));return c<4&&e.skip(4-c),[o,n,a]}function o(t,e,n){var r,o,a=e.nextUInt16();for(o=0;o<a;++o)n((r=i(t,e))[0],r[1],r[2])}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(t,e){var n,r,i,a;try{n=function(t){if("Exif\0\0"!==t.nextString(6))throw new Error("Invalid EXIF header");var e=t.mark(),n=t.nextUInt16();if(18761===n)t.setBigEndian(!1);else{if(19789!==n)throw new Error("Invalid TIFF header");t.setBigEndian(!0)}if(42!==t.nextUInt16())throw new Error("Invalid TIFF data");return e}(t)}catch(v){return!1}var s=n.openWithOffset(t.nextUInt32()),u=this.IFD0;o(n,s,(function(t,n,o){switch(t){case 34853:i=n[0];break;case 34665:r=n[0];break;default:e(u,t,n,o)}}));var c=s.nextUInt32();if(0!==c){var l=n.openWithOffset(c);o(n,l,e.bind(null,this.IFD1))}if(i){var h=n.openWithOffset(i);o(n,h,e.bind(null,this.GPSIFD))}if(r){var f=n.openWithOffset(r),d=this.InteropIFD;o(n,f,(function(t,n,r){40965===t?a=n[0]:e(d,t,n,r)}))}if(a){var p=n.openWithOffset(a);o(n,p,e.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(t,e,n){e.exports={parseSections:function(t,e){var n,r;for(t.setBigEndian(!0);t.remainingLength()>0&&218!==r;){if(255!==t.nextUInt8())throw new Error("Invalid JPEG section offset");n=(r=t.nextUInt8())>=208&&r<=217||218===r?0:t.nextUInt16()-2,e(r,t.branch(0,n)),t.skip(n)}},getSizeFromSOFSection:function(t){return t.skip(1),{height:t.nextUInt16(),width:t.nextUInt16()}},getSectionName:function(t){var e,n;switch(t){case 216:e="SOI";break;case 196:e="DHT";break;case 219:e="DQT";break;case 221:e="DRI";break;case 218:e="SOS";break;case 254:e="COM";break;case 217:e="EOI";break;default:t>=224&&t<=239?(e="APP",n=t-224):t>=192&&t<=207&&196!==t&&200!==t&&204!==t?(e="SOF",n=t-192):t>=208&&t<=215&&(e="RST",n=t-208)}var r={name:e};return"number"==typeof n&&(r.index=n),r}}},{}],60:[function(t,e,n){var r=t("./jpeg"),i=t("./exif"),o=t("./simplify");function a(t,e,n,r,i,o,a){this.startMarker=t,this.tags=e,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=i,this.thumbnailType=o,this.app1Offset=a}function s(t){this.stream=t,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}a.prototype={hasThumbnail:function(t){return!(!this.thumbnailOffset||!this.thumbnailLength||"string"==typeof t&&("image/jpeg"===t.toLowerCase().trim()?6!==this.thumbnailType:"image/tiff"!==t.toLowerCase().trim()||1!==this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var t,e=this._getThumbnailStream();return r.parseSections(e,(function(e,n){"SOF"===r.getSectionName(e).name&&(t=r.getSizeFromSOFSection(n))})),t}},s.prototype={enableBinaryFields:function(t){return this.flags.readBinaryTags=!!t,this},enablePointers:function(t){return this.flags.hidePointers=!t,this},enableTagNames:function(t){return this.flags.resolveTagNames=!!t,this},enableImageSize:function(t){return this.flags.imageSize=!!t,this},enableReturnTags:function(t){return this.flags.returnTags=!!t,this},enableSimpleValues:function(t){return this.flags.simplifyValues=!!t,this},parse:function(){var e,n,s,u,c,l,h,f,d,p=this.stream.mark(),v=p.openWithOffset(0),m=this.flags;return m.resolveTagNames&&(h=t("./exif-tags")),m.resolveTagNames?(e={},f=function(t){return e[t.name]},d=function(t,n){e[t.name]=n}):(e=[],f=function(t){var n;for(n=0;n<e.length;++n)if(e[n].type===t.type&&e[n].section===t.section)return e.value},d=function(t,n){var r;for(r=0;r<e.length;++r)if(e[r].type===t.type&&e[r].section===t.section)return void(e.value=n)}),r.parseSections(v,(function(t,a){var f=a.offsetFrom(p);225===t?i.parseTags(a,(function(t,n,r,a){if(m.readBinaryTags||7!==a){if(513===n){if(s=r[0],m.hidePointers)return}else if(514===n){if(u=r[0],m.hidePointers)return}else if(259===n&&(c=r[0],m.hidePointers))return;if(m.returnTags)if(m.simplifyValues&&(r=o.simplifyValue(r,a)),m.resolveTagNames){var l=(t===i.GPSIFD?h.gps:h.exif)[n];l||(l=h.exif[n]),e.hasOwnProperty(l)||(e[l]=r)}else e.push({section:t,type:n,value:r})}}))&&(l=f):m.imageSize&&"SOF"===r.getSectionName(t).name&&(n=r.getSizeFromSOFSection(a))})),m.simplifyValues&&(o.castDegreeValues(f,d),o.castDateValues(f,d)),new a(p,e,n,s,u,c,l)}},e.exports=s},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(t,e,n){var r=t("./exif"),i=t("./date"),o=[{section:r.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:r.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],a=[{section:r.SubIFD,type:306,name:"ModifyDate"},{section:r.SubIFD,type:36867,name:"DateTimeOriginal"},{section:r.SubIFD,type:36868,name:"CreateDate"},{section:r.SubIFD,type:306,name:"ModifyDate"}];e.exports={castDegreeValues:function(t,e){o.forEach((function(n){var r=t(n);if(r){var i=t({section:n.section,type:n.refType,name:n.refName});e(n,(r[0]+r[1]/60+r[2]/3600)*(i===n.posVal?1:-1))}}))},castDateValues:function(t,e){a.forEach((function(n){var r=t(n);if(r){var o=i.parseExifDate(r);void 0!==o&&e(n,o)}}))},simplifyValue:function(t,e){return Array.isArray(t)&&1===(t=t.map((function(t){return 10===e||5===e?t[0]/t[1]:t}))).length&&(t=t[0]),t}}},{"./date":55,"./exif":58}],62:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/toConsumableArray")),i=function(t){return(0,r.default)(t).map((function(t){return t.charCodeAt(0)}))},o=i("META-INF/mozilla.rsa"),a=i("[Content_Types].xml"),s=i("_rels/.rels");e.exports=function(t){var e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;var n=function(t,n){n=Object.assign({offset:0},n);for(var r=0;r<t.length;r++)if(n.mask){if(t[r]!==(n.mask[r]&e[r+n.offset]))return!1}else if(t[r]!==e[r+n.offset])return!1;return!0},u=function(t,e){return n(i(t),e)};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(o,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(u("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(u("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(u("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.findIndex((function(t,n,r){return n>=e&&80===r[n]&&75===r[n+1]&&3===r[n+2]&&4===r[n+3]}))},l=0,h=!1,f=null;do{var d=l+30;if(h||(h=n(a,{offset:d})||n(s,{offset:d})),f||(u("word/",{offset:d})?f={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:u("ppt/",{offset:d})?f={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:u("xl/",{offset:d})&&(f={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),h&&f)return f;l=c(e,d)}while(l>=0);if(f)return f}if(n([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([51,103,112,53])||n([0,0,0])&&n([102,116,121,112],{offset:4})&&(n([109,112,52,49],{offset:8})||n([109,112,52,50],{offset:8})||n([105,115,111,109],{offset:8})||n([105,115,111,50],{offset:8})||n([109,109,112,52],{offset:8})||n([77,52,86],{offset:8})||n([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){var p=e.subarray(4,4100),v=p.findIndex((function(t,e,n){return 66===n[e]&&130===n[e+1]}));if(-1!==v){var m=v+3,g=function(t){return(0,r.default)(t).every((function(t,e){return p[m+e]===t.charCodeAt(0)}))};if(g("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(g("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var y=0;y<2&&y<e.length-16;y++){if(n([73,68,51],{offset:y})||n([255,226],{offset:y,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([255,228],{offset:y,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,248],{offset:y,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,240],{offset:y,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(n([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(n([79,103,103,83]))return n([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:n([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:n([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:n([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:n([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(n([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(n([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(n([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(n([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n([37,33]))return{ext:"ps",mime:"application/postscript"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n([77,83,67,70])||n([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(n([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(n([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n([0,0,0,12,106,80,32,32,13,10,135,10])){if(n([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(n([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(n([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(n([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(n([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(u("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([102,116,121,112],{offset:4})){if(n([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(n([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(n([104,101,105,99],{offset:8})||n([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(n([104,101,118,99],{offset:8})||n([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return n([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(t,e,n){"use strict";var r=t("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(t,e,n){for(var r=0,i=t.length;r<i;r++)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))},s=function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)},u=function(t,e,n){for(var r in t)o.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))};e.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(t)?a(t,e,o):"string"==typeof t?s(t,e,o):u(t,e,o)}},{"is-callable":77}],64:[function(t,e,n){"use strict";function r(t,e,n,r){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,u=i+1,c=(1<<u)-1,l=0,h=0,f=0,d=t[e++],p=new Int32Array(4096),v=null;;){for(;l<16&&0!==d;)h|=t[e++]<<l,l+=8,1===d?d=t[e++]:--d;if(l<u)break;var m=h&c;if(h>>=u,l-=u,m!==o){if(m===a)break;for(var g=m<s?m:v,y=0,b=g;b>o;)b=p[b]>>8,++y;var _=b;if(f+y+(g!==m?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[f++]=_;var w=f+=y;for(g!==m&&(n[f++]=_),b=g;y--;)n[--w]=255&(b=p[b]),b>>=8;null!==v&&s<4096&&(p[s++]=v<<8|_,s>=c+1&&u<12&&(++u,c=c<<1|1)),v=m}else s=a+1,c=(1<<(u=i+1))-1,v=null}return f!==r&&console.log("Warning, gif stream shorter than expected."),n}try{n.GifWriter=function(t,e,n,r){var i=0,o=void 0===(r=void 0===r?{}:r).loop?null:r.loop,a=void 0===r.palette?null:r.palette;if(e<=0||n<=0||e>65535||n>65535)throw new Error("Width/Height invalid.");function s(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[i++]=71,t[i++]=73,t[i++]=70,t[i++]=56,t[i++]=57,t[i++]=97;var u=0,c=0;if(null!==a){for(var l=s(a);l>>=1;)++u;if(l=1<<u,--u,void 0!==r.background){if((c=r.background)>=l)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=(null!==a?128:0)|u,t[i++]=c,t[i++]=0,null!==a)for(var h=0,f=a.length;h<f;++h){var d=a[h];t[i++]=d>>16&255,t[i++]=d>>8&255,t[i++]=255&d}if(null!==o){if(o<0||o>65535)throw new Error("Loop count invalid.");t[i++]=33,t[i++]=255,t[i++]=11,t[i++]=78,t[i++]=69,t[i++]=84,t[i++]=83,t[i++]=67,t[i++]=65,t[i++]=80,t[i++]=69,t[i++]=50,t[i++]=46,t[i++]=48,t[i++]=3,t[i++]=1,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=0}var p=!1;this.addFrame=function(e,n,r,o,u,c){if(!0===p&&(--i,p=!1),c=void 0===c?{}:c,e<0||n<0||e>65535||n>65535)throw new Error("x/y invalid.");if(r<=0||o<=0||r>65535||o>65535)throw new Error("Width/Height invalid.");if(u.length<r*o)throw new Error("Not enough pixels for the frame size.");var l=!0,h=c.palette;if(null==h&&(l=!1,h=a),null==h)throw new Error("Must supply either a local or global palette.");for(var f=s(h),d=0;f>>=1;)++d;f=1<<d;var v=void 0===c.delay?0:c.delay,m=void 0===c.disposal?0:c.disposal;if(m<0||m>3)throw new Error("Disposal out of range.");var g=!1,y=0;if(null!=c.transparent&&(g=!0,(y=c.transparent)<0||y>=f))throw new Error("Transparent color index.");if((0!==m||g||0!==v)&&(t[i++]=33,t[i++]=249,t[i++]=4,t[i++]=m<<2|(!0===g?1:0),t[i++]=255&v,t[i++]=v>>8&255,t[i++]=y,t[i++]=0),t[i++]=44,t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=!0===l?128|d-1:0,!0===l)for(var b=0,_=h.length;b<_;++b){var w=h[b];t[i++]=w>>16&255,t[i++]=w>>8&255,t[i++]=255&w}return i=function(t,e,n,r){t[e++]=n;var i=e++,o=1<<n,a=o-1,s=o+1,u=s+1,c=n+1,l=0,h=0;function f(n){for(;l>=n;)t[e++]=255&h,h>>=8,l-=8,e===i+256&&(t[i]=255,i=e++)}function d(t){h|=t<<l,l+=c,f(8)}var p=r[0]&a,v={};d(o);for(var m=1,g=r.length;m<g;++m){var y=r[m]&a,b=p<<8|y,_=v[b];if(void 0===_){for(h|=p<<l,l+=c;l>=8;)t[e++]=255&h,h>>=8,l-=8,e===i+256&&(t[i]=255,i=e++);4096===u?(d(o),u=s+1,c=n+1,v={}):(u>=1<<c&&++c,v[b]=u++),p=y}else p=_}return d(p),d(s),f(1),i+1===e?t[i]=0:(t[i]=e-i-1,t[e++]=0),e}(t,i,d<2?2:d,u)},this.end=function(){return!1===p&&(t[i++]=59,p=!0),i},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(t){i=t}},n.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,o=t[e++],a=1<<1+(7&o);e++,e++;var s=null,u=null;o>>7&&(s=e,u=a,e+=3*a);var c=!0,l=[],h=0,f=null,d=0,p=null;for(this.width=n,this.height=i;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],0==(1&v)&&(f=null),d=v>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,_=t[e++],w=_>>6&1,k=1<<1+(7&_),E=s,S=u,C=!1;_>>7&&(C=!0,E=e,S=k,e+=3*k);var I=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(0===T)break;e+=T}l.push({x:m,y:g,width:y,height:b,has_local_palette:C,palette_offset:E,palette_size:S,data_offset:I,data_length:e-I,transparent_index:f,interlaced:!!w,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=l.length)throw new Error("Frame index out of range.");return l[t]},this.decodeAndBlitFrameBGRA=function(e,i){var o=this.frameInfo(e),a=o.width*o.height,s=new Uint8Array(a);r(t,o.data_offset,s,a);var u=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,h=n-l,f=l,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),v=d,m=4*h;!0===o.interlaced&&(m+=4*n*7);for(var g=8,y=0,b=s.length;y<b;++y){var _=s[y];if(0===f&&(f=l,(v+=m)>=p&&(m=4*h+4*n*(g-1),v=d+(l+h)*(g<<1),g>>=1)),_===c)v+=4;else{var w=t[u+3*_],k=t[u+3*_+1];i[v++]=t[u+3*_+2],i[v++]=k,i[v++]=w,i[v++]=255}--f}},this.decodeAndBlitFrameRGBA=function(e,i){var o=this.frameInfo(e),a=o.width*o.height,s=new Uint8Array(a);r(t,o.data_offset,s,a);var u=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var l=o.width,h=n-l,f=l,d=4*(o.y*n+o.x),p=4*((o.y+o.height)*n+o.x),v=d,m=4*h;!0===o.interlaced&&(m+=4*n*7);for(var g=8,y=0,b=s.length;y<b;++y){var _=s[y];if(0===f&&(f=l,(v+=m)>=p&&(m=4*h+4*n*(g-1),v=d+(l+h)*(g<<1),g>>=1)),_===c)v+=4;else{var w=t[u+3*_+1],k=t[u+3*_+2];i[v++]=t[u+3*_],i[v++]=w,i[v++]=k,i[v++]=255}--f}}}}catch(i){}},{}],65:[function(t,e,n){(function(t){"use strict";var n=function(){function e(){if(_classCallCheck(this,e),0===arguments.length)throw new Error("constructor requires parameters");var n=arguments.length<=0?void 0:arguments[0];if(null!==n&&"object"==typeof n)if(n instanceof e){var r=n.bitmap;this.bitmap={width:r.width,height:r.height,data:new t(r.width*r.height*4)},r.data.copy(this.bitmap.data)}else{if(!(n.width&&n.height&&n.data))throw new Error("unrecognized constructor parameters");this.bitmap=n}else{if("number"!=typeof n||"number"!=typeof(arguments.length<=1?void 0:arguments[1]))throw new Error("unrecognized constructor parameters");var i=n,o=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2];this.bitmap={width:i,height:o},t.isBuffer(a)?this.bitmap.data=a:(this.bitmap.data=new t(i*o*4),"number"==typeof a&&this.fillRGBA(a))}}return _createClass(e,[{key:"blit",value:function(t,e,n,r,i,o,a){if(r+o>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(e+o>t.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(i+a>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(n+a>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");for(var s=this.bitmap.data,u=t.bitmap.data,c=4*this.bitmap.width,l=4*t.bitmap.width,h=4*o,f=i*c+4*r,d=n*l+4*e;--a>=0;)s.copy(u,d,f,f+h),f+=c,d+=l;return this}},{key:"fillRGBA",value:function(t){for(var e=this.bitmap.data,n=4*this.bitmap.height,r=0;r<n;)e.writeUInt32BE(t,r),r+=4;for(;r<e.length;)e.copy(e,r,0,n),r+=n;return this}},{key:"getRGBA",value:function(t,e){return this.bitmap.data.readUInt32BE(4*(e*this.bitmap.width+t))}},{key:"getRGBASet",value:function(){for(var t=new Set,e=this.bitmap.data,n=0;n<e.length;n+=4)t.add(e.readUInt32BE(n,!0));return t}},{key:"greyscale",value:function(){var t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){var i=Math.round(.299*t[r]+.587*t[r+1]+.114*t[r+2]);t[r]=i,t[r+1]=i,t[r+2]=i})),this}},{key:"reframe",value:function(t,n,r,i,o){var a,s=t<0?0:t,u=n<0?0:n,c=r+s>this.bitmap.width?this.bitmap.width-s:r,l=i+u>this.bitmap.height?this.bitmap.height-u:i,h=t<0?-t:0,f=n<0?-n:0;if(void 0===o){if(s!==t||u!=n||c!==r||l!==i)throw new GifError("fillRGBA required for this reframing");a=new e(r,i)}else a=new e(r,i,o);return this.blit(a,h,f,s,u,c,l),this.bitmap=a.bitmap,this}},{key:"scale",value:function(e){if(1!==e){if(!Number.isInteger(e)||e<1)throw new Error("the scale must be an integer >= 1");for(var n,r=this.bitmap.width,i=this.bitmap.height,o=r*e*4,a=this.bitmap.data,s=new t(i*o*e),u=0,c=0,l=0;l<i;++l){n=c;for(var h=0;h<r;++h){for(var f=a.readUInt32BE(u,!0),d=0;d<e;++d)s.writeUInt32BE(f,c),c+=4;u+=4}for(var p=1;p<e;++p)s.copy(s,c,n,c),c+=o,n+=o}return this.bitmap={width:r*e,height:i*e,data:s},this}}},{key:"scanAllCoords",value:function(t){for(var e=this.bitmap.width,n=this.bitmap.data.length,r=0,i=0,o=0;o<n;o+=4)t(r,i,o),++r===e&&(r=0,++i)}},{key:"scanAllIndexes",value:function(t){for(var e=this.bitmap.data.length,n=0;n<e;n+=4)t(n)}}]),e}();e.exports=n}).call(this,t("buffer").Buffer)},{buffer:48}],66:[function(t,e,n){"use strict";var r=_createClass((function t(e,n,r){_classCallCheck(this,t),this.width=r.width,this.height=r.height,this.loops=r.loops,this.usesTransparency=r.usesTransparency,this.colorScope=r.colorScope,this.frames=n,this.buffer=e}));r.GlobalColorsPreferred=0,r.GlobalColorsOnly=1,r.LocalColorsOnly=2;var i=function(t){function e(t){var n;return _classCallCheck(this,e),n=_callSuper(this,e,[t]),t instanceof Error&&(n.stack="Gif"+t.stack),n}return _inherits(e,_wrapNativeSuper(Error)),_createClass(e)}();n.Gif=r,n.GifError=i},{}],67:[function(t,e,n){(function(e,r){"use strict";var i,o=t("omggif"),a=t("./gif"),s=a.Gif,u=a.GifError;e.nextTick((function(){i=t("./gifutil")}));var c=t("./gifframe").GifFrame;function l(t,e){var n=t.indexOf(e);return-1===n?null:n}function h(t,e){for(var n,r=0,i=t.length-1;r<=i;)if(t[n=Math.floor((r+i)/2)]>e)i=n-1;else{if(!(t[n]<e))return n;r=n+1}return null}function f(t){var e=t.colors;t.usesTransparency&&e.push(0);for(var n=e.length,r=2;n>r;)r<<=1;e.length=r,e.fill(0,n)}function d(t,e){var n=t.bitmap.width*t.bitmap.height;return n=Math.ceil(n*e/8),100+(n+=Math.ceil(n/255))+768}function p(t){var e=t.indexCount,n=0;for(--e;e;)++n,e>>=1;return n>0?n:1}function v(t,e,n,i,o){if(n.interlaced)throw new u("writing interlaced GIFs is not supported");var a=function(t,e,n){for(var i=n.colors,o=i.length<=8?l:h,a=e.bitmap.data,s=new r(a.length/4),c=i.length,f=0,d=0;f<a.length;){if(0!==a[f+3]){var p=a.readUInt32BE(f,!0)>>8&16777215;s[d]=o(i,p)}else s[d]=c;f+=4,++d}if(n.usesTransparency){if(256===c)throw new u("Frame ".concat(t," already has 256 colorsand so can't use transparency"))}else c=null;return{buffer:s,transparentIndex:c}}(e,n,i),s={delay:n.delayCentisecs,disposal:n.disposalMethod,transparent:a.transparentIndex};o&&(f(i),s.palette=i.colors);try{for(var c,d=t.getOutputBuffer(),p=t.getOutputBufferPosition(),v=!0;v;)if(c=t.addFrame(n.xOffset,n.yOffset,n.bitmap.width,n.bitmap.height,a.buffer,s),v=!1,c>=d.length-1){var m=new r(1.5*d.length);d.copy(m),t.setOutputBuffer(m),t.setOutputBufferPosition(p),d=m,v=!0}return d}catch(g){throw new u(g)}}n.GifCodec=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this._transparentRGB=null,"number"==typeof e.transparentRGB&&0!==e.transparentRGB&&(this._transparentRGBA=256*e.transparentRGB),this._testInitialBufferSize=0}return _createClass(t,[{key:"decodeGif",value:function(t){try{var e;try{e=new o.GifReader(t)}catch(l){throw new u(l)}for(var n=e.numFrames(),r=[],i={width:e.width,height:e.height,loops:e.loopCount(),usesTransparency:!1},a=0;a<n;++a){var c=this._decodeFrame(e,a,i.usesTransparency);r.push(c.frame),c.usesTransparency&&(i.usesTransparency=!0)}return Promise.resolve(new s(t,r,i))}catch(l){return Promise.reject(l)}}},{key:"encodeGif",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(null===t||0===t.length)throw new u("there are no frames");var n=i.getMaxDimensions(t);return(e=Object.assign({},e)).width=n.maxWidth,e.height=n.maxHeight,e.loops=e.loops||0,e.colorScope=e.colorScope||s.GlobalColorsPreferred,Promise.resolve(this._encodeGif(t,e))}catch(r){return Promise.reject(r)}}},{key:"_decodeFrame",value:function(t,e,n){var i,o;try{if(i=t.frameInfo(e),o=new r(t.width*t.height*4),t.decodeAndBlitFrameRGBA(e,o),i.width!==t.width||i.height!==t.height){if(i.y&&(o=o.slice(i.y*t.width*4)),t.width>i.width)for(var a=0;a<i.height;++a)o.copy(o,a*i.width*4,4*(i.x+a*t.width),4*(i.x+a*t.width)+4*i.width);o=o.slice(0,i.width*i.height*4)}}catch(f){throw new u(f)}var s=!1;if(null===this._transparentRGBA){if(!n)for(var l=3;l<o.length;l+=4)0===o[l]&&(s=!0,l=o.length)}else for(var h=3;h<o.length;h+=4)0===o[h]&&(o.writeUInt32BE(this._transparentRGBA,h-3),s=!0);return{frame:new c(i.width,i.height,o,{xOffset:i.x,yOffset:i.y,disposalMethod:i.disposal,interlaced:i.interlaced,delayCentisecs:i.delay}),usesTransparency:s}}},{key:"_encodeGif",value:function(t,e){var n;if(e.colorScope===s.LocalColorsOnly)n=i.getColorInfo(t,0);else if(!(n=i.getColorInfo(t,256)).colors){if(e.colorScope===s.GlobalColorsOnly)throw new u("Too many color indexes for global color table");e.colorScope=s.LocalColorsOnly}return e.usesTransparency=n.usesTransparency,e.colorScope===s.LocalColorsOnly?function(t,e,n,i){var a,c={loop:e.loops},l=new r(2e3);try{a=new o.GifWriter(l,e.width,e.height,c)}catch(f){throw new u(f)}for(var h=0;h<t.length;++h)l=v(a,h,t[h],i[h],!0);return new s(l.slice(0,a.end()),t,e)}(t,e,0,n.palettes):function(t,e,n,i){var a={colors:i.colors.slice(),usesTransparency:i.usesTransparency};f(a);var c,l={palette:a.colors,loop:e.loops},h=new r(2e3);try{c=new o.GifWriter(h,e.width,e.height,l)}catch(p){throw new u(p)}for(var d=0;d<t.length;++d)h=v(c,d,t[d],i,!1);return new s(h.slice(0,c.end()),t,e)}(t,e,0,n)}},{key:"_getSizeEstimateGlobal",value:function(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;var n=968,r=p(t);return e.forEach((function(t){n+=d(t,r)})),n}},{key:"_getSizeEstimateLocal",value:function(t,e){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;for(var n=200,r=0;r<e.length;++r){var i=p(t[r]);n+=d(e[r],i)}return n}}]),t}()}).call(this,t("_process"),t("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(t,e,n){"use strict";var r=t("./bitmapimage");t("./gif");var i=function(t){function e(){var t;_classCallCheck(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(t=_callSuper(this,e,[].concat(i)),i[0]instanceof e){var a=i[0];t.xOffset=a.xOffset,t.yOffset=a.yOffset,t.disposalMethod=a.disposalMethod,t.delayCentisecs=a.delayCentisecs,t.interlaced=a.interlaced}else{var s=i[i.length-1],u={};"object"!=typeof s||s instanceof r||(u=s),t.xOffset=u.xOffset||0,t.yOffset=u.yOffset||0,t.disposalMethod=void 0!==u.disposalMethod?u.disposalMethod:e.DisposeToBackgroundColor,t.delayCentisecs=u.delayCentisecs||8,t.interlaced=u.interlaced||!1}return _possibleConstructorReturn(t)}return _inherits(e,t),_createClass(e,[{key:"getPalette",value:function(){for(var t=new Set,e=this.bitmap.data,n=0,r=!1;n<e.length;){if(0===e[n+3])r=!0;else{var i=e.readUInt32BE(n,!0)>>8&16777215;t.add(i)}n+=4}var o=new Array(t.size),a=t.values();for(n=0;n<o.length;++n)o[n]=a.next().value;o.sort((function(t,e){return t-e}));var s=o.length;return r&&++s,{colors:o,usesTransparency:r,indexCount:s}}}]),e}(r);i.DisposeToAnything=0,i.DisposeNothing=1,i.DisposeToBackgroundColor=2,i.DisposeToPrevious=3,n.GifFrame=i},{"./bitmapimage":65,"./gif":66}],69:[function(t,e,n){(function(e){"use strict";var r=t("fs"),i=t("image-q"),o=t("./bitmapimage"),a=t("./gifframe").GifFrame,s=t("./gif").GifError,u=t("./gifcodec").GifCodec,c=[".jpg",".jpeg",".png",".bmp"],l=new u;function h(t,e,n,r,o){var a=Array.isArray(t)?t:[t];if(o){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(o.ditherAlgorithm)<0)throw new Error("Invalid ditherAlgorithm '".concat(o.ditherAlgorithm,"'"));void 0===o.serpentine&&(o.serpentine=!0),void 0===o.minimumColorDistanceToDither&&(o.minimumColorDistanceToDither=0),void 0===o.calculateErrorLikeGIMP&&(o.calculateErrorLikeGIMP=!1)}var s,u=new i.distance.Euclidean,c=new i.palette[e](u,n,r);s=o?new i.image.ErrorDiffusionArray(u,i.image.ErrorDiffusionArrayKernel[o.ditherAlgorithm],o.serpentine,o.minimumColorDistanceToDither,o.calculateErrorLikeGIMP):new i.image.NearestColor(u);var l=[];a.forEach((function(t){for(var e=t.bitmap.data,n=new ArrayBuffer(e.length),r=new Uint32Array(n),o=0,a=0;o<e.length;o+=4,++a)r[a]=e.readUInt32LE(o,!0);var s=i.utils.PointContainer.fromUint32Array(r,t.bitmap.width,t.bitmap.height);c.sample(s),l.push(s)}));for(var h=c.quantize(),f=0;f<a.length;++f)for(var d=a[f].bitmap.data,p=s.quantize(l[f],h).toUint32Array(),v=0,m=0;v<d.length;v+=4,++m)d.writeUInt32LE(p[m],v)}n.cloneFrames=function(t){var e=[];return t.forEach((function(t){e.push(new a(t))})),e},n.getColorInfo=function(t,e){for(var n=!1,r=[],i=0;i<t.length;++i){var o=t[i].getPalette();if(o.usesTransparency&&(n=!0),o.indexCount>256)throw new s("Frame ".concat(i," uses more than 256 color indexes"));r.push(o)}if(0===e)return{usesTransparency:n,palettes:r};var a=new Set;r.forEach((function(t){t.colors.forEach((function(t){a.add(t)}))}));var u=a.size;if(n&&++u,e&&u>e)return{usesTransparency:n,palettes:r};for(var c=new Array(a.size),l=a.values(),h=0;h<c.length;++h)c[h]=l.next().value;return c.sort((function(t,e){return t-e})),{colors:c,indexCount:u,usesTransparency:n,palettes:r}},n.copyAsJimp=function(t,e){return n.shareAsJimp(t,new o(e))},n.getMaxDimensions=function(t){var e=0,n=0;return t.forEach((function(t){var r=t.xOffset+t.bitmap.width;r>e&&(e=r);var i=t.yOffset+t.bitmap.height;i>n&&(n=i)})),{maxWidth:e,maxHeight:n}},n.quantizeDekker=function(t,e,n){h(t,"NeuQuantFloat",e=e||256,0,n)},n.quantizeSorokin=function(t,e,n,r){var i;switch(e=e||256,n=n||"min-pop"){case"min-pop":i=2;break;case"top-pop":i=1;break;default:throw new Error("Invalid quantizeSorokin histogram '".concat(n,"'"))}h(t,"RGBQuant",e,i,r)},n.quantizeWu=function(t,e,n,r){if(e=e||256,(n=n||5)<1||n>8)throw new Error("Invalid quantization quality");h(t,"WuQuant",e,n,r)},n.read=function(t,n){return n=n||l,e.isBuffer(t)?n.decodeGif(t):(i=t,new Promise((function(t,e){r.readFile(i,(function(n,r){return n?e(n):t(r)}))}))).then((function(t){return n.decodeGif(t)}));var i},n.shareAsJimp=function(t,e){var n=new t(e.bitmap.width,e.bitmap.height,0);return n.bitmap.data=e.bitmap.data,n},n.write=function(t,e,n,i){i=i||l;var o=t.match(/\.[a-zA-Z]+$/);if(null!==o&&c.includes(o[0].toLowerCase()))throw new Error("GIF '".concat(t,"' has an unexpected suffix"));return i.encodeGif(e,n).then((function(e){return function(t,e){return new Promise((function(n,i){r.writeFile(t,e,(function(t){return t?i(t):n()}))}))}(t,e.buffer).then((function(){return e}))}))}}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(t,e,n){"use strict";var r=t("./bitmapimage"),i=t("./gif"),o=i.Gif,a=i.GifError,s=t("./gifcodec").GifCodec,u=t("./gifframe").GifFrame,c=t("./gifutil");e.exports={BitmapImage:r,Gif:o,GifCodec:s,GifFrame:u,GifUtil:c,GifError:a}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(t,e,n){(function(t){var n;n=void 0!==r?r:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],72:[function(t,e,n){var r=t("http"),i=t("url"),o=e.exports;for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=s(t),r.request.call(this,t,e)},o.get=function(t,e){return t=s(t),r.get.call(this,t,e)}},{http:156,url:180}],73:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*v}},{}],74:[function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var r=n(1);e.constants=r;var i=n(3);e.conversion=i;var o=n(12);e.distance=o;var a=n(20);e.palette=a;var s=n(30);e.image=s;var u=n(35);e.quality=u;var c=n(37);e.utils=c},function(t,e,n){"use strict";var r=n(2);e.bt709=r},function(t,e){"use strict";var n,r,i;!function(t){t[t.RED=.2126]="RED",t[t.GREEN=.7152]="GREEN",t[t.BLUE=.0722]="BLUE",t[t.WHITE=1]="WHITE"}(n||(n={})),e.Y=n,function(t){t[t.RED=.64]="RED",t[t.GREEN=.3]="GREEN",t[t.BLUE=.15]="BLUE",t[t.WHITE=.3127]="WHITE"}(r||(r={})),e.x=r,function(t){t[t.RED=.33]="RED",t[t.GREEN=.6]="GREEN",t[t.BLUE=.06]="BLUE",t[t.WHITE=.329]="WHITE"}(i||(i={})),e.y=i},function(t,e,n){"use strict";var r=n(4);e.rgb2xyz=r.rgb2xyz;var i=n(5);e.rgb2hsl=i.rgb2hsl;var o=n(7);e.rgb2lab=o.rgb2lab;var a=n(9);e.lab2xyz=a.lab2xyz;var s=n(10);e.lab2rgb=s.lab2rgb;var u=n(8);e.xyz2lab=u.xyz2lab;var c=n(11);e.xyz2rgb=c.xyz2rgb},function(t,e){"use strict";function n(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}e.rgb2xyz=function(t,e,r){return{x:.4124*(t=n(t/255))+.3576*(e=n(e/255))+.1805*(r=n(r/255)),y:.2126*t+.7152*e+.0722*r,z:.0193*t+.1192*e+.9505*r}}},function(t,e,n){"use strict";var r=n(6);e.rgb2hsl=function(t,e,n){var i=r.min3(t,e,n),o=r.max3(t,e,n),a=o-i,s=(i+o)/510,u=0;s>0&&s<1&&(u=a/(s<.5?o+i:510-o-i));var c=0;return a>0&&(c=o===t?(e-n)/a:o===e?2+(n-t)/a:4+(t-e)/a,(c*=60)<0&&(c+=360)),{h:c,s:u,l:s}}},function(t,e){"use strict";e.degrees2radians=function(t){return t*(Math.PI/180)},e.max3=function(t,e,n){var r=t;return r<e&&(r=e),r<n&&(r=n),r},e.min3=function(t,e,n){var r=t;return r>e&&(r=e),r>n&&(r=n),r},e.intInRange=function(t,e,n){return t>n&&(t=n),t<e&&(t=e),0|t},e.inRange0to255Rounded=function(t){return(t=Math.round(t))>255?t=255:t<0&&(t=0),t},e.inRange0to255=function(t){return t>255?t=255:t<0&&(t=0),t},e.stableSort=function(t,e){var n,r=typeof t[0];if("number"===r||"string"===r){for(var i=Object.create(null),o=0,a=t.length;o<a;o++){var s=t[o];i[s]||0===i[s]||(i[s]=o)}n=t.sort((function(t,n){return e(t,n)||i[t]-i[n]}))}else{var u=t.slice(0);n=t.sort((function(t,n){return e(t,n)||u.indexOf(t)-u.indexOf(n)}))}return n}},function(t,e,n){"use strict";var r=n(4),i=n(8);e.rgb2lab=function(t,e,n){var o=r.rgb2xyz(t,e,n);return i.xyz2lab(o.x,o.y,o.z)}},function(t,e){"use strict";function n(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116}e.xyz2lab=function(t,e,r){if(t=n(t/.95047),e=n(e/1),r=n(r/1.08883),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-r)}}},function(t,e){"use strict";function n(t){return t>.206893034?Math.pow(t,3):(t-16/116)/7.787}e.lab2xyz=function(t,e,r){var i=(t+16)/116,o=i-r/200;return{x:.95047*n(e/500+i),y:1*n(i),z:1.08883*n(o)}}},function(t,e,n){"use strict";var r=n(9),i=n(11);e.lab2rgb=function(t,e,n){var o=r.lab2xyz(t,e,n);return i.xyz2rgb(o.x,o.y,o.z)}},function(t,e,n){"use strict";var r=n(6);function i(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}e.xyz2rgb=function(t,e,n){var o=i(3.2406*t+-1.5372*e+-.4986*n),a=i(-.9689*t+1.8758*e+.0415*n),s=i(.0557*t+-.204*e+1.057*n);return{r:r.inRange0to255Rounded(255*o),g:r.inRange0to255Rounded(255*a),b:r.inRange0to255Rounded(255*s)}}},function(t,e,n){"use strict";var r=n(13);e.AbstractDistanceCalculator=r.AbstractDistanceCalculator;var i=n(14);e.CIE94Textiles=i.CIE94Textiles,e.CIE94GraphicArts=i.CIE94GraphicArts;var o=n(15);e.CIEDE2000=o.CIEDE2000;var a=n(16);e.CMETRIC=a.CMETRIC;var s=n(17);e.AbstractEuclidean=s.AbstractEuclidean,e.Euclidean=s.Euclidean,e.EuclideanRgbQuantWOAlpha=s.EuclideanRgbQuantWOAlpha,e.EuclideanRgbQuantWithAlpha=s.EuclideanRgbQuantWithAlpha;var u=n(18);e.AbstractManhattan=u.AbstractManhattan,e.Manhattan=u.Manhattan,e.ManhattanSRGB=u.ManhattanSRGB,e.ManhattanNommyde=u.ManhattanNommyde;var c=n(19);e.PNGQUANT=c.PNGQUANT},function(t,e){"use strict";var n=function(){function t(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return t.prototype.setWhitePoint=function(t,e,n,r){this._whitePoint={r:t>0?255/t:0,g:e>0?255/e:0,b:n>0?255/n:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(t,e,n,r,0,0,0,0)},t.prototype.calculateNormalized=function(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance},t.prototype._setDefaults=function(){},t}();e.AbstractDistanceCalculator=n},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(7),a=n(6),s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,s,u,c){var l=o.rgb2lab(a.inRange0to255(t*this._whitePoint.r),a.inRange0to255(e*this._whitePoint.g),a.inRange0to255(n*this._whitePoint.b)),h=o.rgb2lab(a.inRange0to255(i*this._whitePoint.r),a.inRange0to255(s*this._whitePoint.g),a.inRange0to255(u*this._whitePoint.b)),f=l.L-h.L,d=l.a-h.a,p=l.b-h.b,v=Math.sqrt(l.a*l.a+l.b*l.b),m=v-Math.sqrt(h.a*h.a+h.b*h.b),g=d*d+p*p-m*m;g=g<0?0:Math.sqrt(g);var y=(c-r)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(f/this._Kl,2)+Math.pow(m/(1+this._K1*v),2)+Math.pow(g/(1+this._K2*v),2)+Math.pow(y,2))},e}(i.AbstractDistanceCalculator);e.AbstractCIE94=s;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255},e}(s);e.CIE94Textiles=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255},e}(s);e.CIE94GraphicArts=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(7),a=n(6),s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,n,r,i,s,u,c,l){var h=o.rgb2lab(a.inRange0to255(t*this._whitePoint.r),a.inRange0to255(n*this._whitePoint.g),a.inRange0to255(r*this._whitePoint.b)),f=o.rgb2lab(a.inRange0to255(s*this._whitePoint.r),a.inRange0to255(u*this._whitePoint.g),a.inRange0to255(c*this._whitePoint.b)),d=(l-i)*this._whitePoint.a*e._kA,p=this.calculateRawInLab(h,f);return Math.sqrt(p+d*d)},e.prototype.calculateRawInLab=function(t,n){var r=t.L,i=t.a,o=t.b,a=n.L,s=n.a,u=n.b,c=Math.sqrt(i*i+o*o),l=Math.sqrt(s*s+u*u),h=Math.pow((c+l)/2,7),f=.5*(1-Math.sqrt(h/(h+e._pow25to7))),d=(1+f)*i,p=(1+f)*s,v=Math.sqrt(d*d+o*o),m=Math.sqrt(p*p+u*u),g=v*m,y=e._calculatehp(o,d),b=e._calculatehp(u,p),_=Math.abs(y-b),w=a-r,k=m-v,E=e._calculate_dHp(g,_,b,y),S=e._calculate_ahp(g,_,y,b),C=e._calculateT(S),I=(v+m)/2,T=Math.pow((r+a)/2-50,2),x=1+.015*T/Math.sqrt(20+T),A=1+.045*I,O=1+.015*C*I,R=e._calculateRT(S,I),P=k/A,N=E/O;return Math.pow(w/x,2)+Math.pow(P,2)+Math.pow(N,2)+R*P*N},e._calculatehp=function(t,n){var r=Math.atan2(t,n);return r>=0?r:r+e._deg360InRad},e._calculateRT=function(t,n){var r=Math.pow(n,7),i=2*Math.sqrt(r/(r+e._pow25to7)),o=e._deg30InRad*Math.exp(-Math.pow((t-e._deg275InRad)/e._deg25InRad,2));return-Math.sin(2*o)*i},e._calculateT=function(t){return 1-.17*Math.cos(t-e._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+e._deg6InRad)-.2*Math.cos(4*t-e._deg63InRad)},e._calculate_ahp=function(t,n,r,i){var o=r+i;return 0==t?o:n<=e._deg180InRad?o/2:o<e._deg360InRad?(o+e._deg360InRad)/2:(o-e._deg360InRad)/2},e._calculate_dHp=function(t,n,r,i){var o;return o=0==t?0:n<=e._deg180InRad?r-i:r<=i?r-i+e._deg360InRad:r-i-e._deg360InRad,2*Math.sqrt(t)*Math.sin(o/2)},e._kA=25/255,e._pow25to7=Math.pow(25,7),e._deg360InRad=a.degrees2radians(360),e._deg180InRad=a.degrees2radians(180),e._deg30InRad=a.degrees2radians(30),e._deg6InRad=a.degrees2radians(6),e._deg63InRad=a.degrees2radians(63),e._deg275InRad=a.degrees2radians(275),e._deg25InRad=a.degrees2radians(25),e}(i.AbstractDistanceCalculator);e.CIEDE2000=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,a,s){var u=(t+i)/2*this._whitePoint.r,c=(t-i)*this._whitePoint.r,l=(e-o)*this._whitePoint.g,h=(n-a)*this._whitePoint.b,f=(s-r)*this._whitePoint.a;return Math.sqrt(((512+u)*c*c>>8)+4*l*l+((767-u)*h*h>>8)+f*f)},e}(n(13).AbstractDistanceCalculator);e.CMETRIC=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(2),a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,a,s){var u=i-t,c=o-e,l=a-n,h=s-r;return Math.sqrt(this._kR*u*u+this._kG*c*c+this._kB*l*l+this._kA*h*h)},e}(i.AbstractDistanceCalculator);e.AbstractEuclidean=a;var s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},e}(a);e.Euclidean=s;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=o.Y.RED,this._kG=o.Y.GREEN,this._kB=o.Y.BLUE,this._kA=1},e}(a);e.EuclideanRgbQuantWithAlpha=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=o.Y.RED,this._kG=o.Y.GREEN,this._kB=o.Y.BLUE,this._kA=0},e}(a);e.EuclideanRgbQuantWOAlpha=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(13),o=n(2),a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,a,s){var u=i-t,c=o-e,l=a-n,h=s-r;return u<0&&(u=0-u),c<0&&(c=0-c),l<0&&(l=0-l),h<0&&(h=0-h),this._kR*u+this._kG*c+this._kB*l+this._kA*h},e}(i.AbstractDistanceCalculator);e.AbstractManhattan=a;var s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},e}(a);e.Manhattan=s;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},e}(a);e.ManhattanNommyde=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._setDefaults=function(){this._kR=o.Y.RED,this._kG=o.Y.GREEN,this._kB=o.Y.BLUE,this._kA=1},e}(a);e.ManhattanSRGB=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.calculateRaw=function(t,e,n,r,i,o,a,s){var u=(s-r)*this._whitePoint.a;return this._colordifference_ch(t*this._whitePoint.r,i*this._whitePoint.r,u)+this._colordifference_ch(e*this._whitePoint.g,o*this._whitePoint.g,u)+this._colordifference_ch(n*this._whitePoint.b,a*this._whitePoint.b,u)},e.prototype._colordifference_ch=function(t,e,n){var r=t-e,i=r+n;return r*r+i*i},e}(n(13).AbstractDistanceCalculator);e.PNGQUANT=i},function(t,e,n){"use strict";var r=n(21);e.NeuQuant=r.NeuQuant;var i=n(25);e.NeuQuantFloat=i.NeuQuantFloat;var o=n(26);e.RGBQuant=o.RGBQuant;var a=n(27);e.ColorHistogram=a.ColorHistogram;var s=n(29);e.WuQuant=s.WuQuant,e.WuColorCube=s.WuColorCube},function(t,e,n){"use strict";var r=n(22),i=n(24),o=function(){function t(t){this.r=this.g=this.b=this.a=t}return t.prototype.toPoint=function(){return i.Point.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)},t.prototype.subtract=function(t,e,n,r){this.r-=0|t,this.g-=0|e,this.b-=0|n,this.a-=0|r},t}(),a=function(){function t(t,e){void 0===e&&(e=256),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(2040,2040,2040,2040)}return t.prototype.sample=function(t){this._pointArray=this._pointArray.concat(t.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var e=0;e<this._networkSize;e++)this._network[e]=new o((e<<11)/this._networkSize|0),this._freq[e]=t._initialBias/this._networkSize|0,this._bias[e]=0},t.prototype._learn=function(){var e=this._sampleFactor,n=this._pointArray.length;n<t._minpicturebytes&&(e=1);var r,i=30+(e-1)/3|0,o=n/e|0,a=o/t._nCycles|0,s=t._initAlpha,u=(this._networkSize>>3)*t._radiusBias,c=u>>t._radiusBiasShift;c<=1&&(c=0);for(var l=0;l<c;l++)this._radPower[l]=s*((c*c-l*l)*t._radBias/(c*c))>>>0;r=n<t._minpicturebytes?1:n%t._prime1!=0?t._prime1:n%t._prime2!=0?t._prime2:n%t._prime3!=0?t._prime3:t._prime4,l=0;for(var h=0;l<o;){var f=this._pointArray[h],d=f.b<<3,p=f.g<<3,v=f.r<<3,m=f.a<<3,g=this._contest(d,p,v,m);if(this._alterSingle(s,g,d,p,v,m),0!==c&&this._alterNeighbour(c,g,d,p,v,m),(h+=r)>=n&&(h-=n),0===a&&(a=1),++l%a==0){s-=s/i|0,(c=(u-=u/t._radiusDecrease|0)>>t._radiusBiasShift)<=1&&(c=0);for(var y=0;y<c;y++)this._radPower[y]=s*((c*c-y*y)*t._radBias/(c*c))>>>0}}},t.prototype._buildPalette=function(){var t=new r.Palette;return this._network.forEach((function(e){t.add(e.toPoint())})),t.sort(),t},t.prototype._alterNeighbour=function(e,n,r,i,o,a){var s=n-e;s<-1&&(s=-1);var u=n+e;u>this._networkSize&&(u=this._networkSize);for(var c=n+1,l=n-1,h=1;c<u||l>s;){var f,d=this._radPower[h++]/t._alphaRadBias;c<u&&(f=this._network[c++]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-a)),l>s&&(f=this._network[l--]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-a))}},t.prototype._alterSingle=function(e,n,r,i,o,a){var s=this._network[n];s.subtract((e/=t._initAlpha)*(s.r-o),e*(s.g-i),e*(s.b-r),e*(s.a-a))},t.prototype._contest=function(e,n,r,i){for(var o=~(1<<31),a=o,s=-1,u=s,c=0;c<this._networkSize;c++){var l=8160*this._distance.calculateNormalized(this._network[c],{r:r,g:n,b:e,a:i})|0;l<o&&(o=l,s=c);var h=l-(this._bias[c]>>t._initialBiasShift-3);h<a&&(a=h,u=c);var f=this._freq[c]>>t._betaShift;this._freq[c]-=f,this._bias[c]+=f<<t._gammaShift}return this._freq[s]+=t._beta,this._bias[s]-=t._betaGamma,u},t._prime1=499,t._prime2=491,t._prime3=487,t._minpicturebytes=t._prime4=503,t._nCycles=100,t._initialBias=1<<(t._initialBiasShift=16),t._gammaShift=10,t._beta=t._initialBias>>(t._betaShift=10),t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBias=1<<(t._radiusBiasShift=6),t._radiusDecrease=30,t._initAlpha=1<<(t._alphaBiasShift=10),t._radBias=1<<(t._radBiasShift=8),t._alphaRadBias=1<<(t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift),t}();e.NeuQuant=a},function(t,e,n){"use strict";var r=n(23),i=n(5);function o(t,e){for(var n=360/e,r=1,i=n-n/2;r<e;r++,i+=n)if(t>=i&&t<i+n)return r;return 0}e.hueGroup=o;var a=function(){function t(){this._pointArray=[],this._i32idx={},this._pointContainer=new r.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return t.prototype.add=function(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)},t.prototype.has=function(t){for(var e=this._pointArray.length-1;e>=0;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1},t.prototype.getNearestColor=function(t,e){return this._pointArray[0|this.getNearestIndex(t,e)]},t.prototype.getPointContainer=function(){return this._pointContainer},t.prototype._nearestPointFromCache=function(t){return"number"==typeof this._i32idx[t]?this._i32idx[t]:-1},t.prototype.getNearestIndex=function(t,e){var n=this._nearestPointFromCache(""+e.uint32);if(n>=0)return n;var r=Number.MAX_VALUE;n=0;for(var i=0,o=this._pointArray.length;i<o;i++){var a=this._pointArray[i],s=t.calculateRaw(e.r,e.g,e.b,e.a,a.r,a.g,a.b,a.a);s<r&&(r=s,n=i)}return this._i32idx[e.uint32]=n,n},t.prototype.sort=function(){this._i32idx={},this._pointArray.sort((function(t,e){var n=i.rgb2hsl(t.r,t.g,t.b),r=i.rgb2hsl(e.r,e.g,e.b),a=t.r===t.g&&t.g===t.b?0:1+o(n.h,10),s=(e.r===e.g&&e.g===e.b?0:1+o(r.h,10))-a;if(s)return-s;var u=t.getLuminosity(!0),c=e.getLuminosity(!0);if(c-u!=0)return c-u;var l=(100*r.s|0)-(100*n.s|0);return l?-l:0}))},t}();e.Palette=a},function(t,e,n){"use strict";var r=n(24),i=function(){function t(){this._width=0,this._height=0,this._pointArray=[]}return t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.setWidth=function(t){this._width=t},t.prototype.setHeight=function(t){this._height=t},t.prototype.getPointArray=function(){return this._pointArray},t.prototype.clone=function(){var e=new t;e._width=this._width,e._height=this._height;for(var n=0,i=this._pointArray.length;n<i;n++)e._pointArray[n]=r.Point.createByUint32(0|this._pointArray[n].uint32);return e},t.prototype.toUint32Array=function(){for(var t=this._pointArray.length,e=new Uint32Array(t),n=0;n<t;n++)e[n]=this._pointArray[n].uint32;return e},t.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},t.fromHTMLImageElement=function(e){var n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");return i.width=n,i.height=r,i.getContext("2d").drawImage(e,0,0,n,r,0,0,n,r),t.fromHTMLCanvasElement(i)},t.fromHTMLCanvasElement=function(e){var n=e.width,r=e.height,i=e.getContext("2d").getImageData(0,0,n,r);return t.fromImageData(i)},t.fromNodeCanvas=function(e){return t.fromHTMLCanvasElement(e)},t.fromImageData=function(e){return t.fromCanvasPixelArray(e.data,e.width,e.height)},t.fromArray=function(e,n,r){var i=new Uint8Array(e);return t.fromUint8Array(i,n,r)},t.fromCanvasPixelArray=function(e,n,r){return t.fromArray(e,n,r)},t.fromUint8Array=function(e,n,r){return t.fromUint32Array(new Uint32Array(e.buffer),n,r)},t.fromUint32Array=function(e,n,i){var o=new t;o._width=n,o._height=i;for(var a=0,s=e.length;a<s;a++)o._pointArray[a]=r.Point.createByUint32(0|e[a]);return o},t}();e.PointContainer=i},function(t,e,n){"use strict";var r=n(2),i=function(){function t(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return t.createByQuadruplet=function(e){var n=new t;return n.r=0|e[0],n.g=0|e[1],n.b=0|e[2],n.a=0|e[3],n._loadUINT32(),n._loadQuadruplet(),n},t.createByRGBA=function(e,n,r,i){var o=new t;return o.r=0|e,o.g=0|n,o.b=0|r,o.a=0|i,o._loadUINT32(),o._loadQuadruplet(),o},t.createByUint32=function(e){var n=new t;return n.uint32=e>>>0,n._loadRGBA(),n._loadQuadruplet(),n},t.prototype.from=function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a},t.prototype.getLuminosity=function(t){var e=this.r,n=this.g,i=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),n=Math.min(255,255-this.a+this.a*n/255),i=Math.min(255,255-this.a+this.a*i/255)),e*r.Y.RED+n*r.Y.GREEN+i*r.Y.BLUE},t.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},t.prototype._loadRGBA=function(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},t.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},t}();e.Point=i},function(t,e,n){"use strict";var r=n(22),i=n(24),o=function(){function t(t){this.r=this.g=this.b=this.a=t}return t.prototype.toPoint=function(){return i.Point.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)},t.prototype.subtract=function(t,e,n,r){this.r-=t,this.g-=e,this.b-=n,this.a-=r},t}(),a=function(){function t(t,e){void 0===e&&(e=256),this._distance=t,this._pointArray=[],this._sampleFactor=1,this._networkSize=e,this._distance.setWhitePoint(2040,2040,2040,2040)}return t.prototype.sample=function(t){this._pointArray=this._pointArray.concat(t.getPointArray())},t.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},t.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var e=0;e<this._networkSize;e++)this._network[e]=new o((e<<11)/this._networkSize),this._freq[e]=t._initialBias/this._networkSize,this._bias[e]=0},t.prototype._learn=function(){var e=this._sampleFactor,n=this._pointArray.length;n<t._minpicturebytes&&(e=1);var r,i=30+(e-1)/3,o=n/e,a=o/t._nCycles|0,s=t._initAlpha,u=(this._networkSize>>3)*t._radiusBias,c=u>>t._radiusBiasShift;c<=1&&(c=0);for(var l=0;l<c;l++)this._radPower[l]=s*((c*c-l*l)*t._radBias/(c*c));r=n<t._minpicturebytes?1:n%t._prime1!=0?t._prime1:n%t._prime2!=0?t._prime2:n%t._prime3!=0?t._prime3:t._prime4,l=0;for(var h=0;l<o;){var f=this._pointArray[h],d=f.b<<3,p=f.g<<3,v=f.r<<3,m=f.a<<3,g=this._contest(d,p,v,m);if(this._alterSingle(s,g,d,p,v,m),0!=c&&this._alterNeighbour(c,g,d,p,v,m),(h+=r)>=n&&(h-=n),0==a&&(a=1),++l%a==0){s-=s/i,(c=(u-=u/t._radiusDecrease)>>t._radiusBiasShift)<=1&&(c=0);for(var y=0;y<c;y++)this._radPower[y]=s*((c*c-y*y)*t._radBias/(c*c))}}},t.prototype._buildPalette=function(){var t=new r.Palette;return this._network.forEach((function(e){t.add(e.toPoint())})),t.sort(),t},t.prototype._alterNeighbour=function(e,n,r,i,o,a){var s=n-e;s<-1&&(s=-1);var u=n+e;u>this._networkSize&&(u=this._networkSize);for(var c=n+1,l=n-1,h=1;c<u||l>s;){var f,d=this._radPower[h++]/t._alphaRadBias;c<u&&(f=this._network[c++]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-a)),l>s&&(f=this._network[l--]).subtract(d*(f.r-o),d*(f.g-i),d*(f.b-r),d*(f.a-a))}},t.prototype._alterSingle=function(e,n,r,i,o,a){var s=this._network[n];s.subtract((e/=t._initAlpha)*(s.r-o),e*(s.g-i),e*(s.b-r),e*(s.a-a))},t.prototype._contest=function(e,n,r,i){for(var o=~(1<<31),a=o,s=-1,u=s,c=0;c<this._networkSize;c++){var l=8160*this._distance.calculateNormalized(this._network[c],{r:r,g:n,b:e,a:i});l<o&&(o=l,s=c);var h=l-(this._bias[c]>>t._initialBiasShift-3);h<a&&(a=h,u=c);var f=this._freq[c]>>t._betaShift;this._freq[c]-=f,this._bias[c]+=f<<t._gammaShift}return this._freq[s]+=t._beta,this._bias[s]-=t._betaGamma,u},t._prime1=499,t._prime2=491,t._prime3=487,t._minpicturebytes=t._prime4=503,t._nCycles=100,t._initialBias=1<<(t._initialBiasShift=16),t._gammaShift=10,t._beta=t._initialBias>>(t._betaShift=10),t._betaGamma=t._initialBias<<t._gammaShift-t._betaShift,t._radiusBias=1<<(t._radiusBiasShift=6),t._radiusDecrease=30,t._initAlpha=1<<(t._alphaBiasShift=10),t._radBias=1<<(t._radBiasShift=8),t._alphaRadBias=1<<(t._alphaRadBiasShift=t._alphaBiasShift+t._radBiasShift),t}();e.NeuQuantFloat=a},function(t,e,n){"use strict";var r=n(22),i=n(24),o=n(27),a=n(6),s=function(t,e,n){this.index=t,this.color=e,this.distance=n},u=function(){function t(t,e,n){void 0===e&&(e=256),void 0===n&&(n=2),this._distance=t,this._colors=e,this._histogram=new o.ColorHistogram(n,e),this._initialDistance=.01,this._distanceIncrement=.005}return t.prototype.sample=function(t){this._histogram.sample(t)},t.prototype.quantize=function(){var t=this._histogram.getImportanceSortedColorsIDXI32();if(0===t.length)throw new Error("No colors in image");var e=this._buildPalette(t);return e.sort(),e},t.prototype._buildPalette=function(t){for(var e=new r.Palette,n=e.getPointContainer().getPointArray(),o=new Array(t.length),u=0;u<t.length;u++)n.push(i.Point.createByUint32(t[u])),o[u]=1;for(var c=n.length,l=[],h=c,f=this._initialDistance;h>this._colors;){for(l.length=0,u=0;u<c;u++)if(0!==o[u])for(var d=n[u],p=u+1;p<c;p++)if(0!==o[p]){var v=n[p],m=this._distance.calculateNormalized(d,v);m<f&&(l.push(new s(p,v,m)),o[p]=0,h--)}f+=h>3*this._colors?this._initialDistance:this._distanceIncrement}if(h<this._colors){a.stableSort(l,(function(t,e){return e.distance-t.distance}));for(var g=0;h<this._colors&&g<l.length;)o[l[g].index]=1,h++,g++}for(var y=n.length,b=y-1;b>=0;b--)0===o[b]&&(b!==y-1&&(n[b]=n[y-1]),--y);return n.length=y,e},t}();e.RGBQuant=u},function(t,e,n){"use strict";var r=n(28),i=n(6),o=function(){function t(e,n){this._method=e,this._minHueCols=n<<2,this._initColors=n<<2,this._hueStats=new r.HueStatistics(t._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return t.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}},t.prototype.getImportanceSortedColorsIDXI32=function(){var t,e=this,n=i.stableSort(Object.keys(this._histogram),(function(t,n){return e._histogram[n]-e._histogram[t]}));if(0===n.length)return[];switch(this._method){case 1:var r=Math.min(n.length,this._initColors),o=this._histogram[n[r-1]];t=n.slice(0,r);for(var a=r,s=n.length;a<s&&this._histogram[n[a]]==o;)t.push(n[a++]);this._hueStats.injectIntoArray(t);break;case 2:t=n;break;default:throw new Error("Incorrect method")}return t.map((function(t){return+t}))},t.prototype._colorStats1D=function(t){for(var e=this._histogram,n=t.getPointArray(),r=n.length,i=0;i<r;i++){var o=n[i].uint32;this._hueStats.check(o),o in e?e[o]++:e[o]=1}},t.prototype._colorStats2D=function(e){var n=this,r=e.getWidth(),i=e.getHeight(),o=e.getPointArray(),a=t._boxSize[0],s=t._boxSize[1],u=a*s,c=this._makeBoxes(r,i,a,s),l=this._histogram;c.forEach((function(e){var i=Math.round(e.w*e.h/u)*t._boxPixels;i<2&&(i=2);var a={};n._iterateBox(e,r,(function(t){var e=o[t].uint32;n._hueStats.check(e),e in l?l[e]++:e in a?++a[e]>=i&&(l[e]=a[e]):a[e]=1}))})),this._hueStats.injectIntoDictionary(l)},t.prototype._iterateBox=function(t,e,n){var r=t,i=(r.y+r.h-1)*e+(r.x+r.w-1),o=e-r.w+1,a=0,s=r.y*e+r.x;do{n.call(this,s),s+=++a%r.w==0?o:1}while(s<=i)},t.prototype._makeBoxes=function(t,e,n,r){for(var i=t%n,o=e%r,a=t-i,s=e-o,u=[],c=0;c<e;c+=r)for(var l=0;l<t;l+=n)u.push({x:l,y:c,w:l==a?i:n,h:c==s?o:r});return u},t._boxSize=[64,64],t._boxPixels=2,t._hueGroups=10,t}();e.ColorHistogram=o},function(t,e,n){"use strict";var r=n(5),i=n(22),o=function(){this.num=0,this.cols=[]},a=function(){function t(t,e){this._numGroups=t,this._minCols=e,this._stats=[];for(var n=0;n<=t;n++)this._stats[n]=new o;this._groupsFull=0}return t.prototype.check=function(t){this._groupsFull==this._numGroups+1&&(this.check=function(){});var e=255&t,n=t>>>8&255,o=t>>>16&255,a=e==n&&n==o?0:1+i.hueGroup(r.rgb2hsl(e,n,o).h,this._numGroups),s=this._stats[a],u=this._minCols;s.num++,s.num>u||(s.num==u&&this._groupsFull++,s.num<=u&&this._stats[a].cols.push(t))},t.prototype.injectIntoDictionary=function(t){for(var e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((function(e){t[e]?t[e]++:t[e]=1}))},t.prototype.injectIntoArray=function(t){for(var e=0;e<=this._numGroups;e++)this._stats[e].num<=this._minCols&&this._stats[e].cols.forEach((function(e){-1==t.indexOf(e)&&t.push(e)}))},t}();e.HueStatistics=a},function(t,e,n){"use strict";var r=n(22),i=n(24);function o(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}function a(t,e,n,r){for(var i=new Array(t),o=0;o<t;o++){i[o]=new Array(e);for(var a=0;a<e;a++){i[o][a]=new Array(n);for(var s=0;s<n;s++){i[o][a][s]=new Array(r);for(var u=0;u<r;u++)i[o][a][s][u]=0}}}return i}function s(t,e,n){for(var r=new Array(t),i=0;i<t;i++){r[i]=new Array(e);for(var o=0;o<e;o++){r[i][o]=new Array(n);for(var a=0;a<n;a++)r[i][o][a]=0}}return r}function u(t,e,n,r,i){for(var o=0;o<e;o++){t[o]=[];for(var a=0;a<n;a++){t[o][a]=[];for(var s=0;s<r;s++)t[o][a][s]=i}}}function c(t,e,n){for(var r=0;r<e;r++)t[r]=n}var l=function(){};e.WuColorCube=l;var h=function(){function t(t,e,n){void 0===e&&(e=256),void 0===n&&(n=5),this._distance=t,this._setQuality(n),this._initialize(e)}return t.prototype.sample=function(t){for(var e=t.getPointArray(),n=0,r=e.length;n<r;n++)this._addColor(e[n]);this._pixels=this._pixels.concat(e)},t.prototype.quantize=function(){this._preparePalette();for(var t=new r.Palette,e=0;e<this._colors;e++)if(this._sums[e]>0){var n=this._sums[e],o=i.Point.createByRGBA(0|this._reds[e]/n,0|this._greens[e]/n,0|this._blues[e]/n,0|this._alphas[e]/n);t.add(o)}return t.sort(),t},t.prototype._preparePalette=function(){this._calculateMoments();for(var e=0,n=o(this._colors),r=1;r<this._colors;++r){this._cut(this._cubes[e],this._cubes[r])?(n[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,n[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(n[e]=0,r--),e=0;for(var i=n[0],a=1;a<=r;++a)n[a]>i&&(i=n[a],e=a);if(i<=0){this._colors=r+1;break}}for(var s=[],u=[],c=[],l=[],h=0;h<this._colors;++h){var f=t._volume(this._cubes[h],this._weights);f>0?(s[h]=t._volume(this._cubes[h],this._momentsRed)/f|0,u[h]=t._volume(this._cubes[h],this._momentsGreen)/f|0,c[h]=t._volume(this._cubes[h],this._momentsBlue)/f|0,l[h]=t._volume(this._cubes[h],this._momentsAlpha)/f|0):(s[h]=0,u[h]=0,c[h]=0,l[h]=0)}this._reds=o(this._colors+1),this._greens=o(this._colors+1),this._blues=o(this._colors+1),this._alphas=o(this._colors+1),this._sums=o(this._colors+1),a=0;for(var d=this._pixels.length;a<d;a++){for(var p=this._pixels[a],v=-1,m=Number.MAX_VALUE,g=0;g<this._colors;g++){var y=this._distance.calculateRaw(s[g],u[g],c[g],l[g],p.r,p.g,p.b,p.a);y<m&&(m=y,v=g)}this._reds[v]+=p.r,this._greens[v]+=p.g,this._blues[v]+=p.b,this._alphas[v]+=p.a,this._sums[v]++}},t.prototype._addColor=function(t){var e=8-this._significantBitsPerChannel,n=1+(t.r>>e),r=1+(t.g>>e),i=1+(t.b>>e),o=1+(t.a>>e);this._weights[o][n][r][i]++,this._momentsRed[o][n][r][i]+=t.r,this._momentsGreen[o][n][r][i]+=t.g,this._momentsBlue[o][n][r][i]+=t.b,this._momentsAlpha[o][n][r][i]+=t.a,this._moments[o][n][r][i]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]},t.prototype._calculateMoments=function(){for(var t=[],e=[],n=[],r=[],i=[],o=[],a=s(this._sideSize,this._sideSize,this._sideSize),l=s(this._sideSize,this._sideSize,this._sideSize),h=s(this._sideSize,this._sideSize,this._sideSize),f=s(this._sideSize,this._sideSize,this._sideSize),d=s(this._sideSize,this._sideSize,this._sideSize),p=s(this._sideSize,this._sideSize,this._sideSize),v=1;v<=this._alphaMaxSideIndex;++v){u(a,this._sideSize,this._sideSize,this._sideSize,0),u(l,this._sideSize,this._sideSize,this._sideSize,0),u(h,this._sideSize,this._sideSize,this._sideSize,0),u(f,this._sideSize,this._sideSize,this._sideSize,0),u(d,this._sideSize,this._sideSize,this._sideSize,0),u(p,this._sideSize,this._sideSize,this._sideSize,0);for(var m=1;m<=this._maxSideIndex;++m){c(t,this._sideSize,0),c(e,this._sideSize,0),c(n,this._sideSize,0),c(r,this._sideSize,0),c(i,this._sideSize,0),c(o,this._sideSize,0);for(var g=1;g<=this._maxSideIndex;++g)for(var y=0,b=0,_=0,w=0,k=0,E=0,S=1;S<=this._maxSideIndex;++S)b+=this._momentsRed[v][m][g][S],_+=this._momentsGreen[v][m][g][S],w+=this._momentsBlue[v][m][g][S],k+=this._momentsAlpha[v][m][g][S],E+=this._moments[v][m][g][S],t[S]+=y+=this._weights[v][m][g][S],e[S]+=b,n[S]+=_,r[S]+=w,i[S]+=k,o[S]+=E,a[m][g][S]=a[m-1][g][S]+t[S],l[m][g][S]=l[m-1][g][S]+e[S],h[m][g][S]=h[m-1][g][S]+n[S],f[m][g][S]=f[m-1][g][S]+r[S],d[m][g][S]=d[m-1][g][S]+i[S],p[m][g][S]=p[m-1][g][S]+o[S],this._weights[v][m][g][S]=this._weights[v-1][m][g][S]+a[m][g][S],this._momentsRed[v][m][g][S]=this._momentsRed[v-1][m][g][S]+l[m][g][S],this._momentsGreen[v][m][g][S]=this._momentsGreen[v-1][m][g][S]+h[m][g][S],this._momentsBlue[v][m][g][S]=this._momentsBlue[v-1][m][g][S]+f[m][g][S],this._momentsAlpha[v][m][g][S]=this._momentsAlpha[v-1][m][g][S]+d[m][g][S],this._moments[v][m][g][S]=this._moments[v-1][m][g][S]+p[m][g][S]}}},t._volumeFloat=function(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])},t._volume=function(e,n){return 0|t._volumeFloat(e,n)},t._top=function(e,n,r,i){var o;switch(n){case t.alpha:o=i[r][e.redMaximum][e.greenMaximum][e.blueMaximum]-i[r][e.redMaximum][e.greenMinimum][e.blueMaximum]-i[r][e.redMinimum][e.greenMaximum][e.blueMaximum]+i[r][e.redMinimum][e.greenMinimum][e.blueMaximum]-(i[r][e.redMaximum][e.greenMaximum][e.blueMinimum]-i[r][e.redMaximum][e.greenMinimum][e.blueMinimum]-i[r][e.redMinimum][e.greenMaximum][e.blueMinimum]+i[r][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case t.red:o=i[e.alphaMaximum][r][e.greenMaximum][e.blueMaximum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMaximum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMaximum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMaximum]-(i[e.alphaMaximum][r][e.greenMaximum][e.blueMinimum]-i[e.alphaMaximum][r][e.greenMinimum][e.blueMinimum]-i[e.alphaMinimum][r][e.greenMaximum][e.blueMinimum]+i[e.alphaMinimum][r][e.greenMinimum][e.blueMinimum]);break;case t.green:o=i[e.alphaMaximum][e.redMaximum][r][e.blueMaximum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMaximum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMaximum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMaximum]-(i[e.alphaMaximum][e.redMaximum][r][e.blueMinimum]-i[e.alphaMaximum][e.redMinimum][r][e.blueMinimum]-i[e.alphaMinimum][e.redMaximum][r][e.blueMinimum]+i[e.alphaMinimum][e.redMinimum][r][e.blueMinimum]);break;case t.blue:o=i[e.alphaMaximum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMaximum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMaximum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMaximum][e.redMinimum][e.greenMinimum][r]-(i[e.alphaMinimum][e.redMaximum][e.greenMaximum][r]-i[e.alphaMinimum][e.redMaximum][e.greenMinimum][r]-i[e.alphaMinimum][e.redMinimum][e.greenMaximum][r]+i[e.alphaMinimum][e.redMinimum][e.greenMinimum][r]);break;default:throw new Error("impossible")}return 0|o},t._bottom=function(e,n,r){switch(n){case t.alpha:return-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case t.red:return-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case t.green:return-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case t.blue:return-r[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}},t.prototype._calculateVariance=function(e){var n=t._volume(e,this._momentsRed),r=t._volume(e,this._momentsGreen),i=t._volume(e,this._momentsBlue),o=t._volume(e,this._momentsAlpha);return t._volumeFloat(e,this._moments)-(n*n+r*r+i*i+o*o)/t._volume(e,this._weights)},t.prototype._maximize=function(e,n,r,i,o,a,s,u,c){for(var l=0|t._bottom(e,n,this._momentsRed),h=0|t._bottom(e,n,this._momentsGreen),f=0|t._bottom(e,n,this._momentsBlue),d=0|t._bottom(e,n,this._momentsAlpha),p=0|t._bottom(e,n,this._weights),v=0,m=-1,g=r;g<i;++g){var y=l+t._top(e,n,g,this._momentsRed),b=h+t._top(e,n,g,this._momentsGreen),_=f+t._top(e,n,g,this._momentsBlue),w=d+t._top(e,n,g,this._momentsAlpha),k=p+t._top(e,n,g,this._weights);if(0!=k){var E=y*y+b*b+_*_+w*w,S=E/k;y=o-y,b=a-b,_=s-_,w=u-w,0!=(k=c-k)&&(S+=(E=y*y+b*b+_*_+w*w)/k)>v&&(v=S,m=g)}}return{max:v,position:m}},t.prototype._cut=function(e,n){var r,i=t._volume(e,this._momentsRed),o=t._volume(e,this._momentsGreen),a=t._volume(e,this._momentsBlue),s=t._volume(e,this._momentsAlpha),u=t._volume(e,this._weights),c=this._maximize(e,t.red,e.redMinimum+1,e.redMaximum,i,o,a,s,u),l=this._maximize(e,t.green,e.greenMinimum+1,e.greenMaximum,i,o,a,s,u),h=this._maximize(e,t.blue,e.blueMinimum+1,e.blueMaximum,i,o,a,s,u),f=this._maximize(e,t.alpha,e.alphaMinimum+1,e.alphaMaximum,i,o,a,s,u);if(f.max>=c.max&&f.max>=l.max&&f.max>=h.max){if(r=t.alpha,f.position<0)return!1}else r=c.max>=f.max&&c.max>=l.max&&c.max>=h.max?t.red:l.max>=f.max&&l.max>=c.max&&l.max>=h.max?t.green:t.blue;switch(n.redMaximum=e.redMaximum,n.greenMaximum=e.greenMaximum,n.blueMaximum=e.blueMaximum,n.alphaMaximum=e.alphaMaximum,r){case t.red:n.redMinimum=e.redMaximum=c.position,n.greenMinimum=e.greenMinimum,n.blueMinimum=e.blueMinimum,n.alphaMinimum=e.alphaMinimum;break;case t.green:n.greenMinimum=e.greenMaximum=l.position,n.redMinimum=e.redMinimum,n.blueMinimum=e.blueMinimum,n.alphaMinimum=e.alphaMinimum;break;case t.blue:n.blueMinimum=e.blueMaximum=h.position,n.redMinimum=e.redMinimum,n.greenMinimum=e.greenMinimum,n.alphaMinimum=e.alphaMinimum;break;case t.alpha:n.alphaMinimum=e.alphaMaximum=f.position,n.blueMinimum=e.blueMinimum,n.redMinimum=e.redMinimum,n.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),n.volume=(n.redMaximum-n.redMinimum)*(n.greenMaximum-n.greenMinimum)*(n.blueMaximum-n.blueMinimum)*(n.alphaMaximum-n.alphaMinimum),!0},t.prototype._initialize=function(t){this._colors=t,this._cubes=[];for(var e=0;e<t;e++)this._cubes[e]=new l;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=a(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var n=0;n<256;++n)this._table[n]=n*n;this._pixels=[]},t.prototype._setQuality=function(t){void 0===t&&(t=5),this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},t.alpha=3,t.red=2,t.green=1,t.blue=0,t}();e.WuQuant=h},function(t,e,n){"use strict";var r=n(31);e.NearestColor=r.NearestColor;var i=n(32);e.ErrorDiffusionArray=i.ErrorDiffusionArray,e.ErrorDiffusionArrayKernel=i.ErrorDiffusionArrayKernel;var o=n(33);e.ErrorDiffusionRiemersma=o.ErrorDiffusionRiemersma},function(t,e){"use strict";var n=function(){function t(t){this._distance=t}return t.prototype.quantize=function(t,e){for(var n=t.getPointArray(),r=t.getWidth(),i=t.getHeight(),o=0;o<i;o++)for(var a=0,s=o*r;a<r;a++,s++){var u=n[s];u.from(e.getNearestColor(this._distance,u))}return t},t}();e.NearestColor=n},function(t,e,n){"use strict";var r=n(24),i=n(6);!function(t){t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite"}(e.ErrorDiffusionArrayKernel||(e.ErrorDiffusionArrayKernel={}));var o=e.ErrorDiffusionArrayKernel,a=function(){function t(t,e,n,r,i){void 0===n&&(n=!0),void 0===r&&(r=0),void 0===i&&(i=!1),this._setKernel(e),this._distance=t,this._minColorDistance=r,this._serpentine=n,this._calculateErrorLikeGIMP=i}return t.prototype.quantize=function(t,e){for(var n=t.getPointArray(),o=new r.Point,a=t.getWidth(),s=t.getHeight(),u=[],c=1,l=1,h=0;h<this._kernel.length;h++){var f=this._kernel[h][2]+1;l<f&&(l=f)}for(h=0;h<l;h++)this._fillErrorLine(u[h]=[],a);for(var d=0;d<s;d++){this._serpentine&&(c*=-1);var p=d*a,v=1==c?0:a-1,m=1==c?a:-1;this._fillErrorLine(u[0],a),u.push(u.shift());for(var g=u[0],y=v,b=p+v;y!==m;y+=c,b+=c){var _=n[b],w=g[y];o.from(_);var k=r.Point.createByRGBA(i.inRange0to255Rounded(_.r+w[0]),i.inRange0to255Rounded(_.g+w[1]),i.inRange0to255Rounded(_.b+w[2]),i.inRange0to255Rounded(_.a+w[3])),E=e.getNearestColor(this._distance,k);if(_.from(E),!(this._minColorDistance&&this._distance.calculateNormalized(_,E)<this._minColorDistance)){var S=void 0,C=void 0,I=void 0,T=void 0;this._calculateErrorLikeGIMP?(S=k.r-E.r,C=k.g-E.g,I=k.b-E.b,T=k.a-E.a):(S=o.r-E.r,C=o.g-E.g,I=o.b-E.b,T=o.a-E.a);var x=1==c?this._kernel.length:-1;for(h=1==c?0:this._kernel.length-1;h!==x;h+=c){var A=this._kernel[h][1]*c,O=this._kernel[h][2];if(A+y>=0&&A+y<a&&O+d>=0&&O+d<s){var R=this._kernel[h][0],P=u[O][A+y];P[0]=P[0]+S*R,P[1]=P[1]+C*R,P[2]=P[2]+I*R,P[3]=P[3]+T*R}}}}}return t},t.prototype._fillErrorLine=function(t,e){t.length>e&&(t.length=e);for(var n=t.length,r=0;r<n;r++){var i=t[r];i[0]=i[1]=i[2]=i[3]=0}for(r=n;r<e;r++)t[r]=[0,0,0,0]},t.prototype._setKernel=function(t){switch(t){case o.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case o.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[.25,1,1]];break;case o.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case o.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case o.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case o.Burkes:this._kernel=[[.25,1,0],[.125,2,0],[2/32,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[2/32,2,1]];break;case o.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[.125,-1,1],[5/32,0,1],[.125,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case o.TwoSierra:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[.125,-1,1],[3/16,0,1],[.125,1,1],[1/16,2,1]];break;case o.SierraLite:this._kernel=[[.5,1,0],[.25,-1,1],[.25,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+t)}},t}();e.ErrorDiffusionArray=a},function(t,e,n){"use strict";var r=n(34),i=n(24),o=n(6),a=function(){function t(t,e,n){void 0===e&&(e=16),void 0===n&&(n=1),this._distance=t,this._errorPropagation=n,this._errorQueueSize=e,this._max=this._errorQueueSize,this._createWeights()}return t.prototype.quantize=function(t,e){for(var n=this,a=new r.HilbertCurveBase,s=t.getPointArray(),u=t.getWidth(),c=t.getHeight(),l=[],h=0,f=0;f<this._errorQueueSize;f++)l[f]={r:0,g:0,b:0,a:0};return a.walk(u,c,(function(t,r){for(var a=s[t+r*u],c=a.r,f=a.g,d=a.b,p=a.a,v=0;v<n._errorQueueSize;v++){var m=n._weights[v],g=l[(v+h)%n._errorQueueSize];c+=g.r*m,f+=g.g*m,d+=g.b*m,p+=g.a*m}var y=i.Point.createByRGBA(o.inRange0to255Rounded(c),o.inRange0to255Rounded(f),o.inRange0to255Rounded(d),o.inRange0to255Rounded(p)),b=e.getNearestColor(n._distance,y),_=((h=(h+1)%n._errorQueueSize)+n._errorQueueSize-1)%n._errorQueueSize;l[_].r=a.r-b.r,l[_].g=a.g-b.g,l[_].b=a.b-b.b,l[_].a=a.a-b.a,a.from(b)})),t},t.prototype._createWeights=function(){this._weights=[];for(var t=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),e=0,n=1;e<this._errorQueueSize;e++)this._weights[e]=(n+.5|0)/this._max*this._errorPropagation,n*=t},t}();e.ErrorDiffusionRiemersma=a},function(t,e){"use strict";var n;!function(t){t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t[t.DOWN=4]="DOWN"}(n||(n={}));var r=function(){function t(){}return t.prototype.walk=function(t,e,r){this._x=0,this._y=0,this._d=0,this._width=t,this._height=e,this._callback=r;var i=Math.max(t,e);this._level=Math.log(i)/Math.log(2)+1|0,this._walkHilbert(n.UP),this._visit(n.NONE)},t.prototype._walkHilbert=function(t){if(!(this._level<1)){switch(this._level--,t){case n.LEFT:this._walkHilbert(n.UP),this._visit(n.RIGHT),this._walkHilbert(n.LEFT),this._visit(n.DOWN),this._walkHilbert(n.LEFT),this._visit(n.LEFT),this._walkHilbert(n.DOWN);break;case n.RIGHT:this._walkHilbert(n.DOWN),this._visit(n.LEFT),this._walkHilbert(n.RIGHT),this._visit(n.UP),this._walkHilbert(n.RIGHT),this._visit(n.RIGHT),this._walkHilbert(n.UP);break;case n.UP:this._walkHilbert(n.LEFT),this._visit(n.DOWN),this._walkHilbert(n.UP),this._visit(n.RIGHT),this._walkHilbert(n.UP),this._visit(n.UP),this._walkHilbert(n.RIGHT);break;case n.DOWN:this._walkHilbert(n.RIGHT),this._visit(n.UP),this._walkHilbert(n.DOWN),this._visit(n.LEFT),this._walkHilbert(n.DOWN),this._visit(n.DOWN),this._walkHilbert(n.LEFT)}this._level++}},t.prototype._visit=function(t){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),t){case n.LEFT:this._x--;break;case n.RIGHT:this._x++;break;case n.UP:this._y--;break;case n.DOWN:this._y++}},t}();e.HilbertCurveBase=r},function(t,e,n){"use strict";var r=n(36);e.SSIM=r.SSIM},function(t,e,n){"use strict";var r=n(2),i=function(){function t(){}return t.prototype.compare=function(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw new Error("Images have different sizes!");var n=Math.pow(.01*255,2),r=Math.pow(.03*255,2),i=0,o=0;return this._iterate(t,e,(function(t,e,a,s){for(var u=0,c=0,l=0,h=0;h<t.length;h++)c+=Math.pow(t[h]-a,2),l+=Math.pow(e[h]-s,2),u+=(t[h]-a)*(e[h]-s);var f=t.length-1;c/=f,l/=f;var d=(2*a*s+n)*(2*(u/=f)+r),p=(Math.pow(a,2)+Math.pow(s,2)+n)*(c+l+r);o+=d/p,i++})),o/i},t.prototype._iterate=function(t,e,n){for(var r=t.getWidth(),i=t.getHeight(),o=0;o<i;o+=8)for(var a=0;a<r;a+=8){var s=Math.min(8,r-a),u=Math.min(8,i-o),c=this._calculateLumaValuesForWindow(t,a,o,s,u),l=this._calculateLumaValuesForWindow(e,a,o,s,u);n(c,l,this._calculateAverageLuma(c),this._calculateAverageLuma(l))}},t.prototype._calculateLumaValuesForWindow=function(t,e,n,i,o){for(var a=t.getPointArray(),s=[],u=0,c=n;c<n+o;c++)for(var l=c*t.getWidth(),h=e;h<e+i;h++){var f=a[l+h];s[u]=f.r*r.Y.RED+f.g*r.Y.GREEN+f.b*r.Y.BLUE,u++}return s},t.prototype._calculateAverageLuma=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e/t.length},t}();e.SSIM=i},function(t,e,n){"use strict";var r=n(6);e.arithmetic=r;var i=n(28);e.HueStatistics=i.HueStatistics;var o=n(22);e.Palette=o.Palette;var a=n(24);e.Point=a.Point;var s=n(23);e.PointContainer=s.PointContainer}])},"object"==typeof n&&"object"==typeof e?e.exports=r():"object"==typeof n?n.iq=r():this.iq=r()},{}],75:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},{}],76:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],77:[function(t,e,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function(t){try{var e=r.call(t);return i.test(e)}catch(n){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(s)return function(t){try{return!o(t)&&(r.call(t),!0)}catch(e){return!1}}(t);if(o(t))return!1;var e=a.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},{}],78:[function(t,e,n){e.exports=function(t){var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var i=Object.prototype.toString},{}],79:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],80:[function(t,e,n){var r=t("./lib/encoder"),i=t("./lib/decoder");e.exports={encode:r,decode:i}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(t,e,n){(function(t){var n=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function e(){}function n(t,e){for(var n,r,i=0,o=[],a=16;a>0&&!t[a-1];)a--;o.push({children:[],index:0});var s,u=o[0];for(n=0;n<a;n++){for(r=0;r<t[n];r++){for((u=o.pop()).children[u.index]=e[i];u.index>0;){if(0===o.length)throw new Error("Could not recreate Huffman Table");u=o.pop()}for(u.index++,o.push(u);o.length<=n;)o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;i++}n+1<a&&(o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return o[0].children}function r(e,n,r,i,o,a,s,u,c,l){var h=r.mcusPerLine,f=n,d=0,p=0;function v(){if(p>0)return p--,d>>p&1;if(255==(d=e[n++])){var t=e[n++];if(t)throw new Error("unexpected marker: "+(d<<8|t).toString(16))}return p=7,d>>>7}function m(t){for(var e,n=t;null!==(e=v());){if("number"==typeof(n=n[e]))return n;if("object"!=typeof n)throw new Error("invalid huffman sequence")}return null}function g(t){for(var e=0;t>0;){var n=v();if(null===n)return;e=e<<1|n,t--}return e}function y(t){var e=g(t);return e>=1<<t-1?e:e+(-1<<t)+1}var b,_=0,w=0;function k(t,e,n,r,i){var o=(n/h|0)*t.v+r;void 0===t.blocks[o]&&l.tolerantDecoding||e(t,t.blocks[o][n%h*t.h+i])}function E(t,e,n){var r=n/t.blocksPerLine|0;void 0===t.blocks[r]&&l.tolerantDecoding||e(t,t.blocks[r][n%t.blocksPerLine])}var S,C,I,T,x,A,O=i.length;A=r.progressive?0===a?0===u?function(t,e){var n=m(t.huffmanTableDC),r=0===n?0:y(n)<<c;e[0]=t.pred+=r}:function(t,e){e[0]|=v()<<c}:0===u?function(e,n){if(_>0)_--;else for(var r=a,i=s;r<=i;){var o=m(e.huffmanTableAC),u=15&o,l=o>>4;if(0!==u)n[t[r+=l]]=y(u)*(1<<c),r++;else{if(l<15){_=g(l)+(1<<l)-1;break}r+=16}}}:function(e,n){for(var r=a,i=s,o=0;r<=i;){var u=t[r],l=n[u]<0?-1:1;switch(w){case 0:var h=m(e.huffmanTableAC),f=15&h;if(o=h>>4,0===f)o<15?(_=g(o)+(1<<o),w=4):(o=16,w=1);else{if(1!==f)throw new Error("invalid ACn encoding");b=y(f),w=o?2:3}continue;case 1:case 2:n[u]?n[u]+=(v()<<c)*l:0==--o&&(w=2==w?3:0);break;case 3:n[u]?n[u]+=(v()<<c)*l:(n[u]=b<<c,w=0);break;case 4:n[u]&&(n[u]+=(v()<<c)*l)}r++}4===w&&0==--_&&(w=0)}:function(e,n){var r=m(e.huffmanTableDC),i=0===r?0:y(r);n[0]=e.pred+=i;for(var o=1;o<64;){var a=m(e.huffmanTableAC),s=15&a,u=a>>4;if(0!==s)n[t[o+=u]]=y(s),o++;else{if(u<15)break;o+=16}}};var R,P,N,M,D=0;for(P=1==O?i[0].blocksPerLine*i[0].blocksPerColumn:h*r.mcusPerColumn,o||(o=P);D<P;){for(C=0;C<O;C++)i[C].pred=0;if(_=0,1==O)for(S=i[0],x=0;x<o;x++)E(S,A,D),D++;else for(x=0;x<o;x++){for(C=0;C<O;C++)for(N=(S=i[C]).h,M=S.v,I=0;I<M;I++)for(T=0;T<N;T++)k(S,A,D,I,T);if(++D===P)break}if(D===P)do{if(255===e[n]&&0!==e[n+1])break;n+=1}while(n<e.length-2);if(p=0,(R=e[n]<<8|e[n+1])<65280)throw new Error("marker was not found");if(!(R>=65488&&R<=65495))break;n+=2}return n-f}function i(t,e){var n,r,i=[],o=e.blocksPerLine,a=e.blocksPerColumn,s=o<<3,c=new Int32Array(64),l=new Uint8Array(64);function h(t,n,r){var i,o,a,s,u,c,l,h,f,d,p=e.quantizationTable,v=r;for(d=0;d<64;d++)v[d]=t[d]*p[d];for(d=0;d<8;++d){var m=8*d;0!=v[1+m]||0!=v[2+m]||0!=v[3+m]||0!=v[4+m]||0!=v[5+m]||0!=v[6+m]||0!=v[7+m]?(f=(i=5793*v[0+m]+128>>8)-(o=5793*v[4+m]+128>>8)+1>>1,i=i+o+1>>1,o=f,f=3784*(a=v[2+m])+1567*(s=v[6+m])+128>>8,a=1567*a-3784*s+128>>8,s=f,f=(u=2896*(v[1+m]-v[7+m])+128>>8)-(l=v[5+m]<<4)+1>>1,u=u+l+1>>1,l=f,f=(h=2896*(v[1+m]+v[7+m])+128>>8)+(c=v[3+m]<<4)+1>>1,c=h-c+1>>1,h=f,f=i-s+1>>1,i=i+s+1>>1,s=f,f=o-a+1>>1,o=o+a+1>>1,a=f,f=2276*u+3406*h+2048>>12,u=3406*u-2276*h+2048>>12,h=f,f=799*c+4017*l+2048>>12,c=4017*c-799*l+2048>>12,l=f,v[0+m]=i+h,v[7+m]=i-h,v[1+m]=o+l,v[6+m]=o-l,v[2+m]=a+c,v[5+m]=a-c,v[3+m]=s+u,v[4+m]=s-u):(v[0+m]=f=5793*v[0+m]+512>>10,v[1+m]=f,v[2+m]=f,v[3+m]=f,v[4+m]=f,v[5+m]=f,v[6+m]=f,v[7+m]=f)}for(d=0;d<8;++d){var g=d;0!=v[8+g]||0!=v[16+g]||0!=v[24+g]||0!=v[32+g]||0!=v[40+g]||0!=v[48+g]||0!=v[56+g]?(f=(i=5793*v[0+g]+2048>>12)-(o=5793*v[32+g]+2048>>12)+1>>1,i=i+o+1>>1,o=f,f=3784*(a=v[16+g])+1567*(s=v[48+g])+2048>>12,a=1567*a-3784*s+2048>>12,s=f,f=(u=2896*(v[8+g]-v[56+g])+2048>>12)-(l=v[40+g])+1>>1,u=u+l+1>>1,l=f,f=(h=2896*(v[8+g]+v[56+g])+2048>>12)+(c=v[24+g])+1>>1,c=h-c+1>>1,h=f,f=i-s+1>>1,i=i+s+1>>1,s=f,f=o-a+1>>1,o=o+a+1>>1,a=f,f=2276*u+3406*h+2048>>12,u=3406*u-2276*h+2048>>12,h=f,f=799*c+4017*l+2048>>12,c=4017*c-799*l+2048>>12,l=f,v[0+g]=i+h,v[56+g]=i-h,v[8+g]=o+l,v[48+g]=o-l,v[16+g]=a+c,v[40+g]=a-c,v[24+g]=s+u,v[32+g]=s-u):(v[0+g]=f=5793*r[d+0]+8192>>14,v[8+g]=f,v[16+g]=f,v[24+g]=f,v[32+g]=f,v[40+g]=f,v[48+g]=f,v[56+g]=f)}for(d=0;d<64;++d){var y=128+(v[d]+8>>4);n[d]=y<0?0:y>255?255:y}}u(s*a*8);for(var f=0;f<a;f++){var d=f<<3;for(n=0;n<8;n++)i.push(new Uint8Array(s));for(var p=0;p<o;p++){h(e.blocks[f][p],l,c);var v=0,m=p<<3;for(r=0;r<8;r++){var g=i[d+r];for(n=0;n<8;n++)g[m+n]=l[v++]}}}return i}function o(t){return t<0?0:t>255?255:t}e.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=(function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}).bind(this),e.send(null)},parse:function(e){var o=1e3*this.opts.maxResolutionInMP*1e3,a=0;function s(){var t=e[a]<<8|e[a+1];return a+=2,t}function c(t){var e,n,r=0,i=0;for(n in t.components)t.components.hasOwnProperty(n)&&(r<(e=t.components[n]).h&&(r=e.h),i<e.v&&(i=e.v));var o=Math.ceil(t.samplesPerLine/8/r),a=Math.ceil(t.scanLines/8/i);for(n in t.components)if(t.components.hasOwnProperty(n)){e=t.components[n];var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/r),c=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),l=o*e.h,h=a*e.v,f=[];u(h*l*256);for(var d=0;d<h;d++){for(var p=[],v=0;v<l;v++)p.push(new Int32Array(64));f.push(p)}e.blocksPerLine=s,e.blocksPerColumn=c,e.blocks=f}t.maxH=r,t.maxV=i,t.mcusPerLine=o,t.mcusPerColumn=a}var l,h,f,d,p=null,v=null,m=[],g=[],y=[],b=[],_=s();if(65496!=_)throw new Error("SOI not found");for(_=s();65497!=_;){switch(_){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=(f=s(),d=e.subarray(a,a+f-2),a+=d.length,d);65504===_&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(p={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65505===_&&69===w[0]&&120===w[1]&&105===w[2]&&102===w[3]&&0===w[4]&&(this.exifBuffer=w.subarray(5,w.length)),65518===_&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(v={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var k=s()+a-2;a<k;){var E=e[a++];u(256);var S=new Int32Array(64);if(E>>4==0)for(W=0;W<64;W++)S[t[W]]=e[a++];else{if(E>>4!=1)throw new Error("DQT: invalid table spec");for(W=0;W<64;W++)S[t[W]]=s()}m[15&E]=S}break;case 65472:case 65473:case 65474:s(),(l={}).extended=65473===_,l.progressive=65474===_,l.precision=e[a++],l.scanLines=s(),l.samplesPerLine=s(),l.components={},l.componentsOrder=[];var C=l.scanLines*l.samplesPerLine;if(C>o){var I=Math.ceil((C-o)/1e6);throw new Error("maxResolutionInMP limit exceeded by ".concat(I,"MP"))}var T,x=e[a++];for(H=0;H<x;H++){var A=e[a+1]>>4,O=15&e[a+1],R=e[a+2];l.componentsOrder.push(T=e[a]),l.components[T]={h:A,v:O,quantizationIdx:R},a+=3}c(l),g.push(l);break;case 65476:var P=s();for(H=2;H<P;){var N=e[a++],M=new Uint8Array(16),D=0;for(W=0;W<16;W++,a++)D+=M[W]=e[a];u(16+D);var L=new Uint8Array(D);for(W=0;W<D;W++,a++)L[W]=e[a];H+=17+D,(N>>4==0?b:y)[15&N]=n(M,L)}break;case 65501:s(),h=s();break;case 65498:s();var j=e[a++],F=[];for(H=0;H<j;H++){K=l.components[e[a++]];var U=e[a++];K.huffmanTableDC=b[U>>4],K.huffmanTableAC=y[15&U],F.push(K)}var B=e[a++],z=e[a++],q=e[a++],V=r(e,a,l,F,h,B,z,q>>4,15&q,this.opts);a+=V;break;case 65535:255!==e[a]&&a--;break;default:if(255==e[a-3]&&e[a-2]>=192&&e[a-2]<=254){a-=3;break}throw new Error("unknown JPEG marker "+_.toString(16))}_=s()}if(1!=g.length)throw new Error("only single frame JPEGs supported");for(var H=0;H<g.length;H++){var G=g[H].components;for(var W in G)G[W].quantizationTable=m[G[W].quantizationIdx],delete G[W].quantizationIdx}for(this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=p,this.adobe=v,this.components=[],H=0;H<l.componentsOrder.length;H++){var K;this.components.push({lines:i(0,K=l.components[l.componentsOrder[H]]),scaleX:K.h/l.maxH,scaleY:K.v/l.maxV})}},getData:function(t,e){var n,r,i,a,s,c,l,h,f,d,p,v,m,g,y,b,_,w,k,E,S,C=this.width/t,I=this.height/e,T=0,x=t*e*this.components.length;u(x);var A=new Uint8Array(x);switch(this.components.length){case 1:for(n=this.components[0],d=0;d<e;d++)for(s=n.lines[0|d*n.scaleY*I],f=0;f<t;f++)A[T++]=p=s[0|f*n.scaleX*C];break;case 2:for(n=this.components[0],r=this.components[1],d=0;d<e;d++)for(s=n.lines[0|d*n.scaleY*I],c=r.lines[0|d*r.scaleY*I],f=0;f<t;f++)A[T++]=p=s[0|f*n.scaleX*C],A[T++]=p=c[0|f*r.scaleX*C];break;case 3:for(S=!0,this.adobe&&this.adobe.transformCode?S=!0:void 0!==this.opts.colorTransform&&(S=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],i=this.components[2],d=0;d<e;d++)for(s=n.lines[0|d*n.scaleY*I],c=r.lines[0|d*r.scaleY*I],l=i.lines[0|d*i.scaleY*I],f=0;f<t;f++)S?(v=c[0|f*r.scaleX*C],w=o((p=s[0|f*n.scaleX*C])+1.402*((m=l[0|f*i.scaleX*C])-128)),k=o(p-.3441363*(v-128)-.71413636*(m-128)),E=o(p+1.772*(v-128))):(w=s[0|f*n.scaleX*C],k=c[0|f*r.scaleX*C],E=l[0|f*i.scaleX*C]),A[T++]=w,A[T++]=k,A[T++]=E;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(S=!1,this.adobe&&this.adobe.transformCode?S=!0:void 0!==this.opts.colorTransform&&(S=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],i=this.components[2],a=this.components[3],d=0;d<e;d++)for(s=n.lines[0|d*n.scaleY*I],c=r.lines[0|d*r.scaleY*I],l=i.lines[0|d*i.scaleY*I],h=a.lines[0|d*a.scaleY*I],f=0;f<t;f++)S?(v=c[0|f*r.scaleX*C],g=h[0|f*a.scaleX*C],y=255-o((p=s[0|f*n.scaleX*C])+1.402*((m=l[0|f*i.scaleX*C])-128)),b=255-o(p-.3441363*(v-128)-.71413636*(m-128)),_=255-o(p+1.772*(v-128))):(y=s[0|f*n.scaleX*C],b=c[0|f*r.scaleX*C],_=l[0|f*i.scaleX*C],g=h[0|f*a.scaleX*C]),A[T++]=255-y,A[T++]=255-b,A[T++]=255-_,A[T++]=255-g;break;default:throw new Error("Unsupported color mode")}return A},copyToImageData:function(t,e){var n,r,i,a,s,u,c,l,h,f=t.width,d=t.height,p=t.data,v=this.getData(f,d),m=0,g=0;switch(this.components.length){case 1:for(r=0;r<d;r++)for(n=0;n<f;n++)i=v[m++],p[g++]=i,p[g++]=i,p[g++]=i,e&&(p[g++]=255);break;case 3:for(r=0;r<d;r++)for(n=0;n<f;n++)c=v[m++],l=v[m++],h=v[m++],p[g++]=c,p[g++]=l,p[g++]=h,e&&(p[g++]=255);break;case 4:for(r=0;r<d;r++)for(n=0;n<f;n++)s=v[m++],u=v[m++],i=v[m++],c=255-o(s*(1-(a=v[m++])/255)+a),l=255-o(u*(1-a/255)+a),h=255-o(i*(1-a/255)+a),p[g++]=c,p[g++]=l,p[g++]=h,e&&(p[g++]=255);break;default:throw new Error("Unsupported color mode")}}};var a=0,s=0;function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=a+t;if(e>s){var n=Math.ceil((e-s)/1024/1024);throw new Error("maxMemoryUsageInMB limit exceeded by at least ".concat(n,"MB"))}a=e}return e.resetMaxMemoryUsage=function(t){a=0,s=t},e.getBytesAllocated=function(){return a},e.requestMemoryAllocation=u,e}();function i(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=_objectSpread2({colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},r),o=new Uint8Array(e),a=new n;a.opts=i,n.resetMaxMemoryUsage(1024*i.maxMemoryUsageInMB*1024),a.parse(o);var s=a.width*a.height*(i.formatAsRGBA?4:3);try{n.requestMemoryAllocation(s);var u={width:a.width,height:a.height,exifBuffer:a.exifBuffer,data:i.useTArray?new Uint8Array(s):new t(s)}}catch(c){throw c instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+s):c}return a.copyToImageData(u,i.formatAsRGBA),u}void 0!==e?e.exports=i:void 0!==r&&(r["jpeg-js"]=r["jpeg-js"]||{},r["jpeg-js"].decode=i)}).call(this,t("buffer").Buffer)},{buffer:48}],82:[function(t,e,n){(function(t){function n(n){Math;var r,i,o,a,s,u=Math.floor,c=new Array(64),l=new Array(64),h=new Array(64),f=new Array(64),d=new Array(65535),p=new Array(65535),v=new Array(64),m=new Array(64),g=[],y=0,b=7,_=new Array(64),w=new Array(64),k=new Array(64),E=new Array(256),S=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],x=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(t,e){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=o,r++,n++;n*=2}return i}function D(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(y|=1<<b),n--,--b<0&&(255==y?(L(255),L(0)):L(y),b=7,y=0)}function L(t){g.push(t)}function j(t){L(t>>8&255),L(255&t)}function F(t,e,n,r,i){for(var o,a=i[0],s=i[240],u=function(t,e){var n,r,i,o,a,s,u,c,l,h,f=0;for(l=0;l<8;++l){var d=(n=t[f])+(c=t[f+7]),p=n-c,m=(r=t[f+1])+(u=t[f+6]),g=r-u,y=(i=t[f+2])+(s=t[f+5]),b=i-s,_=(o=t[f+3])+(a=t[f+4]),w=o-a,k=d+_,E=d-_,S=m+y,C=m-y;t[f]=k+S,t[f+4]=k-S;var I=.707106781*(C+E);t[f+2]=E+I,t[f+6]=E-I;var T=.382683433*((k=w+b)-(C=g+p)),x=.5411961*k+T,A=1.306562965*C+T,O=.707106781*(S=b+g),R=p+O,P=p-O;t[f+5]=P+x,t[f+3]=P-x,t[f+1]=R+A,t[f+7]=R-A,f+=8}for(f=0,l=0;l<8;++l){var N=(n=t[f])+(c=t[f+56]),M=n-c,D=(r=t[f+8])+(u=t[f+48]),L=r-u,j=(i=t[f+16])+(s=t[f+40]),F=i-s,U=(o=t[f+24])+(a=t[f+32]),B=o-a,z=N+U,q=N-U,V=D+j,H=D-j;t[f]=z+V,t[f+32]=z-V;var G=.707106781*(H+q);t[f+16]=q+G,t[f+48]=q-G;var W=.382683433*((z=B+F)-(H=L+M)),K=.5411961*z+W,Y=1.306562965*H+W,Z=.707106781*(V=F+L),Q=M+Z,X=M-Z;t[f+40]=X+K,t[f+24]=X-K,t[f+8]=Q+Y,t[f+56]=Q-Y,f++}for(l=0;l<64;++l)v[l]=(h=t[l]*e[l])>0?h+.5|0:h-.5|0;return v}(t,e),c=0;c<64;++c)m[C[c]]=u[c];var l=m[0]-n;n=m[0],0==l?D(r[0]):(D(r[p[o=32767+l]]),D(d[o]));for(var h=63;h>0&&0==m[h];h--);if(0==h)return D(a),n;for(var f,g=1;g<=h;){for(var y=g;0==m[g]&&g<=h;++g);var b=g-y;if(b>=16){f=b>>4;for(var _=1;_<=f;++_)D(s);b&=15}D(i[(b<<4)+p[o=32767+m[g]]]),D(d[o]),g++}return 63!=h&&D(a),n}function U(t){t<=0&&(t=1),t>100&&(t=100),s!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=u((e[n]*t+50)/100);r<1?r=1:r>255&&(r=255),c[C[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=u((i[o]*t+50)/100);a<1?a=1:a>255&&(a=255),l[C[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var v=0;v<8;v++)h[d]=1/(c[C[d]]*s[p]*s[v]*8),f[d]=1/(l[C[d]]*s[p]*s[v]*8),d++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),s=t)}this.encode=function(n,s){(new Date).getTime(),s&&U(s),g=new Array,y=0,b=7,j(65496),j(65504),j(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),j(1),j(1),L(0),L(0),function(t){if(t){j(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?j(t.length+2):(j(t.length+5+2),L(69),L(120),L(105),L(102),L(0));for(var e=0;e<t.length;e++)L(t[e])}}(n.exifBuffer),function(){j(65499),j(132),L(0);for(var t=0;t<64;t++)L(c[t]);L(1);for(var e=0;e<64;e++)L(l[e])}(),function(t,e){j(65472),j(17),L(8),j(e),j(t),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(n.width,n.height),function(){j(65476),j(418),L(0);for(var t=0;t<16;t++)L(I[t+1]);for(var e=0;e<=11;e++)L(T[e]);L(16);for(var n=0;n<16;n++)L(x[n+1]);for(var r=0;r<=161;r++)L(A[r]);L(1);for(var i=0;i<16;i++)L(O[i+1]);for(var o=0;o<=11;o++)L(R[o]);L(17);for(var a=0;a<16;a++)L(P[a+1]);for(var s=0;s<=161;s++)L(N[s])}(),j(65498),j(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var u=0,d=0,p=0;y=0,b=7,this.encode.displayName="_encode_";for(var v,m,E,C,M,B,z,q,V,H=n.data,G=n.height,W=4*n.width,K=0;K<G;){for(v=0;v<W;){for(B=M=W*K+v,z=-1,q=0,V=0;V<64;V++)B=M+(q=V>>3)*W+(z=4*(7&V)),K+q>=G&&(B-=W*(K+1+q-G)),v+z>=W&&(B-=v+z-W+4),m=H[B++],E=H[B++],C=H[B++],_[V]=(S[m]+S[E+256>>0]+S[C+512>>0]>>16)-128,w[V]=(S[m+768>>0]+S[E+1024>>0]+S[C+1280>>0]>>16)-128,k[V]=(S[m+1280>>0]+S[E+1536>>0]+S[C+1792>>0]>>16)-128;u=F(_,h,u,r,o),d=F(w,f,d,i,a),p=F(k,f,p,i,a),v+=32}K+=8}if(b>=0){var Y=[];Y[1]=b+1,Y[0]=(1<<b+1)-1,D(Y)}return j(65497),void 0===e?new Uint8Array(g):new t(g)},(new Date).getTime(),n||(n=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)E[e]=t(e)}(),r=M(I,T),i=M(O,R),o=M(x,A),a=M(P,N),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)p[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)p[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)S[t]=19595*t,S[t+256>>0]=38470*t,S[t+512>>0]=7471*t+32768,S[t+768>>0]=-11059*t,S[t+1024>>0]=-21709*t,S[t+1280>>0]=32768*t+8421375,S[t+1536>>0]=-27439*t,S[t+1792>>0]=-5329*t}(),U(n),(new Date).getTime()}function i(t,e){return void 0===e&&(e=50),{data:new n(e).encode(t,e),width:t.width,height:t.height}}void 0!==e?e.exports=i:void 0!==r&&(r["jpeg-js"]=r["jpeg-js"]||{},r["jpeg-js"].encode=i)}).call(this,t("buffer").Buffer)},{buffer:48}],83:[function(t,e,n){(function(n){var r=t("path"),i=t("fs"),o=parseInt("0777",8);function a(t,e,s,u){"function"==typeof e?(s=e,e={}):e&&"object"==typeof e||(e={mode:e});var c=e.mode,l=e.fs||i;void 0===c&&(c=o&~n.umask()),u||(u=null);var h=s||function(){};t=r.resolve(t),l.mkdir(t,c,(function(n){if(!n)return h(null,u=u||t);switch(n.code){case"ENOENT":a(r.dirname(t),e,(function(n,r){n?h(n,r):a(t,e,h,r)}));break;default:l.stat(t,(function(t,e){t||!e.isDirectory()?h(n,u):h(null,u)}))}}))}e.exports=a.mkdirp=a.mkdirP=a,a.sync=function t(e,a,s){a&&"object"==typeof a||(a={mode:a});var u=a.mode,c=a.fs||i;void 0===u&&(u=o&~n.umask()),s||(s=null),e=r.resolve(e);try{c.mkdirSync(e,u),s=s||e}catch(h){switch(h.code){case"ENOENT":s=t(r.dirname(e),a,s),t(e,a,s);break;default:var l;try{l=c.statSync(e)}catch(f){throw h}if(!l.isDirectory())throw h}}return s}}).call(this,t("_process"))},{_process:133,fs:47,path:107}],84:[function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},{}],85:[function(t,e,n){arguments[4][64][0].apply(n,arguments)},{dup:64}],86:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(a[n]);this._dict_set=!0}}function l(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}c.prototype.push=function(t,e){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,s.input="string"==typeof t?o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?new Uint8Array(t):t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||this.onData("string"===this.options.to?o.buf2binstring(i.shrinkBuf(s.output,s.next_out)):i.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=c,n.deflate=l,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),u=t("./zlib/zstream"),c=t("./zlib/gzheader"),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,u,c,h,f,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,d.input="string"==typeof t?o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?new Uint8Array(t):t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(f="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===l.call(v)?new Uint8Array(v):v,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(d.output,d.next_out),c=d.next_out-u,h=o.buf2string(d.output,u),d.next_out=c,d.avail_out=p-c,c&&i.arraySet(d.output,d.output,u,c,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=h,n.inflate=f,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},n.ungzip=f},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(t,e,n){arguments[4][36][0].apply(n,arguments)},{dup:36}],90:[function(t,e,n){"use strict";var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},n.buf2binstring=function(t){return u(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,o,s=e||t.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)c[r++]=i;else if((o=a[i])>4)c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(c[r++]=55296|(i-=65536)>>10&1023,c[r++]=56320|1023&i)}return u(c,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":89}],91:[function(t,e,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],92:[function(t,e,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],93:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],94:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),u=t("./messages");function c(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function d(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function v(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function m(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,h=t.prev,f=t.strstart+258,d=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===p&&c[n+a-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=258-(f-o),o=f-258,r>a){if(t.match_start=e,a=r,r>=s)break;d=c[o+a-1],p=c[o+a]}}}while((e=h[e&l])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function g(t){var e,n,r,o,u,c,l,h,f,d,p=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-262)){i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=p?r-p:0}while(--n);e=n=p;do{r=t.prev[--e],t.prev[e]=r>=p?r-p:0}while(--n);o+=p}if(0===t.strm.avail_in)break;if(l=t.window,h=t.strstart+t.lookahead,d=void 0,(d=(c=t.strm).avail_in)>(f=o)&&(d=f),n=0===d?0:(c.avail_in-=d,i.arraySet(l,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=a(c.adler,l,d,h):2===c.state.wrap&&(c.adler=s(c.adler,l,d,h)),c.next_in+=d,c.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[u=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function y(t,e){for(var n,r;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=m(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var n,r,i;;){if(t.lookahead<262){if(g(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=m(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(d(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&d(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}function _(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):c(t,-2)}function E(t){var e,n=k(t);return 0===n&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function S(t,e,n,r,o,a){if(!t)return-2;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||a<0||a>4)return c(t,-2);8===r&&(r=9);var u=new w;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,E(t)}r=[new _(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(g(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,d(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&d(t,!1),1)})),new _(4,4,8,4,y),new _(4,5,16,8,y),new _(4,6,32,32,y),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],n.deflateInit=function(t,e){return S(t,e,8,15,8,0)},n.deflateInit2=S,n.deflateReset=E,n.deflateResetKeep=k,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},n.deflate=function(t,e){var n,i,a,u;if(!t||!t.state||e>5||e<0)return t?c(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return c(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var m=8+(i.w_bits-8<<4)<<8;m|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(m|=32),m+=31-m%31,i.status=113,v(i,m),0!==i.strstart&&(v(i,t.adler>>>16),v(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(p(i,255&t.adler),p(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return c(t,-5);if(666===i.status&&0!==t.avail_in)return c(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var y=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(g(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=258){if(g(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(d(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(d(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(d(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==y&&4!==y||(i.status=666),1===y||3===y)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===y&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&t.adler),p(i,t.adler>>8&255),p(i,t.adler>>16&255),p(i,t.adler>>24&255),p(i,255&t.total_in),p(i,t.total_in>>8&255),p(i,t.total_in>>16&255),p(i,t.total_in>>24&255)):(v(i,t.adler>>>16),v(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?c(t,-2):(t.state=null,113===e?c(t,-3):0):-2},n.deflateSetDictionary=function(t,e){var n,r,o,s,u,c,l,f,d=e.length;if(!t||!t.state)return-2;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,g(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,g(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],96:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{dup:41}],97:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{"../utils/common":89,dup:43}],99:[function(t,e,n){arguments[4][44][0].apply(n,arguments)},{dup:44}],100:[function(t,e,n){"use strict";var r=t("../utils/common");function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var l=new Array(60);i(l);var h=new Array(512);i(h);var f=new Array(256);i(f);var d=new Array(29);i(d);var p,v,m,g=new Array(30);function y(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function k(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function E(t,e,n){k(t,n[2*e],n[2*e+1])}function S(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function C(t,e,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=S(o[s]++,s))}}function I(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function T(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function x(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function A(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&x(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!x(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function O(t,e,n){var r,i,s,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?E(t,i,e):(E(t,(s=f[i])+256+1,e),0!==(u=o[s])&&k(t,i-=d[s],u),E(t,s=_(--r),n),0!==(u=a[s])&&k(t,r-=g[s],u))}while(c<t.last_lit);E(t,256,e)}function R(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)A(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,A(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,v++),u[2*r+1]=o,r>c||(t.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),t.opt_len+=(s=u[2*r])*(o+a),h&&(t.static_len+=s*(l[2*r+1]+a)));if(0!==v){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),C(o,c,t.bl_count)}function P(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function N(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)do{E(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(E(t,i,t.bl_tree),s--),E(t,16,t.bl_tree),k(t,s-3,2)):s<=10?(E(t,17,t.bl_tree),k(t,s-3,3)):(E(t,18,t.bl_tree),k(t,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}i(g);var M=!1;function D(t,e,n,i){k(t,0+(i?1:0),3),function(t,e,n,i){T(t),w(t,n),w(t,~n),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){M||(function(){var t,e,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,t=0;t<1<<o[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,t=0;t<1<<a[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,t=0;t<1<<a[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(C(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=S(t,5);p=new y(c,o,257,286,15),v=new y(l,a,0,30,15),m=new y(new Array(0),s,0,19,7)}(),M=!0),t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,v),t.bl_desc=new b(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,I(t)},n._tr_stored_block=D,n._tr_flush_block=function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),R(t,t.l_desc),R(t,t.d_desc),a=function(t){var e;for(P(t,t.dyn_ltree,t.l_desc.max_code),P(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(o=t.static_len+3+7>>>3)<=(i=t.opt_len+3+7>>>3)&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?D(t,e,n,r):4===t.strategy||o===i?(k(t,2+(r?1:0),3),O(t,c,l)):(k(t,4+(r?1:0),3),function(t,e,n,r){var i;for(k(t,e-257,5),k(t,n-1,5),k(t,r-4,4),i=0;i<r;i++)k(t,t.bl_tree[2*u[i]+1],3);N(t,t.dyn_ltree,e-1),N(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),O(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&T(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){k(t,2,3),E(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":89}],101:[function(t,e,n){arguments[4][46][0].apply(n,arguments)},{dup:46}],102:[function(t,e,n){function r(t,e){if(!(t=t.replace(/\t+/g," ").trim()))return null;var n=t.indexOf(" ");if(-1===n)throw new Error("no named row at line "+e);var r=t.substring(0,n);t=(t=(t=(t=t.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(t){return t.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var o=[],a=0;a<t.length;a++){var s=t[a];0===a?o.push({key:s[0],data:""}):a===t.length-1?o[o.length-1].data=i(s[0]):(o[o.length-1].data=i(s[0]),o.push({key:s[1],data:""}))}var u={key:r,data:{}};return o.forEach((function(t){u.data[t.key]=t.data})),u}function i(t){return t&&0!==t.length?0===t.indexOf('"')||0===t.indexOf("'")?t.substring(1,t.length-1):-1!==t.indexOf(",")?function(t){return t.split(",").map((function(t){return parseInt(t,10)}))}(t):parseInt(t,10):""}e.exports=function(t){if(!t)throw new Error("no data provided");var e={pages:[],chars:[],kernings:[]},n=(t=t.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var o=r(n[i],i);if(o)if("page"===o.key){if("number"!=typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');e.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?e.chars.push(o.data):"kerning"===o.key?e.kernings.push(o.data):e[o.key]=o.data)}return e}},{}],103:[function(t,e,n){var r=[66,77,70];function i(t,e,n){if(n>e.length-1)return 0;var r=e.readUInt8(n++),i=e.readInt32LE(n);switch(n+=4,r){case 1:t.info=function(t,e){var n={};n.size=t.readInt16LE(e);var r=t.readUInt8(e+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=t.readUInt8(e+3)||"",n.stretchH=t.readUInt16LE(e+4),n.aa=t.readUInt8(e+6),n.padding=[t.readInt8(e+7),t.readInt8(e+8),t.readInt8(e+9),t.readInt8(e+10)],n.spacing=[t.readInt8(e+11),t.readInt8(e+12)],n.outline=t.readUInt8(e+13),n.face=function(t,e){return o(t,e).toString("utf8")}(t,e+14),n}(e,n);break;case 2:t.common=function(t,e){var n={};return n.lineHeight=t.readUInt16LE(e),n.base=t.readUInt16LE(e+2),n.scaleW=t.readUInt16LE(e+4),n.scaleH=t.readUInt16LE(e+6),n.pages=t.readUInt16LE(e+8),t.readUInt8(e+10),n.packed=0,n.alphaChnl=t.readUInt8(e+11),n.redChnl=t.readUInt8(e+12),n.greenChnl=t.readUInt8(e+13),n.blueChnl=t.readUInt8(e+14),n}(e,n);break;case 3:t.pages=function(t,e,n){for(var r=[],i=o(t,e),a=i.length+1,s=n/a,u=0;u<s;u++)r[u]=t.slice(e,e+i.length).toString("utf8"),e+=a;return r}(e,n,i);break;case 4:t.chars=function(t,e,n){for(var r=[],i=n/20,o=0;o<i;o++){var a={},s=20*o;a.id=t.readUInt32LE(e+0+s),a.x=t.readUInt16LE(e+4+s),a.y=t.readUInt16LE(e+6+s),a.width=t.readUInt16LE(e+8+s),a.height=t.readUInt16LE(e+10+s),a.xoffset=t.readInt16LE(e+12+s),a.yoffset=t.readInt16LE(e+14+s),a.xadvance=t.readInt16LE(e+16+s),a.page=t.readUInt8(e+18+s),a.chnl=t.readUInt8(e+19+s),r[o]=a}return r}(e,n,i);break;case 5:t.kernings=function(t,e,n){for(var r=[],i=n/10,o=0;o<i;o++){var a={},s=10*o;a.first=t.readUInt32LE(e+0+s),a.second=t.readUInt32LE(e+4+s),a.amount=t.readInt16LE(e+8+s),r[o]=a}return r}(e,n,i)}return 5+i}function o(t,e){for(var n=e;n<t.length&&0!==t[n];n++);return t.slice(e,n)}e.exports=function(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");if(!r.every((function(e,n){return t.readUInt8(n)===e})))throw new Error("BMFont missing BMF byte header");var e=3;if(t.readUInt8(e++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var n={kernings:[],chars:[]},o=0;o<5;o++)e+=i(n,t,e);return n}},{}],104:[function(t,e,n){var r=t("./parse-attribs"),i=t("xml-parse-from-string"),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(t){return function(t){for(var e=[],n=0;n<t.attributes.length;n++)e.push(t.attributes[n]);return e}(t).reduce((function(t,e){var n;return t[o[(n=e.nodeName).toLowerCase()]||n]=e.nodeValue,t}),{})}e.exports=function(t){t=t.toString();var e=i(t),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(t){var i=e.getElementsByTagName(t)[0];i&&(n[t]=r(a(i)))}));var o=e.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var s=o.getElementsByTagName("page"),u=0;u<s.length;u++){var c=s[u],l=parseInt(c.getAttribute("id"),10),h=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(l,10)]=h}return["chars","kernings"].forEach((function(t){var i=e.getElementsByTagName(t)[0];if(i)for(var o=t.substring(0,t.length-1),s=i.getElementsByTagName(o),u=0;u<s.length;u++)n[t].push(r(a(s[u])))})),n}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(t,e,n){e.exports=function(t){for(var e in"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset),t)"face"!==e&&"charset"!==e&&(t[e]="padding"===e||"spacing"===e?t[e].split(",").map((function(t){return parseInt(t,10)})):parseInt(t[e],10));return t}},{}],106:[function(t,e,n){var r=t("trim"),i=t("for-each");e.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),(function(t){var n=t.indexOf(":"),i=r(t.slice(0,n)).toLowerCase(),o=r(t.slice(n+1));void 0===e[i]?e[i]=o:"[object Array]"===Object.prototype.toString.call(e[i])?e[i].push(o):e[i]=[e[i],o]})),e}},{"for-each":63,trim:179}],107:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return(i?"/":"")+(n=e(r(n.split("/"),(function(t){return!!t})),!i).join("/"))||"."},n.normalize=function(t){var o=n.isAbsolute(t),a="/"===i(t,-1);return(t=e(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},n.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:133}],108:[function(t,e,n){(function(n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("http"),o=t("https"),a=t("url"),s=t("querystring"),u=t("zlib"),c=t("util"),l=function(t,e){if("string"!=typeof t&&!t.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var c="object"===(void 0===t?"undefined":r(t))?a.parse(t.url):a.parse(t),l={hostname:c.hostname,port:c.port||("http:"===c.protocol.toLowerCase()?80:443),path:c.path,method:"GET",headers:{},auth:c.auth||null,parse:"none",stream:!1};if("object"===(void 0===t?"undefined":r(t))&&(l=Object.assign(l,t)),l.port=Number(l.port),l.hasOwnProperty("timeout")&&delete l.timeout,!0===l.compressed&&(l.headers["accept-encoding"]="gzip, deflate"),t.hasOwnProperty("form")){if("object"!==r(t.form))throw new Error("phin 'form' option must be of type Object if present.");var h=s.stringify(t.form);l.headers["Content-Type"]="application/x-www-form-urlencoded",l.headers["Content-Length"]=n.byteLength(h),t.data=h}var f=void 0,d=function(t){var r=t;!0===l.compressed&&("gzip"===t.headers["content-encoding"]?r=t.pipe(u.createGunzip()):"deflate"===t.headers["content-encoding"]&&(r=t.pipe(u.createInflate()))),!0===l.stream?(t.stream=r,e(null,t)):(t.body=new n([]),r.on("data",(function(e){t.body=n.concat([t.body,e])})),r.on("end",(function(){if(e){if("json"===l.parse)try{t.body=JSON.parse(t.body.toString())}catch(n){return void e("Invalid JSON received.",t)}e(null,t)}})))};switch(c.protocol.toLowerCase()){case"http:":f=i.request(l,d);break;case"https:":f=o.request(l,d);break;default:return void(e&&e(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null))}if("number"==typeof t.timeout&&f.setTimeout(t.timeout,(function(){f.abort(),e(new Error("Timeout has been reached."),null),e=null})),f.on("error",(function(t){e&&e(t,null)})),t.hasOwnProperty("data")){var p=t.data;if(!(t.data instanceof n)&&"object"===r(t.data))if("application/x-www-form-urlencoded"===(l.headers["content-type"]||l.headers["Content-Type"]))p=s.stringify(t.data);else try{p=JSON.stringify(t.data)}catch(v){e(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}f.write(p)}f.end()};l.promisified=function(t,e){return new Promise((function(e,n){l(t,(function(t,r){t?n(t):e(r)}))}))},c.promisify&&(l[c.promisify.custom]=l.promisified),e.exports=l}).call(this,t("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(t,e,n){"use strict";function r(t,e,n,o,a,s){for(var u,c,l,h,f=Math.max(e-1,0),d=Math.max(n-1,0),p=Math.min(e+1,o-1),v=Math.min(n+1,a-1),m=4*(n*o+e),g=0,y=0,b=0,_=0,w=0,k=f;k<=p;k++)for(var E=d;E<=v;E++)if(k!==e||E!==n){var S=i(t,t,m,4*(E*o+k),!0);if(0===S?g++:S<0?b++:S>0&&y++,g>2)return!1;s&&(S<_&&(_=S,u=k,c=E),S>w&&(w=S,l=k,h=E))}return!s||0!==b&&0!==y&&(!r(t,u,c,o,a)&&!r(s,u,c,o,a)||!r(t,l,h,o,a)&&!r(s,l,h,o,a))}function i(t,e,n,r,i){var c=t[n+3]/255,l=e[r+3]/255,h=u(t[n+0],c),f=u(t[n+1],c),d=u(t[n+2],c),p=u(e[r+0],l),v=u(e[r+1],l),m=u(e[r+2],l),g=o(h,f,d)-o(p,v,m);if(i)return g;var y=a(h,f,d)-a(p,v,m),b=s(h,f,d)-s(p,v,m);return.5053*g*g+.299*y*y+.1957*b*b}function o(t,e,n){return.29889531*t+.58662247*e+.11448223*n}function a(t,e,n){return.59597799*t-.2741761*e-.32180189*n}function s(t,e,n){return.21147017*t-.52261711*e+.31114694*n}function u(t,e){return 255+(t-255)*e}function c(t,e,n,r,i){t[e+0]=n,t[e+1]=r,t[e+2]=i,t[e+3]=255}e.exports=function(t,e,n,a,s,l){l||(l={});for(var h=void 0===l.threshold?.1:l.threshold,f=35215*h*h,d=0,p=0;p<s;p++)for(var v=0;v<a;v++){var m=4*(p*a+v);if(i(t,e,m,m)>f)l.includeAA||!r(t,v,p,a,s,e)&&!r(e,v,p,a,s,t)?(n&&c(n,m,255,0,0),d++):n&&c(n,m,255,255,0);else if(n){var g=u(o(u((y=t)[(b=m)+0],_=y[b+3]/255),u(y[b+1],_),u(y[b+2],_)),.1);c(n,m,g,g,g)}}var y,b,_;return d}},{}],110:[function(t,e,n){(function(e){"use strict";var r=t("./interlace"),i={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function o(t,e,n,r,o,a){for(var s=t.width,u=t.height,c=t.index,l=0;l<u;l++)for(var h=0;h<s;h++){for(var f=n(h,l,c),d=0;d<4;d++){var p=i[r][d];if(255===p)e[f+d]=255;else{var v=p+a;if(v===o.length)throw new Error("Ran out of data");e[f+d]=o[v]}}a+=r}return a}function a(t,e,n,r,o,a){for(var s=t.width,u=t.height,c=t.index,l=0;l<u;l++){for(var h=0;h<s;h++)for(var f=o.get(r),d=n(h,l,c),p=0;p<4;p++){var v=i[r][p];e[d+p]=255!==v?f[v]:a}o.resetAfterLine()}}n.dataToBitMap=function(t,n){var i,s=n.width,u=n.height,c=n.depth,l=n.bpp,h=n.interlace;if(8!==c)var f=function(t,e){var n=[],r=0;function i(){if(r===t.length)throw new Error("Ran out of data");var i,o=t[r];switch(r++,e){default:throw new Error("unrecognised depth");case 16:i=t[r],r++,n.push((o<<8)+i);break;case 4:n.push(o>>4,i=15&o);break;case 2:n.push(o>>6&3,i=o>>4&3,o>>2&3,3&o);break;case 1:n.push(o>>7&1,i=o>>6&1,o>>5&1,o>>4&1,o>>3&1,o>>2&1,o>>1&1,1&o)}}return{get:function(t){for(;n.length<t;)i();var e=n.slice(0,t);return n=n.slice(t),e},resetAfterLine:function(){n.length=0},end:function(){if(r!==t.length)throw new Error("extra data found")}}}(t,c);i=c<=8?new e(s*u*4):new Uint16Array(s*u*4);var d,p,v=Math.pow(2,c)-1,m=0;if(h)d=r.getImagePasses(s,u),p=r.getInterlaceIterator(s,u);else{var g=0;p=function(){var t=g;return g+=4,t},d=[{width:s,height:u}]}for(var y=0;y<d.length;y++)8===c?m=o(d[y],i,p,l,t,m):a(d[y],i,p,l,f,v);if(8===c){if(m!==t.length)throw new Error("extra data found")}else f.end();return i}}).call(this,t("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(t,e,n){(function(n){"use strict";var r=t("./constants");e.exports=function(t,e,i,o){var a,s=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType);if(o.colorType===o.inputColorType){var u=(a=new ArrayBuffer(2),new DataView(a).setInt16(0,256,!0),256!==new Int16Array(a)[0]);if(8===o.bitDepth||16===o.bitDepth&&u)return t}var c=16!==o.bitDepth?t:new Uint16Array(t.buffer),l=255,h=r.COLORTYPE_TO_BPP_MAP[o.inputColorType];4!=h||o.inputHasAlpha||(h=3);var f=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(l=65535,f*=2);var d=new n(e*i*f),p=0,v=0,m=o.bgColor||{};function g(t,e){var n,i,a,u=l;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:u=t[e+3],n=t[e],i=t[e+1],a=t[e+2];break;case r.COLORTYPE_COLOR:n=t[e],i=t[e+1],a=t[e+2];break;case r.COLORTYPE_ALPHA:u=t[e+1],i=n=t[e],a=n;break;case r.COLORTYPE_GRAYSCALE:i=n=t[e],a=n;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(s||(u/=l,n=Math.min(Math.max(Math.round((1-u)*m.red+u*n),0),l),i=Math.min(Math.max(Math.round((1-u)*m.green+u*i),0),l),a=Math.min(Math.max(Math.round((1-u)*m.blue+u*a),0),l))),{red:n,green:i,blue:a,alpha:u}}void 0===m.red&&(m.red=l),void 0===m.green&&(m.green=l),void 0===m.blue&&(m.blue=l);for(var y=0;y<i;y++)for(var b=0;b<e;b++){var _=g(c,p);switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(d[v]=_.red,d[v+1]=_.green,d[v+2]=_.blue,s&&(d[v+3]=_.alpha)):(d.writeUInt16BE(_.red,v),d.writeUInt16BE(_.green,v+2),d.writeUInt16BE(_.blue,v+4),s&&d.writeUInt16BE(_.alpha,v+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:var w=(_.red+_.green+_.blue)/3;8===o.bitDepth?(d[v]=w,s&&(d[v+1]=_.alpha)):(d.writeUInt16BE(w,v),s&&d.writeUInt16BE(_.alpha,v+2))}p+=h,v+=f}return d}}).call(this,t("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(t,e,n){(function(n,r){"use strict";var i=t("util"),o=t("stream"),a=e.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(a,o),a.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),n.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},a.prototype.write=function(t,e){return this.writable?(n=r.isBuffer(t)?t:new r(t,e||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var n},a.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(t){this._reads.shift();var e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))},a.prototype._processRead=function(t){this._reads.shift();for(var e=0,n=0,i=new r(t.length);e<t.length;){var o=this._buffers[n++],a=Math.min(o.length,t.length-e);o.copy(i,e,0,a),e+=a,a!==o.length&&(this._buffers[--n]=o.slice(a))}n>0&&this._buffers.splice(0,n),this._buffered-=t.length,t.func.call(this,i)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&this._buffers.length>0&&null===this._buffers[0]&&this._end()}catch(e){this.emit("error",e)}}}).call(this,t("_process"),t("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(t,e,n){"use strict";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(t,e,n){"use strict";var r=[];!function(){for(var t=0;t<256;t++){for(var e=t,n=0;n<8;n++)1&e?e=3988292384^e>>>1:e>>>=1;r[t]=e}}();var i=e.exports=function(){this._crc=-1};i.prototype.write=function(t){for(var e=0;e<t.length;e++)this._crc=r[255&(this._crc^t[e])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return-1^this._crc},i.crc32=function(t){for(var e=-1,n=0;n<t.length;n++)e=r[255&(e^t[n])]^e>>>8;return-1^e}},{}],115:[function(t,e,n){(function(n){"use strict";var r=t("./paeth-predictor"),i={0:function(t,e,n,r,i){for(var o=0;o<n;o++)r[i+o]=t[e+o]},1:function(t,e,n,r,i,o){for(var a=0;a<n;a++)r[i+a]=t[e+a]-(a>=o?t[e+a-o]:0)},2:function(t,e,n,r,i){for(var o=0;o<n;o++)r[i+o]=t[e+o]-(e>0?t[e+o-n]:0)},3:function(t,e,n,r,i,o){for(var a=0;a<n;a++)r[i+a]=t[e+a]-((a>=o?t[e+a-o]:0)+(e>0?t[e+a-n]:0)>>1)},4:function(t,e,n,i,o,a){for(var s=0;s<n;s++){var u=t[e+s]-r(s>=a?t[e+s-a]:0,e>0?t[e+s-n]:0,e>0&&s>=a?t[e+s-(n+a)]:0);i[o+s]=u}}},o={0:function(t,e,n){for(var r=0,i=e+n,o=e;o<i;o++)r+=Math.abs(t[o]);return r},1:function(t,e,n,r){for(var i=0,o=0;o<n;o++)i+=Math.abs(t[e+o]-(o>=r?t[e+o-r]:0));return i},2:function(t,e,n){for(var r=0,i=e+n,o=e;o<i;o++)r+=Math.abs(t[o]-(e>0?t[o-n]:0));return r},3:function(t,e,n,r){for(var i=0,o=0;o<n;o++)i+=Math.abs(t[e+o]-((o>=r?t[e+o-r]:0)+(e>0?t[e+o-n]:0)>>1));return i},4:function(t,e,n,i){for(var o=0,a=0;a<n;a++){var s=t[e+a]-r(a>=i?t[e+a-i]:0,e>0?t[e+a-n]:0,e>0&&a>=i?t[e+a-(n+i)]:0);o+=Math.abs(s)}return o}};e.exports=function(t,e,r,a,s){var u;if("filterType"in a&&-1!==a.filterType){if("number"!=typeof a.filterType)throw new Error("unrecognised filter types");u=[a.filterType]}else u=[0,1,2,3,4];16===a.bitDepth&&(s*=2);for(var c=e*s,l=0,h=0,f=new n((c+1)*r),d=u[0],p=0;p<r;p++){if(u.length>1)for(var v=1/0,m=0;m<u.length;m++){var g=o[u[m]](t,h,c,s);g<v&&(d=u[m],v=g)}f[l]=d,l++,i[d](t,h,c,f,l,s),l+=c,h+=c}return f}}).call(this,t("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(t,e,n){(function(n){"use strict";var r=t("util"),i=t("./chunkstream"),o=t("./filter-parse"),a=e.exports=function(t){i.call(this);var e=[],r=this;this._filter=new o(t,{read:this.read.bind(this),write:function(t){e.push(t)},complete:function(){r.emit("complete",n.concat(e))}}),this._filter.start()};r.inherits(a,i)}).call(this,t("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(t,e,n){(function(e){"use strict";var r=t("./sync-reader"),i=t("./filter-parse");n.process=function(t,n){var o=[],a=new r(t);return new i(n,{read:a.read.bind(a),write:function(t){o.push(t)},complete:function(){}}).start(),a.process(),e.concat(o)}}).call(this,t("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(t,e,n){(function(n){"use strict";var r=t("./interlace"),i=t("./paeth-predictor");function o(t,e,n){var r=t*e;return 8!==n&&(r=Math.ceil(r/(8/n))),r}var a=e.exports=function(t,e){var n=t.width,i=t.height,a=t.interlace,s=t.bpp,u=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],a)for(var c=r.getImagePasses(n,i),l=0;l<c.length;l++)this._images.push({byteWidth:o(c[l].width,s,u),height:c[l].height,lineIndex:0});else this._images.push({byteWidth:o(n,s,u),height:i,lineIndex:0});this._xComparison=8===u?s:16===u?2*s:1};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},a.prototype._unFilterType1=function(t,e,n){for(var r=this._xComparison,i=r-1,o=0;o<n;o++)e[o]=t[1+o]+(o>i?e[o-r]:0)},a.prototype._unFilterType2=function(t,e,n){for(var r=this._lastLine,i=0;i<n;i++)e[i]=t[1+i]+(r?r[i]:0)},a.prototype._unFilterType3=function(t,e,n){for(var r=this._xComparison,i=r-1,o=this._lastLine,a=0;a<n;a++){var s=t[1+a],u=Math.floor(((a>i?e[a-r]:0)+(o?o[a]:0))/2);e[a]=s+u}},a.prototype._unFilterType4=function(t,e,n){for(var r=this._xComparison,o=r-1,a=this._lastLine,s=0;s<n;s++){var u=t[1+s],c=i(s>o?e[s-r]:0,a?a[s]:0,s>o&&a?a[s-r]:0);e[s]=u+c}},a.prototype._reverseFilterLine=function(t){var e,r=t[0],i=this._images[this._imageIndex],o=i.byteWidth;if(0===r)e=t.slice(1,o+1);else switch(e=new n(o),r){case 1:this._unFilterType1(t,e,o);break;case 2:this._unFilterType2(t,e,o);break;case 3:this._unFilterType3(t,e,o);break;case 4:this._unFilterType4(t,e,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(e),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=e,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,t("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(t,e,n){(function(t){"use strict";e.exports=function(e,n){var r=n.depth,i=n.width,o=n.height,a=n.transColor,s=e;return 3===n.colorType?function(t,e,n,r,i){for(var o=0,a=0;a<r;a++)for(var s=0;s<n;s++){var u=i[t[o]];if(!u)throw new Error("index "+t[o]+" not in palette");for(var c=0;c<4;c++)e[o+c]=u[c];o+=4}}(e,s,i,o,n.palette):(a&&function(t,e,n,r,i){for(var o=0,a=0;a<r;a++)for(var s=0;s<n;s++){var u=!1;if(1===i.length?i[0]===t[o]&&(u=!0):i[0]===t[o]&&i[1]===t[o+1]&&i[2]===t[o+2]&&(u=!0),u)for(var c=0;c<4;c++)e[o+c]=0;o+=4}}(e,s,i,o,a),8!==r&&(16===r&&(s=new t(i*o*4)),function(t,e,n,r,i){for(var o=Math.pow(2,i)-1,a=0,s=0;s<r;s++)for(var u=0;u<n;u++){for(var c=0;c<4;c++)e[a+c]=Math.floor(255*t[a+c]/o+.5);a+=4}}(e,s,i,o,r))),s}}).call(this,t("buffer").Buffer)},{buffer:48}],120:[function(t,e,n){"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(t,e){for(var n=[],i=t%8,o=e%8,a=(t-i)/8,s=(e-o)/8,u=0;u<r.length;u++){for(var c=r[u],l=a*c.x.length,h=s*c.y.length,f=0;f<c.x.length&&c.x[f]<i;f++)l++;for(f=0;f<c.y.length&&c.y[f]<o;f++)h++;l>0&&h>0&&n.push({width:l,height:h,index:u})}return n},n.getInterlaceIterator=function(t){return function(e,n,i){var o=e%r[i].x.length,a=n%r[i].y.length;return 4*((e-o)/r[i].x.length*8+r[i].x[o])+((n-a)/r[i].y.length*8+r[i].y[a])*t*4}}},{}],121:[function(t,e,n){(function(n){"use strict";var r=t("util"),i=t("stream"),o=t("./constants"),a=t("./packer"),s=e.exports=function(t){i.call(this),this._packer=new a(t||{}),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(s,i),s.prototype.pack=function(t,e,r,i){this.emit("data",new n(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),i&&this.emit("data",this._packer.packGAMA(i));var a=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(t){this.emit("data",this._packer.packIDAT(t))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(a)}}).call(this,t("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(t,e,n){(function(n){"use strict";var r=!0,i=t("zlib");i.deflateSync||(r=!1);var o=t("./constants"),a=t("./packer");e.exports=function(t,e){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var s=new a(e||{}),u=[];u.push(new n(o.PNG_SIGNATURE)),u.push(s.packIHDR(t.width,t.height)),t.gamma&&u.push(s.packGAMA(t.gamma));var c=s.filterData(t.data,t.width,t.height),l=i.deflateSync(c,s.getDeflateOptions());if(c=null,!l||!l.length)throw new Error("bad png - invalid compressed data response");return u.push(s.packIDAT(l)),u.push(s.packIEND()),n.concat(u)}}).call(this,t("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(t,e,n){(function(n){"use strict";var r=t("./constants"),i=t("./crc"),o=t("./bitpacker"),a=t("./filter-pack"),s=t("zlib"),u=e.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||s.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:r.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(t.colorType))throw new Error("option color type:"+t.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(t,e,n){var i=o(t,e,n,this._options);return a(i,e,n,this._options,r.COLORTYPE_TO_BPP_MAP[this._options.colorType])},u.prototype._packChunk=function(t,e){var r=e?e.length:0,o=new n(r+12);return o.writeUInt32BE(r,0),o.writeUInt32BE(t,4),e&&e.copy(o,8),o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4),o},u.prototype.packGAMA=function(t){var e=new n(4);return e.writeUInt32BE(Math.floor(t*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,e)},u.prototype.packIHDR=function(t,e){var i=new n(13);return i.writeUInt32BE(t,0),i.writeUInt32BE(e,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(r.TYPE_IHDR,i)},u.prototype.packIDAT=function(t){return this._packChunk(r.TYPE_IDAT,t)},u.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}).call(this,t("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n}},{}],125:[function(t,e,n){"use strict";var r=t("util"),i=t("zlib"),o=t("./chunkstream"),a=t("./filter-parse-async"),s=t("./parser"),u=t("./bitmapper"),c=t("./format-normaliser"),l=e.exports=function(t){o.call(this),this._parser=new s(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};r.inherits(l,o),l.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",(function(){}))),this.errord=!0},l.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,n=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:n});var r=e,o=this.emit.bind(this,"error");this._inflate.on("error",(function(t){r&&o(t)})),this._filter.on("complete",this._complete.bind(this));var a=this._filter.write.bind(this._filter);this._inflate.on("data",(function(t){r&&(t.length>r&&(t=t.slice(0,r)),r-=t.length,a(t))})),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)},l.prototype._handleMetaData=function(t){this.emit("metadata",t),this._bitmapInfo=Object.create(t),this._filter=new a(this._bitmapInfo)},l.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},l.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},l.prototype._complete=function(t){if(!this.errord){try{var e=u.dataToBitMap(t,this._bitmapInfo),n=c(e,this._bitmapInfo);e=null}catch(r){return void this._handleError(r)}this.emit("parsed",n)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(t,e,n){(function(n){"use strict";var r=!0,i=t("zlib"),o=t("./sync-inflate");i.deflateSync||(r=!1);var a=t("./sync-reader"),s=t("./filter-parse-sync"),u=t("./parser"),c=t("./bitmapper"),l=t("./format-normaliser");e.exports=function(t,e){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var h,f,d,p=[],v=new a(t);if(new u(e,{read:v.read.bind(v),error:function(t){h=t},metadata:function(t){f=t},gamma:function(t){d=t},palette:function(t){f.palette=t},transColor:function(t){f.transColor=t},inflateData:function(t){p.push(t)}}).start(),v.process(),h)throw h;var m,g=n.concat(p);if(p.length=0,f.interlace)m=i.inflateSync(g);else{var y=(1+(f.width*f.bpp*f.depth+7>>3))*f.height;m=o(g,{chunkSize:y,maxLength:y})}if(g=null,!m||!m.length)throw new Error("bad png - invalid inflate data response");var b=s.process(m,f);g=null;var _=c.dataToBitMap(b,f);b=null;var w=l(_,f);return f.data=w,f.gamma=d||0,f}}).call(this,t("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(t,e,n){(function(n){"use strict";var r=t("./constants"),i=t("./crc"),o=e.exports=function(t,e){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[r.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[r.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[r.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[r.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[r.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[r.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished};o.prototype.start=function(){this.read(r.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(t){for(var e=r.PNG_SIGNATURE,n=0;n<e.length;n++)if(t[n]!==e[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(t){for(var e=t.readUInt32BE(0),o=t.readUInt32BE(4),a="",s=4;s<8;s++)a+=String.fromCharCode(t[s]);var u=Boolean(32&t[4]);if(this._hasIHDR||o===r.TYPE_IHDR){if(this._crc=new i,this._crc.write(new n(a)),this._chunks[o])return this._chunks[o](e);u?this.read(e+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+a))}else this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==e?this.error(new Error("Crc error - "+e+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(t){this._crc.write(t);var e=t.readUInt32BE(0),n=t.readUInt32BE(4),i=t[8],o=t[9],a=t[12];if(8===i||4===i||2===i||1===i||16===i)if(o in r.COLORTYPE_TO_BPP_MAP)if(0===t[10])if(0===t[11])if(0===a||1===a){this._colorType=o;var s=r.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:n,depth:i,interlace:Boolean(a),palette:Boolean(o&r.COLORTYPE_PALETTE),color:Boolean(o&r.COLORTYPE_COLOR),alpha:Boolean(o&r.COLORTYPE_ALPHA),bpp:s,colorType:o}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+i))},o.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),n=0;n<e;n++)this._palette.push([t[3*n],t[3*n+1],t[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(t){this.read(t,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===r.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===r.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===r.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/r.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(t){this.read(-t,this._parseIDAT.bind(this,t))},o.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===r.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(e);var n=t-e.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},o.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},o.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,t("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(t,e,n){"use strict";var r=t("./parser-sync"),i=t("./packer-sync");n.read=function(t,e){return r(t,e||{})},n.write=function(t,e){return i(t,e)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(t,e,n){(function(e,r){"use strict";var i=t("util"),o=t("stream"),a=t("./parser-async"),s=t("./packer-async"),u=t("./png-sync"),c=n.PNG=function(t){o.call(this),this.width=0|(t=t||{}).width,this.height=0|t.height,this.data=this.width>0&&this.height>0?new r(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(t){this.data=t,this.emit("parsed",t)}).bind(this)),this._packer=new s(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(c,o),c.sync=u,c.prototype.pack=function(){return this.data&&this.data.length?(e.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(t,e){var n,r;return e&&(n=(function(t){this.removeListener("error",r),this.data=t,e(null,this)}).bind(this),r=(function(t){this.removeListener("parsed",n),e(t,null)}).bind(this),this.once("parsed",n),this.once("error",r)),this.end(t),this},c.prototype.write=function(t){return this._parser.write(t),!0},c.prototype.end=function(t){this._parser.end(t)},c.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},c.prototype._gamma=function(t){this.gamma=t},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(t,e,n,r,i,o,a,s){if(r|=0,i|=0,o|=0,a|=0,s|=0,(n|=0)>t.width||r>t.height||n+i>t.width||r+o>t.height)throw new Error("bitblt reading outside image");if(a>e.width||s>e.height||a+i>e.width||s+o>e.height)throw new Error("bitblt writing outside image");for(var u=0;u<o;u++)t.data.copy(e.data,(s+u)*e.width+a<<2,(r+u)*t.width+n<<2,(r+u)*t.width+n+i<<2)},c.prototype.bitblt=function(t,e,n,r,i,o,a){return c.bitblt(this,t,e,n,r,i,o,a),this},c.adjustGamma=function(t){if(t.gamma){for(var e=0;e<t.height;e++)for(var n=0;n<t.width;n++)for(var r=t.width*e+n<<2,i=0;i<3;i++){var o=t.data[r+i]/255;o=Math.pow(o,1/2.2/t.gamma),t.data[r+i]=Math.round(255*o)}t.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this,t("_process"),t("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(t,e,n){(function(r,i){"use strict";var o=t("assert").ok,a=t("zlib"),s=t("util"),u=t("buffer").kMaxLength;function c(t){if(!(this instanceof c))return new c(t);t&&t.chunkSize<a.Z_MIN_CHUNK&&(t.chunkSize=a.Z_MIN_CHUNK),a.Inflate.call(this,t),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&null!=t.maxLength&&(this._maxLength=t.maxLength)}function l(t,e){e&&r.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}function h(t,e){return function(t,e){if("string"==typeof e&&(e=i.from(e)),!(e instanceof i))throw new TypeError("Not a string or buffer");var n=t._finishFlushFlag;return null==n&&(n=a.Z_FINISH),t._processChunk(e,n)}(new c(e),t)}c.prototype._processChunk=function(t,e,n){if("function"==typeof n)return a.Inflate._processChunk.call(this,t,e,n);var r,s=this,c=t&&t.length,h=this._chunkSize-this._offset,f=this._maxLength,d=0,p=[],v=0;function m(t,e){if(!s._hadError){var n=h-e;if(o(n>=0,"have should not go down"),n>0){var r=s._buffer.slice(s._offset,s._offset+n);if(s._offset+=n,r.length>f&&(r=r.slice(0,f)),p.push(r),v+=r.length,0==(f-=r.length))return!1}return(0===e||s._offset>=s._chunkSize)&&(h=s._chunkSize,s._offset=0,s._buffer=i.allocUnsafe(s._chunkSize)),0===e&&(d+=c-t,c=t,!0)}}this.on("error",(function(t){r=t})),o(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(e,t,d,c,this._buffer,this._offset,h);g=g||this._writeState}while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw r;if(v>=u)throw l(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes");var y=i.concat(p,v);return l(this),y},s.inherits(c,a.Inflate),e.exports=n=h,n.Inflate=c,n.createInflate=function(t){return new c(t)},n.inflateSync=h}).call(this,t("_process"),t("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(t,e,n){"use strict";var r=e.exports=function(t){this._buffer=t,this._reads=[]};r.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var t=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=t.length||t.allowLess))break;this._reads.shift();var e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}},{}],132:[function(t,e,n){(function(t){"use strict";e.exports=void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:t}).call(this,t("_process"))},{_process:133}],133:[function(t,e,n){var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,l=[],h=!1,f=-1;function d(){h&&c&&(h=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!h){var t=u(d);h=!0;for(var e=l.length;e;){for(c=l,l=[];++f<e;)c&&c[f].run();f=-1,e=l.length}c=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new v(t,e)),1!==l.length||h||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],134:[function(t,e,n){(function(t){!function(r){var i="object"==typeof n&&n&&!n.nodeType&&n,o="object"==typeof e&&e&&!e.nodeType&&e,a="object"==typeof t&&t;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var s,u,c=2147483647,l=/^xn--/,h=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,v=String.fromCharCode;function m(t){throw new RangeError(d[t])}function g(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function y(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+g((t=t.replace(f,".")).split("."),e).join(".")}function b(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function _(t){return g(t,(function(t){var e="";return t>65535&&(e+=v((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+v(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function k(t,e,n){var r=0;for(t=n?p(t/700):t>>1,t+=p(t/e);t>455;r+=36)t=p(t/35);return p(r+36*t/(t+38))}function E(t){var e,n,r,i,o,a,s,u,l,h,f,d=[],v=t.length,g=0,y=128,b=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&m("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=g,a=1,s=36;i>=v&&m("invalid-input"),((u=(f=t.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>p((c-g)/a))&&m("overflow"),g+=u*a,!(u<(l=s<=b?1:s>=b+26?26:s-b));s+=36)a>p(c/(h=36-l))&&m("overflow"),a*=h;b=k(g-o,e=d.length+1,0==o),p(g/e)>c-y&&m("overflow"),y+=p(g/e),g%=e,d.splice(g++,0,y)}return _(d)}function S(t){var e,n,r,i,o,a,s,u,l,h,f,d,g,y,_,E=[];for(d=(t=b(t)).length,e=128,n=0,o=72,a=0;a<d;++a)(f=t[a])<128&&E.push(v(f));for(r=i=E.length,i&&E.push("-");r<d;){for(s=c,a=0;a<d;++a)(f=t[a])>=e&&f<s&&(s=f);for(s-e>p((c-n)/(g=r+1))&&m("overflow"),n+=(s-e)*g,e=s,a=0;a<d;++a)if((f=t[a])<e&&++n>c&&m("overflow"),f==e){for(u=n,l=36;!(u<(h=l<=o?1:l>=o+26?26:l-o));l+=36)E.push(v(w(h+(_=u-h)%(y=36-h),0))),u=p(_/y);E.push(v(w(u,0))),o=k(n,g,r==i),n=0,++r}++n,++e}return E.join("")}if(s={version:"1.4.1",ucs2:{decode:b,encode:_},decode:E,encode:S,toASCII:function(t){return y(t,(function(t){return h.test(t)?"xn--"+S(t):t}))},toUnicode:function(t){return y(t,(function(t){return l.test(t)?E(t.slice(4).toLowerCase()):t}))}},i&&o)if(e.exports==i)o.exports=s;else for(u in s)s.hasOwnProperty(u)&&(i[u]=s[u]);else r.punycode=s}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],135:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e=e||"&");var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,v=t[l].replace(s,"%20"),m=v.indexOf(n);m>=0?(h=v.substr(0,m),f=v.substr(m+1)):(h=v,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],136:[function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),(function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[a]))})).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],137:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":135,"./encode":136}],138:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(t,e,n){"use strict";var r=t("process-nextick-args"),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=h;var o=t("core-util-is");o.inherits=t("inherits");var a=t("./_stream_readable"),s=t("./_stream_writable");o.inherits(h,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(t,e,n){"use strict";e.exports=o;var r=t("./_stream_transform"),i=t("core-util-is");function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=t("inherits"),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(t,e,n){(function(n,r){"use strict";var i=t("process-nextick-args");e.exports=b;var o,a=t("isarray");b.ReadableState=y,t("events");var s=function(t,e){return t.listeners(e).length},u=t("./internal/streams/stream"),c=t("safe-buffer").Buffer,l=r.Uint8Array||function(){},h=t("core-util-is");h.inherits=t("inherits");var f=t("util"),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,v=t("./internal/streams/BufferList"),m=t("./internal/streams/destroy");h.inherits(b,u);var g=["error","close","destroy","pause","resume"];function y(e,n){var r=n instanceof(o=o||t("./_stream_duplex"));this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||t("./_stream_duplex"),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(t,e,n,r,i){var o,a=t._readableState;return null===e?(a.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}}(t,a)):(i||(o=function(t,e){var n,r;return c.isBuffer(r=e)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):C(t,a)):w(t,a,e,!1))):r||(a.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),C(t,e)}function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(S,t):S(t))}function S(t){d("emit readable"),t.emit("readable"),A(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function T(t){d("readable nexttick read 0"),t.read(0)}function x(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(i+=a===o.length?o:o.slice(0,t),0==(t-=a)){a===o.length?(++r,e.head=n.next?n.next:e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0==(t-=a)){a===o.length?(++i,e.head=r.next?r.next:e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function R(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},b.prototype.unshift=function(t){return _(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=t("string_decoder/").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?R(this):E(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&R(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(r=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&R(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=e&&!1===e.end||t===n.stdout||t===n.stderr?y:c;function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",(function e(n,i){d("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",v),t.removeListener("unpipe",e),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",p),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}));var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,A(t))}}(r);t.on("drain",l);var h=!1,f=!1;function p(e){d("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!h&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function v(e){d("onerror",e),y(),t.removeListener("error",v),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",g),y()}function g(){d("onfinish"),t.removeListener("close",m),y()}function y(){d("unpipe"),r.unpipe(t)}return r.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener("error",n);t._events&&t._events.error?a(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on("error",n)}(t,0,v),t.once("close",m),t.once("finish",g),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=N(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.addListener=b.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(T,this))}return n},b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(x,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(t,e,n){"use strict";e.exports=a;var r=t("./_stream_duplex"),i=t("core-util-is");function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){u(t,e,n)})):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=t("inherits"),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(t,e,n){(function(n,r,i){"use strict";var o=t("process-nextick-args");function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}e.exports=y;var s,u=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?i:o.nextTick;y.WritableState=g;var c=t("core-util-is");c.inherits=t("inherits");var l,h={deprecate:t("util-deprecate")},f=t("./internal/streams/stream"),d=t("safe-buffer").Buffer,p=r.Uint8Array||function(){},v=t("./internal/streams/destroy");function m(){}function g(e,n){s=s||t("./_stream_duplex");var r=n instanceof s;this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(S,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),S(t,e))}(t,n,r,e,i);else{var a=k(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?u(_,t,n,a,i):_(t,n,a,i)}}(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||t("./_stream_duplex"),!(l.call(y,this)||this instanceof s))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),S(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=new Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=n;for(var o=0,s=!0;n;)r[o]=n,n.isBuf||(s=!1),n=n.next,o+=1;r.allBuffers=s,b(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(b(t,e,!1,e.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),S(t,e)}))}function S(t,e){var n=k(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(y,f),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===y&&t&&t._writableState instanceof g}})):l=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(d.isBuffer(r=t)||r instanceof p);return s&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,n)),e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,r,i,o);return u}(this,i,s,t,e,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,S(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{},t("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=t("util");e.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e=r.allocUnsafe(t>>>0),n=this.head,i=0;n;)n.data.copy(e,i),i+=n.data.length,n=n.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},{"safe-buffer":147,util:33}],145:[function(t,e,n){"use strict";var r=t("process-nextick-args");function i(t,e){t.emit("error",e)}e.exports={destroy:function(t,e){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":132}],146:[function(t,e,n){e.exports=t("events").EventEmitter},{events:52}],147:[function(t,e,n){var r=t("buffer"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,n),n.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},{buffer:48}],148:[function(t,e,n){"use strict";var r=t("safe-buffer").Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}n.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":147}],149:[function(t,e,n){e.exports=t("./readable").PassThrough},{"./readable":150}],150:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(t,e,n){e.exports=t("./readable").Transform},{"./readable":150}],152:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=Object.create((e&&e.prototype instanceof l?e:l).prototype),o=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,o),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=s;var c={};function l(){}function h(){}function f(){}var d={};d[i]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(E([])));v&&v!==e&&n.call(v,i)&&(d=v);var m=f.prototype=l.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t){var e;this._invoke=function(r,i){function o(){return new Promise((function(e,o){!function e(r,i,o,a){var s=u(t[r],t,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,a)}))}a(s.arg)}(r,i,e,o)}))}return e=e?e.then(o,o):o()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m.constructor=f,f.constructor=h,f[a]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,i){var o=new y(s(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},g(m),m[a]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}("object"==typeof e?e.exports:{});try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},{}],154:[function(t,e,n){var r=t("buffer"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,n),n.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},{buffer:48}],155:[function(t,e,n){e.exports=i;var r=t("events").EventEmitter;function i(){r.call(this)}t("inherits")(i,r),i.Readable=t("readable-stream/readable.js"),i.Writable=t("readable-stream/writable.js"),i.Duplex=t("readable-stream/duplex.js"),i.Transform=t("readable-stream/transform.js"),i.PassThrough=t("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",c),t.on("error",c),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(t,e,n){(function(e){var r=t("./lib/request"),i=t("./lib/response"),o=t("xtend"),a=t("builtin-status-codes"),s=t("url"),u=n;u.request=function(t,n){t="string"==typeof t?s.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?a+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},u.get=function(t,e){var n=u.request(t,e);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(t,e,n){(function(t){var e;function r(){if(void 0!==e)return e;if(t.XMLHttpRequest){e=new t.XMLHttpRequest;try{e.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(n){e=null}}else e=null;return e}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(n){}return!1}function o(t){return"function"==typeof t}n.fetch=o(t.fetch)&&o(t.ReadableStream),n.writableStream=o(t.WritableStream),n.abortController=o(t.AbortController),n.arraybuffer=n.fetch||i("arraybuffer"),n.msstream=!n.fetch&&i("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&i("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||!!r()&&o(r().overrideMimeType),e=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],158:[function(t,e,n){(function(n,r,i){var o=t("./capability"),a=t("inherits"),s=t("./response"),u=t("readable-stream"),c=s.IncomingMessage,l=s.readyStates,h=e.exports=function(t){var e,n=this;u.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+i.from(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){n.setHeader(e,t.headers[e])}));var r=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)r=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}n._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":"text"}(e,r),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};a(h,u.Writable),h.prototype.setHeader=function(t,e){var n=t.toLowerCase();-1===f.indexOf(n)&&(this._headers[n]={name:t,value:e})},h.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},h.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},h.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts,i=t._headers,a=null;"GET"!==e.method&&"HEAD"!==e.method&&(a=new Blob(t._body,{type:(i["content-type"]||{}).value||""}));var s=[];if(Object.keys(i).forEach((function(t){var e=i[t].name,n=i[t].value;Array.isArray(n)?n.forEach((function(t){s.push([e,t])})):s.push([e,n])})),"fetch"===t._mode){var u=null;if(o.abortController){var c=new AbortController;u=c.signal,t._fetchAbortController=c,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=r.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),e.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:u}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)}))}else{var h=t._xhr=new r.XMLHttpRequest;try{h.open(t._opts.method,t._opts.url,!0)}catch(f){return void n.nextTick((function(){t.emit("error",f)}))}"responseType"in h&&(h.responseType=t._mode),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(h.timeout=e.requestTimeout,h.ontimeout=function(){t.emit("requestTimeout")}),s.forEach((function(t){h.setRequestHeader(t[0],t[1])})),t._response=null,h.onreadystatechange=function(){switch(h.readyState){case l.LOADING:case l.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(h.onprogress=function(){t._onXHRProgress()}),h.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{h.send(a)}catch(f){return void n.nextTick((function(){t.emit("error",f)}))}}}},h.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(n){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var t=this;t._destroyed||(t._response=new c(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},h.prototype._write=function(t,e,n){this._body.push(t),n()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(t,e,n){"function"==typeof t&&(n=t,t=void 0),u.Writable.prototype.end.call(this,t,e,n)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{},t("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(t,e,n){(function(e,r,i){var o=t("./capability"),a=t("inherits"),s=t("readable-stream"),u=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=n.IncomingMessage=function(t,n,a,u){var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===a){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach((function(t,e){c.headers[e.toLowerCase()]=t,c.rawHeaders.push(e,t)})),o.writableStream){var l=new WritableStream({write:function(t){return new Promise((function(e,n){c._destroyed?n():c.push(i.from(t))?e():c._resumeFetch=e}))},close:function(){r.clearTimeout(u),c._destroyed||c.push(null)},abort:function(t){c._destroyed||c.emit("error",t)}});try{return void n.body.pipeTo(l).catch((function(t){r.clearTimeout(u),c._destroyed||c.emit("error",t)}))}catch(p){}}var h=n.body.getReader();!function t(){h.read().then((function(e){if(!c._destroyed){if(e.done)return r.clearTimeout(u),void c.push(null);c.push(i.from(e.value)),t()}})).catch((function(t){r.clearTimeout(u),c._destroyed||c.emit("error",t)}))}()}else if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(e[2])):void 0!==c.headers[n]?c.headers[n]+=", "+e[2]:c.headers[n]=e[2],c.rawHeaders.push(e[1],e[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var d=f.match(/;\s*charset=([^;])(;|$)/);d&&(c._charset=d[1].toLowerCase())}c._charset||(c._charset="utf-8")}};a(c,s.Readable),c.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text":if((n=e.responseText).length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var a=i.alloc(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);t.push(a)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(i.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(i.from(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==u.LOADING)break;var c=new r.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(i.from(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{},t("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(t,e,n){"use strict";var r={};function i(t,e,n){n||(n=Error);var i=function(t){var n,r;function i(n,r,i){return t.call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,r,i))||this}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=t,r[t]=i}function o(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(t,e,n){var r,i,a,s;if("string"==typeof e&&"not "===e.substr(0,"not ".length)?(r="must not be",e=e.replace(/^not /,"")):r="must be",a=t,(void 0===s||s>a.length)&&(s=a.length)," argument"===a.substring(s-" argument".length,s))i="The ".concat(t," ").concat(r," ").concat(o(e,"type"));else{var u=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+".".length>t.length)&&-1!==t.indexOf(".",n)}(t)?"property":"argument";i='The "'.concat(t,'" ').concat(u," ").concat(r," ").concat(o(e,"type"))}return i+". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},{}],161:[function(t,e,n){(function(t){"use strict";var n=new Set;e.exports.emitExperimentalWarning=t.emitWarning?function(e){if(!n.has(e)){var r=e+" is an experimental feature. This feature could change at any time";n.add(e),t.emitWarning(r,"ExperimentalWarning")}}:function(){}}).call(this,t("_process"))},{_process:133}],162:[function(t,e,n){(function(n){"use strict";var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=c;var i=t("./_stream_readable"),o=t("./_stream_writable");t("inherits")(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),o.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,t("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(t,e,n){"use strict";e.exports=i;var r=t("./_stream_transform");function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}t("inherits")(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":165,inherits:75}],164:[function(t,e,n){(function(n,r){"use strict";var i;e.exports=S,S.ReadableState=E,t("events");var o,a=function(t,e){return t.listeners(e).length},s=t("./internal/streams/stream"),u=t("buffer").Buffer,c=r.Uint8Array||function(){},l=t("util");o=l&&l.debuglog?l.debuglog("stream"):function(){};var h,f,d=t("./internal/streams/buffer_list"),p=t("./internal/streams/destroy"),v=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=t("../experimentalWarning").emitExperimentalWarning;t("inherits")(S,s);var k=["error","close","destroy","pause","resume"];function E(e,n,r){i=i||t("./_stream_duplex"),"boolean"!=typeof r&&(r=n instanceof i),this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=t("string_decoder/").StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(i=i||t("./_stream_duplex"),!(this instanceof S))return new S(e);this._readableState=new E(e,this,this instanceof i),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function C(t,e,n,r,i){o("readableAddChunk",e);var a,s=t._readableState;if(null===e)s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?x(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,A(t)))}}(t,s);else if(i||(a=function(t,e){var n,r;return u.isBuffer(r=e)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],e)),n}(s,e)),a)t.emit("error",a);else if(s.objectMode||e&&e.length>0)if("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r)s.endEmitted?t.emit("error",new _):I(t,s,e,!0);else if(s.ended)t.emit("error",new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?I(t,s,e,!1):O(t,s)):I(t,s,e,!1)}else r||(s.reading=!1,O(t,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function I(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&x(t)),O(t,e)}function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,n.nextTick(A,t))}function A(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||t.emit("readable"),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,D(t)}function O(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(R,t,e))}function R(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){o("readable nexttick read 0"),t.read(0)}function M(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function L(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function j(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,n.nextTick(F,e,t))}function F(t,e){o("endReadableNT",t.endEmitted,t.length),t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function U(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),C(this,t,e,!1,n)},S.prototype.unshift=function(t){return C(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return h||(h=t("string_decoder/").StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=this._readableState.decoder.encoding,this},S.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):x(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&j(this),null;var r,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(n,e))),null===(r=t>0?L(t,e):null)?(e.needReadable=!0,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&j(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(t){this.emit("error",new b("_read()"))},S.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,e);var s=e&&!1===e.end||t===n.stdout||t===n.stderr?v:u;function u(){o("onend"),t.end()}i.endEmitted?n.nextTick(s):r.once("end",s),t.on("unpipe",(function e(n,a){o("onunpipe"),n===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",e),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",h),l=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,D(t))}}(r);t.on("drain",c);var l=!1;function h(e){o("ondata");var n=t.write(e);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==U(i.pipes,t))&&!l&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(e){o("onerror",e),v(),t.removeListener("error",f),0===a(t,"error")&&t.emit("error",e)}function d(){t.removeListener("finish",p),v()}function p(){o("onfinish"),t.removeListener("close",d),v()}function v(){o("unpipe"),r.unpipe(t)}return r.on("data",h),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener("error",n);t._events&&t._events.error?Array.isArray(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on("error",n)}(t,0,f),t.once("close",d),t.once("finish",p),t.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},S.prototype.addListener=S.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e),i=this._readableState;return"data"===t?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===t&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?x(this):i.reading||n.nextTick(N,this))),r},S.prototype.removeListener=function(t,e){var r=s.prototype.removeListener.call(this,t,e);return"readable"===t&&n.nextTick(P,this),r},S.prototype.removeAllListeners=function(t){var e=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||n.nextTick(P,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(M,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var a=0;a<k.length;a++)t.on(k[a],this.emit.bind(this,k[a]));return this._read=function(e){o("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return w("Readable[Symbol.asyncIterator]"),void 0===f&&(f=t("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=L,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(t,e,n){"use strict";e.exports=l;var r=t("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function c(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(t){if(!(this instanceof l))return new l(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new s;if(t._transformState.transforming)throw new a;return t.push(null)}t("inherits")(l,u),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(t,e,n){(function(n,r){"use strict";function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}var o;e.exports=S,S.WritableState=E;var a,s={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),c=t("buffer").Buffer,l=r.Uint8Array||function(){},h=t("./internal/streams/destroy"),f=t("./internal/streams/state").getHighWaterMark,d=t("../errors").codes,p=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING;function k(){}function E(e,r,a){o=o||t("./_stream_duplex"),"boolean"!=typeof a&&(a=r instanceof o),this.objectMode=!!(e=e||{}).objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===e.decodeStrings),this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new m;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,o){--e.pendingcb,r?(n.nextTick(o,i),n.nextTick(O,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),O(t,e))}(t,r,i,e,o);else{var a=x(r)||t.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||T(t,r),i?n.nextTick(I,t,r,a,o):I(t,r,a,o)}}(r,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function S(e){var n=this instanceof(o=o||t("./_stream_duplex"));if(!n&&!a.call(S,this))return new S(e);this._writableState=new E(e,this,n),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function C(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new y("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function I(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),O(t,e)}function T(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=new Array(e.bufferedRequestCount),o=e.corkedRequestsFree;o.entry=n;for(var a=0,s=!0;n;)r[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;r.allBuffers=s,C(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(C(t,e,!1,e.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function A(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),O(t,e)}))}function O(t,e){var r=x(e);return r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,n.nextTick(A,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}t("inherits")(S,u),E.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!a.call(this,t)||this===S&&t&&t._writableState instanceof E}})):a=function(t){return t instanceof this},S.prototype.pipe=function(){this.emit("error",new g)},S.prototype.write=function(t,e,r){var i,o=this._writableState,a=!1,s=!o.objectMode&&(c.isBuffer(i=t)||i instanceof l);return s&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=k),o.ending?function(t,e){var r=new _;t.emit("error",r),n.nextTick(e,r)}(this,r):(s||function(t,e,r,i){var o;return null===r?o=new b:"string"==typeof r||e.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(t.emit("error",o),n.nextTick(i,o),!1)}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n)),e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,s,r,i,o);return u}(this,o,s,t,e,r)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,n){n(new v("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,O(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(t,e){e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(t,e,n){(function(n){"use strict";var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=t("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[a];if(null!==e){var n=t[f].read();null!==n&&(t[l]=null,t[a]=null,t[s]=null,e(d(n,!1)))}}function v(t){n.nextTick(p,t)}var m=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise((function(e,r){n.nextTick((function(){t[u]?r(t[u]):e(d(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(t,e){return function(n,r){t.then((function(){e[c]?n(d(void 0,!0)):e[h](n,r)}),r)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(d(o,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var t=this;return new Promise((function(e,n){t[f].destroy(null,(function(t){t?n(t):e(d(void 0,!0))}))}))})),r),m);e.exports=function(t){var e,n=Object.create(g,(i(e={},f,{value:t,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,s,{value:null,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,c,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var r=n[f].read();r?(n[l]=null,n[a]=null,n[s]=null,t(d(r,!1))):(n[a]=t,n[s]=e)},writable:!0}),e));return n[l]=null,o(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[s];return null!==e&&(n[l]=null,n[a]=null,n[s]=null,e(t)),void(n[u]=t)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(d(void 0,!0))),n[c]=!0})),t.on("readable",v.bind(null,n)),n}}).call(this,t("_process"))},{"./end-of-stream":170,_process:133}],168:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=t("buffer").Buffer,o=t("util").inspect,a=o&&o.custom||"inspect";e.exports=function(){function t(){this.head=null,this.tail=null,this.length=0}var e=t.prototype;return e.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},e.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},e.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},e.clear=function(){this.head=this.tail=null,this.length=0},e.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},e.concat=function(t){if(0===this.length)return i.alloc(0);for(var e=i.allocUnsafe(t>>>0),n=this.head,r=0;n;)i.prototype.copy.call(n.data,e,r),r+=n.data.length,n=n.next;return e},e.consume=function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n},e.first=function(){return this.head.data},e._getString=function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(r+=o===i.length?i:i.slice(0,t),0==(t-=o)){o===i.length?(++n,this.head=e.next?e.next:this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r},e._getBuffer=function(t){var e=i.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(e,e.length-t,0,a),0==(t-=a)){a===o.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=o.slice(a));break}++r}return this.length-=r,e},e[a]=function(t,e){return o(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){r(t,e,n[e])}))}return t}({},e,{depth:0,customInspect:!1}))},t}()},{buffer:48,util:33}],169:[function(t,e,n){(function(t){"use strict";function n(t,e){i(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,e){t.emit("error",e)}e.exports={destroy:function(e,o){var a=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(o?o(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?(t.nextTick(n,a,e),a._writableState&&(a._writableState.errorEmitted=!0)):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}).call(this,t("_process"))},{_process:133}],170:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,u=function(){e.writable||l()},c=e._writableState&&e._writableState.finished,l=function(){s=!1,c=!0,a||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){a=!1,h=!0,s||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return a&&!h?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):s&&!c?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},v=function(){e.req.on("finish",l)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",l),e.on("abort",p),e.req?v():e.on("request",v)):s&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",f),e.on("finish",l),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",l),e.removeListener("abort",p),e.removeListener("request",v),e.req&&e.req.removeListener("finish",l),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},{"../../../errors":160}],171:[function(t,e,n){"use strict";var r,i=t("../../../errors").codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(t){if(t)throw t}function u(e,n,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=t("./end-of-stream")),r(e,{readable:n,writable:i},(function(t){if(t)return o(t);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(t){t()}function l(t,e){return t.pipe(e)}function h(t){return t.length?"function"!=typeof t[t.length-1]?s:t.pop():s}e.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=h(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var a=e.map((function(t,n){var o=n<e.length-1;return u(t,o,n>0,(function(t){r||(r=t),t&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return e.reduce(l)}},{"../../../errors":160,"./end-of-stream":170}],172:[function(t,e,n){"use strict";var r=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},{"../../../errors":160}],173:[function(t,e,n){arguments[4][146][0].apply(n,arguments)},{dup:146,events:52}],174:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js"),n.finished=t("./lib/internal/streams/end-of-stream.js"),n.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(t,e,n){arguments[4][148][0].apply(n,arguments)},{dup:148,"safe-buffer":154}],176:[function(t,e,n){(function(e,i){var o=t("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(a.call(setTimeout,r,arguments),clearTimeout)},n.setInterval=function(){return new l(a.call(setInterval,r,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(r,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&s.call(arguments,1);return u[e]=!0,o((function(){u[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof i?i:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(t,e,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){throw new Error(t)}function i(t){var e=Object.keys(t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e}n.clone=a,n.addLast=c,n.addFirst=l,n.removeLast=h,n.removeFirst=f,n.insert=d,n.removeAt=p,n.replaceAt=v,n.getIn=m,n.set=g,n.setIn=y,n.update=b,n.updateIn=_,n.merge=w,n.mergeDeep=k,n.mergeIn=E,n.omit=S,n.addDefaults=C;var o={}.hasOwnProperty;function a(t){if(Array.isArray(t))return t.slice();for(var e=i(t),n={},r=0;r<e.length;r++){var o=e[r];n[o]=t[o]}return n}function s(e,n,o){var c=o;null==c&&r("production"!==t.env.NODE_ENV?"At least one object should be provided to merge()":"INVALID_ARGS");for(var l=!1,h=arguments.length,f=Array(h>3?h-3:0),d=3;d<h;d++)f[d-3]=arguments[d];for(var p=0;p<f.length;p++){var v=f[p];if(null!=v){var m=i(v);if(m.length)for(var g=0;g<=m.length;g++){var y=m[g];if(!e||void 0===c[y]){var b=v[y];n&&u(c[y])&&u(b)&&(b=s(e,n,c[y],b)),void 0!==b&&b!==c[y]&&(l||(l=!0,c=a(c)),c[y]=b)}}}}return c}function u(t){var n=void 0===t?"undefined":e(t);return null!=t&&"object"===n}function c(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}function l(t,e){return Array.isArray(e)?e.concat(t):[e].concat(t)}function h(t){return t.length?t.slice(0,t.length-1):t}function f(t){return t.length?t.slice(1):t}function d(t,e,n){return t.slice(0,e).concat(Array.isArray(n)?n:[n]).concat(t.slice(e))}function p(t,e){return e>=t.length||e<0?t:t.slice(0,e).concat(t.slice(e+1))}function v(t,e,n){if(t[e]===n)return t;for(var r=t.length,i=Array(r),o=0;o<r;o++)i[o]=t[o];return i[e]=n,i}function m(e,n){if(!Array.isArray(n)&&r("production"!==t.env.NODE_ENV?"A path array should be provided when calling getIn()":"INVALID_ARGS"),null!=e){for(var i=e,o=0;o<n.length;o++)if(void 0===(i=null!=i?i[n[o]]:void 0))return i;return i}}function g(t,e,n){var r=null==t?"number"==typeof e?[]:{}:t;if(r[e]===n)return r;var i=a(r);return i[e]=n,i}function y(t,e,n){return e.length?function t(e,n,r,i){var o=n[i];return g(e,o,i===n.length-1?r:t(u(e)&&u(e[o])?e[o]:"number"==typeof n[i+1]?[]:{},n,r,i+1))}(t,e,n,0):n}function b(t,e,n){return g(t,e,n(null==t?void 0:t[e]))}function _(t,e,n){return y(t,e,n(m(t,e)))}function w(t,e,n,r,i,o){for(var a=arguments.length,u=Array(a>6?a-6:0),c=6;c<a;c++)u[c-6]=arguments[c];return u.length?s.call.apply(s,[null,!1,!1,t,e,n,r,i,o].concat(u)):s(!1,!1,t,e,n,r,i,o)}function k(t,e,n,r,i,o){for(var a=arguments.length,u=Array(a>6?a-6:0),c=6;c<a;c++)u[c-6]=arguments[c];return u.length?s.call.apply(s,[null,!1,!0,t,e,n,r,i,o].concat(u)):s(!1,!0,t,e,n,r,i,o)}function E(t,e,n,r,i,o,a){var u=m(t,e);null==u&&(u={});for(var c=arguments.length,l=Array(c>7?c-7:0),h=7;h<c;h++)l[h-7]=arguments[h];return y(t,e,l.length?s.call.apply(s,[null,!1,!1,u,n,r,i,o,a].concat(l)):s(!1,!1,u,n,r,i,o,a))}function S(t,e){for(var n=Array.isArray(e)?e:[e],r=!1,a=0;a<n.length;a++)if(o.call(t,n[a])){r=!0;break}if(!r)return t;for(var s={},u=i(t),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)>=0||(s[l]=t[l])}return s}function C(t,e,n,r,i,o){for(var a=arguments.length,u=Array(a>6?a-6:0),c=6;c<a;c++)u[c-6]=arguments[c];return u.length?s.call.apply(s,[null,!0,!1,t,e,n,r,i,o].concat(u)):s(!0,!1,t,e,n,r,i,o)}n.default={clone:a,addLast:c,addFirst:l,removeLast:h,removeFirst:f,insert:d,removeAt:p,replaceAt:v,getIn:m,set:g,setIn:y,update:b,updateIn:_,merge:w,mergeDeep:k,mergeIn:E,omit:S,addDefaults:C}}).call(this,t("_process"))},{_process:133}],178:[function(t,e,n){!function(t){var n=/^\s+/,i=/\s+$/,o=0,a=t.round,s=t.min,u=t.max,c=t.random;function l(e,r){if(r=r||{},(e=e||"")instanceof l)return e;if(!(this instanceof l))return new l(e,r);var c=function(e){var r,o,a={r:0,g:0,b:0},c=1,l=null,h=null,f=null,d=!1,p=!1;return"string"==typeof e&&(e=function(t){t=t.replace(n,"").replace(i,"").toLowerCase();var e,r=!1;if(x[t])t=x[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=z.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=z.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=z.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=z.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=z.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=z.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=z.hex8.exec(t))?{r:N(e[1]),g:N(e[2]),b:N(e[3]),a:j(e[4]),format:r?"name":"hex8"}:(e=z.hex6.exec(t))?{r:N(e[1]),g:N(e[2]),b:N(e[3]),format:r?"name":"hex"}:(e=z.hex4.exec(t))?{r:N(e[1]+""+e[1]),g:N(e[2]+""+e[2]),b:N(e[3]+""+e[3]),a:j(e[4]+""+e[4]),format:r?"name":"hex8"}:!!(e=z.hex3.exec(t))&&{r:N(e[1]+""+e[1]),g:N(e[2]+""+e[2]),b:N(e[3]+""+e[3]),format:r?"name":"hex"}}(e)),"object"==typeof e&&(q(e.r)&&q(e.g)&&q(e.b)?(r=e.g,o=e.b,a={r:255*R(e.r,255),g:255*R(r,255),b:255*R(o,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):q(e.h)&&q(e.s)&&q(e.v)?(l=D(e.s),h=D(e.v),a=function(e,n,r){e=6*R(e,360),n=R(n,100),r=R(r,100);var i=t.floor(e),o=e-i,a=r*(1-n),s=r*(1-o*n),u=r*(1-(1-o)*n),c=i%6;return{r:255*[r,s,a,a,u,r][c],g:255*[u,r,r,s,a,a][c],b:255*[a,a,u,r,r,s][c]}}(e.h,l,h),d=!0,p="hsv"):q(e.h)&&q(e.s)&&q(e.l)&&(l=D(e.s),f=D(e.l),a=function(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=R(t,360),e=R(e,100),n=R(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=a(u,s,t+1/3),i=a(u,s,t),o=a(u,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,l,f),d=!0,p="hsl"),e.hasOwnProperty("a")&&(c=e.a)),c=O(c),{ok:d,format:e.format||p,r:s(255,u(a.r,0)),g:s(255,u(a.g,0)),b:s(255,u(a.b,0)),a:c}}(e);this._originalInput=e,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=a(100*this._a)/100,this._format=r.format||c.format,this._gradientType=r.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=c.ok,this._tc_id=o++}function h(t,e,n){t=R(t,255),e=R(e,255),n=R(n,255);var r,i,o=u(t,e,n),a=s(t,e,n),c=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=c>.5?l/(2-o-a):l/(o+a),o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,l:c}}function f(t,e,n){t=R(t,255),e=R(e,255),n=R(n,255);var r,i,o=u(t,e,n),a=s(t,e,n),c=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:i,v:c}}function d(t,e,n,r){var i=[M(a(t).toString(16)),M(a(e).toString(16)),M(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function p(t,e,n,r){return[M(L(r)),M(a(t).toString(16)),M(a(e).toString(16)),M(a(n).toString(16))].join("")}function v(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=P(n.s),l(n)}function m(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=P(n.s),l(n)}function g(t){return l(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=P(n.l),l(n)}function b(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=u(0,s(255,n.r-a(-e/100*255))),n.g=u(0,s(255,n.g-a(-e/100*255))),n.b=u(0,s(255,n.b-a(-e/100*255))),l(n)}function _(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=P(n.l),l(n)}function w(t,e){var n=l(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,l(n)}function k(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function E(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function C(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function I(t,e,n){e=e||6,n=n||30;var r=l(t).toHsl(),i=360/n,o=[l(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(l(r));return o}function T(t,e){e=e||6;for(var n=l(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(l({h:r,s:i,v:o})),o=(o+s)%1;return a}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return n=i.g/255,r=i.b/255,.2126*((e=i.r/255)<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=O(t),this._roundA=a(100*this._a)/100,this},toHsv:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=f(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=h(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[M(a(t).toString(16)),M(a(e).toString(16)),M(a(n).toString(16)),M(L(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*R(this._r,255))+"%",g:a(100*R(this._g,255))+"%",b:a(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*R(this._r,255))+"%, "+a(100*R(this._g,255))+"%, "+a(100*R(this._b,255))+"%)":"rgba("+a(100*R(this._r,255))+"%, "+a(100*R(this._g,255))+"%, "+a(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=l(t);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1;return e||!(this._a<1&&this._a>=0)||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return l(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:D(t[r]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:c(),g:c(),b:c()})},l.mix=function(t,e,n){n=0===n?0:n||50;var r=l(t).toRgb(),i=l(e).toRgb(),o=n/100;return l({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},l.readability=function(e,n){var r=l(e),i=l(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},l.isReadable=function(t,e,n){var r,i,o,a,s,u=l.readability(t,e);switch(i=!1,(o=n,a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase(),s=(o.size||"small").toLowerCase(),"AA"!==a&&"AAA"!==a&&(a="AA"),"small"!==s&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":i=u>=4.5;break;case"AAlarge":i=u>=3;break;case"AAAsmall":i=u>=7}return i},l.mostReadable=function(t,e,n){var r,i,o,a,s=null,u=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)(r=l.readability(t,e[c]))>u&&(u=r,s=l(e[c]));return l.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,l.mostReadable(t,["#fff","#000"],n))};var x=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(x);function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function R(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=s(n,u(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function P(t){return s(1,u(0,t))}function N(t){return parseInt(t,16)}function M(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function L(e){return t.round(255*parseFloat(e)).toString(16)}function j(t){return N(t)/255}var F,U,B,z=(U="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",B="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function q(t){return!!z.CSS_UNIT.exec(t)}void 0!==e&&e.exports?e.exports=l:r.tinycolor=l}(Math)},{}],179:[function(t,e,n){(n=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],180:[function(t,e,n){"use strict";var r=t("punycode"),i=t("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=b,n.resolve=function(t,e){return b(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},n.format=function(t){return i.isString(t)&&(t=b(t)),t instanceof o?t.format():o.prototype.format.call(t)},n.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=t("querystring");function b(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(s);if(b=b.trim(),!n&&1===t.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||w&&m[w]||(b=b.substr(2),this.slashes=!0)}if(!m[w]&&(E||w&&!g[w])){for(var S,C,I=-1,T=0;T<f.length;T++)-1!==(x=b.indexOf(f[T]))&&(-1===I||x<I)&&(I=x);for(-1!==(C=-1===I?b.lastIndexOf("@"):b.lastIndexOf("@",I))&&(S=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(S)),I=-1,T=0;T<h.length;T++){var x;-1!==(x=b.indexOf(h[T]))&&(-1===I||x<I)&&(I=x)}-1===I&&(I=b.length),this.host=b.slice(0,I),b=b.slice(I),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var O=this.hostname.split(/\./),R=(T=0,O.length);T<R;T++){var P=O[T];if(P&&!P.match(d)){for(var N="",M=0,D=P.length;M<D;M++)P.charCodeAt(M)>127?N+="x":N+=P[M];if(!N.match(d)){var L=O.slice(0,T),j=O.slice(T+1),F=P.match(p);F&&(L.push(F[1]),j.unshift(F[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=L.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[k])for(T=0,R=l.length;T<R;T++){var U=l[T];if(-1!==b.indexOf(U)){var B=encodeURIComponent(U);B===U&&(B=escape(U)),b=b.split(U).join(B)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var q=b.indexOf("?");return-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,q)):e&&(this.search="",this.query={}),b&&(this.pathname=b),g[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||v||n.host&&t.pathname,_=b,w=n.pathname&&n.pathname.split("/")||[],k=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===w[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search))return k&&(n.hostname=n.host=w.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var E=w.slice(-1)[0],S=(n.host||t.host||w.length>1)&&("."===E||".."===E)||""===E,C=0,I=w.length;I>=0;I--)"."===(E=w[I])?w.splice(I,1):".."===E?(w.splice(I,1),C++):C&&(w.splice(I,1),C--);if(!b&&!_)for(;C--;C)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var T,x=""===w[0]||w[0]&&"/"===w[0].charAt(0);return k&&(n.hostname=n.host=x?"":w.length?w.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),(b=b||n.host&&w.length)&&!x&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":181,punycode:134,querystring:137}],181:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],182:[function(t,e,n){(function(n){!function(){var r={};function i(){void 0!==n&&"development"!=n.env.NODE_ENV||console.log.apply(console,arguments)}"object"==typeof e?e.exports=r:self.UTIF=r,function(t,e){var n,r,o;n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t){this.message="JPEG error: "+t}return(t.prototype=Error()).name="JpegError",t.constructor=t}(),o=function(){function t(t,e){this.message=t,this.g=e}return(t.prototype=Error()).name="DNLMarkerError",t.constructor=t}(),function(){function e(){this.M=null,this.B=-1}function i(t,e){for(var n,r,i=0,o=[],a=16;0<a&&!t[a-1];)a--;o.push({children:[],index:0});var s,u=o[0];for(n=0;n<a;n++){for(r=0;r<t[n];r++){for((u=o.pop()).children[u.index]=e[i];0<u.index;)u=o.pop();for(u.index++,o.push(u);o.length<=n;)o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;i++}n+1<a&&(o.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return o[0].children}function a(t,e,i,a,s,l,h,f,d){function p(){if(0<M)return M--,N>>M&1;if(255===(N=t[e++])){var n=t[e++];if(n){if(220===n&&O){e+=2;var a=t[e++]<<8|t[e++];if(0<a&&a!==i.g)throw new o("Found DNL marker (0xFFDC) while parsing scan data",a)}throw new r("unexpected marker "+(N<<8|n).toString(16))}}return M=7,N>>>7}function v(t){for(;;){if("number"==typeof(t=t[p()]))return t;if("object"!==(void 0===t?"undefined":n(t)))throw new r("invalid huffman sequence")}}function m(t){for(var e=0;0<t;)e=e<<1|p(),t--;return e}function g(t){if(1===t)return 1===p()?1:-1;var e=m(t);return e>=1<<t-1?e:e+(-1<<t)+1}function y(t,e){var n=v(t.D);for(n=0===n?0:g(n),t.a[e]=t.m+=n,n=1;64>n;){var r=v(t.o),i=15&r;if(r>>=4,0===i){if(15>r)break;n+=16}else t.a[e+c[n+=r]]=g(i),n++}}function b(t,e){var n=v(t.D);n=0===n?0:g(n)<<d,t.a[e]=t.m+=n}function _(t,e){t.a[e]|=p()<<d}function w(t,e){if(0<D)D--;else for(var n=l;n<=h;){var r=v(t.o),i=15&r;if(r>>=4,0===i){if(15>r){D=m(r)+(1<<r)-1;break}n+=16}else t.a[e+c[n+=r]]=g(i)*(1<<d),n++}}function k(t,e){for(var n,i=l,o=0;i<=h;){var a=0>t.a[n=e+c[i]]?-1:1;switch(L){case 0:if(n=15&(o=v(t.o)),o>>=4,0===n)15>o?(D=m(o)+(1<<o),L=4):(o=16,L=1);else{if(1!==n)throw new r("invalid ACn encoding");E=g(n),L=o?2:3}continue;case 1:case 2:t.a[n]?t.a[n]+=a*(p()<<d):0==--o&&(L=2===L?3:0);break;case 3:t.a[n]?t.a[n]+=a*(p()<<d):(t.a[n]=E<<d,L=0);break;case 4:t.a[n]&&(t.a[n]+=a*(p()<<d))}i++}4===L&&0==--D&&(L=0)}for(var E,S,C,I,T,x,A,O=9<arguments.length&&void 0!==arguments[9]&&arguments[9],R=i.P,P=e,N=0,M=0,D=0,L=0,j=a.length,F=i.S?0===l?0===f?b:_:0===f?w:k:y,U=0,B=1===j?a[0].c*a[0].l:R*i.O;U<B;){var z=s?Math.min(B-U,s):B;for(S=0;S<j;S++)a[S].m=0;if(D=0,1===j){var q=a[0];for(T=0;T<z;T++)F(q,64*((q.c+1)*(U/q.c|0)+U%q.c)),U++}else for(T=0;T<z;T++){for(S=0;S<j;S++)for(x=(q=a[S]).h,A=q.j,C=0;C<A;C++)for(I=0;I<x;I++)F(q,64*((q.c+1)*((U/R|0)*q.j+C)+(U%R*q.h+I)));U++}if(M=0,(q=u(t,e))&&q.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+q.f),e=q.offset),!(q=q&&q.F)||65280>=q)throw new r("marker was not found");if(!(65488<=q&&65495>=q))break;e+=2}return(q=u(t,e))&&q.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+q.f),e=q.offset),e-P}function s(t,e){for(var n=e.c,i=e.l,o=new Int16Array(64),a=0;a<i;a++)for(var s=0;s<n;s++){var u=64*((e.c+1)*a+s),c=o,l=e.G,h=e.a;if(!l)throw new r("missing required Quantization Table.");for(var f=0;64>f;f+=8){var d=h[u+f],p=h[u+f+1],v=h[u+f+2],m=h[u+f+3],g=h[u+f+4],y=h[u+f+5],b=h[u+f+6],_=h[u+f+7];if(d*=l[f],0==(p|v|m|g|y|b|_))c[f]=d=5793*d+512>>10,c[f+1]=d,c[f+2]=d,c[f+3]=d,c[f+4]=d,c[f+5]=d,c[f+6]=d,c[f+7]=d;else{m*=l[f+3],y*=l[f+5];var w=5793*d+128>>8,k=5793*(g*=l[f+4])+128>>8,E=v*=l[f+2],S=b*=l[f+6];k=(w=w+k+1>>1)-k,d=3784*E+1567*S+128>>8,E=1567*E-3784*S+128>>8,y=(g=(g=2896*((p*=l[f+1])-(_*=l[f+7]))+128>>8)+(y<<=4)+1>>1)-y,m=(_=(_=2896*(p+_)+128>>8)+(m<<=4)+1>>1)-m,S=(w=w+(S=d)+1>>1)-S,E=(k=k+E+1>>1)-E,d=2276*g+3406*_+2048>>12,g=3406*g-2276*_+2048>>12,_=d,d=799*m+4017*y+2048>>12,m=4017*m-799*y+2048>>12,y=d,c[f]=w+_,c[f+7]=w-_,c[f+1]=k+y,c[f+6]=k-y,c[f+2]=E+m,c[f+5]=E-m,c[f+3]=S+g,c[f+4]=S-g}}for(l=0;8>l;++l)d=c[l],0==((p=c[l+8])|(v=c[l+16])|(m=c[l+24])|(g=c[l+32])|(y=c[l+40])|(b=c[l+48])|(_=c[l+56]))?(h[u+l]=d=-2040>(d=5793*d+8192>>14)?0:2024<=d?255:d+2056>>4,h[u+l+8]=d,h[u+l+16]=d,h[u+l+24]=d,h[u+l+32]=d,h[u+l+40]=d,h[u+l+48]=d,h[u+l+56]=d):(k=(w=4112+((w=5793*d+2048>>12)+(k=5793*g+2048>>12)+1>>1))-k,d=3784*(E=v)+1567*(S=b)+2048>>12,E=1567*E-3784*S+2048>>12,S=d,y=(g=(g=2896*(p-_)+2048>>12)+y+1>>1)-y,m=(_=(_=2896*(p+_)+2048>>12)+m+1>>1)-m,d=2276*g+3406*_+2048>>12,g=3406*g-2276*_+2048>>12,_=d,d=799*m+4017*y+2048>>12,m=4017*m-799*y+2048>>12,y=d,d=(w=w+S+1>>1)+_,p=(k=k+E+1>>1)+y,b=k-y,y=(E=k-E)-m,p=16>p?0:4080<=p?255:p>>4,v=16>(v=E+m)?0:4080<=v?255:v>>4,m=16>(m=(S=w-S)+g)?0:4080<=m?255:m>>4,g=16>(g=S-g)?0:4080<=g?255:g>>4,y=16>y?0:4080<=y?255:y>>4,b=16>b?0:4080<=b?255:b>>4,_=16>(_=w-_)?0:4080<=_?255:_>>4,h[u+l]=d=16>d?0:4080<=d?255:d>>4,h[u+l+8]=p,h[u+l+16]=v,h[u+l+24]=m,h[u+l+32]=g,h[u+l+40]=y,h[u+l+48]=b,h[u+l+56]=_)}return e.a}function u(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,r=t.length-1;if(e>=r)return null;var i=t[e]<<8|t[e+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:e};for(var o=t[n=n<e?n:e]<<8|t[n+1];!(65472<=o&&65534>=o);){if(++n>=r)return null;o=t[n]<<8|t[n+1]}return{f:i.toString(16),F:o,offset:n}}var c=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);e.prototype={parse:function(t){function e(){var e=t[d]<<8|t[d+1];return d+=2,e}function n(){var n=e(),r=u(t,n=d+n-2,d);return r&&r.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+r.f),n=r.offset),n=t.subarray(d,n),d+=n.length,n}function l(t){for(var e=Math.ceil(t.v/8/t.s),n=Math.ceil(t.g/8/t.u),r=0;r<t.b.length;r++){T=t.b[r];var i=Math.ceil(Math.ceil(t.v/8)*T.h/t.s),o=Math.ceil(Math.ceil(t.g/8)*T.j/t.u);T.a=new Int16Array(64*n*T.j*(e*T.h+1)),T.c=i,T.l=o}t.P=e,t.O=n}var h=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,f=void 0===h?null:h,d=0,p=null,v=0;h=[];var m=[],g=[],y=e();if(65496!==y)throw new r("SOI not found");for(y=e();65497!==y;){switch(y){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var b=n();65518===y&&65===b[0]&&100===b[1]&&111===b[2]&&98===b[3]&&101===b[4]&&(p={version:b[5]<<8|b[6],Y:b[7]<<8|b[8],Z:b[9]<<8|b[10],W:b[11]});break;case 65499:y=e()+d-2;for(var _;d<y;){var w=t[d++],k=new Uint16Array(64);if(0==w>>4)for(b=0;64>b;b++)k[_=c[b]]=t[d++];else{if(1!=w>>4)throw new r("DQT - invalid table spec");for(b=0;64>b;b++)k[_=c[b]]=e()}h[15&w]=k}break;case 65472:case 65473:case 65474:if(E)throw new r("Only single frame JPEGs supported");e();var E={};for(E.X=65473===y,E.S=65474===y,E.precision=t[d++],y=e(),E.g=f||y,E.v=e(),E.b=[],E.C={},b=t[d++],y=k=w=0;y<b;y++){_=t[d];var S=t[d+1]>>4,C=15&t[d+1];w<S&&(w=S),k<C&&(k=C),S=E.b.push({h:S,j:C,T:t[d+2],G:null}),E.C[_]=S-1,d+=3}E.s=w,E.u=k,l(E);break;case 65476:for(_=e(),y=2;y<_;){for(w=t[d++],k=new Uint8Array(16),b=S=0;16>b;b++,d++)S+=k[b]=t[d];for(C=new Uint8Array(S),b=0;b<S;b++,d++)C[b]=t[d];y+=17+S,(0==w>>4?g:m)[15&w]=i(k,C)}break;case 65501:e();var I=e();break;case 65498:for(b=1==++v&&!f,e(),w=t[d++],_=[],y=0;y<w;y++){k=E.C[t[d++]];var T=E.b[k];k=t[d++],T.D=g[k>>4],T.o=m[15&k],_.push(T)}y=t[d++],w=t[d++],k=t[d++];try{var x=a(t,d,E,_,I,y,w,k>>4,15&k,b);d+=x}catch(A){if(A instanceof o)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(t,{N:A.g});throw A}break;case 65500:d+=4;break;case 65535:255!==t[d]&&d--;break;default:if(255===t[d-3]&&192<=t[d-2]&&254>=t[d-2])d-=3;else{if(!(b=u(t,d-2))||!b.f)throw new r("unknown marker "+y.toString(16));(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+b.f),d=b.offset}}y=e()}for(this.width=E.v,this.height=E.g,this.A=p,this.b=[],y=0;y<E.b.length;y++)(I=h[(T=E.b[y]).T])&&(T.G=I),this.b.push({R:s(0,T),U:T.h/E.s,V:T.j/E.u,c:T.c,l:T.l});this.i=this.b.length},L:function(t,e){var n,r,i=this.width/t,o=this.height/e,a=this.b.length,s=t*e*a,u=new Uint8ClampedArray(s),c=new Uint32Array(t);for(r=0;r<a;r++){var l=this.b[r],h=l.U*i,f=l.V*o,d=r,p=l.R,v=l.c+1<<3;for(n=0;n<t;n++)c[n]=(4294967288&(l=0|n*h))<<3|7&l;for(h=0;h<e;h++)for(l=v*(4294967288&(l=0|h*f))|(7&l)<<3,n=0;n<t;n++)u[d]=p[l+c[n]],d+=a}if(o=this.M)for(r=0;r<s;)for(i=l=0;l<a;l++,r++,i+=2)u[r]=(u[r]*o[i]>>8)+o[i+1];return u},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=3)n=t[i+1],t[i]=(e=t[i])-179.456+1.402*(r=t[i+2]),t[i+1]=e+135.459-.344*n-.714*r,t[i+2]=e-226.816+1.772*n;return t},K:function(t){for(var e,n,r,i,o=0,a=0,s=t.length;a<s;a+=4)t[o++]=(n=t[a+1])*(-660635669420364e-19*n+.000437130475926232*(r=t[a+2])-54080610064599e-18*(e=t[a])+.00048449797120281*(i=t[a+3])-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),t[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*e+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),t[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return t.subarray(0,o)},J:function(t){for(var e,n,r,i=0,o=t.length;i<o;i+=4)n=t[i+1],t[i]=434.456-(e=t[i])-1.402*(r=t[i+2]),t[i+1]=119.541-e+.344*n+.714*r,t[i+2]=481.816-e-1.772*n;return t},H:function(t){for(var e,n,r,i,o=0,a=1/255,s=0,u=t.length;s<u;s+=4)t[o++]=255+(e=t[s]*a)*(-4.387332384609988*e+54.48615194189176*(n=t[s+1]*a)+18.82290502165302*(r=t[s+2]*a)+212.25662451639585*(i=t[s+3]*a)-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),t[o++]=255+e*(8.841041422036149*e+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),t[o++]=255+e*(.8842522430003296*e+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return t.subarray(0,o)},getData:function(t,e,n){if(4<this.i)throw new r("Unsupported color mode");if(t=this.L(t,e),1===this.i&&n){n=t.length,e=new Uint8ClampedArray(3*n);for(var i=0,o=0;o<n;o++){var a=t[o];e[i++]=a,e[i++]=a,e[i++]=a}return e}if(3===this.i&&this.w())return this.I(t);if(4===this.i){if(this.w())return n?this.K(t):this.J(t);if(n)return this.H(t)}return t}},t.JpegDecoder=e}(),t.encodeImage=function(e,n,r,i){var o={t256:[n],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[n*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var a in i)o[a]=i[a];var s=new Uint8Array(t.encode([o])),u=new Uint8Array(e),c=new Uint8Array(1e3+n*r*4);for(a=0;a<s.length;a++)c[a]=s[a];for(a=0;a<u.length;a++)c[1e3+a]=u[a];return c.buffer},t.encode=function(e){var n=new Uint8Array(2e4),r=4,i=t._binBE;n[0]=77,n[1]=77,n[3]=42;var o=8;i.writeUint(n,r,o),r+=4;for(var a=0;a<e.length;a++){var s=t._writeIFD(i,n,o,e[a]);o=s[1],a<e.length-1&&i.writeUint(n,s[0],o)}return n.slice(0,o).buffer},t.decode=function(e){t.decode._decodeG3.allow2D=null;var n=new Uint8Array(e),r=0,i="II"==t._binBE.readASCII(n,r,2)?t._binLE:t._binBE,o=(i.readUshort(n,r+=2),i.readUint(n,r+=2));r+=4;for(var a=[];;){var s=t._readIFD(i,n,o,a);if(0==(o=i.readUint(n,s)))break}return a},t.decodeImages=function(e,n){for(var r=new Uint8Array(e),o=t._binBE.readASCII(r,0,2),a=0;a<n.length;a++){var s=n[a];if(null!=s.t256){s.isLE="II"==o,s.width=s.t256[0],s.height=s.t257[0];var u=s.t259?s.t259[0]:1,c=s.t266?s.t266[0]:1;s.t284&&2==s.t284[0]&&i("PlanarConfiguration 2 should not be used!");var l=(s.t258?Math.min(32,s.t258[0]):1)*(s.t277?s.t277[0]:1),h=8*Math.ceil(s.width*l/8),f=s.t273;null==f&&(f=s.t324);var d=s.t279;1==u&&1==f.length&&(d=[s.height*(h>>>3)]),null==d&&(d=s.t325);var p=new Uint8Array(s.height*(h>>>3)),v=0;if(null!=s.t322){for(var m=s.t322[0],g=s.t323[0],y=Math.floor((s.width+m-1)/m),b=Math.floor((s.height+g-1)/g),_=new Uint8Array(0|Math.ceil(m*g*l/8)),w=0;w<b;w++)for(var k=0;k<y;k++){for(var E=w*y+k,S=0;S<_.length;S++)_[S]=0;t.decode._decompress(s,r,f[E],d[E],u,_,0,c),6==u?p=_:t._copyTile(_,0|Math.ceil(m*l/8),g,p,0|Math.ceil(s.width*l/8),s.height,0|Math.ceil(k*m*l/8),w*g)}v=8*p.length}else{var C=s.t278?s.t278[0]:s.height;for(C=Math.min(C,s.height),E=0;E<f.length;E++)t.decode._decompress(s,r,f[E],d[E],u,p,0|Math.ceil(v/8),c),v+=h*C;v=Math.min(v,8*p.length)}s.data=new Uint8Array(p.buffer,0,0|Math.ceil(v/8))}}},t.decode._decompress=function(n,r,o,a,s,u,c,l){if(1==s)for(var h=0;h<a;h++)u[c+h]=r[o+h];else if(3==s)t.decode._decodeG3(r,o,a,u,c,n.width,l);else if(4==s)t.decode._decodeG4(r,o,a,u,c,n.width,l);else if(5==s)t.decode._decodeLZW(r,o,u,c);else if(6==s)t.decode._decodeOldJPEG(n,r,o,a,u,c);else if(7==s)t.decode._decodeNewJPEG(n,r,o,a,u,c);else if(8==s)for(var f=new Uint8Array(r.buffer,o,a),d=e.inflate(f),p=0;p<d.length;p++)u[c+p]=d[p];else 32773==s?t.decode._decodePackBits(r,o,a,u,c):32809==s?t.decode._decodeThunder(r,o,a,u,c):i("Unknown compression",s);if(n.t317&&2==n.t317[0])for(var v=n.t277?n.t277[0]:1,m=n.t278?n.t278[0]:n.height,g=n.width*v,y=0;y<m;y++){var b=c+y*g;if(3==v)for(h=3;h<g;h+=3)u[b+h]=u[b+h]+u[b+h-3]&255,u[b+h+1]=u[b+h+1]+u[b+h-2]&255,u[b+h+2]=u[b+h+2]+u[b+h-1]&255;else for(h=v;h<g;h++)u[b+h]=u[b+h]+u[b+h-v]&255}},t.decode._decodeNikon=function(t,e,n,r,o){var a,s;i(t.slice(e,e+100)),a=t[e],s=t[++e],e++,i(a.toString(16),s.toString(16),n)},t.decode._decodeNewJPEG=function(e,n,r,i,o,a){var s=e.t347,u=s?s.length:0,c=new Uint8Array(u+i);if(s){for(var l=0,h=0;h<u-1&&(255!=s[h]||217!=s[h+1]);h++)c[l++]=s[h];var f=n[r],d=n[r+1];for(255==f&&216==d||(c[l++]=f,c[l++]=d),h=2;h<i;h++)c[l++]=n[r+h]}else for(h=0;h<i;h++)c[h]=n[r+h];if(32803==e.t262){var p=e.t258[0],v=(new LosslessJpegDecoder).decode(c),m=v.length;if(16==p)for(h=0;h<m;h++)o[a++]=255&v[h],o[a++]=v[h]>>>8;else{if(12!=p)throw new Error("unsupported bit depth "+p);for(h=0;h<m;h+=2)o[a++]=v[h]>>>4,o[a++]=255&(v[h]<<4|v[h+1]>>>8),o[a++]=255&v[h+1]}}else{var g=new t.JpegDecoder;g.parse(c);var y=g.getData(g.width,g.height);for(h=0;h<y.length;h++)o[a+h]=y[h]}6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodeOldJPEGInit=function(t,e,n,r){var o,a,s,u,c,l=0,h=0,f=!1,d=t.t513,p=d?d[0]:0,v=t.t514,m=v?v[0]:0,g=t.t324||t.t273||d,y=t.t530,b=0,_=0,w=t.t277?t.t277[0]:1,k=t.t515;if(g&&(h=g[0],f=g.length>1),!f){if(255==e[n]&&216==e[n+1])return{jpegOffset:n};if(null!=d&&(255==e[n+p]&&216==e[n+p+1]?l=n+p:i("JPEGInterchangeFormat does not point to SOI"),null==v?i("JPEGInterchangeFormatLength field is missing"):(p>=h||p+m<=h)&&i("JPEGInterchangeFormatLength field value is invalid"),null!=l))return{jpegOffset:l}}if(null!=y&&(b=y[0],_=y[1]),null!=d&&null!=v)if(m>=2&&p+m<=h){for(o=255==e[n+p+m-2]&&216==e[n+p+m-1]?new Uint8Array(m-2):new Uint8Array(m),s=0;s<o.length;s++)o[s]=e[n+p+s];i("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else i("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==o){var E=0,S=[];S[E++]=255,S[E++]=216;var C=t.t519;if(null==C)throw new Error("JPEGQTables tag is missing");for(s=0;s<C.length;s++)for(S[E++]=255,S[E++]=219,S[E++]=0,S[E++]=67,S[E++]=s,u=0;u<64;u++)S[E++]=e[n+C[s]+u];for(c=0;c<2;c++){var I=t[0==c?"t520":"t521"];if(null==I)throw new Error((0==c?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(s=0;s<I.length;s++){S[E++]=255,S[E++]=196;var T=19;for(u=0;u<16;u++)T+=e[n+I[s]+u];for(S[E++]=T>>>8,S[E++]=255&T,S[E++]=s|c<<4,u=0;u<16;u++)S[E++]=e[n+I[s]+u];for(u=0;u<T;u++)S[E++]=e[n+I[s]+16+u]}}if(S[E++]=255,S[E++]=192,S[E++]=0,S[E++]=8+3*w,S[E++]=8,S[E++]=t.height>>>8&255,S[E++]=255&t.height,S[E++]=t.width>>>8&255,S[E++]=255&t.width,S[E++]=w,1==w)S[E++]=1,S[E++]=17,S[E++]=0;else for(s=0;s<3;s++)S[E++]=s+1,S[E++]=0!=s?17:(15&b)<<4|15&_,S[E++]=s;null!=k&&0!=k[0]&&(S[E++]=255,S[E++]=221,S[E++]=0,S[E++]=4,S[E++]=k[0]>>>8&255,S[E++]=255&k[0]),o=new Uint8Array(S)}var x=-1;for(s=0;s<o.length-1;){if(255==o[s]&&192==o[s+1]){x=s;break}s++}if(-1==x){var A=new Uint8Array(o.length+10+3*w);A.set(o);var O=o.length;if(x=o.length,(o=A)[O++]=255,o[O++]=192,o[O++]=0,o[O++]=8+3*w,o[O++]=8,o[O++]=t.height>>>8&255,o[O++]=255&t.height,o[O++]=t.width>>>8&255,o[O++]=255&t.width,o[O++]=w,1==w)o[O++]=1,o[O++]=17,o[O++]=0;else for(s=0;s<3;s++)o[O++]=s+1,o[O++]=0!=s?17:(15&b)<<4|15&_,o[O++]=s}if(255==e[h]&&218==e[h+1]){var R=e[h+2]<<8|e[h+3];for((a=new Uint8Array(R+2))[0]=e[h],a[1]=e[h+1],a[2]=e[h+2],a[3]=e[h+3],s=0;s<R-2;s++)a[s+4]=e[h+s+4]}else{var P=0;if((a=new Uint8Array(8+2*w))[P++]=255,a[P++]=218,a[P++]=0,a[P++]=6+2*w,a[P++]=w,1==w)a[P++]=1,a[P++]=0;else for(s=0;s<3;s++)a[P++]=s+1,a[P++]=s<<4|s;a[P++]=0,a[P++]=63,a[P++]=0}return{jpegOffset:n,tables:o,sosMarker:a,sofPosition:x}},t.decode._decodeOldJPEG=function(e,n,r,i,o,a){var s,u,c=t.decode._decodeOldJPEGInit(e,n,r,i);if(null!=c.jpegOffset)for(s=r+i-c.jpegOffset,u=new Uint8Array(s),f=0;f<s;f++)u[f]=n[c.jpegOffset+f];else{for((u=new Uint8Array(c.tables.length+c.sosMarker.length+i+2)).set(c.tables),u[c.sofPosition+5]=e.height>>>8&255,u[c.sofPosition+6]=255&e.height,u[c.sofPosition+7]=e.width>>>8&255,u[c.sofPosition+8]=255&e.width,255==n[r]&&n[r+1]==SOS||(u.set(c.sosMarker,bufoff),bufoff+=sosMarker.length),f=0;f<i;f++)u[bufoff++]=n[r+f];u[bufoff++]=255,u[bufoff++]=EOI}var l=new t.JpegDecoder;l.parse(u);for(var h=l.getData(l.width,l.height),f=0;f<h.length;f++)o[a+f]=h[f];6==e.t262[0]&&(e.t262[0]=2)},t.decode._decodePackBits=function(t,e,n,r,i){for(var o=new Int8Array(t.buffer),a=new Int8Array(r.buffer),s=e+n;e<s;){var u=o[e];if(e++,u>=0&&u<128)for(var c=0;c<u+1;c++)a[i]=o[e],i++,e++;if(u>=-127&&u<0){for(c=0;c<1-u;c++)a[i]=o[e],i++;e++}}},t.decode._decodeThunder=function(t,e,n,r,i){for(var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=e+n,u=2*i,c=0;e<s;){var l=t[e],h=l>>>6,f=63&l;if(e++,3==h&&(r[u>>>1]|=(c=15&f)<<4*(1-u&1),u++),0==h)for(var d=0;d<f;d++)r[u>>>1]|=c<<4*(1-u&1),u++;if(2==h)for(d=0;d<2;d++)4!=(p=f>>>3*(1-d)&7)&&(r[u>>>1]|=(c+=a[p])<<4*(1-u&1),u++);if(1==h)for(d=0;d<3;d++){var p;2!=(p=f>>>2*(2-d)&3)&&(r[u>>>1]|=(c+=o[p])<<4*(1-u&1),u++)}}},t.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},t.decode._lens=function(){var t=function(t,e,n,r){for(var i=0;i<e.length;i++)t[e[i]]=n+i*r},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",r="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),n=n.split(","),r=r.split(","),i=i.split(","),o=o.split(",");var a={},s={};return t(a,e,0,1),t(a,r,64,64),t(a,o,1792,64),t(s,n,0,1),t(s,i,64,64),t(s,o,1792,64),[a,s]}(),t.decode._decodeG4=function(e,n,r,i,o,a,s){for(var u=t.decode,c=n<<3,l=0,h="",f=[],d=[],p=0;p<a;p++)d.push(0);d=u._makeDiff(d);for(var v=0,m=0,g=0,y=0,b=0,_=0,w="",k=0,E=8*Math.ceil(a/8);c>>>3<n+r;){g=u._findDiff(d,v+(0==v?0:1),1-b),y=u._findDiff(d,g,b);var S=0;if(1==s&&(S=e[c>>>3]>>>7-(7&c)&1),2==s&&(S=e[c>>>3]>>>(7&c)&1),c++,h+=S,"H"==w){if(null!=u._lens[b][h]){var C=u._lens[b][h];h="",l+=C,C<64&&(u._addNtimes(f,l,b),v+=l,b=1-b,l=0,0==--k&&(w=""))}}else"0001"==h&&(h="",u._addNtimes(f,y-v,b),v=y),"001"==h&&(h="",w="H",k=2),null!=u._dmap[h]&&(u._addNtimes(f,(m=g+u._dmap[h])-v,b),v=m,h="",b=1-b);f.length==a&&""==w&&(u._writeBits(f,i,8*o+_*E),b=0,_++,v=0,d=u._makeDiff(f),f=[])}},t.decode._findDiff=function(t,e,n){for(var r=0;r<t.length;r+=2)if(t[r]>=e&&t[r+1]==n)return t[r]},t.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var n=1;n<t.length;n++)t[n-1]!=t[n]&&e.push(n,t[n]);return e.push(t.length,0,t.length,1),e},t.decode._decodeG3=function(e,n,r,i,o,a,s){for(var u=t.decode,c=n<<3,l=0,h="",f=[],d=[],p=0;p<a;p++)f.push(0);for(var v=0,m=0,g=0,y=0,b=0,_=-1,w="",k=0,E=!1,S=8*Math.ceil(a/8);c>>>3<n+r;){g=u._findDiff(d,v+(0==v?0:1),1-b),y=u._findDiff(d,g,b);var C=0;if(1==s&&(C=e[c>>>3]>>>7-(7&c)&1),2==s&&(C=e[c>>>3]>>>(7&c)&1),c++,h+=C,E){if(null!=u._lens[b][h]){var I=u._lens[b][h];h="",l+=I,I<64&&(u._addNtimes(f,l,b),b=1-b,l=0)}}else"H"==w?null!=u._lens[b][h]&&(I=u._lens[b][h],h="",l+=I,I<64&&(u._addNtimes(f,l,b),v+=l,b=1-b,l=0,0==--k&&(w=""))):("0001"==h&&(h="",u._addNtimes(f,y-v,b),v=y),"001"==h&&(h="",w="H",k=2),null!=u._dmap[h]&&(u._addNtimes(f,(m=g+u._dmap[h])-v,b),v=m,h="",b=1-b));h.endsWith("000000000001")&&(_>=0&&u._writeBits(f,i,8*o+_*S),1==s&&(E=1==(e[c>>>3]>>>7-(7&c)&1)),2==s&&(E=1==(e[c>>>3]>>>(7&c)&1)),c++,null==u._decodeG3.allow2D&&(u._decodeG3.allow2D=E),u._decodeG3.allow2D||(E=!0,c--),h="",b=0,_++,v=0,d=u._makeDiff(f),f=[])}f.length==a&&u._writeBits(f,i,8*o+_*S)},t.decode._addNtimes=function(t,e,n){for(var r=0;r<e;r++)t.push(n)},t.decode._writeBits=function(t,e,n){for(var r=0;r<t.length;r++)e[n+r>>>3]|=t[r]<<7-(n+r&7)},t.decode._decodeLZW=function(e,n,r,i){if(null==t.decode._lzwTab){for(var o=new Uint32Array(65535),a=new Uint16Array(65535),s=new Uint8Array(2e6),u=0;u<256;u++)s[u<<2]=u,o[u]=u<<2,a[u]=1;t.decode._lzwTab=[o,a,s]}for(var c=t.decode._copyData,l=t.decode._lzwTab[0],h=t.decode._lzwTab[1],f=(s=t.decode._lzwTab[2],258),d=1032,p=9,v=n<<3,m=0,g=0;m=(e[v>>>3]<<16|e[v+8>>>3]<<8|e[v+16>>>3])>>24-(7&v)-p&(1<<p)-1,v+=p,257!=m;){if(256==m){if(f=258,d=1032,m=(e[v>>>3]<<16|e[v+8>>>3]<<8|e[v+16>>>3])>>24-(7&v)-(p=9)&(1<<p)-1,v+=p,257==m)break;r[i]=m,i++}else if(m<f){var y=l[m],b=h[m];c(s,y,r,i,b),i+=b,g>=f?(l[f]=d,s[l[f]]=y[0],h[f]=1,d=d+1+3&-4,f++):(l[f]=d,c(s,l[g],s,d,_=h[g]),s[d+_]=s[y],_++,h[f]=_,f++,d=d+_+3&-4),f+1==1<<p&&p++}else{var _;g>=f?(l[f]=d,h[f]=0,f++):(l[f]=d,c(s,l[g],s,d,_=h[g]),s[d+_]=s[d],_++,h[f]=_,f++,c(s,d,r,i,_),i+=_,d=d+_+3&-4),f+1==1<<p&&p++}g=m}},t.decode._copyData=function(t,e,n,r,i){for(var o=0;o<i;o+=4)n[r+o]=t[e+o],n[r+o+1]=t[e+o+1],n[r+o+2]=t[e+o+2],n[r+o+3]=t[e+o+3]},t.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},t.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},t._readIFD=function(e,n,r,o){var a=e.readUshort(n,r);r+=2;var s={};o.push(s);for(var u=0;u<a;u++){var c=e.readUshort(n,r),l=e.readUshort(n,r+=2),h=e.readUint(n,r+=2),f=e.readUint(n,r+=4);r+=4;var d=[];if(s["t"+c]=d,1==l||7==l)for(var p=0;p<h;p++)d.push(n[(h<5?r-4:f)+p]);if(2==l&&d.push(e.readASCII(n,h<5?r-4:f,h-1)),3==l)for(p=0;p<h;p++)d.push(e.readUshort(n,(h<3?r-4:f)+2*p));if(4==l)for(p=0;p<h;p++)d.push(e.readUint(n,(h<2?r-4:f)+4*p));if(5==l)for(p=0;p<h;p++)d.push(e.readUint(n,f+8*p)/e.readUint(n,f+8*p+4));if(8==l)for(p=0;p<h;p++)d.push(e.readShort(n,(h<3?r-4:f)+2*p));if(9==l)for(p=0;p<h;p++)d.push(e.readInt(n,(h<2?r-4:f)+4*p));if(10==l)for(p=0;p<h;p++)d.push(e.readInt(n,f+8*p)/e.readInt(n,f+8*p+4));if(11==l)for(p=0;p<h;p++)d.push(e.readFloat(n,f+4*p));if(12==l)for(p=0;p<h;p++)d.push(e.readDouble(n,f+8*p));if(0!=h&&0==d.length&&i("unknown TIFF tag type: ",l,"num:",h),330==c)for(p=0;p<h;p++)t._readIFD(e,n,d[p],o)}return r},t._writeIFD=function(e,n,r,i){var o=Object.keys(i);e.writeUshort(n,r,o.length);for(var a=(r+=2)+12*o.length+4,s=0;s<o.length;s++){var u=o[s],c=parseInt(u.slice(1)),l=t.ttypes[c];if(null==l)throw new Error("unknown type of tag: "+c);var h=i[u];2==l&&(h=h[0]+"\0");var f=h.length;e.writeUshort(n,r,c),e.writeUshort(n,r+=2,l),e.writeUint(n,r+=2,f);var d=[-1,1,1,2,4,8,0,0,0,0,0,0,8][l]*f,p=r+=4;if(d>4&&(e.writeUint(n,r,a),p=a),2==l&&e.writeASCII(n,p,h),3==l)for(var v=0;v<f;v++)e.writeUshort(n,p+2*v,h[v]);if(4==l)for(v=0;v<f;v++)e.writeUint(n,p+4*v,h[v]);if(5==l)for(v=0;v<f;v++)e.writeUint(n,p+8*v,Math.round(1e4*h[v])),e.writeUint(n,p+8*v+4,1e4);if(12==l)for(v=0;v<f;v++)e.writeDouble(n,p+8*v,h[v]);d>4&&(a+=d+=1&d),r+=4}return[r,a]},t.toRGBA8=function(t){var e=t.width,n=t.height,r=e*n,o=4*r,a=t.data,s=new Uint8Array(4*r),u=t.t262[0],c=t.t258?Math.min(32,t.t258[0]):1,l=t.isLE?1:0;if(0==u)for(var h=Math.ceil(c*e/8),f=0;f<n;f++){var d=f*h,p=f*e;if(1==c)for(var v=0;v<e;v++)s[k=p+v<<2]=s[k+1]=s[k+2]=255*(1-(m=a[d+(v>>3)]>>7-(7&v)&1)),s[k+3]=255;if(4==c)for(v=0;v<e;v++)s[k=p+v<<2]=s[k+1]=s[k+2]=17*(15-(m=a[d+(v>>1)]>>4-4*(1&v)&15)),s[k+3]=255;if(8==c)for(v=0;v<e;v++)s[k=p+v<<2]=s[k+1]=s[k+2]=255-(m=a[d+v]),s[k+3]=255}else if(1==u)for(h=Math.ceil(c*e/8),f=0;f<n;f++){if(d=f*h,p=f*e,1==c)for(v=0;v<e;v++)s[k=p+v<<2]=s[k+1]=s[k+2]=255*(m=a[d+(v>>3)]>>7-(7&v)&1),s[k+3]=255;if(2==c)for(v=0;v<e;v++)s[k=p+v<<2]=s[k+1]=s[k+2]=85*(m=a[d+(v>>2)]>>6-2*(3&v)&3),s[k+3]=255;if(8==c)for(v=0;v<e;v++)s[k=p+v<<2]=s[k+1]=s[k+2]=m=a[d+v],s[k+3]=255;if(16==c)for(v=0;v<e;v++){var m=a[d+(2*v+l)];s[k=p+v<<2]=s[k+1]=s[k+2]=Math.min(255,m),s[k+3]=255}}else if(2==u)if(8==c)if(t.t338)if(t.t338[0]>0)for(v=0;v<o;v++)s[v]=a[v];else for(v=0;v<o;v+=4)s[v]=a[v],s[v+1]=a[v+1],s[v+2]=a[v+2],s[v+3]=255;else{if(4==(_=t.t258?t.t258.length:3))for(v=0;v<o;v++)s[v]=a[v];if(3==_)for(v=0;v<r;v++)s[k=v<<2]=a[g=3*v],s[k+1]=a[g+1],s[k+2]=a[g+2],s[k+3]=255}else for(v=0;v<r;v++){var g;s[k=v<<2]=a[g=6*v],s[k+1]=a[g+2],s[k+2]=a[g+4],s[k+3]=255}else if(3==u){var y=t.t320;for(v=0;v<r;v++){var b=a[v];s[k=v<<2]=y[b]>>8,s[k+1]=y[256+b]>>8,s[k+2]=y[512+b]>>8,s[k+3]=255}}else if(5==u){var _,w=(_=t.t258?t.t258.length:4)>4?1:0;for(v=0;v<r;v++){var k,E=v*_,S=255-a[E+1],C=255-a[E+2],I=1/255*(255-a[E+3]);s[k=v<<2]=~~((255-a[E])*I+.5),s[k+1]=~~(S*I+.5),s[k+2]=~~(C*I+.5),s[k+3]=255*(1-w)+a[E+4]*w}}else i("Unknown Photometric interpretation: "+u);return s},t.replaceIMG=function(){for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++){var r=e[n],i=r.getAttribute("src");if(null!=i){var o=i.split(".").pop().toLowerCase();if("tif"==o||"tiff"==o){var a=new XMLHttpRequest;t._xhrs.push(a),t._imgs.push(r),a.open("GET",i),a.responseType="arraybuffer",a.onload=t._imgLoaded,a.send()}}}},t._xhrs=[],t._imgs=[],t._imgLoaded=function(e){var n=e.target.response,r=t.decode(n),i=r[0];t.decodeImages(n,r);var o=t.toRGBA8(i),a=i.width,s=i.height,u=t._xhrs.indexOf(e.target),c=t._imgs[u];t._xhrs.splice(u,1),t._imgs.splice(u,1);var l=document.createElement("canvas");l.width=a,l.height=s;for(var h=l.getContext("2d"),f=h.createImageData(a,s),d=0;d<o.length;d++)f.data[d]=o[d];h.putImageData(f,0,0);var p=["style","class","id"];for(d=0;d<p.length;d++)l.setAttribute(p[d],c.getAttribute(p[d]));c.parentNode.replaceChild(l,c)},t._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readShort:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+1],r[1]=e[n+0],t._binBE.i16[0]},readInt:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n+0],t._binBE.i32[0]},readUint:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n+0],t._binBE.ui32[0]},readASCII:function(t,e,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(t[e+i]);return r},readFloat:function(e,n){for(var r=t._binBE.ui8,i=0;i<4;i++)r[i]=e[n+3-i];return t._binBE.fl32[0]},readDouble:function(e,n){for(var r=t._binBE.ui8,i=0;i<8;i++)r[i]=e[n+7-i];return t._binBE.fl64[0]},writeUshort:function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},writeUint:function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n>>0&255},writeASCII:function(t,e,n){for(var r=0;r<n.length;r++)t[e+r]=n.charCodeAt(r)},writeDouble:function(e,n,r){t._binBE.fl64[0]=r;for(var i=0;i<8;i++)e[n+i]=t._binBE.ui8[7-i]}},t._binBE.ui8=new Uint8Array(8),t._binBE.i16=new Int16Array(t._binBE.ui8.buffer),t._binBE.i32=new Int32Array(t._binBE.ui8.buffer),t._binBE.ui32=new Uint32Array(t._binBE.ui8.buffer),t._binBE.fl32=new Float32Array(t._binBE.ui8.buffer),t._binBE.fl64=new Float64Array(t._binBE.ui8.buffer),t._binLE={nextZero:t._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readShort:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+0],r[1]=e[n+1],t._binBE.i16[0]},readInt:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+0],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t._binBE.i32[0]},readUint:function(e,n){var r=t._binBE.ui8;return r[0]=e[n+0],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t._binBE.ui32[0]},readASCII:t._binBE.readASCII,readFloat:function(e,n){for(var r=t._binBE.ui8,i=0;i<4;i++)r[i]=e[n+i];return t._binBE.fl32[0]},readDouble:function(e,n){for(var r=t._binBE.ui8,i=0;i<8;i++)r[i]=e[n+i];return t._binBE.fl64[0]}},t._copyTile=function(t,e,n,r,i,o,a,s){for(var u=Math.min(e,i-a),c=Math.min(n,o-s),l=0;l<c;l++)for(var h=(s+l)*i+a,f=l*e,d=0;d<u;d++)r[h+d]=t[f+d]}}(r,"function"==typeof t?t("pako"):self.pako)}()}).call(this,t("_process"))},{_process:133,pako:86}],183:[function(t,e,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==r?r:{})},{}],184:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],185:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],186:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(t,e,n){"use strict";var r=t("global/window"),i=t("is-function"),o=t("parse-headers"),a=t("xtend");function s(t,e,n){var r=t;return i(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=a(e,{uri:t}),r.callback=n,r}function u(t,e,n){return c(e=s(t,e,n))}function c(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,r,i){e||(e=!0,t.callback(n,r,i))};function r(){var t=void 0;if(t=l.response?l.response:l.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;if(""===t.responseType&&(!t.responseXML||"parsererror"!==t.responseXML.documentElement.nodeName))return t.responseXML}catch(e){}return null}(l),g)try{t=JSON.parse(t)}catch(e){}return t}function i(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,y)}function a(){if(!c){var e;clearTimeout(h);var i=y,a=null;return 0!==(e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status)?(i={body:r(),statusCode:e,method:d,headers:{},url:f,rawRequest:l},l.getAllResponseHeaders&&(i.headers=o(l.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,i,i.body)}}var s,c,l=t.xhr||null;l||(l=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var h,f=l.url=t.uri||t.url,d=l.method=t.method||"GET",p=t.body||t.data,v=l.headers=t.headers||{},m=!!t.sync,g=!1,y={body:void 0,headers:{},statusCode:0,method:d,url:f,rawRequest:l};if("json"in t&&!1!==t.json&&(g=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),p=JSON.stringify(!0===t.json?p:t.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(a,0)},l.onload=a,l.onerror=i,l.onprogress=function(){},l.onabort=function(){c=!0},l.ontimeout=i,l.open(d,f,!m,t.username,t.password),m||(l.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(h=setTimeout((function(){if(!c){c=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}}),t.timeout)),l.setRequestHeader)for(s in v)v.hasOwnProperty(s)&&l.setRequestHeader(s,v[s]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(p||null),l}e.exports=u,e.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){u["delete"===t?"del":t]=function(e,n,r){return(n=s(e,n,r)).method=t.toUpperCase(),c(n)}}))},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(t,e,n){e.exports=void 0!==self.DOMParser?function(t){return(new self.DOMParser).parseFromString(t,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(t){var e=new self.ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e}:function(t){var e=document.createElement("div");return e.innerHTML=t,e}},{}],189:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},{}],190:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.srcOver=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=(t.r*t.a+e.r*e.a*(1-t.a))/r,o=(t.g*t.a+e.g*e.a*(1-t.a))/r,a=(t.b*t.a+e.b*e.a*(1-t.a))/r;return{r:i,g:o,b:a,a:r}},n.dstOver=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=(e.r*e.a+t.r*t.a*(1-e.a))/r,o=(e.g*e.a+t.g*t.a*(1-e.a))/r,a=(e.b*e.a+t.b*t.a*(1-e.a))/r;return{r:i,g:o,b:a,a:r}},n.multiply=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i*s+i*(1-e.a)+s*(1-t.a))/r,h=(o*u+o*(1-e.a)+u*(1-t.a))/r,f=(a*c+a*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i+s)/r,h=(o+u)/r,f=(a+c)/r;return{r:l,g:h,b:f,a:r}},n.screen=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i*e.a+s*t.a-i*s+i*(1-e.a)+s*(1-t.a))/r,h=(o*e.a+u*t.a-o*u+o*(1-e.a)+u*(1-t.a))/r,f=(a*e.a+c*t.a-a*c+a*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.overlay=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(2*s<=e.a?2*i*s+i*(1-e.a)+s*(1-t.a):i*(1+e.a)+s*(1+t.a)-2*s*i-e.a*t.a)/r,h=(2*u<=e.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/r,f=(2*c<=e.a?2*a*c+a*(1-e.a)+c*(1-t.a):a*(1+e.a)+c*(1+t.a)-2*c*a-e.a*t.a)/r;return{r:l,g:h,b:f,a:r}},n.darken=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(Math.min(i*e.a,s*t.a)+i*(1-e.a)+s*(1-t.a))/r,h=(Math.min(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/r,f=(Math.min(a*e.a,c*t.a)+a*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.lighten=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(Math.max(i*e.a,s*t.a)+i*(1-e.a)+s*(1-t.a))/r,h=(Math.max(o*e.a,u*t.a)+o*(1-e.a)+u*(1-t.a))/r,f=(Math.max(a*e.a,c*t.a)+a*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}},n.hardLight=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(2*i<=t.a?2*i*s+i*(1-e.a)+s*(1-t.a):i*(1+e.a)+s*(1+t.a)-2*s*i-e.a*t.a)/r,h=(2*o<=t.a?2*o*u+o*(1-e.a)+u*(1-t.a):o*(1+e.a)+u*(1+t.a)-2*u*o-e.a*t.a)/r,f=(2*a<=t.a?2*a*c+a*(1-e.a)+c*(1-t.a):a*(1+e.a)+c*(1+t.a)-2*c*a-e.a*t.a)/r;return{r:l,g:h,b:f,a:r}},n.difference=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i+s-2*Math.min(i*e.a,s*t.a))/r,h=(o+u-2*Math.min(o*e.a,u*t.a))/r,f=(a+c-2*Math.min(a*e.a,c*t.a))/r;return{r:l,g:h,b:f,a:r}},n.exclusion=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t.a*=n;var r=e.a+t.a-e.a*t.a,i=t.r*t.a,o=t.g*t.a,a=t.b*t.a,s=e.r*e.a,u=e.g*e.a,c=e.b*e.a,l=(i*e.a+s*t.a-2*i*s+i*(1-e.a)+s*(1-t.a))/r,h=(o*e.a+u*t.a-2*o*u+o*(1-e.a)+u*(1-t.a))/r,f=(a*e.a+c*t.a-2*a*c+a*(1-e.a)+c*(1-t.a))/r;return{r:l,g:h,b:f,a:r}}},{}],191:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if("function"==typeof r&&(s=r,r={}),!(t instanceof this.constructor))return i.throwError.call(this,"The source must be a Jimp image",s);if("number"!=typeof e||"number"!=typeof n)return i.throwError.call(this,"x and y must be numbers",s);var u=r,c=u.mode,l=u.opacitySource,h=u.opacityDest;c||(c=o.BLEND_SOURCE_OVER),("number"!=typeof l||l<0||l>1)&&(l=1),("number"!=typeof h||h<0||h>1)&&(h=1);var f=a[c];e=Math.round(e),n=Math.round(n);var d=this;return 1!==h&&d.opacity(h),t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,(function(t,r,i){var a=d.getPixelIndex(e+t,n+r,o.EDGE_CROP),s=f({r:this.bitmap.data[i+0]/255,g:this.bitmap.data[i+1]/255,b:this.bitmap.data[i+2]/255,a:this.bitmap.data[i+3]/255},{r:d.bitmap.data[a+0]/255,g:d.bitmap.data[a+1]/255,b:d.bitmap.data[a+2]/255,a:d.bitmap.data[a+3]/255},l);d.bitmap.data[a+0]=this.constructor.limit255(255*s.r),d.bitmap.data[a+1]=this.constructor.limit255(255*s.g),d.bitmap.data[a+2]=this.constructor.limit255(255*s.b),d.bitmap.data[a+3]=this.constructor.limit255(255*s.a)})),(0,i.isNodePattern)(s)&&s.call(this,null,this),this};var i=t("@jimp/utils"),o=r(t("../constants")),a=r(t("./composite-modes"));e.exports=n.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EDGE_CROP=n.EDGE_WRAP=n.EDGE_EXTEND=n.BLEND_EXCLUSION=n.BLEND_DIFFERENCE=n.BLEND_HARDLIGHT=n.BLEND_LIGHTEN=n.BLEND_DARKEN=n.BLEND_OVERLAY=n.BLEND_SCREEN=n.BLEND_ADD=n.BLEND_MULTIPLY=n.BLEND_DESTINATION_OVER=n.BLEND_SOURCE_OVER=n.VERTICAL_ALIGN_BOTTOM=n.VERTICAL_ALIGN_MIDDLE=n.VERTICAL_ALIGN_TOP=n.HORIZONTAL_ALIGN_RIGHT=n.HORIZONTAL_ALIGN_CENTER=n.HORIZONTAL_ALIGN_LEFT=n.AUTO=void 0,n.AUTO=-1,n.HORIZONTAL_ALIGN_LEFT=1,n.HORIZONTAL_ALIGN_CENTER=2,n.HORIZONTAL_ALIGN_RIGHT=4,n.VERTICAL_ALIGN_TOP=8,n.VERTICAL_ALIGN_MIDDLE=16,n.VERTICAL_ALIGN_BOTTOM=32,n.BLEND_SOURCE_OVER="srcOver",n.BLEND_DESTINATION_OVER="dstOver",n.BLEND_MULTIPLY="multiply",n.BLEND_ADD="add",n.BLEND_SCREEN="screen",n.BLEND_OVERLAY="overlay",n.BLEND_DARKEN="darken",n.BLEND_LIGHTEN="lighten",n.BLEND_HARDLIGHT="hardLight",n.BLEND_DIFFERENCE="difference",n.BLEND_EXCLUSION="exclusion",n.EDGE_EXTEND=1,n.EDGE_WRAP=2,n.EDGE_CROP=3},{}],193:[function(t,e,n){(function(e){"use strict";var i=t("@babel/runtime/helpers/interopRequireWildcard"),o=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.addConstants=G,n.addJimpMethods=W,n.jimpEvMethod=K,n.jimpEvChange=Y,Object.defineProperty(n,"addType",{enumerable:!0,get:function(){return x.addType}}),n.default=void 0;for(var a=o(t("@babel/runtime/helpers/construct")),s=o(t("@babel/runtime/helpers/slicedToArray")),u=o(t("@babel/runtime/helpers/classCallCheck")),c=o(t("@babel/runtime/helpers/createClass")),l=o(t("@babel/runtime/helpers/possibleConstructorReturn")),h=o(t("@babel/runtime/helpers/getPrototypeOf")),f=o(t("@babel/runtime/helpers/assertThisInitialized")),d=o(t("@babel/runtime/helpers/inherits")),p=o(t("@babel/runtime/helpers/defineProperty")),v=o(t("@babel/runtime/helpers/typeof")),m=o(t("fs")),g=o(t("path")),y=o(t("events")),b=t("@jimp/utils"),_=o(t("any-base")),w=o(t("mkdirp")),k=o(t("pixelmatch")),E=o(t("tinycolor2")),S=o(t("./modules/phash")),C=o(t("./request")),I=o(t("./composite")),T=o(t("./utils/promisify")),x=i(t("./utils/mime")),A=t("./utils/image-bitmap"),O=i(t("./constants")),R="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",P=[NaN,NaN],N=2;N<65;N++){var M=(0,_.default)(_.default.BIN,R.slice(0,N))(new Array(65).join("1"));P.push(M.length)}function D(){}function L(t){return Object.prototype.toString.call(t).toLowerCase().indexOf("arraybuffer")>-1}function j(t){for(var n=e.alloc(t.byteLength),r=new Uint8Array(t),i=0;i<n.length;++i)n[i]=r[i];return n}function F(t,n){(0,C.default)(t,(function(r,i,o){return r?n(r):"headers"in i&&"location"in i.headers?(t.url=i.headers.location,F(t,n)):"object"===(0,v.default)(o)&&e.isBuffer(o)?n(null,o):new Error("Could not load Buffer from <"+t.url+"> (HTTP: "+i.statusCode+")")}))}function U(t,e){m.default&&"function"==typeof m.default.readFile&&!t.match(/^(http|ftp)s?:\/\/./)?m.default.readFile(t,e):F({url:t},e)}function B(t){return t&&"object"===(0,v.default)(t)&&"number"==typeof t.width&&"number"==typeof t.height&&(e.isBuffer(t.data)||t.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&t.data instanceof Uint8ClampedArray)&&(t.data.length===t.width*t.height*4||t.data.length===t.width*t.height*3)}function z(t){if(t.length%3!=0)throw new Error("Buffer length is incorrect");for(var n=e.allocUnsafe(t.length/3*4),r=0,i=0;i<t.length;i++)n[r]=t[i],(i+1)%3==0&&(n[++r]=255),r++;return n}var q,V={data:null,width:null,height:null},H=function(t){function n(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(0,u.default)(this,n),t=(0,l.default)(this,(0,h.default)(n).call(this)),(0,p.default)((0,f.default)(t),"bitmap",V),(0,p.default)((0,f.default)(t),"_background",0),(0,p.default)((0,f.default)(t),"_originalMime",n.MIME_PNG),(0,p.default)((0,f.default)(t),"_exif",null),(0,p.default)((0,f.default)(t),"_rgba",!0),(0,p.default)((0,f.default)(t),"writeAsync",(function(e){return(0,T.default)(t.write,(0,f.default)(t),e)})),(0,p.default)((0,f.default)(t),"getBase64Async",(function(e){return(0,T.default)(t.getBase64,(0,f.default)(t),e)})),(0,p.default)((0,f.default)(t),"getBuffer",A.getBuffer),(0,p.default)((0,f.default)(t),"getBufferAsync",A.getBufferAsync),(0,p.default)((0,f.default)(t),"getPixelColour",t.getPixelColor),(0,p.default)((0,f.default)(t),"setPixelColour",t.setPixelColor);var a=(0,f.default)(t),s=D;function c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=r||{};i.methodName="constructor",setTimeout((function(){var t;r&&s===D?a.emitError("constructor",r):r||a.emitMulti("constructor","initialized"),(t=s).call.apply(t,[a].concat(e))}),1)}if(L(i[0])&&(i[0]=j(i[0])),"number"==typeof i[0]&&"number"==typeof i[1]||parseInt(i[0],10)&&parseInt(i[1],10)){var d=parseInt(i[0],10),m=parseInt(i[1],10);if(s=i[2],"number"==typeof i[2]&&(t._background=i[2],s=i[3]),"string"==typeof i[2]&&(t._background=n.cssColorToHex(i[2]),s=i[3]),void 0===s&&(s=D),"function"!=typeof s)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));t.bitmap={data:e.alloc(d*m*4),width:d,height:m};for(var g=0;g<t.bitmap.data.length;g+=4)t.bitmap.data.writeUInt32BE(t._background,g);c(null,(0,f.default)(t))}else if("object"===(0,v.default)(i[0])&&i[0].url){if("function"!=typeof(s=i[1]||D))return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));F(i[0],(function(e,n){if(e)return b.throwError.call((0,f.default)(t),e,c);t.parseBitmap(n,i[0].url,c)}))}else if(i[0]instanceof n){var y=i[0];if(void 0===(s=i[1])&&(s=D),"function"!=typeof s)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));t.bitmap={data:e.from(y.bitmap.data),width:y.bitmap.width,height:y.bitmap.height},t._quality=y._quality,t._deflateLevel=y._deflateLevel,t._deflateStrategy=y._deflateStrategy,t._filterType=y._filterType,t._rgba=y._rgba,t._background=y._background,t._originalMime=y._originalMime,c(null,(0,f.default)(t))}else if(B(i[0])){var _=i[0];s=i[1]||D;var w=_.width*_.height*4===_.data.length,k=w?e.from(_.data):z(_.data);t.bitmap={data:k,width:_.width,height:_.height},c(null,(0,f.default)(t))}else if("string"==typeof i[0]){var E=i[0];if(void 0===(s=i[1])&&(s=D),"function"!=typeof s)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));U(E,(function(e,n){if(e)return b.throwError.call((0,f.default)(t),e,c);t.parseBitmap(n,E,c)}))}else if("object"===(0,v.default)(i[0])&&e.isBuffer(i[0])){var S=i[0];if("function"!=typeof(s=i[1]))return(0,l.default)(t,b.throwError.call((0,f.default)(t),"cb must be a function",c));t.parseBitmap(S,null,c)}else{"function"!=typeof(s=i[i.length-1])&&"function"!=typeof(s=i[i.length-2])&&(s=D);var C=n.__extraConstructors.find((function(t){return t.test.apply(t,i)}));if(!C)return(0,l.default)(t,b.throwError.call((0,f.default)(t),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",c));new Promise((function(e,n){var r;return(r=C.run).call.apply(r,[(0,f.default)(t),e,n].concat(i))})).then((function(){return c(null,(0,f.default)(t))})).catch(c)}return t}return(0,d.default)(n,t),(0,c.default)(n,[{key:"parseBitmap",value:function(t,e,n){A.parseBitmap.call(this,t,null,n)}},{key:"rgba",value:function(t,e){return"boolean"!=typeof t?b.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",e):(this._rgba=t,(0,b.isNodePattern)(e)&&e.call(this,null,this),this)}},{key:"emitMulti",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign(n,{methodName:t,eventName:e}),this.emit("any",n),t&&this.emit(t,n),this.emit(e,n)}},{key:"emitError",value:function(t,e){this.emitMulti(t,"error",e)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===V?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){return this._originalMime||n.MIME_PNG}},{key:"getExtension",value:function(){var t=this.getMIME();return x.getExtension(t)}},{key:"write",value:function(t,e){var n=this;if(!m.default||!m.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof t)return b.throwError.call(this,"path must be a string",e);if(void 0===e&&(e=D),"function"!=typeof e)return b.throwError.call(this,"cb must be a function",e);var r=x.getType(t)||this.getMIME(),i=g.default.parse(t);return i.dir&&w.default.sync(i.dir),this.getBuffer(r,(function(r,i){if(r)return b.throwError.call(n,r,e);var o=m.default.createWriteStream(t);o.on("open",(function(){o.write(i),o.end()})).on("error",(function(t){return b.throwError.call(n,t,e)})),o.on("finish",(function(){e.call(n,null,n)}))})),this}},{key:"getBase64",value:function(t,e){return t===n.AUTO&&(t=this.getMIME()),"string"!=typeof t?b.throwError.call(this,"mime must be a string",e):"function"!=typeof e?b.throwError.call(this,"cb must be a function",e):(this.getBuffer(t,(function(n,r){if(n)return b.throwError.call(this,n,e);var i="data:"+t+";base64,"+r.toString("base64");e.call(this,null,i)})),this)}},{key:"hash",value:function(t,e){if("function"==typeof(t=t||64)&&(e=t,t=64),"number"!=typeof t)return b.throwError.call(this,"base must be a number",e);if(t<2||t>64)return b.throwError.call(this,"base must be a number between 2 and 64",e);var n=this.pHash();for(n=(0,_.default)(_.default.BIN,R.slice(0,t))(n);n.length<P[t];)n="0"+n;return(0,b.isNodePattern)(e)&&e.call(this,null,n),n}},{key:"pHash",value:function(){return(new S.default).getHash(this)}},{key:"distanceFromHash",value:function(t){var e=new S.default,n=e.getHash(this);return e.distance(n,t)}},{key:"getPixelIndex",value:function(t,e,r,i){var o,a;if("function"==typeof r&&void 0===i&&(i=r,r=null),r||(r=n.EDGE_EXTEND),"number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",i);o=t=Math.round(t),a=e=Math.round(e),r===n.EDGE_EXTEND&&(t<0&&(o=0),t>=this.bitmap.width&&(o=this.bitmap.width-1),e<0&&(a=0),e>=this.bitmap.height&&(a=this.bitmap.height-1)),r===n.EDGE_WRAP&&(t<0&&(o=this.bitmap.width+t),t>=this.bitmap.width&&(o=t%this.bitmap.width),e<0&&(o=this.bitmap.height+e),e>=this.bitmap.height&&(a=e%this.bitmap.height));var s=this.bitmap.width*a+o<<2;return(o<0||o>=this.bitmap.width)&&(s=-1),(a<0||a>=this.bitmap.height)&&(s=-1),(0,b.isNodePattern)(i)&&i.call(this,null,s),s}},{key:"getPixelColor",value:function(t,e,n){if("number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",n);t=Math.round(t),e=Math.round(e);var r=this.getPixelIndex(t,e),i=this.bitmap.data.readUInt32BE(r);return(0,b.isNodePattern)(n)&&n.call(this,null,i),i}},{key:"setPixelColor",value:function(t,e,n,r){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n)return b.throwError.call(this,"hex, x and y must be numbers",r);e=Math.round(e),n=Math.round(n);var i=this.getPixelIndex(e,n);return this.bitmap.data.writeUInt32BE(t,i),(0,b.isNodePattern)(r)&&r.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var t=0;t<this.bitmap.height;t++)for(var e=0;e<this.bitmap.width;e++)if(255!==this.bitmap.data[3+(this.bitmap.width*t+e<<2)])return!0;return!1}},{key:"scanIterator",value:function(t,e,n,r){return"number"!=typeof t||"number"!=typeof e?b.throwError.call(this,"x and y must be numbers"):"number"!=typeof n||"number"!=typeof r?b.throwError.call(this,"w and h must be numbers"):(0,b.scanIterator)(this,t,e,n,r)}}]),n}(y.default);function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;Object.entries(t).forEach((function(t){var n=(0,s.default)(t,2);e[n[0]]=n[1]}))}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;Object.entries(t).forEach((function(t){var n=(0,s.default)(t,2);e.prototype[n[0]]=n[1]}))}function K(t,e,n){var r="before-"+e,i=e.replace(/e$/,"")+"ed";H.prototype[t]=function(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var u,c=a[n.length-1],l=this;"function"==typeof c?(e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0],a=n[1];o?l.emitError(t,o):l.emitMulti(t,i,(0,p.default)({},t,a)),c.apply(this,n)},a[a.length-1]=e):e=!1,this.emitMulti(t,r);try{u=n.apply(this,a),e||this.emitMulti(t,i,(0,p.default)({},t,u))}catch(h){h.methodName=t,this.emitError(t,h)}return u},H.prototype[t+"Quiet"]=n}function Y(t,e){K(t,"change",e)}G(O),W({composite:I.default}),H.__extraConstructors=[],H.appendConstructorOption=function(t,e,n){H.__extraConstructors.push({name:t,test:e,run:n})},H.read=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t,n){(0,a.default)(H,e.concat([function(e,r){e?n(e):t(r)}]))}))},H.create=H.read,H.rgbaToInt=function(t,e,n,r,i){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof n||"number"!=typeof r)return b.throwError.call(this,"r, g, b and a must be numbers",i);if(t<0||t>255)return b.throwError.call(this,"r must be between 0 and 255",i);if((e<0||e>255)&&b.throwError.call(this,"g must be between 0 and 255",i),n<0||n>255)return b.throwError.call(this,"b must be between 0 and 255",i);if(r<0||r>255)return b.throwError.call(this,"a must be between 0 and 255",i);t=Math.round(t),n=Math.round(n),e=Math.round(e),r=Math.round(r);var o=t*Math.pow(256,3)+e*Math.pow(256,2)+n*Math.pow(256,1)+r*Math.pow(256,0);return(0,b.isNodePattern)(i)&&i.call(this,null,o),o},H.intToRGBA=function(t,e){if("number"!=typeof t)return b.throwError.call(this,"i must be a number",e);var n={};return n.r=Math.floor(t/Math.pow(256,3)),n.g=Math.floor((t-n.r*Math.pow(256,3))/Math.pow(256,2)),n.b=Math.floor((t-n.r*Math.pow(256,3)-n.g*Math.pow(256,2))/Math.pow(256,1)),n.a=Math.floor((t-n.r*Math.pow(256,3)-n.g*Math.pow(256,2)-n.b*Math.pow(256,1))/Math.pow(256,0)),(0,b.isNodePattern)(e)&&e.call(this,null,n),n},H.cssColorToHex=function(t){return"number"==typeof(t=t||0)?Number(t):parseInt((0,E.default)(t).toHex8(),16)},H.limit255=function(t){return t=Math.max(t,0),Math.min(t,255)},H.diff=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(t instanceof H&&e instanceof H))return b.throwError.call(this,"img1 and img2 must be an Jimp images");var r=t.bitmap,i=e.bitmap;if(r.width===i.width&&r.height===i.height||(r.width*r.height>i.width*i.height?t=t.cloneQuiet().resize(i.width,i.height):e=e.cloneQuiet().resize(r.width,r.height)),"number"!=typeof n||n<0||n>1)return b.throwError.call(this,"threshold must be a number between 0 and 1");var o=new H(r.width,r.height,4294967295),a=(0,k.default)(r.data,i.data,o.bitmap.data,o.bitmap.width,o.bitmap.height,{threshold:n});return{percent:a/(o.bitmap.width*o.bitmap.height),image:o}},H.distance=function(t,e){var n=new S.default,r=n.getHash(t),i=n.getHash(e);return n.distance(r,i)},H.compareHashes=function(t,e){return(new S.default).distance(t,e)},H.colorDiff=function(t,e){var n=function(t){return Math.pow(t,2)},r=Math.max;return 0===t.a||t.a||(t.a=255),0===e.a||e.a||(e.a=255),(r(n(t.r-e.r),n(t.r-e.r-t.a+e.a))+r(n(t.g-e.g),n(t.g-e.g-t.a+e.a))+r(n(t.b-e.b),n(t.b-e.b-t.a+e.a)))/195075},K("clone","clone",(function(t){var e=new H(this);return(0,b.isNodePattern)(t)&&t.call(e,null,e),e})),Y("background",(function(t,e){return"number"!=typeof t?b.throwError.call(this,"hex must be a hexadecimal rgba value",e):(this._background=t,(0,b.isNodePattern)(e)&&e.call(this,null,this),this)})),Y("scan",(function(t,e,n,r,i,o){if("number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof r)return b.throwError.call(this,"w and h must be numbers",o);if("function"!=typeof i)return b.throwError.call(this,"f must be a function",o);var a=(0,b.scan)(this,t,e,n,r,i);return(0,b.isNodePattern)(o)&&o.call(this,null,a),a})),void 0!==r&&"object"===(void 0===r?"undefined":(0,v.default)(r))&&(q=r),"undefined"!=typeof self&&"object"===("undefined"==typeof self?"undefined":(0,v.default)(self))&&(q=self),q.Jimp=H,q.Buffer=e,n.default=H}).call(this,t("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(t,e,n){"use strict";function r(t,e){this.size=this.size||t,this.smallerSize=this.smallerSize||e,function(t){for(var e=1;e<t;e++)i[e]=1;i[0]=1/Math.sqrt(2)}(this.size)}r.prototype.size=32,r.prototype.smallerSize=8,r.prototype.distance=function(t,e){for(var n=0,r=0;r<t.length;r++)t[r]!==e[r]&&n++;return n/t.length},r.prototype.getHash=function(t){(t=t.clone().resize(this.size,this.size)).grayscale();for(var e=[],n=0;n<t.bitmap.width;n++){e[n]=[];for(var r=0;r<t.bitmap.height;r++)e[n][r]=(o=t.getPixelColor(n,r),a=void 0,a={},a.r=Math.floor(o/Math.pow(256,3)),a.g=Math.floor((o-a.r*Math.pow(256,3))/Math.pow(256,2)),a.b=Math.floor((o-a.r*Math.pow(256,3)-a.g*Math.pow(256,2))/Math.pow(256,1)),a.a=Math.floor((o-a.r*Math.pow(256,3)-a.g*Math.pow(256,2)-a.b*Math.pow(256,1))/Math.pow(256,0)),a).b}for(var o,a,s=function(t,e){for(var n=e,r=[],o=0;o<n;o++){r[o]=[];for(var a=0;a<n;a++){for(var s=0,u=0;u<n;u++)for(var c=0;c<n;c++)s+=Math.cos((2*u+1)/(2*n)*o*Math.PI)*Math.cos((2*c+1)/(2*n)*a*Math.PI)*t[u][c];r[o][a]=s*=i[o]*i[a]/4}}return r}(e,this.size),u=0,c=0;c<this.smallerSize;c++)for(var l=0;l<this.smallerSize;l++)u+=s[c][l];for(var h=u/(this.smallerSize*this.smallerSize),f="",d=0;d<this.smallerSize;d++)for(var p=0;p<this.smallerSize;p++)f+=s[d][p]>h?"1":"0";return f};var i=[];e.exports=r},{}],195:[function(t,e,n){(function(n,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");i(t("@babel/runtime/helpers/defineProperty")),i(t("@babel/runtime/helpers/extends")),e.exports=function(t,e){var n=new XMLHttpRequest;n.open("GET",t.url,!0),n.responseType="arraybuffer",n.addEventListener("load",(function(){if(n.status<400)try{var i=r.from(this.response);e(null,n,i)}catch(o){return e(new Error("Response is not a buffer for url "+t.url+". Error: "+o.message))}else e(new Error("HTTP Status "+n.status+" for url "+t.url))})),n.addEventListener("error",(function(t){e(t)})),n.send()}}).call(this,t("_process"),t("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(t,e,n){(function(e){"use strict";var r=t("@babel/runtime/helpers/interopRequireWildcard"),i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.parseBitmap=function(t,n,r){var i=function(t,e){var n=(0,a.default)(t);return n?n.mime:e?l.getType(e):null}(t,n);if("string"!=typeof i)return r(new Error("Could not find MIME for Buffer <"+n+">"));this._originalMime=i.toLowerCase();try{var c=this.getMIME();if(!this.constructor.decoders[c])return u.throwError.call(this,"Unsupported MIME type: "+c,r);this.bitmap=this.constructor.decoders[c](t)}catch(h){return r.call(this,h,this)}try{this._exif=s.default.create(t).parse(),function(t){if(!(f(t)<2)){var n=function(t){var e=t.getWidth(),n=t.getHeight();switch(f(t)){case 1:return null;case 2:return function(t,n){return[e-t-1,n]};case 3:return function(t,r){return[e-t-1,n-r-1]};case 4:return function(t,e){return[t,n-e-1]};case 5:return function(t,e){return[e,t]};case 6:return function(t,e){return[e,n-t-1]};case 7:return function(t,r){return[e-r-1,n-t-1]};case 8:return function(t,n){return[e-n-1,t]};default:return null}}(t),r=f(t)>4;!function(t,n,r,i){for(var a=t.bitmap.data,s=t.bitmap.width,u=e.alloc(a.length),c=0;c<n;c++)for(var l=0;l<r;l++){var h=i(c,l),f=(0,o.default)(h,2),d=n*l+c<<2,p=a.readUInt32BE(s*f[1]+f[0]<<2);u.writeUInt32BE(p,d)}t.bitmap.data=u,t.bitmap.width=n,t.bitmap.height=r}(t,r?t.bitmap.height:t.bitmap.width,r?t.bitmap.width:t.bitmap.height,n)}}(this)}catch(h){}return r.call(this,null,this),this},n.getBuffer=d,n.getBufferAsync=function(t){return(0,h.default)(d,this,t)};var o=i(t("@babel/runtime/helpers/slicedToArray")),a=i(t("file-type")),s=i(t("exif-parser")),u=t("@jimp/utils"),c=r(t("../constants")),l=r(t("./mime")),h=i(t("./promisify"));function f(t){return t._exif&&t._exif.tags&&t._exif.tags.Orientation||1}function d(t,n){if(t===c.AUTO&&(t=this.getMIME()),"string"!=typeof t)return u.throwError.call(this,"mime must be a string",n);if("function"!=typeof n)return u.throwError.call(this,"cb must be a function",n);var r;if(t=t.toLowerCase(),this.bitmap.data=this._rgba&&this.constructor.hasAlpha[t]?e.from(this.bitmap.data):(r=this.constructor,new r(this.bitmap.width,this.bitmap.height,this._background).composite(this,0,0).bitmap).data,this.constructor.encoders[t]){var i=this.constructor.encoders[t](this);n.call(this,null,i)}else n.call(this,"Unsupported MIME type: "+t);return this}}).call(this,t("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getExtension=n.getType=n.addType=void 0;var r={};n.addType=function(t,e){r[t]=e},n.getType=function(t){var e,n=t.split("/").slice(-1);return(e=n[n.length-1].split(".").pop(),Object.entries(r).find((function(t){return t[1].includes(e)}))||[])[0]},n.getExtension=function(t){return(r[t.toLowerCase()]||[])[0]}},{}],198:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return new Promise((function(n,i){r.push((function(t,e){t&&i(t),n(e)})),t.bind(e).apply(void 0,r)}))},e.exports=n.default},{}],199:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireWildcard"),i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function r(t){Object.entries(t).forEach((function(t){var e=(0,s.default)(t,2),r=e[0];n[r]=l({},n[r],{},e[1])}))}function i(t){var e=t();Array.isArray(e.mime)?u.addType.apply(void 0,(0,o.default)(e.mime)):Object.entries(e.mime).forEach((function(t){return u.addType.apply(void 0,(0,o.default)(t))})),delete e.mime,r(e)}function a(t){var e=t(u.jimpEvChange)||{};r(e.class||e.constants?e:{class:e})}return t.types&&(t.types.forEach(i),e.decoders=l({},e.decoders,{},n.decoders),e.encoders=l({},e.encoders,{},n.encoders),e.hasAlpha=l({},e.hasAlpha,{},n.hasAlpha)),t.plugins&&t.plugins.forEach(a),(0,u.addJimpMethods)(n.class,e),(0,u.addConstants)(n.constants,e),u.default};var o=i(t("@babel/runtime/helpers/toConsumableArray")),a=i(t("@babel/runtime/helpers/defineProperty")),s=i(t("@babel/runtime/helpers/slicedToArray")),u=r(t("@jimp/core"));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@jimp/custom")),o=r(t("@jimp/types")),a=r(t("@jimp/plugins")),s=(0,i.default)({types:[o.default],plugins:[a.default]});n.default=s,e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/typeof")),o=t("@jimp/utils");n.default=function(){return{blit:function(t,e,n,r,a,s,u,c){if(!(t instanceof this.constructor))return o.throwError.call(this,"The source must be a Jimp image",c);if("number"!=typeof e||"number"!=typeof n)return o.throwError.call(this,"x and y must be numbers",c);if("function"==typeof r)c=r,r=0,a=0,s=t.bitmap.width,u=t.bitmap.height;else{if((0,i.default)(r)!==(0,i.default)(a)||(0,i.default)(a)!==(0,i.default)(s)||(0,i.default)(s)!==(0,i.default)(u))return o.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",c);r=r||0,a=a||0,s=s||t.bitmap.width,u=u||t.bitmap.height}e=Math.round(e),n=Math.round(n),r=Math.round(r),a=Math.round(a),s=Math.round(s),u=Math.round(u);var l=this.bitmap.width,h=this.bitmap.height,f=this;return t.scanQuiet(r,a,s,u,(function(t,i,o){var s=e+t-r,u=n+i-a;if(s>=0&&u>=0&&l-s>0&&h-u>0){var c=f.getPixelIndex(s,u),d={r:this.bitmap.data[o],g:this.bitmap.data[o+1],b:this.bitmap.data[o+2],a:this.bitmap.data[o+3]},p={r:f.bitmap.data[c],g:f.bitmap.data[c+1],b:f.bitmap.data[c+2],a:f.bitmap.data[c+3]};f.bitmap.data[c]=(d.a*(d.r-p.r)-p.r+255>>8)+p.r,f.bitmap.data[c+1]=(d.a*(d.g-p.g)-p.g+255>>8)+p.g,f.bitmap.data[c+2]=(d.a*(d.b-p.b)-p.b+255>>8)+p.b,f.bitmap.data[c+3]=this.constructor.limit255(p.a+d.a)}})),(0,o.isNodePattern)(c)&&c.call(this,null,this),this}}},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shgTable=n.mulTable=void 0,n.mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],n.shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18]},{}],203:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils"),i=t("./blur-tables");n.default=function(){return{blur:function(t,e){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",e);if(t<1)return r.throwError.call(this,"r must be greater than 0",e);for(var n,o,a,s,u,c,l,h,f,d,p,v,m,g,y=this.bitmap.width-1,b=this.bitmap.height-1,_=t+1,w=i.mulTable[t],k=i.shgTable[t],E=[],S=[],C=[],I=[],T=[],x=[],A=2;A-- >0;){for(v=0,m=0,c=0;c<this.bitmap.height;c++){for(n=this.bitmap.data[m]*_,o=this.bitmap.data[m+1]*_,a=this.bitmap.data[m+2]*_,s=this.bitmap.data[m+3]*_,l=1;l<=t;l++)h=m+((l>y?y:l)<<2),n+=this.bitmap.data[h++],o+=this.bitmap.data[h++],a+=this.bitmap.data[h++],s+=this.bitmap.data[h];for(u=0;u<this.bitmap.width;u++)E[v]=n,S[v]=o,C[v]=a,I[v]=s,0===c&&(T[u]=((h=u+_)<y?h:y)<<2,x[u]=(h=u-t)>0?h<<2:0),f=m+T[u],d=m+x[u],n+=this.bitmap.data[f++]-this.bitmap.data[d++],o+=this.bitmap.data[f++]-this.bitmap.data[d++],a+=this.bitmap.data[f++]-this.bitmap.data[d++],s+=this.bitmap.data[f]-this.bitmap.data[d],v++;m+=this.bitmap.width<<2}for(u=0;u<this.bitmap.width;u++){for(n=E[p=u]*_,o=S[p]*_,a=C[p]*_,s=I[p]*_,l=1;l<=t;l++)n+=E[p+=l>b?0:this.bitmap.width],o+=S[p],a+=C[p],s+=I[p];for(v=u<<2,c=0;c<this.bitmap.height;c++)this.bitmap.data[v+3]=g=s*w>>>k,g>255&&(this.bitmap.data[v+3]=255),g>0?(this.bitmap.data[v]=(n*w>>>k)*(g=255/g),this.bitmap.data[v+1]=(o*w>>>k)*g,this.bitmap.data[v+2]=(a*w>>>k)*g):(this.bitmap.data[v+2]=0,this.bitmap.data[v+1]=0,this.bitmap.data[v]=0),0===u&&(T[c]=((h=c+_)<b?h:b)*this.bitmap.width,x[c]=(h=c-t)>0?h*this.bitmap.width:0),n+=E[f=u+T[c]]-E[d=u+x[c]],o+=S[f]-S[d],a+=C[f]-C[d],s+=I[f]-I[d],v+=this.bitmap.width<<2}}return(0,r.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=n.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{circle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(e=t,t={});var n=t.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,i={x:"number"==typeof t.x?t.x:this.bitmap.width/2,y:"number"==typeof t.y?t.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,r){var o=Math.sqrt(Math.pow(t-i.x,2)+Math.pow(e-i.y,2));n-o<=0?this.bitmap.data[r+3]=0:n-o<1&&(this.bitmap.data[r+3]=255*(n-o))})),(0,r.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],205:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/toConsumableArray")),a=i(t("tinycolor2")),s=t("@jimp/utils");function u(t,e,n,r){for(var i=[0,0,0],o=(e.length-1)/2,a=0;a<e.length;a+=1)for(var s=0;s<e[a].length;s+=1){var u=t.getPixelIndex(n+a-o,r+s-o);i[0]+=t.bitmap.data[u]*e[a][s],i[1]+=t.bitmap.data[u+1]*e[a][s],i[2]+=t.bitmap.data[u+2]*e[a][s]}return i}var c=function(t){return null!=t};function l(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){var r=parseInt(.2126*this.bitmap.data[n]+.7152*this.bitmap.data[n+1]+.0722*this.bitmap.data[n+2],10);this.bitmap.data[n]=r,this.bitmap.data[n+1]=r,this.bitmap.data[n+2]=r})),(0,s.isNodePattern)(t)&&t.call(this,null,this),this}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:n/100*(e.r-t.r)+t.r,g:n/100*(e.g-t.g)+t.g,b:n/100*(e.b-t.b)+t.b}}function f(t,e){var n=this;return t&&Array.isArray(t)?(t=t.map((function(t){return"xor"!==t.apply&&"mix"!==t.apply||(t.params[0]=(0,a.default)(t.params[0]).toRgb()),t})),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(r,i,u){var c={r:n.bitmap.data[u],g:n.bitmap.data[u+1],b:n.bitmap.data[u+2]},l=function(t,e){return n.constructor.limit255(c[t]+e)};t.forEach((function(t){if("mix"===t.apply)c=h(c,t.params[0],t.params[1]);else if("tint"===t.apply)c=h(c,{r:255,g:255,b:255},t.params[0]);else if("shade"===t.apply)c=h(c,{r:0,g:0,b:0},t.params[0]);else if("xor"===t.apply)c={r:c.r^t.params[0].r,g:c.g^t.params[0].g,b:c.b^t.params[0].b};else if("red"===t.apply)c.r=l("r",t.params[0]);else if("green"===t.apply)c.g=l("g",t.params[0]);else if("blue"===t.apply)c.b=l("b",t.params[0]);else{var r;if("hue"===t.apply&&(t.apply="spin"),!(c=(0,a.default)(c))[t.apply])return s.throwError.call(n,"action "+t.apply+" not supported",e);c=(r=c)[t.apply].apply(r,(0,o.default)(t.params)).toRgb()}})),n.bitmap.data[u]=c.r,n.bitmap.data[u+1]=c.g,n.bitmap.data[u+2]=c.b})),(0,s.isNodePattern)(e)&&e.call(this,null,this),this):s.throwError.call(this,"actions must be an array",e)}n.default=function(){return{brightness:function(t,e){return"number"!=typeof t?s.throwError.call(this,"val must be numbers",e):t<-1||t>1?s.throwError.call(this,"val must be a number between -1 and +1",e):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){t<0?(this.bitmap.data[r]=this.bitmap.data[r]*(1+t),this.bitmap.data[r+1]=this.bitmap.data[r+1]*(1+t),this.bitmap.data[r+2]=this.bitmap.data[r+2]*(1+t)):(this.bitmap.data[r]=this.bitmap.data[r]+(255-this.bitmap.data[r])*t,this.bitmap.data[r+1]=this.bitmap.data[r+1]+(255-this.bitmap.data[r+1])*t,this.bitmap.data[r+2]=this.bitmap.data[r+2]+(255-this.bitmap.data[r+2])*t)})),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},contrast:function(t,e){if("number"!=typeof t)return s.throwError.call(this,"val must be numbers",e);if(t<-1||t>1)return s.throwError.call(this,"val must be a number between -1 and +1",e);var n=(t+1)/(1-t);function r(t){return(t=Math.floor(n*(t-127)+127))<0?0:t>255?255:t}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data[n]=r(this.bitmap.data[n]),this.bitmap.data[n+1]=r(this.bitmap.data[n+1]),this.bitmap.data[n+2]=r(this.bitmap.data[n+2])})),(0,s.isNodePattern)(e)&&e.call(this,null,this),this},posterize:function(t,e){return"number"!=typeof t?s.throwError.call(this,"n must be numbers",e):(t<2&&(t=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){this.bitmap.data[r]=Math.floor(this.bitmap.data[r]/255*(t-1))/(t-1)*255,this.bitmap.data[r+1]=Math.floor(this.bitmap.data[r+1]/255*(t-1))/(t-1)*255,this.bitmap.data[r+2]=Math.floor(this.bitmap.data[r+2]/255*(t-1))/(t-1)*255})),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},greyscale:l,grayscale:l,opacity:function(t,e){return"number"!=typeof t?s.throwError.call(this,"f must be a number",e):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",e):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){this.bitmap.data[r+3]=this.bitmap.data[r+3]*t})),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},sepia:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){var r=this.bitmap.data[n],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2];o=.272*(r=.393*r+.769*i+.189*o)+.534*(i=.349*r+.686*i+.168*o)+.131*o,this.bitmap.data[n]=r<255?r:255,this.bitmap.data[n+1]=i<255?i:255,this.bitmap.data[n+2]=o<255?o:255})),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},fade:function(t,e){return"number"!=typeof t?s.throwError.call(this,"f must be a number",e):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",e):(this.opacity(1-t),(0,s.isNodePattern)(e)&&e.call(this,null,this),this)},convolution:function(t,e,n){"function"==typeof e&&void 0===n&&(n=e,e=null),e||(e=this.constructor.EDGE_EXTEND);var i,o,a,u,c,l,h,f,d=r.from(this.bitmap.data),p=t[0].length,v=Math.floor(t.length/2),m=Math.floor(p/2),g=-v,y=-m;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(n,r,s){u=0,a=0,o=0;for(var p=g;p<=v;p++)for(var b=y;b<=m;b++)i=t[p+v][b+m],-1===(f=this.getPixelIndex(n+b,r+p,e))?(h=0,l=0,c=0):(c=this.bitmap.data[f+0],l=this.bitmap.data[f+1],h=this.bitmap.data[f+2]),o+=i*c,a+=i*l,u+=i*h;o<0&&(o=0),a<0&&(a=0),u<0&&(u=0),o>255&&(o=255),a>255&&(a=255),u>255&&(u=255),d[s+0]=o,d[s+1]=a,d[s+2]=u})),this.bitmap.data=d,(0,s.isNodePattern)(n)&&n.call(this,null,this),this},opaque:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data[n+3]=255})),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},pixelate:function(t,e,n,r,i,o){if("function"==typeof e)o=e,i=null,r=null,n=null,e=null;else{if("number"!=typeof t)return s.throwError.call(this,"size must be a number",o);if(c(e)&&"number"!=typeof e)return s.throwError.call(this,"x must be a number",o);if(c(n)&&"number"!=typeof n)return s.throwError.call(this,"y must be a number",o);if(c(r)&&"number"!=typeof r)return s.throwError.call(this,"w must be a number",o);if(c(i)&&"number"!=typeof i)return s.throwError.call(this,"h must be a number",o)}var a=[[1/16,.125,1/16],[.125,.25,.125],[1/16,.125,1/16]];e=e||0,n=n||0,r=c(r)?r:this.bitmap.width-e,i=c(i)?i:this.bitmap.height-n;var l=this.cloneQuiet();return this.scanQuiet(e,n,r,i,(function(e,n,r){e=t*Math.floor(e/t),n=t*Math.floor(n/t);var i=u(l,a,e,n);this.bitmap.data[r]=i[0],this.bitmap.data[r+1]=i[1],this.bitmap.data[r+2]=i[2]})),(0,s.isNodePattern)(o)&&o.call(this,null,this),this},convolute:function(t,e,n,r,i,o){if(!Array.isArray(t))return s.throwError.call(this,"the kernel must be an array",o);if("function"==typeof e)o=e,e=null,n=null,r=null,i=null;else{if(c(e)&&"number"!=typeof e)return s.throwError.call(this,"x must be a number",o);if(c(n)&&"number"!=typeof n)return s.throwError.call(this,"y must be a number",o);if(c(r)&&"number"!=typeof r)return s.throwError.call(this,"w must be a number",o);if(c(i)&&"number"!=typeof i)return s.throwError.call(this,"h must be a number",o)}var a=(t.length-1)/2;e=c(e)?e:a,n=c(n)?n:a,r=c(r)?r:this.bitmap.width-e,i=c(i)?i:this.bitmap.height-n;var l=this.cloneQuiet();return this.scanQuiet(e,n,r,i,(function(e,n,r){var i=u(l,t,e,n);this.bitmap.data[r]=this.constructor.limit255(i[0]),this.bitmap.data[r+1]=this.constructor.limit255(i[1]),this.bitmap.data[r+2]=this.constructor.limit255(i[2])})),(0,s.isNodePattern)(o)&&o.call(this,null,this),this},color:f,colour:f}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{contain:function(t,e,n,i,o){if("number"!=typeof t||"number"!=typeof e)return r.throwError.call(this,"w and h must be numbers",o);"string"==typeof n&&("function"==typeof i&&void 0===o&&(o=i),i=n,n=null),"function"==typeof n&&(void 0===o&&(o=n),i=null,n=null),"function"==typeof i&&void 0===o&&(o=i,i=null);var a=7&(n=n||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),s=n>>3;if((0===a||a&a-1)&&(0===s||s&s-1))return r.throwError.call(this,"only use one flag per alignment direction",o);var u=a>>1,c=s>>1,l=t/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:t/this.bitmap.width,h=this.cloneQuiet().scale(l,i);return this.resize(t,e,i),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data.writeUInt32BE(this._background,n)})),this.blit(h,(this.bitmap.width-h.bitmap.width)/2*u,(this.bitmap.height-h.bitmap.height)/2*c),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],207:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{cover:function(t,e,n,i,o){if("number"!=typeof t||"number"!=typeof e)return r.throwError.call(this,"w and h must be numbers",o);n&&"function"==typeof n&&void 0===o?(o=n,n=null,i=null):"function"==typeof i&&void 0===o&&(o=i,i=null);var a=7&(n=n||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),s=n>>3;if((0===a||a&a-1)&&(0===s||s&s-1))return r.throwError.call(this,"only use one flag per alignment direction",o);var u=a>>1,c=s>>1;return this.scale(t/e>this.bitmap.width/this.bitmap.height?t/this.bitmap.width:e/this.bitmap.height,i),this.crop((this.bitmap.width-t)/2*u,(this.bitmap.height-e)/2*c,t,e),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],208:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){return t("crop",(function(t,e,n,i,o){if("number"!=typeof t||"number"!=typeof e)return a.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof i)return a.throwError.call(this,"w and h must be numbers",o);if(t=Math.round(t),e=Math.round(e),n=Math.round(n),i=Math.round(i),0===t&&n===this.bitmap.width){var s=n*e+t<<2;this.bitmap.data=this.bitmap.data.slice(s,s+i*n<<2)}else{var u=r.allocUnsafe(n*i*4),c=0;this.scanQuiet(t,e,n,i,(function(t,e,n){var r=this.bitmap.data.readUInt32BE(n,!0);u.writeUInt32BE(r,c,!0),c+=4})),this.bitmap.data=u}return this.bitmap.width=n,this.bitmap.height=i,(0,a.isNodePattern)(o)&&o.call(this,null,this),this})),{class:{autocrop:function(){for(var t,e=this.bitmap.width,n=this.bitmap.height,r=1,i=0,s=2e-4,u=!0,c=!1,l=arguments.length,h=new Array(l),f=0;f<l;f++)h[f]=arguments[f];for(var d=0,p=h.length;d<p;d++)if("number"==typeof h[d]&&(s=h[d]),"boolean"==typeof h[d]&&(u=h[d]),"function"==typeof h[d]&&(t=h[d]),"object"===(0,o.default)(h[d])){var v=h[d];void 0!==v.tolerance&&(s=v.tolerance),void 0!==v.cropOnlyFrames&&(u=v.cropOnlyFrames),void 0!==v.cropSymmetric&&(c=v.cropSymmetric),void 0!==v.leaveBorder&&(i=v.leaveBorder)}var m=this.getPixelColor(0,0),g=this.constructor.intToRGBA(m),y=0,b=0,_=0,w=0;m=this.getPixelColor(0,0);t:for(var k=0;k<n-r;k++){for(var E=0;E<e;E++){var S=this.getPixelColor(E,k),C=this.constructor.intToRGBA(S);if(this.constructor.colorDiff(g,C)>s)break t}y++}m=this.getPixelColor(e,0);t:for(var I=0;I<e-r;I++){for(var T=0+y;T<n;T++){var x=this.getPixelColor(I,T),A=this.constructor.intToRGBA(x);if(this.constructor.colorDiff(g,A)>s)break t}b++}m=this.getPixelColor(0,n);t:for(var O=n-1;O>=y+r;O--){for(var R=e-b-1;R>=0;R--){var P=this.getPixelColor(R,O),N=this.constructor.intToRGBA(P);if(this.constructor.colorDiff(g,N)>s)break t}_++}m=this.getPixelColor(e,n);t:for(var M=e-1;M>=0+b+r;M--){for(var D=n-1;D>=0+y;D--){var L=this.getPixelColor(M,D),j=this.constructor.intToRGBA(L);if(this.constructor.colorDiff(g,j)>s)break t}w++}if(w-=i,b-=i,y-=i,_-=i,c){var F=Math.min(b,w),U=Math.min(y,_);w=F,b=F,y=U,_=U}var B=e-((w=w>=0?w:0)+(b=b>=0?b:0)),z=n-((_=_>=0?_:0)+(y=y>=0?y:0));return(u?0!==b&&0!==y&&0!==w&&0!==_:0!==b||0!==y||0!==w||0!==_)&&this.crop(b,y,B,z),(0,a.isNodePattern)(t)&&t.call(this,null,this),this}}}};var o=i(t("@babel/runtime/helpers/typeof")),a=t("@jimp/utils");e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/typeof")),o=t("@jimp/utils");n.default=function(){return{displace:function(t,e,n){if("object"!==(0,i.default)(t)||t.constructor!==this.constructor)return o.throwError.call(this,"The source must be a Jimp image",n);if("number"!=typeof e)return o.throwError.call(this,"factor must be a number",n);var r=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(n,i,o){var a=t.bitmap.data[o]/256*e;a=Math.round(a);var s=this.getPixelIndex(n+a,i);this.bitmap.data[s]=r.bitmap.data[o],this.bitmap.data[s+1]=r.bitmap.data[o+1],this.bitmap.data[s+2]=r.bitmap.data[o+2]})),(0,o.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");function i(t){var e=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,n,r){var i=e[((3&n)<<2)+t%4];this.bitmap.data[r]=Math.min(this.bitmap.data[r]+i,255),this.bitmap.data[r+1]=Math.min(this.bitmap.data[r+1]+i,255),this.bitmap.data[r+2]=Math.min(this.bitmap.data[r+2]+i,255)})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}n.default=function(){return{dither565:i,dither16:i}},e.exports=n.default},{"@jimp/utils":235}],211:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{fisheye:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={r:2.5});var i=this.cloneQuiet(),o=i.bitmap,a=o.width,s=o.height;return i.scanQuiet(0,0,a,s,(function(n,r){var o=n/a,u=r/s,c=Math.sqrt(Math.pow(o-.5,2)+Math.pow(u-.5,2)),l=2*Math.pow(c,e.r),h=(u-.5)/c,f=Math.round((l*((o-.5)/c)+.5)*a),d=Math.round((l*h+.5)*s),p=i.getPixelColor(f,d);t.setPixelColor(p,n,r)})),this.setPixelColor(i.getPixelColor(a/2,s/2),a/2,s/2),(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],212:[function(t,e,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("@jimp/utils");function o(t,e,n){if("boolean"!=typeof t||"boolean"!=typeof e)return i.throwError.call(this,"horizontal and vertical must be Booleans",n);var o=r.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(n,r,i){var a=this.bitmap.width*(e?this.bitmap.height-1-r:r)+(t?this.bitmap.width-1-n:n)<<2,s=this.bitmap.data.readUInt32BE(i);o.writeUInt32BE(s,a)})),this.bitmap.data=r.from(o),(0,i.isNodePattern)(n)&&n.call(this,null,this),this}n.default=function(){return{flip:o,mirror:o}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{gaussian:function(t,e){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",e);if(t<1)return r.throwError.call(this,"r must be greater than 0",e);for(var n=Math.ceil(2.57*t),i=2*n+1,o=t*t*2,a=o*Math.PI,s=[],u=0;u<i;u++){s[u]=[];for(var c=0;c<i;c++){var l=Math.pow(c-n,2)+Math.pow(u-n,2);s[u][c]=Math.exp(-l/o)/a}}for(var h=0;h<this.bitmap.height;h++)for(var f=0;f<this.bitmap.width;f++)for(var d=0,p=0,v=0,m=0,g=0,y=0;y<i;y++){for(var b=0;b<i;b++){var _=Math.min(this.bitmap.width-1,Math.max(0,b+f-n)),w=Math.min(this.bitmap.height-1,Math.max(0,y+h-n)),k=s[y][b],E=w*this.bitmap.width+_<<2;d+=this.bitmap.data[E]*k,p+=this.bitmap.data[E+1]*k,v+=this.bitmap.data[E+2]*k,m+=this.bitmap.data[E+3]*k,g+=k}var S=h*this.bitmap.width+f<<2;this.bitmap.data[S]=Math.round(d/g),this.bitmap.data[S+1]=Math.round(p/g),this.bitmap.data[S+2]=Math.round(v/g),this.bitmap.data[S+3]=Math.round(m/g)}return(0,r.isNodePattern)(e)&&e.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],214:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{invert:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data[n]=255-this.bitmap.data[n],this.bitmap.data[n+1]=255-this.bitmap.data[n+1],this.bitmap.data[n+2]=255-this.bitmap.data[n+2]})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],215:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{mask:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;if(!(t instanceof this.constructor))return r.throwError.call(this,"The source must be a Jimp image",i);if("number"!=typeof e||"number"!=typeof n)return r.throwError.call(this,"x and y must be numbers",i);e=Math.round(e),n=Math.round(n);var o=this.bitmap.width,a=this.bitmap.height,s=this;return t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,(function(t,r,i){var u=e+t,c=n+r;if(u>=0&&c>=0&&u<o&&c<a){var l=s.getPixelIndex(u,c),h=this.bitmap.data;s.bitmap.data[l+3]*=(h[i+0]+h[i+1]+h[i+2])/3/255}})),(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],216:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");function i(){var t={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,r){t.r[this.bitmap.data[r+0]]++,t.g[this.bitmap.data[r+1]]++,t.b[this.bitmap.data[r+2]]++})),t}var o=function(t,e,n){return 255*(t-e)/(n-e)},a=function(t){return[t.findIndex((function(t){return t>0})),255-t.slice().reverse().findIndex((function(t){return t>0}))]};n.default=function(){return{normalize:function(t){var e=i.call(this),n={r:a(e.r),g:a(e.g),b:a(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,r){var i=this.bitmap.data[r+1],a=this.bitmap.data[r+2];this.bitmap.data[r+0]=o(this.bitmap.data[r+0],n.r[0],n.r[1]),this.bitmap.data[r+1]=o(i,n.g[0],n.g[1]),this.bitmap.data[r+2]=o(a,n.b[0],n.b[1])})),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],217:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/typeof")),a=i(t("@babel/runtime/helpers/toConsumableArray")),s=i(t("path")),u=i(t("load-bmfont")),c=t("@jimp/utils"),l=t("./measure-text");function h(t,e,n,r,i){return i.width>0&&i.height>0&&t.blit(e.pages[i.page],n+i.xoffset,r+i.yoffset,i.x,i.y,i.width,i.height),t}function f(t,e,n,r,i){for(var o=0;o<r.length;o++){var a;a=t.chars[r[o]]?r[o]:/\s/.test(r[o])?"":"?";var s=t.chars[a]||{},u=t.kernings[a];h(this,t,e,n,s||{}),e+=(u&&u[r[o+1]]?u[r[o+1]]:0)+(s.xadvance||i)}}var d="browser/lib/";n.default=function(){return{constants:{measureText:l.measureText,measureTextHeight:l.measureTextHeight,FONT_SANS_8_BLACK:s.default.join(d,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s.default.join(d,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s.default.join(d,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s.default.join(d,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s.default.join(d,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s.default.join(d,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s.default.join(d,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s.default.join(d,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s.default.join(d,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s.default.join(d,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s.default.join(d,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s.default.join(d,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s.default.join(d,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(t,e){var n=this;return"string"!=typeof t?c.throwError.call(this,"file must be a string",e):new Promise((function(r,i){e=e||function(t,e){t?i(t):r(e)},(0,u.default)(t,(function(r,i){var o={},a={};if(r)return c.throwError.call(n,r,e);for(var u=0;u<i.chars.length;u++)o[String.fromCharCode(i.chars[u].id)]=i.chars[u];for(var l=0;l<i.kernings.length;l++){var h=String.fromCharCode(i.kernings[l].first);a[h]=a[h]||{},a[h][String.fromCharCode(i.kernings[l].second)]=i.kernings[l].amount}(function(t,e,n){var r=n.map((function(n){return t.read(e+"/"+n)}));return Promise.all(r)})(n,s.default.dirname(t),i.pages).then((function(t){e(null,{chars:o,kernings:a,pages:t,common:i.common,info:i.info})}))}))}))}},class:{print:function(t,e,n,r,i,s,u){var h,d,p=this;if("function"==typeof i&&void 0===u&&(u=i,i=1/0),void 0===i&&(i=1/0),"function"==typeof s&&void 0===u&&(u=s,s=1/0),void 0===s&&(s=1/0),"object"!==(0,o.default)(t))return c.throwError.call(this,"font must be a Jimp loadFont",u);if("number"!=typeof e||"number"!=typeof n||"number"!=typeof i)return c.throwError.call(this,"x, y and maxWidth must be numbers",u);if("number"!=typeof i)return c.throwError.call(this,"maxWidth must be a number",u);if("number"!=typeof s)return c.throwError.call(this,"maxHeight must be a number",u);"object"===(0,o.default)(r)&&null!=r.text?(h=r.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,d=r.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,r=r.text):(h=this.constructor.HORIZONTAL_ALIGN_LEFT,d=this.constructor.VERTICAL_ALIGN_TOP,r=r.toString()),s!==1/0&&d===this.constructor.VERTICAL_ALIGN_BOTTOM?n+=s-(0,l.measureTextHeight)(t,r,i):s!==1/0&&d===this.constructor.VERTICAL_ALIGN_MIDDLE&&(n+=s/2-(0,l.measureTextHeight)(t,r,i)/2);var v=Object.entries(t.chars)[0][1].xadvance,m=function(t,e,n){var r=e.split(" "),i=[],o=[],s=0;return r.forEach((function(e){var r=[].concat((0,a.default)(o),[e]).join(" "),u=(0,l.measureText)(t,r);u<=n?(u>s&&(s=u),o.push(e)):(i.push(o),o=[e])})),i.push(o),{lines:i,longestLine:s}}(t,r,i),g=m.longestLine;return m.lines.forEach((function(r){var o=r.join(" "),a=function(t,e,n,r,i){return i===t.HORIZONTAL_ALIGN_LEFT?0:i===t.HORIZONTAL_ALIGN_CENTER?(r-(0,l.measureText)(e,n))/2:r-(0,l.measureText)(e,n)}(p.constructor,t,o,i,h);f.call(p,t,e+a,n,o,v),n+=t.common.lineHeight})),(0,c.isNodePattern)(u)&&u.call(this,null,this,{x:e+g,y:n}),this}}}},e.exports=n.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(t,e,n){"use strict";function r(t,e){for(var n=0,r=0;r<e.length;r++)t.chars[e[r]]&&(n+=(t.chars[e[r]].xadvance||0)+(t.kernings[e[r]]&&t.kernings[e[r]][e[r+1]]?t.kernings[e[r]][e[r+1]]:0));return n}Object.defineProperty(n,"__esModule",{value:!0}),n.measureText=r,n.measureTextHeight=function(t,e,n){for(var i=e.split(" "),o="",a=t.common.lineHeight,s=0;s<i.length;s++){var u=o+i[s]+" ";r(t,u)>n&&s>0?(a+=t.common.lineHeight,o=i[s]+" "):o=u}return a}},{}],219:[function(t,e,n){(function(n){var r=t("xhr"),i=function(){},o=t("parse-bmfont-ascii"),a=t("parse-bmfont-xml"),s=t("parse-bmfont-binary"),u=t("./lib/is-binary"),c=t("xtend"),l=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(t,e){e="function"==typeof e?e:i,"string"==typeof t?t={uri:t}:t||(t={}),t.binary&&(t=function(t){if(l)return c(t,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),c({xhr:e},t)}(t)),r(t,(function(r,c,l){if(r)return e(r);if(!/^2/.test(c.statusCode))return e(new Error("http status code: "+c.statusCode));if(!l)return e(new Error("no body result"));var h,f=!1;if("[object ArrayBuffer]"===Object.prototype.toString.call(l)){var d=new Uint8Array(l);l=new n(d,"binary")}u(l)&&(f=!0,"string"==typeof l&&(l=new n(l,"binary"))),f||(n.isBuffer(l)&&(l=l.toString(t.encoding)),l=l.trim());try{var p=c.headers["content-type"];h=f?s(l):/json/.test(p)||"{"===l.charAt(0)?JSON.parse(l):/xml/.test(p)||"<"===l.charAt(0)?a(l):o(l)}catch(v){e(new Error("error parsing font "+v.message)),e=i}e(null,h)}))}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(t,e,n){(function(n){var r=t("buffer-equal"),i=new n([66,77,70,3]);e.exports=function(t){return"string"==typeof t?"BMF"===t.substring(0,3):t.length>4&&r(t.slice(0,4),i)}}).call(this,t("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("@jimp/utils"),a=i(t("./modules/resize")),s=i(t("./modules/resize2"));n.default=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(t,e,n,i){if("number"!=typeof t||"number"!=typeof e)return o.throwError.call(this,"w and h must be numbers",i);if("function"==typeof n&&void 0===i&&(i=n,n=null),t===this.constructor.AUTO&&e===this.constructor.AUTO)return o.throwError.call(this,"w and h cannot both be set to auto",i);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(e/this.bitmap.height)),e===this.constructor.AUTO&&(e=this.bitmap.height*(t/this.bitmap.width)),t<0||e<0)return o.throwError.call(this,"w and h must be positive numbers",i);if(t=Math.round(t),e=Math.round(e),"function"==typeof s.default[n]){var u={data:r.alloc(t*e*4),width:t,height:e};s.default[n](this.bitmap,u),this.bitmap=u}else{var c=this;new a.default(this.bitmap.width,this.bitmap.height,t,e,!0,!0,(function(n){c.bitmap.data=r.from(n),c.bitmap.width=t,c.bitmap.height=e})).resize(this.bitmap.data)}return(0,o.isNodePattern)(i)&&i.call(this,null,this),this}}}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(e)||0),this.targetWidth=Math.abs(Math.floor(n)||0),this.targetHeight=Math.abs(Math.floor(r)||0),this.colorChannels=i?4:3,this.interpolationPass=Boolean(o),this.resizeCallback="function"==typeof a?a:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}r.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},r.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},r.prototype._resizeWidthInterpolatedRGBChannels=function(t,e){var n,r,i=e?4:3,o=this.ratioWeightWidthPass,a=this.widthBuffer,s=0,u=0,c=0,l=0,h=0;for(n=0;s<1/3;n+=i,s+=o)for(u=n,c=0;u<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)a[u]=t[c],a[u+1]=t[c+1],a[u+2]=t[c+2],e&&(a[u+3]=t[c+3]);for(s-=1/3,r=this.widthOriginal-1;s<r;n+=i,s+=o)for(l=1-(h=s%1),u=n,c=Math.floor(s)*i;u<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)a[u+0]=t[c+0]*l+t[c+i+0]*h,a[u+1]=t[c+1]*l+t[c+i+1]*h,a[u+2]=t[c+2]*l+t[c+i+2]*h,e&&(a[u+3]=t[c+3]*l+t[c+i+3]*h);for(r=this.originalWidthMultipliedByChannels-i;n<this.targetWidthMultipliedByChannels;n+=i)for(u=n,c=r;u<this.widthPassResultSize;c+=this.originalWidthMultipliedByChannels,u+=this.targetWidthMultipliedByChannels)a[u]=t[c],a[u+1]=t[c+1],a[u+2]=t[c+2],e&&(a[u+3]=t[c+3]);return a},r.prototype._resizeWidthRGBChannels=function(t,e){var n=e?4:3,r=this.ratioWeightWidthPass,i=1/r,o=this.originalWidthMultipliedByChannels-n+1,a=this.targetWidthMultipliedByChannels-n+1,s=this.outputWidthWorkBench,u=this.widthBuffer,c=this.outputWidthWorkBenchOpaquePixelsCount,l=0,h=0,f=0,d=0,p=0,v=0,m=0,g=1,y=0,b=0,_=0,w=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)s[p++]=0,s[p++]=0,s[p++]=0,e&&(s[p++]=0,c[p/n-1]=0);l=r;do{for(h=1+f-d,g=Math.min(l,h),p=0,v=f;p<this.originalHeightMultipliedByChannels;v+=o)y=t[v],b=t[++v],_=t[++v],w=e?t[++v]:255,s[p++]+=(w?y:0)*g,s[p++]+=(w?b:0)*g,s[p++]+=(w?_:0)*g,e&&(s[p++]+=w*g,c[p/n-1]+=w?g:0);if(!(l>=h)){d+=l;break}d=f+=n,l-=h}while(l>0&&f<this.originalWidthMultipliedByChannels);for(p=0,v=m;p<this.originalHeightMultipliedByChannels;v+=a)l=e?c[p/n]:1,u[v]=s[p++]*(g=e?l?1/l:0:i),u[++v]=s[p++]*g,u[++v]=s[p++]*g,e&&(u[++v]=s[p++]*i);m+=n}while(m<this.targetWidthMultipliedByChannels);return u},r.prototype._resizeHeightRGBChannels=function(t,e){var n=this.ratioWeightHeightPass,r=1/n,i=this.outputHeightWorkBench,o=this.heightBuffer,a=this.outputHeightWorkBenchOpaquePixelsCount,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=1,v=0,m=0,g=0,y=0;do{for(h=0;h<this.targetWidthMultipliedByChannels;)i[h++]=0,i[h++]=0,i[h++]=0,e&&(i[h++]=0,a[h/4-1]=0);s=n;do{for(u=1+c-l,p=Math.min(s,u),d=c,h=0;h<this.targetWidthMultipliedByChannels;)v=t[d++],m=t[d++],g=t[d++],y=e?t[d++]:255,i[h++]+=(y?v:0)*p,i[h++]+=(y?m:0)*p,i[h++]+=(y?g:0)*p,e&&(i[h++]+=y*p,a[h/4-1]+=y?p:0);if(!(s>=u)){l+=s;break}l=c=d,s-=u}while(s>0&&c<this.widthPassResultSize);for(h=0;h<this.targetWidthMultipliedByChannels;)s=e?a[h/4]:1,p=e?s?1/s:0:r,o[f++]=Math.round(i[h++]*p),o[f++]=Math.round(i[h++]*p),o[f++]=Math.round(i[h++]*p),e&&(o[f++]=Math.round(i[h++]*r))}while(f<this.finalResultSize);return o},r.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},r.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},r.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},r.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},r.prototype.resizeHeightInterpolated=function(t){for(var e,n=this.ratioWeightHeightPass,r=this.heightBuffer,i=0,o=0,a=0,s=0,u=0,c=0,l=0;i<1/3;i+=n)for(a=0;a<this.targetWidthMultipliedByChannels;)r[o++]=Math.round(t[a++]);for(i-=1/3,e=this.heightOriginal-1;i<e;i+=n)for(c=1-(l=i%1),u=(s=Math.floor(i)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels,a=0;a<this.targetWidthMultipliedByChannels;++a)r[o++]=Math.round(t[s++]*c+t[u++]*l);for(;o<this.finalResultSize;)for(a=0,s=e*this.targetWidthMultipliedByChannels;a<this.targetWidthMultipliedByChannels;++a)r[o++]=Math.round(t[s++]);return r},r.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},r.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},r.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},r.prototype.bypassResizer=function(t){return t},r.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),t||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},r.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),t||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},r.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(e){return[]}},r.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(e){return[]}},r.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(e){return[]}},e.exports=r},{}],223:[function(t,e,n){(function(t){"use strict";e.exports={nearestNeighbor:function(t,e){for(var n=t.width,r=t.height,i=e.width,o=e.height,a=t.data,s=e.data,u=0;u<o;u++)for(var c=0;c<i;c++){var l=4*(u*i+c),h=4*(Math.floor(u*r/o)*n+Math.floor(c*n/i));s[l++]=a[h++],s[l++]=a[h++],s[l++]=a[h++],s[l++]=a[h++]}},bilinearInterpolation:function(t,e){for(var n=t.width,r=t.height,i=e.width,o=e.height,a=t.data,s=e.data,u=function(t,e,n,r,i){return e===r?n:Math.round((t-e)*i+(r-t)*n)},c=function(t,e,r,i,o,c,l,h){var f=4*(l*n+i)+e,d=4*(l*n+o)+e,p=u(r,i,a[f],o,a[d]);if(h===l)s[t+e]=p;else{var v=u(r,i,a[f=4*(h*n+i)+e],o,a[d=4*(h*n+o)+e]);s[t+e]=u(c,l,p,h,v)}},l=0;l<o;l++)for(var h=0;h<i;h++){var f=4*(l*i+h),d=h*n/i,p=Math.floor(d),v=Math.min(Math.ceil(d),n-1),m=l*r/o,g=Math.floor(m),y=Math.min(Math.ceil(m),r-1);c(f,0,d,p,v,m,g,y),c(f,1,d,p,v,m,g,y),c(f,2,d,p,v,m,g,y),c(f,3,d,p,v,m,g,y)}},_interpolate2D:function(e,n,r,i){for(var o=e.data,a=n.data,s=e.width,u=e.height,c=n.width,l=n.height,h=Math.max(1,Math.floor(s/c)),f=c*h,d=Math.max(1,Math.floor(u/l)),p=l*d,v=t.alloc(f*u*4),m=0;m<u;m++)for(var g=0;g<f;g++)for(var y=g*(s-1)/f,b=Math.floor(y),_=y-b,w=4*(m*s+b),k=4*(m*f+g),E=0;E<4;E++){var S=w+E;v[k+E]=i(b>0?o[S-4]:2*o[S]-o[S+4],o[S],o[S+4],b<s-2?o[S+8]:2*o[S+4]-o[S],_)}for(var C=t.alloc(f*p*4),I=0;I<p;I++)for(var T=0;T<f;T++)for(var x=I*(u-1)/p,A=Math.floor(x),O=x-A,R=4*(A*f+T),P=4*(I*f+T),N=0;N<4;N++){var M=R+N;C[P+N]=i(A>0?v[M-4*f]:2*v[M]-v[M+4*f],v[M],v[M+4*f],A<u-2?v[M+8*f]:2*v[M+4*f]-v[M],O)}var D=h*d;if(D>1)for(var L=0;L<l;L++)for(var j=0;j<c;j++){for(var F=0,U=0,B=0,z=0,q=0,V=0;V<d;V++)for(var H=L*d+V,G=0;G<h;G++){var W=4*(H*f+(j*h+G)),K=C[W+3];K&&(F+=C[W],U+=C[W+1],B+=C[W+2],q++),z+=K}var Y=4*(L*c+j);a[Y]=q?Math.round(F/q):0,a[Y+1]=q?Math.round(U/q):0,a[Y+2]=q?Math.round(B/q):0,a[Y+3]=Math.round(z/D)}else n.data=C},bicubicInterpolation:function(t,e,n){return this._interpolate2D(t,e,n,(function(t,e,n,r,i){var o=r-n-t+e;return Math.max(0,Math.min(255,o*(i*i*i)+i*i*(t-e-o)+(n-t)*i+e))}))},hermiteInterpolation:function(t,e,n){return this._interpolate2D(t,e,n,(function(t,e,n,r,i){return Math.max(0,Math.min(255,Math.round((((.5*(r-t)+1.5*(e-n))*i+(t-2.5*e+2*n-.5*r))*i+.5*(n-t))*i+e)))}))},bezierInterpolation:function(t,e,n){return this._interpolate2D(t,e,n,(function(t,e,n,r,i){var o=1-i;return Math.max(0,Math.min(255,Math.round(e*o*o*o+3*(e+(n-t)/4)*o*o*i+3*(n-(r-e)/4)*o*i*i+n*i*i*i)))}))}}}).call(this,t("buffer").Buffer)},{buffer:48}],224:[function(t,e,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("@jimp/utils");function o(t,e){var n=(t%=360)*Math.PI/180,i=Math.cos(n),o=Math.sin(n),a=this.bitmap.width,s=this.bitmap.height;if(!0===e||"string"==typeof e){(a=Math.ceil(Math.abs(this.bitmap.width*i)+Math.abs(this.bitmap.height*o))+1)%2!=0&&a++,(s=Math.ceil(Math.abs(this.bitmap.width*o)+Math.abs(this.bitmap.height*i))+1)%2!=0&&s++;var u=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,n){this.bitmap.data.writeUInt32BE(this._background,n)}));var c=Math.max(a,s,this.bitmap.width,this.bitmap.height);this.resize(c,c,e),this.blit(u,this.bitmap.width/2-u.bitmap.width/2,this.bitmap.height/2-u.bitmap.height/2)}var l=this.bitmap.width,h=this.bitmap.height,f=r.alloc(this.bitmap.data.length);function d(t,e){return function(n,r){return{x:n+t,y:r+e}}}for(var p=d(-l/2,-h/2),v=d(l/2+.5,h/2+.5),m=1;m<=h;m++)for(var g=1;g<=l;g++){var y=p(g,m),b=v(i*y.x-o*y.y,i*y.y+o*y.x),_=l*(m-1)+g-1<<2;if(b.x>=0&&b.x<l&&b.y>=0&&b.y<h){var w=this.bitmap.data.readUInt32BE((l*(0|b.y)+b.x|0)<<2);f.writeUInt32BE(w,_)}else f.writeUInt32BE(this._background,_)}this.bitmap.data=f,(!0===e||"string"==typeof e)&&this.crop(l/2-a/2,h/2-s/2,a,s)}n.default=function(){return{rotate:function(t,e,n){return null==e&&(e=!0),"function"==typeof e&&void 0===n&&(n=e,e=!0),"number"!=typeof t?i.throwError.call(this,"deg must be a number",n):"boolean"!=typeof e&&"string"!=typeof e?i.throwError.call(this,"mode must be a boolean or a string",n):(o.call(this,t,e,n),(0,i.isNodePattern)(n)&&n.call(this,null,this),this)}}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{scale:function(t,e,n){return"number"!=typeof t?r.throwError.call(this,"f must be a number",n):t<0?r.throwError.call(this,"f must be a positive number",n):("function"==typeof e&&void 0===n&&(n=e,e=null),this.resize(this.bitmap.width*t,this.bitmap.height*t,e),(0,r.isNodePattern)(n)&&n.call(this,null,this),this)},scaleToFit:function(t,e,n,i){return"number"!=typeof t||"number"!=typeof e?r.throwError.call(this,"w and h must be numbers",i):("function"==typeof n&&void 0===i&&(i=n,n=null),this.scale(t/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:t/this.bitmap.width,n),(0,r.isNodePattern)(i)&&i.call(this,null,this),this)}}},e.exports=n.default},{"@jimp/utils":235}],226:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{shadow:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(n=e,e={});var i=e,o=i.opacity,a=void 0===o?.7:o,s=i.size,u=void 0===s?1.1:s,c=i.x,l=void 0===c?-25:c,h=i.y,f=void 0===h?25:h,d=i.blur,p=void 0===d?5:d,v=this.clone(),m=this.clone();return m.scan(0,0,m.bitmap.width,m.bitmap.height,(function(e,n,r){m.bitmap.data[r]=0,m.bitmap.data[r+1]=0,m.bitmap.data[r+2]=0,m.bitmap.data[r+3]=m.constructor.limit255(m.bitmap.data[r+3]*a),t.bitmap.data[r]=0,t.bitmap.data[r+1]=0,t.bitmap.data[r+2]=0,t.bitmap.data[r+3]=0})),m.resize(m.bitmap.width*u,m.bitmap.height*u).blur(p),this.composite(m,l,f),this.composite(v,0,0),(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}},e.exports=n.default},{"@jimp/utils":235}],227:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("@jimp/utils");n.default=function(){return{threshold:function(t,e){var n=this,i=t.max,o=t.replace,a=void 0===o?255:o,s=t.autoGreyscale,u=void 0===s||s;return"number"!=typeof i?r.throwError.call(this,"max must be a number",e):"number"!=typeof a?r.throwError.call(this,"replace must be a number",e):"boolean"!=typeof u?r.throwError.call(this,"autoGreyscale must be a boolean",e):(i=this.constructor.limit255(i),a=this.constructor.limit255(a),u&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,e,r){var o=n.bitmap.data[r]<i?n.bitmap.data[r]:a;n.bitmap.data[r]=o,n.bitmap.data[r+1]=o,n.bitmap.data[r+2]=o})),(0,r.isNodePattern)(e)&&e.call(this,null,this),this)}}},e.exports=n.default},{"@jimp/utils":235}],228:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/toConsumableArray")),o=t("timm"),a=r(t("@jimp/plugin-blit")),s=r(t("@jimp/plugin-blur")),u=r(t("@jimp/plugin-circle")),c=r(t("@jimp/plugin-color")),l=r(t("@jimp/plugin-contain")),h=r(t("@jimp/plugin-cover")),f=r(t("@jimp/plugin-crop")),d=r(t("@jimp/plugin-displace")),p=r(t("@jimp/plugin-dither")),v=r(t("@jimp/plugin-fisheye")),m=r(t("@jimp/plugin-flip")),g=r(t("@jimp/plugin-gaussian")),y=r(t("@jimp/plugin-invert")),b=r(t("@jimp/plugin-mask")),_=r(t("@jimp/plugin-normalize")),w=r(t("@jimp/plugin-print")),k=r(t("@jimp/plugin-resize")),E=r(t("@jimp/plugin-rotate")),S=r(t("@jimp/plugin-scale")),C=r(t("@jimp/plugin-shadow")),I=r(t("@jimp/plugin-threshold")),T=[a.default,s.default,u.default,c.default,l.default,h.default,f.default,d.default,p.default,v.default,m.default,g.default,y.default,b.default,_.default,w.default,k.default,E.default,S.default,C.default,I.default];n.default=function(t){var e=T.map((function(e){var n=e(t)||{};return n.class||n.constants||(n={class:n}),n}));return o.mergeDeep.apply(void 0,(0,i.default)(e))},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/defineProperty")),o=r(t("bmp-js")),a=t("@jimp/utils"),s=function(t){return e=o.default.decode(t),(0,a.scan)({bitmap:e},0,0,e.width,e.height,(function(t,n,r){var i=this.bitmap.data[r+0],o=this.bitmap.data[r+1],a=this.bitmap.data[r+2];this.bitmap.data[r+0]=this.bitmap.data[r+3],this.bitmap.data[r+1]=a,this.bitmap.data[r+2]=o,this.bitmap.data[r+3]=e.is_with_alpha?i:255})).bitmap;var e},u=function(t){return o.default.encode(function(t){return(0,a.scan)(t,0,0,t.bitmap.width,t.bitmap.height,(function(t,e,n){var r=this.bitmap.data[n+0],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2];this.bitmap.data[n+0]=this.bitmap.data[n+3],this.bitmap.data[n+1]=o,this.bitmap.data[n+2]=i,this.bitmap.data[n+3]=r})).bitmap}(t)).data};n.default=function(){var t,e;return{mime:(0,i.default)({},"image/bmp",["bmp"]),constants:{MIME_BMP:"image/bmp",MIME_X_MS_BMP:"image/x-ms-bmp"},decoders:(t={},(0,i.default)(t,"image/bmp",s),(0,i.default)(t,"image/x-ms-bmp",s),t),encoders:(e={},(0,i.default)(e,"image/bmp",u),(0,i.default)(e,"image/x-ms-bmp",u),e)}},e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/defineProperty")),a=i(t("omggif")),s=t("gifwrap");n.default=function(){return{mime:(0,o.default)({},"image/gif",["gif"]),constants:{MIME_GIF:"image/gif"},decoders:(0,o.default)({},"image/gif",(function(t){var e=new a.default.GifReader(t),n=r.alloc(e.width*e.height*4);return e.decodeAndBlitFrameRGBA(0,n),{data:n,width:e.width,height:e.height}})),encoders:(0,o.default)({},"image/gif",(function(t){var e=new s.BitmapImage(t.bitmap);s.GifUtil.quantizeDekker(e,256);var n=new s.GifFrame(e);return(new s.GifCodec).encodeGif([n],{}).then((function(t){return t.buffer}))}))}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/defineProperty")),o=r(t("jpeg-js")),a=t("@jimp/utils");n.default=function(){return{mime:(0,i.default)({},"image/jpeg",["jpeg","jpg","jpe"]),constants:{MIME_JPEG:"image/jpeg"},decoders:(0,i.default)({},"image/jpeg",o.default.decode),encoders:(0,i.default)({},"image/jpeg",(function(t){return o.default.encode(t.bitmap,t._quality).data})),class:{_quality:100,quality:function(t,e){return"number"!=typeof t?a.throwError.call(this,"n must be a number",e):t<0||t>100?a.throwError.call(this,"n must be a number 0 - 100",e):(this._quality=Math.round(t),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)}}}},e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("@babel/runtime/helpers/defineProperty")),o=t("pngjs"),a=t("@jimp/utils");n.default=function(){return{mime:(0,i.default)({},"image/png",["png"]),constants:{MIME_PNG:"image/png",PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:(0,i.default)({},"image/png",!0),decoders:(0,i.default)({},"image/png",o.PNG.sync.read),encoders:(0,i.default)({},"image/png",(function(t){var e=new o.PNG({width:t.bitmap.width,height:t.bitmap.height});return e.data=t.bitmap.data,o.PNG.sync.write(e,{width:t.bitmap.width,height:t.bitmap.height,deflateLevel:t._deflateLevel,deflateStrategy:t._deflateStrategy,filterType:t._filterType,colorType:"number"==typeof t._colorType?t._colorType:t._rgba?6:2,inputHasAlpha:t._rgba})})),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel:function(t,e){return"number"!=typeof t?a.throwError.call(this,"l must be a number",e):t<0||t>9?a.throwError.call(this,"l must be a number 0 - 9",e):(this._deflateLevel=Math.round(t),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)},deflateStrategy:function(t,e){return"number"!=typeof t?a.throwError.call(this,"s must be a number",e):t<0||t>3?a.throwError.call(this,"s must be a number 0 - 3",e):(this._deflateStrategy=Math.round(t),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)},filterType:function(t,e){return"number"!=typeof t?a.throwError.call(this,"n must be a number",e):t<-1||t>4?a.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",e):(this._filterType=Math.round(t),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)},colorType:function(t,e){return"number"!=typeof t?a.throwError.call(this,"s must be a number",e):0!==t&&2!==t&&4!==t&&6!==t?a.throwError.call(this,"s must be a number 0, 2, 4, 6.",e):(this._colorType=Math.round(t),(0,a.isNodePattern)(e)&&e.call(this,null,this),this)}}}},e.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(t,e,n){(function(r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("@babel/runtime/helpers/defineProperty")),a=i(t("utif"));n.default=function(){return{mime:(0,o.default)({},"image/tiff",["tiff","tif"]),constants:{MIME_TIFF:"image/tiff"},decoders:(0,o.default)({},"image/tiff",(function(t){var e=a.default.decode(t),n=e[0];a.default.decodeImages(t,e);var i=a.default.toRGBA8(n);return{data:r.from(i),width:n.t256[0],height:n.t257[0]}})),encoders:(0,o.default)({},"image/tiff",(function(t){var e=a.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return r.from(e)}))}},e.exports=n.default}).call(this,t("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("timm"),o=r(t("@jimp/jpeg")),a=r(t("@jimp/png")),s=r(t("@jimp/bmp")),u=r(t("@jimp/tiff")),c=r(t("@jimp/gif"));n.default=function(){return(0,i.mergeDeep)((0,o.default)(),(0,a.default)(),(0,s.default)(),(0,u.default)(),(0,c.default)())},e.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.isNodePattern=function(t){if(void 0===t)return!1;if("function"!=typeof t)throw new TypeError("Callback must be a function");return!0},n.throwError=function(t,e){if("string"==typeof t&&(t=new Error(t)),"function"==typeof e)return e.call(this,t);throw t},n.scan=function(t,e,n,r,i,o){e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i);for(var a=n;a<n+i;a++)for(var s=e;s<e+r;s++)o.call(t,s,a,t.bitmap.width*a+s<<2);return t},n.scanIterator=a;var i=r(t("@babel/runtime/regenerator")),o=i.default.mark(a);function a(t,e,n,r,a){var s,u,c;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=Math.round(e),n=Math.round(n),r=Math.round(r),a=Math.round(a),s=n;case 5:if(!(s<n+a)){i.next=17;break}u=e;case 7:if(!(u<e+r)){i.next=14;break}return c=t.bitmap.width*s+u<<2,i.next=11,{x:u,y:s,idx:c,image:t};case 11:u++,i.next=7;break;case 14:s++,i.next=5;break;case 17:case"end":return i.stop()}}),o)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},hfgl:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function t(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function e(t){return!0===(t&&t.__isLong__)}Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var n={},r={};function i(t,e){var i,o,s;return e?(s=0<=(t>>>=0)&&t<256)&&(o=r[t])?o:(i=a(t,(0|t)<0?-1:0,!0),s&&(r[t]=i),i):(s=-128<=(t|=0)&&t<128)&&(o=n[t])?o:(i=a(t,t<0?-1:0,!1),s&&(n[t]=i),i)}function o(t,e){if(isNaN(t)||!isFinite(t))return e?v:p;if(e){if(t<0)return v;if(t>=h)return _}else{if(t<=-f)return w;if(t+1>=f)return b}return t<0?o(-t,e).neg():a(t%l|0,t/l|0,e)}function a(e,n,r){return new t(e,n,r)}t.fromInt=i,t.fromNumber=o,t.fromBits=a;var s=Math.pow;function u(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return p;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(t.substring(1),e,n).neg();for(var i=o(s(n,8)),a=p,c=0;c<t.length;c+=8){var l=Math.min(8,t.length-c),h=parseInt(t.substring(c,c+l),n);if(l<8){var f=o(s(n,l));a=a.mul(f).add(o(h))}else a=(a=a.mul(i)).add(o(h))}return a.unsigned=e,a}function c(e){return e instanceof t?e:"number"==typeof e?o(e):"string"==typeof e?u(e):a(e.low,e.high,e.unsigned)}t.fromString=u,t.fromValue=c;var l=4294967296,h=l*l,f=h/2,d=i(1<<24),p=i(0);t.ZERO=p;var v=i(0,!0);t.UZERO=v;var m=i(1);t.ONE=m;var g=i(1,!0);t.UONE=g;var y=i(-1);t.NEG_ONE=y;var b=a(-1,2147483647,!1);t.MAX_VALUE=b;var _=a(-1,-1,!0);t.MAX_UNSIGNED_VALUE=_;var w=a(0,-2147483648,!1);t.MIN_VALUE=w;var k=t.prototype;return k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},k.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var e=o(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=o(s(t,6),this.unsigned),a=this,u="";;){var c=a.div(i),l=(a.sub(c.mul(i)).toInt()>>>0).toString(t);if((a=c).isZero())return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},k.isZero=function(){return 0===this.high&&0===this.low},k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(t){return e(t)||(t=c(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},k.eq=k.equals,k.notEquals=function(t){return!this.eq(t)},k.neq=k.notEquals,k.lessThan=function(t){return this.comp(t)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(t){return this.comp(t)<=0},k.lte=k.lessThanOrEqual,k.greaterThan=function(t){return this.comp(t)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(t){return this.comp(t)>=0},k.gte=k.greaterThanOrEqual,k.compare=function(t){if(e(t)||(t=c(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(m)},k.neg=k.negate,k.add=function(t){e(t)||(t=c(t));var n=0,r=0,i=0,o=0;return i+=(o+=(65535&this.low)+(65535&t.low))>>>16,r+=(i+=(this.low>>>16)+(t.low>>>16))>>>16,n+=(r+=(65535&this.high)+(65535&t.high))>>>16,n+=(this.high>>>16)+(t.high>>>16),a((i&=65535)<<16|(o&=65535),(n&=65535)<<16|(r&=65535),this.unsigned)},k.subtract=function(t){return e(t)||(t=c(t)),this.add(t.neg())},k.sub=k.subtract,k.multiply=function(t){if(this.isZero())return p;if(e(t)||(t=c(t)),t.isZero())return p;if(this.eq(w))return t.isOdd()?w:p;if(t.eq(w))return this.isOdd()?w:p;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(d)&&t.lt(d))return o(this.toNumber()*t.toNumber(),this.unsigned);var n=65535&this.high,r=this.low>>>16,i=65535&this.low,s=65535&t.high,u=t.low>>>16,l=65535&t.low,h=0,f=0,v=0,m=0;return v+=(m+=i*l)>>>16,f+=(v+=r*l)>>>16,v&=65535,f+=(v+=i*u)>>>16,h+=(f+=n*l)>>>16,f&=65535,h+=(f+=r*u)>>>16,f&=65535,h+=(f+=i*s)>>>16,h+=(this.high>>>16)*l+n*u+r*s+i*(t.high>>>16),a((v&=65535)<<16|(m&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(t){if(e(t)||(t=c(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?v:p;var n,r,i;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return v;if(t.gt(this.shru(1)))return g;i=v}else{if(this.eq(w))return t.eq(m)||t.eq(y)?w:t.eq(w)?m:(n=this.shr(1).div(t).shl(1)).eq(p)?t.isNegative()?m:y:(r=this.sub(t.mul(n)),i=n.add(r.div(t)));if(t.eq(w))return this.unsigned?v:p;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=p}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:s(2,a-48),l=o(n),h=l.mul(t);h.isNegative()||h.gt(r);)h=(l=o(n-=u,this.unsigned)).mul(t);l.isZero()&&(l=m),i=i.add(l),r=r.sub(h)}return i},k.div=k.divide,k.modulo=function(t){return e(t)||(t=c(t)),this.sub(this.div(t).mul(t))},k.mod=k.modulo,k.not=function(){return a(~this.low,~this.high,this.unsigned)},k.and=function(t){return e(t)||(t=c(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},k.or=function(t){return e(t)||(t=c(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},k.xor=function(t){return e(t)||(t=c(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},k.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;return t<32?a(this.low>>>t|n<<32-t,n>>>t,this.unsigned):a(32===t?n:n>>>t-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},k.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},k.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})?r.apply(e,[]):r)||(t.exports=i)},iInd:function(t,e,n){"use strict";var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),a=n("Cfvw"),s=n("2Vo4"),u=n("HDdC");function c(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}c.prototype=Object.create(Error.prototype);var l=c,h=n("itXk"),f=n("NXyV"),d=n("XNiG"),p=n("EY2u"),v=n("lJxs"),m=n("0EUg"),g=n("pLZG"),y=n("7o/Q"),b=n("4I5i");function _(t){return function(e){return 0===t?Object(p.b)():e.lift(new w(t))}}var w=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new b.a}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new k(t,this.total))}}]),t}(),k=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).total=n,r.ring=new Array,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),e}(y.a),E=n("vkgz"),S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return Object(E.a)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function C(){return new l}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new T(t))}}var T=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new x(t,this.defaultValue))}}]),t}(),x=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).defaultValue=n,r.isEmpty=!0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(y.a),A=n("SpAZ");function O(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(g.a)((function(e,n){return t(e,n,r)})):A.a,_(1),n?I(e):S((function(){return new l})))}}var R=n("JIr8"),P=n("IzEk");function N(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(g.a)((function(e,n){return t(e,n,r)})):A.a,Object(P.a)(1),n?I(e):S((function(){return new l})))}}var M=n("5+tZ"),D=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new L(t,this.predicate,this.thisArg,this.source))}}]),t}(),L=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t])).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||_assertThisInitialized(o),o}return _inherits(e,t),_createClass(e,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),e}(y.a),j=n("eIep"),F=n("JX91"),U=n("Kqap"),B=n("bOdf"),z=n("mCNh"),q=n("nYR2"),V=n("bHdf"),H=n("cUpR");n.d(e,"D",(function(){return ut})),n.d(e,"u",(function(){return kn})),n.d(e,"A",(function(){return Pn})),n.d(e,"w",(function(){return In})),n.d(e,"B",(function(){return Nn})),n.d(e,"C",(function(){return Mn})),n.d(e,"x",(function(){return xn})),n.d(e,"z",(function(){return Rn})),n.d(e,"v",(function(){return Sn})),n.d(e,"y",(function(){return On})),n.d(e,"E",(function(){return _n})),n.d(e,"m",(function(){return un})),n.d(e,"o",(function(){return cn})),n.d(e,"n",(function(){return hn})),n.d(e,"q",(function(){return pn})),n.d(e,"d",(function(){return K})),n.d(e,"k",(function(){return Xe})),n.d(e,"l",(function(){return sn})),n.d(e,"j",(function(){return $e})),n.d(e,"h",(function(){return wn})),n.d(e,"i",(function(){return Dn})),n.d(e,"p",(function(){return Cn})),n.d(e,"b",(function(){return dn})),n.d(e,"e",(function(){return yn})),n.d(e,"f",(function(){return gn})),n.d(e,"g",(function(){return mn})),n.d(e,"r",(function(){return bn})),n.d(e,"a",(function(){return Xt})),n.d(e,"s",(function(){return en})),n.d(e,"c",(function(){return Ot})),n.d(e,"t",(function(){return At}));var G=_createClass((function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n})),W=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,e),(r=_callSuper(this,e,[t,n])).navigationTrigger=i,r.restoredState=o,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(G),K=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t,n])).urlAfterRedirects=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(G),Y=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t,n])).reason=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(G),Z=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t,n])).error=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(G),Q=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t,n])).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(G),X=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t,n])).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(G),J=function(t){function e(t,n,r,i,o){var a;return _classCallCheck(this,e),(a=_callSuper(this,e,[t,n])).urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(G),$=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t,n])).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(G),tt=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[t,n])).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(G),et=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),nt=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),rt=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),it=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ot=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),at=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),st=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),ut=_createClass((function t(){_classCallCheck(this,t)})),ct=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function lt(t){return new ct(t)}function ht(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ft(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var dt=_createClass((function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n}));function pt(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];vt(r,mt(e,r))}}function vt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&pt(t.children,e)}function mt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function gt(t){var e=t.children&&t.children.map(gt),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ut),n}function yt(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function bt(t){return Array.prototype.concat.apply([],t)}function _t(t){return t.length>0?t[t.length-1]:null}function wt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function kt(t){return Object(i.xb)(t)?t:Object(i.yb)(t)?Object(a.a)(Promise.resolve(t)):Object(o.a)(t)}function Et(t,e,n){return n?function(t,e){return yt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Tt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Tt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Tt(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Tt(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var St=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Rt.serialize(this)}}]),t}(),Ct=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,wt(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Pt(this)}}]),t}(),It=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Ft(this)}}]),t}();function Tt(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function xt(t,e){var n=[];return wt(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),wt(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var At=_createClass((function t(){_classCallCheck(this,t)})),Ot=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Vt(t);return new St(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Pt(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return wt(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=xt(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Pt(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Mt(t),"=").concat(Mt(e))})).join("&"):"".concat(Mt(t),"=").concat(Mt(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Rt=new Ot;function Pt(t){return t.segments.map((function(t){return Ft(t)})).join("/")}function Nt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mt(t){return Nt(t).replace(/%3B/gi,";")}function Dt(t){return Nt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lt(t){return decodeURIComponent(t)}function jt(t){return Lt(t.replace(/\+/g,"%20"))}function Ft(t){return"".concat(Dt(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Dt(t),"=").concat(Dt(e[t]))})).join("")));var e}var Ut=/^[^\/()?;=#]+/;function Bt(t){var e=t.match(Ut);return e?e[0]:""}var zt=/^[^=?&#]+/,qt=/^[^?&#]+/,Vt=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ct(t,e)),n}},{key:"parseSegment",value:function(){var t=Bt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new It(Lt(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Bt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Bt(this.remaining);r&&(n=r,this.capture(n))}t[Lt(e)]=Lt(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(zt);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(qt);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=jt(e),o=jt(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Bt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ct([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ht=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Gt(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Gt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Wt(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Wt(t,this._root).map((function(t){return t.value}))}}]),t}();function Gt(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Gt(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Wt(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Wt(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Kt=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Yt(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Zt=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).snapshot=n,ee(_assertThisInitialized(r),t),r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(Ht);function Qt(t,e){var n=function(t,e){var n=new $t([],{},{},"",{},"primary",e,null,t.root,-1,{});return new te("",new Kt(n,[]))}(t,e),r=new s.a([new It("",{})]),i=new s.a({}),o=new s.a({}),a=new s.a({}),u=new s.a(""),c=new Xt(r,i,a,u,o,"primary",e,n.root);return c.snapshot=n.root,new Zt(new Kt(c,[]),n)}var Xt=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(v.a)((function(t){return lt(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(v.a)((function(t){return lt(t)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var $t=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),te=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[n])).url=t,ee(_assertThisInitialized(r),n),r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return ne(this._root)}}]),e}(Ht);function ee(t,e){e.value._routerState=t,e.children.forEach((function(e){return ee(t,e)}))}function ne(t){var e=t.children.length>0?" { ".concat(t.children.map(ne).join(", ")," } "):"";return"".concat(t.value).concat(e)}function re(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!yt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ie(t,e){var n,r;return yt(t.params,e.params)&&Tt(n=t.url,r=e.url)&&n.every((function(t,e){return yt(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||ie(t.parent,e.parent))}function oe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ae(t,e,n,r,i){var o={};return r&&wt(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new St(n.root===t?e:function t(e,n,r){var i={};return wt(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Ct(e.segments,i)}(n.root,t,e),o,i)}var se=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&oe(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==_t(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),ue=_createClass((function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r}));function ce(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function le(t,e,n){if(t||(t=new Ct([],{})),0===t.segments.length&&t.hasChildren())return he(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=ce(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ve(s,u,a))return o;r+=2}else{if(!ve(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Ct(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Ct(t.segments.slice(r.pathIndex),t.children),he(o,0,i)}return r.match&&0===i.length?new Ct(t.segments,{}):r.match&&!t.hasChildren()?fe(t,e,n):r.match?he(t,0,i):fe(t,e,n)}function he(t,e,n){if(0===n.length)return new Ct(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return wt(r,(function(n,r){null!==n&&(i[r]=le(t.children[r],e,n))})),wt(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Ct(t.segments,i)}function fe(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=de(n[i].outlets);return new Ct(r,o)}if(0===i&&oe(n[0]))r.push(new It(t.segments[e].path,n[0])),i++;else{var a=ce(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&oe(s)?(r.push(new It(a,pe(s))),i+=2):(r.push(new It(a,{})),i++)}}return new Ct(r,{})}function de(t){var e={};return wt(t,(function(t,n){null!==t&&(e[n]=fe(new Ct([],{}),0,t))})),e}function pe(t){var e={};return wt(t,(function(t,n){return e[n]=""+t})),e}function ve(t,e,n){return t==n.path&&yt(e,n.parameters)}var me=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),re(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Yt(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),wt(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Yt(t),o=t.value.component?r.children:e;wt(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Yt(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new at(t.value.snapshot))})),t.children.length&&this.forwardEvent(new it(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(re(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ge(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function ge(t){re(t.value),t.children.forEach(ge)}function ye(t){return"function"==typeof t}function be(t){return t instanceof St}var _e=_createClass((function t(e){_classCallCheck(this,t),this.segmentGroup=e||null})),we=_createClass((function t(e){_classCallCheck(this,t),this.urlTree=e}));function ke(t){return new u.a((function(e){return e.error(new _e(t))}))}function Ee(t){return new u.a((function(e){return e.error(new we(t))}))}function Se(t){return new u.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Ce=function(){function t(e,n,r,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(i.v)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(v.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Object(R.a)((function(e){if(e instanceof we)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof _e)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(v.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Object(R.a)((function(t){if(t instanceof _e)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Ct([],{primary:t}):t;return new St(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(v.a)((function(t){return new Ct([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(o.a)({});var a=[],s=[],u={};return wt(n,(function(n,i){var o,c,l=(o=i,c=n,r.expandSegmentGroup(t,e,c,o)).pipe(Object(v.a)((function(t){return u[i]=t})));"primary"===i?a.push(l):s.push(l)})),o.a.apply(null,a.concat(s)).pipe(Object(m.a)(),O(),Object(v.a)((function(){return u})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,a){var s=this;return Object(o.a).apply(void 0,_toConsumableArray(n)).pipe(Object(v.a)((function(u){return s.expandSegmentAgainstRoute(t,e,n,u,r,i,a).pipe(Object(R.a)((function(t){if(t instanceof _e)return Object(o.a)(null);throw t})))})),Object(m.a)(),N((function(t){return!!t})),Object(R.a)((function(t,n){if(t instanceof l||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return Object(o.a)(new Ct([],{}));throw new _e(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Ae(r)!==o?ke(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ke(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ee(o):this.lineralizeSegments(n,o).pipe(Object(M.a)((function(n){var o=new Ct(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Ie(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return ke(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ee(f):this.lineralizeSegments(r,f).pipe(Object(M.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(v.a)((function(t){return n._loadedConfig=t,new Ct(r,{})}))):Object(o.a)(new Ct(r,{}));var a=Ie(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return ke(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(M.a)((function(t){var n=t.module,r=t.routes,a=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return xe(t,e,n)&&"primary"!==Ae(n)}))}(t,n,r)?{segmentGroup:Te(new Ct(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Ae(o)&&(n[Ae(o)]=new Ct([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Ct(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return xe(t,e,n)}))}(t,n,r)?{segmentGroup:Te(new Ct(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;xe(t,e,s)&&!r[Ae(s)]&&(o[Ae(s)]=new Ct([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign({},r,o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,l,r),s=a.segmentGroup,c=a.slicedSegments;return 0===c.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(v.a)((function(t){return new Ct(u,t)}))):0===r.length&&0===c.length?Object(o.a)(new Ct(u,{})):i.expandSegment(n,s,r,c,"primary",!0).pipe(Object(v.a)((function(t){return new Ct(u.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(o.a)(new dt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(a.a)(i).pipe(Object(v.a)((function(r){var i,o=t.get(r);if(function(t){return t&&ye(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!ye(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return kt(i)}))).pipe(Object(m.a)(),(r=function(t){return!0===t},function(t){return t.lift(new D(r,void 0,t))})):Object(o.a)(!0)}(t.injector,e,n).pipe(Object(M.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(v.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new u.a((function(e){return e.error(ht("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(o.a)(new dt([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Se(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new St(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return wt(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return wt(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Ct(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Ie(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||ft)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Te(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Ct(t.segments.concat(e.segments),e.children)}return t}function xe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ae(t){return t.outlet||"primary"}var Oe=_createClass((function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]})),Re=_createClass((function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n}));function Pe(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ne(t,e,n){var r=Yt(t),i=t.value;wt(r,(function(t,r){Ne(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Re(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Me=Symbol("INITIAL_VALUE");function De(){return Object(j.a)((function(t){return Object(h.a).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Object(P.a)(1),Object(F.a)(Me))})))).pipe(Object(U.a)((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Me)return t;if(r===Me&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||be(r))return r}return t}),t)}),Me),Object(g.a)((function(t){return t!==Me})),Object(v.a)((function(t){return be(t)?t:!0===t})),Object(P.a)(1))}))}function Le(t,e){return null!==t&&e&&e(new ot(t)),Object(o.a)(!0)}function je(t,e){return null!==t&&e&&e(new rt(t)),Object(o.a)(!0)}function Fe(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);var i=r.map((function(r){return Object(f.a)((function(){var i,o=Pe(r,e,n);if(function(t){return t&&ye(t.canActivate)}(o))i=kt(o.canActivate(e,t));else{if(!ye(o))throw new Error("Invalid CanActivate guard");i=kt(o(e,t))}return i.pipe(N())}))}));return Object(o.a)(i).pipe(De())}function Ue(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Object(f.a)((function(){var i=e.guards.map((function(i){var o,a=Pe(i,e.node,n);if(function(t){return t&&ye(t.canActivateChild)}(a))o=kt(a.canActivateChild(r,t));else{if(!ye(a))throw new Error("Invalid CanActivateChild guard");o=kt(a(r,t))}return o.pipe(N())}));return Object(o.a)(i).pipe(De())}))}));return Object(o.a)(i).pipe(De())}var Be=_createClass((function t(){_classCallCheck(this,t)})),ze=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=He(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new $t([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Kt(n,e),i=new te(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(a){return new u.a((function(t){return t.error(a)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Jt(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=xt(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof Be))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Be}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Be;if((t.outlet||"primary")!==r)throw new Be;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?_t(n).parameters:{};i=new $t(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ke(t),r,t.component,t,qe(e),Ve(e)+n.length,Ye(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Be;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||ft)(n,t,e);if(!r)throw new Be;var i={};wt(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new $t(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ke(t),r,t.component,t,qe(e),Ve(e)+o.length,Ye(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=He(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Kt(i,d)]}if(0===c.length&&0===f.length)return[new Kt(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Kt(i,p)]}}]),t}();function qe(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Ve(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function He(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Ge(t,e,n)&&"primary"!==We(n)}))}(t,n,r)){var o=new Ct(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==We(s)){var u=new Ct([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[We(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new Ct(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Ge(t,e,n)}))}(t,n,r)){var a=new Ct(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Ge(t,n,c)&&!i[We(c)]){var l=new Ct([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[We(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Ct(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ge(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function We(t){return t.outlet||"primary"}function Ke(t){return t.data||{}}function Ye(t){return t.resolve||{}}function Ze(t,e,n,r){var i=Pe(t,e,r);return kt(i.resolve?i.resolve(e,n):i(e,n))}function Qe(t){return function(e){return e.pipe(Object(j.a)((function(e){var n=t(e);return n?Object(a.a)(n).pipe(Object(v.a)((function(){return e}))):Object(a.a)([e])})))}}var Xe=_createClass((function t(){_classCallCheck(this,t)})),Je=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),$e=new i.o("ROUTES"),tn=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(v.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new dt(bt(i.injector.get($e)).map(gt),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(a.a)(this.loader.load(t)):kt(t()).pipe(Object(M.a)((function(t){return t instanceof i.t?Object(o.a)(t):Object(a.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),en=_createClass((function t(){_classCallCheck(this,t)})),nn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function rn(t){throw t}function on(t,e,n){return e.parse("/")}function an(t,e){return Object(o.a)(null)}var sn=function(){function t(e,n,r,o,a,u,c,l){var h=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new d.a,this.errorHandler=rn,this.malformedUriErrorHandler=on,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:an,afterPreactivation:an},this.urlHandlingStrategy=new nn,this.routeReuseStrategy=new Je,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(i.v),this.console=a.get(i.bb);var f=a.get(i.x);this.isNgZoneEnabled=f instanceof i.x,this.resetConfig(l),this.currentUrlTree=new St(new Ct([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tn(u,c,(function(t){return h.triggerEvent(new et(t))}),(function(t){return h.triggerEvent(new nt(t))})),this.routerState=Qt(this.currentUrlTree,this.rootComponentType),this.transitions=new s.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Object(g.a)((function(t){return 0!==t.id})),Object(v.a)((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Object(j.a)((function(t){var r,i,u,c=!1,l=!1;return Object(o.a)(t).pipe(Object(E.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Object(j.a)((function(t){var r,i,a,s,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(j.a)((function(t){var r=e.transitions.getValue();return n.next(new W(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?p.a:[t]})),Object(j.a)((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,a=e.urlSerializer,s=e.config,function(t){return t.pipe(Object(j.a)((function(t){return function(t,e,n,r,i){return new Ce(t,e,n,r,i).apply()}(r,i,a,t.extractedUrl,s).pipe(Object(v.a)((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),Object(E.a)((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(M.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new ze(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(v.a)((function(t){return Object.assign({},r,{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(E.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(E.a)((function(t){var r=new Q(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.id,l=t.extractedUrl,h=t.source,f=t.restoredState,d=t.extras,m=new W(c,e.serializeUrl(l),h,f);n.next(m);var g=Qt(l,e.rootComponentType).snapshot;return Object(o.a)(Object.assign({},t,{targetSnapshot:g,urlAfterRedirects:l,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),p.a})),Qe((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(E.a)((function(t){var n=new X(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(v.a)((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Yt(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tt(t.url,e.url)||!yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ie(t,e)||!yt(t.queryParams,e.queryParams);case"paramsChange":default:return!ie(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Oe(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Re(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ne(n,u,o),o.canActivateChecks.push(new Oe(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),wt(a,(function(t,e){return Ne(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(M.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,s=n.guards,u=s.canActivateChecks,c=s.canDeactivateChecks;return 0===c.length&&0===u.length?Object(o.a)(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return Object(a.a)(t).pipe(Object(M.a)((function(t){return function(t,e,n,r,i){var a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(o.a)(!0);var s=a.map((function(o){var a,s=Pe(o,e,i);if(function(t){return t&&ye(t.canDeactivate)}(s))a=kt(s.canDeactivate(t,e,n,r));else{if(!ye(s))throw new Error("Invalid CanDeactivate guard");a=kt(s(t,e,n,r))}return a.pipe(N())}));return Object(o.a)(s).pipe(De())}(t.component,t.route,n,e,r)})),N((function(t){return!0!==t}),!0))}(c,r,i,t).pipe(Object(M.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(a.a)(e).pipe(Object(B.a)((function(e){return Object(a.a)([je(e.route.parent,r),Le(e.route,r),Ue(t,e.path,n),Fe(t,e.route,n)]).pipe(Object(m.a)(),N((function(t){return!0!==t}),!0))})),N((function(t){return!0!==t}),!0))}(r,u,t,e):Object(o.a)(n)})),Object(v.a)((function(t){return Object.assign({},n,{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(E.a)((function(t){if(be(t.guardsResult)){var n=ht('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(E.a)((function(t){var n=new J(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Object(g.a)((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Y(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Qe((function(t){if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object(E.a)((function(t){var n=new $(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(M.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(a.a)(i).pipe(Object(B.a)((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(o.a)({});if(1===i.length){var s=i[0];return Ze(t[s],e,n,r).pipe(Object(v.a)((function(t){return _defineProperty3({},s,t)})))}var u={};return Object(a.a)(i).pipe(Object(M.a)((function(i){return Ze(t[i],e,n,r).pipe(Object(v.a)((function(t){return u[i]=t,t})))}))).pipe(O(),Object(v.a)((function(){return u})))}(t._resolve,t,e,r).pipe(Object(v.a)((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,Jt(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(z.a)(Object(U.a)(t,e),_(1),I(e))(n)}:function(e){return Object(z.a)(Object(U.a)((function(e,n,r){return t(e,n,r+1)})),_(1))(e)}}((function(t,e){return t})),Object(v.a)((function(e){return t}))):Object(o.a)(t)})))}),Object(E.a)((function(t){var n=new tt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Qe((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(v.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Kt(i,o)}var a=e.retrieve(n.value);if(a){var u=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,u),u}var c,l=new Xt(new s.a((c=n.value).url),new s.a(c.params),new s.a(c.queryParams),new s.a(c.fragment),new s.a(c.data),c.outlet,c.component,c),h=n.children.map((function(n){return t(e,n)}));return new Kt(l,h)}(t,e._root,n?n._root:void 0);return new Zt(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:n})})),Object(E.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(r=e.rootContexts,i=e.routeReuseStrategy,u=function(t){return e.triggerEvent(t)},Object(v.a)((function(t){return new me(i,t.targetRouterState,t.currentRouterState,u).activate(r),t}))),Object(E.a)({next:function(){c=!0},complete:function(){c=!0}}),Object(q.a)((function(){if(!c&&!l){e.resetUrlToCurrentUrlTree();var r=new Y(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null})),Object(R.a)((function(r){if(l=!0,(s=r)&&s.ngNavigationCancelingError){var i=be(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Y(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Z(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return p.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign({},this.getTransition(),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){pt(t),this.config=t.map(gt),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(i.W)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ae(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new se(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return wt(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new se(n,e,r)}(n);if(o.toRoot())return ae(e.root,new Ct([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new ue(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ue(n.snapshot._urlSegment,!0,0);var r=oe(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ue(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?he(a.segmentGroup,a.index,o.commands):le(a.segmentGroup,a.index,o.commands);return ae(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(i.W)()&&this.isNgZoneEnabled&&!i.x.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=be(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(be(t))return Et(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Et(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new K(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(t,e){o=t,a=e})),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}(),un=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(i.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"onClick",value:function(){var t={skipLocationChange:ln(this.skipLocationChange),replaceUrl:ln(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ln(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ln(this.preserveFragment)})}}]),t}(),cn=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof K&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(i.W)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:ln(this.skipLocationChange),replaceUrl:ln(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ln(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ln(this.preserveFragment)})}}]),t}();function ln(t){return""===t||!!t}var hn=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe((function(t){t instanceof K&&a.update()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this.links.changes.subscribe((function(e){return t.update()})),this.linksWithHrefs.changes.subscribe((function(e){return t.update()})),this.update()}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}]),t}(),fn=_createClass((function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new dn,this.attachRef=null})),dn=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new fn,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),pn=function(){function t(e,n,r,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}(),vn=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Xt?this.route:t===dn?this.childContexts:this.parent.get(t,e)}}]),t}(),mn=_createClass((function t(){_classCallCheck(this,t)})),gn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Object(R.a)((function(){return Object(o.a)(null)})))}}]),t}(),yn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(o.a)(null)}}]),t}(),bn=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new tn(n,r,(function(t){return e.triggerEvent(new et(t))}),(function(t){return e.triggerEvent(new nt(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Object(g.a)((function(t){return t instanceof K})),Object(B.a)((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(i.v);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(a.a)(r).pipe(Object(V.a)(),Object(v.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(M.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}(),_n=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof W?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof K&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof st&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new st(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}(),wn=new i.o("ROUTER_CONFIGURATION"),kn=new i.o("ROUTER_FORROOT_GUARD"),En=[r.i,{provide:At,useClass:Ot},{provide:sn,useFactory:On,deps:[i.g,At,dn,r.i,i.p,i.u,i.i,$e,wn,[en,new i.y],[Xe,new i.y]]},dn,{provide:Xt,useFactory:Rn,deps:[sn]},{provide:i.u,useClass:i.J},bn,yn,gn,{provide:wn,useValue:{enableTracing:!1}}];function Sn(){return new i.w("Router",sn)}var Cn=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[En,An(e),{provide:kn,useFactory:xn,deps:[[sn,new i.y,new i.I]]},{provide:wn,useValue:n||{}},{provide:r.j,useFactory:Tn,deps:[r.t,[new i.n(r.a),new i.y],wn]},{provide:_n,useFactory:In,deps:[sn,r.u,wn]},{provide:mn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yn},{provide:i.w,multi:!0,useFactory:Sn},[Pn,{provide:i.d,multi:!0,useFactory:Nn,deps:[Pn]},{provide:Dn,useFactory:Mn,deps:[Pn]},{provide:i.b,multi:!0,useExisting:Dn}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[An(e)]}}}]),t}();function In(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _n(t,e,n)}function Tn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new r.f(t,e):new r.s(t,e)}function xn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function An(t){return[{provide:i.a,multi:!0,useValue:t},{provide:$e,multi:!0,useValue:t}]}function On(t,e,n,r,i,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=arguments.length>9?arguments[9]:void 0,l=arguments.length>10?arguments[10]:void 0,h=new sn(null,e,n,r,i,o,a,bt(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Object(H.r)();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Rn(t){return t.routerState.root}var Pn=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new d.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(r.h,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(sn),i=t.injector.get(wn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(o.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(wn),n=this.injector.get(bn),r=this.injector.get(_n),o=this.injector.get(sn),a=this.injector.get(i.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}();function Nn(t){return t.appInitializer.bind(t)}function Mn(t){return t.bootstrapListener.bind(t)}var Dn=new i.o("Router Initializer")},itXk:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("z+Ro"),i=n("DH7j"),o=n("l7GE"),a=n("ZUHj"),s=n("yCtX"),u={};function c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=null,a=null;return Object(r.a)(e[e.length-1])&&(a=e.pop()),"function"==typeof e[e.length-1]&&(o=e.pop()),1===e.length&&Object(i.a)(e[0])&&(e=e[0]),Object(s.a)(e,a).lift(new l(o))}var l=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.resultSelector))}}]),t}(),h=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.values.push(u),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(a.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===u?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(o.a)},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),e}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t])).project=n,i.count=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("KqfI");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.a}},mrSG:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return r}))},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nYR2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("quSY");function o(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.callback))}}]),t}(),s=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).add(new i.a(n)),r}return _inherits(e,t),_createClass(e)}(r.a)},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},omvX:function(t,e,n){"use strict";n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return d}));var r=n("8Y7J"),i=(n("cUpR"),n("GS7A")),o=n("fDlF"),a=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_callSuper(this,e))._nextAnimationId=0,i._renderer=t.createRenderer(n.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}}),i}return _inherits(e,t),_createClass(e,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Object(i.i)(t):t;return c(this._renderer,null,e,"register",[n]),new s(e,this._renderer)}}]),e}(i.b),s=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e))._id=t,r._renderer=n,r}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e){return new u(this._id,t,e||{},this._renderer)}}]),e}(i.c),u=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return c(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function c(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var l=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new h("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function(e){return n.engine.registerTrigger(o,a,t,e.name,e)})),new f(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}(),h=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),f=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_callSuper(this,e,[n,r,i])).factory=t,o.namespaceId=n,o}return _inherits(e,t),_createClass(e,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),e}(h),d=function(t){function e(t,n,r){return _classCallCheck(this,e),_callSuper(this,e,[t.body,n,r])}return _inherits(e,t),_createClass(e)}(o.b);function p(){return new o.g}function v(t,e,n){return new l(t,e,n)}var m=new r.o("AnimationModuleType"),g=_createClass((function t(){_classCallCheck(this,t)}))},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))}}]),t}(),a=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_callSuper(this,e,[t])).predicate=n,i.thisArg=r,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),e}(r.a)},pLzU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Lhse"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},pMnS:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("8Y7J"),i=n("iInd"),o=r.qb({encapsulation:2,styles:[],data:{}});function a(t){return r.Nb(0,[(t()(),r.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(1,212992,null,0,i.q,[i.b,r.O,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}var s=r.ob("ng-component",i.D,(function(t){return r.Nb(0,[(t()(),r.sb(0,0,null,null,1,"ng-component",[],null,null,null,a,o)),r.rb(1,49152,null,0,i.D,[],null,null)],null,null)}),{},{},[])},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,e),(r=_callSuper(this,e,[t])).scheduler=n,r.delay=i,r}return _inherits(e,t),_createClass(e,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),e}(r.a),u=_createClass((function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}))},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return k})),n.d(e,"d",(function(){return I})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return O})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return y})),n.d(e,"n",(function(){return b})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return g})),n.d(e,"r",(function(){return w})),n.d(e,"s",(function(){return _}));var o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=o(t);return a.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function u(t){return c(void 0,t)}function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=c(t[n],e[n]));return t}var l=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function h(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return f().indexOf("Electron/")>=0}function b(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _(){return f().indexOf("MSAppHost/")>=0}function w(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var k=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?S(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new k(i,s,r);return u},t}();function S(t,e){return t.replace(C,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){var n=new x(t,e);return n.subscribe.bind(n)}var x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(){}function O(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";var r=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_callSuper(this,e,[t,n])).scheduler=t,r.work=n,r}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf3(e.prototype),"schedule",this).call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,n){return n>0||this.closed?_get(_getPrototypeOf3(e.prototype),"execute",this).call(this,t,n):this._execute(t,n)}},{key:"requestAsyncId",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf3(e.prototype),"requestAsyncId",this).call(this,t,n,r):t.flush(this)}}]),e}(n("3N8a").a),i=function(t){function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,t),_createClass(e)}(n("IjjT").a);n.d(e,"a",(function(){return o}));var o=new i(r)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function a(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}a.prototype=Object.create(Error.prototype);var s=a;n.d(e,"a",(function(){return l}));var u,c,l=((c=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var t,e=!1;if(!this.closed){var n=this._parent,a=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var l=-1,f=a?a.length:0;n;)n.remove(this),n=++l<f&&a[l]||null;if(Object(o.a)(u))try{u.call(this)}catch(p){e=!0,t=p instanceof s?h(p.errors):[p]}if(Object(r.a)(c))for(l=-1,f=c.length;++l<f;){var d=c[l];if(Object(i.a)(d))try{d.unsubscribe()}catch(p){e=!0,t=t||[],p instanceof s?t=t.concat(h(p.errors)):t.push(p)}}if(e)throw new s(t)}}},{key:"add",value:function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"_addParent",value:function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}]),t}()).EMPTY=((u=new c).closed=!0,u),c);function h(t){return t.reduce((function(t,e){return t.concat(e instanceof s?e.errors:e)}),[])}},trGy:function(t,e,n){"use strict";var r=n("2Vo4"),i=n("Cfvw"),o=n("lJxs"),a=_createClass((function t(){_classCallCheck(this,t)}));n("6nsN");var s=n("Jgta"),u=n("yXDX"),c=n.n(u);n("Tlfp"),n("v/ix"),n("F/NL"),n("XBV3"),n("+OzK"),(function(){(function(){var t,e,n="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var r;t:{var i={};try{i.__proto__={xb:!0},r=i.xb;break t}catch(Zt){}r=!1}e=r?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var o=e;function a(t,e){if(t.prototype=n(e.prototype),t.prototype.constructor=t,o)o(t,e);else for(var r in e)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,r);i&&Object.defineProperty(t,r,i)}else t[r]=e[r];t.K=e.prototype}var u="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},c="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function l(t,e){if(e){var n=c;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&u(n,t,{configurable:!0,writable:!0,value:e})}}l("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),l("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}}));var h=this;function f(t){return void 0!==t}function d(t){return"string"==typeof t}var p=/^[\w+/_-]+[=]{0,2}$/,v=null;function m(){}function g(t){t.W=void 0,t.Xa=function(){return t.W?t.W:t.W=new t}}function y(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function b(t){return"array"==y(t)}function _(t){var e=y(t);return"array"==e||"object"==e&&"number"==typeof t.length}function w(t){return"function"==y(t)}function k(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var E="closure_uid_"+(1e9*Math.random()>>>0),S=0;function C(t,e,n){return t.call.apply(t.bind,arguments)}function I(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return(T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:I).apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function A(t,e){for(var n in e)t[n]=e[n]}var O,R=Date.now||function(){return+new Date};function P(t,e){t=t.split(".");var n,r=h;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&f(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function N(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.wc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function L(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}N(M,Error),M.prototype.name="CustomError",N(D,M),D.prototype.name="AssertionError";var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(d(t))return d(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=d(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},U=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=d(t)?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=d(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=d(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=j(t,e)}function V(t,e){var n;return(n=0<=(e=j(t,e)))&&H(t,e),n}function H(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function G(t){return Array.prototype.concat.apply([],arguments)}function W(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function K(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,Q=/</g,X=/>/g,J=/"/g,$=/'/g,tt=/\x00/g,et=/[\x00&<>"']/;function nt(t,e){return t<e?-1:t>e?1:0}function rt(t){return et.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Q,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(X,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(J,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace($,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(tt,"&#0;"))),t}function it(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ot(t){var e,n={};for(e in t)n[e]=t[e];return n}var at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<at.length;o++)n=at[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}var ut="StopIteration"in h?h.StopIteration:{message:"StopIteration",stack:""};function ct(){}function lt(t){if(t instanceof ct)return t;if("function"==typeof t.ha)return t.ha(!1);if(_(t)){var e=0,n=new ct;return n.next=function(){for(;;){if(e>=t.length)throw ut;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function ht(t,e){this.g={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ht)for(n=t.ja(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ft(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];dt(t.g,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.h!=t.a.length){var i={};for(n=e=0;e<t.a.length;)dt(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}ct.prototype.next=function(){throw ut},ct.prototype.ha=function(){return this},(t=ht.prototype).la=function(){ft(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.g[this.a[e]]);return t},t.ja=function(){return ft(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0},t.get=function(t,e){return dt(this.g,t)?this.g[t]:e},t.set=function(t,e){dt(this.g,t)||(this.h++,this.a.push(t),this.j++),this.g[t]=e},t.forEach=function(t,e){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.ha=function(t){ft(this);var e=0,n=this.j,r=this,i=new ct;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(e>=r.a.length)throw ut;var i=r.a[e++];return t?i:r.g[i]},i};var pt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vt(t,e,n,r){for(var i=n.length;0<=(e=t.indexOf(n,e))&&e<r;){var o=t.charCodeAt(e-1);if(!(38!=o&&63!=o||(o=t.charCodeAt(e+i))&&61!=o&&38!=o&&35!=o))return e;e+=i+1}return-1}var mt=/#|$/;function gt(t,e){var n=t.search(mt),r=vt(t,0,e,n);if(0>r)return null;var i=t.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=e.length+1,decodeURIComponent(t.substr(r,i-r).replace(/\+/g," "))}var yt=/[?&]($|#)/;function bt(t,e){var n;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,t instanceof bt?(this.i=f(e)?e:t.i,_t(this,t.j),this.A=t.A,this.h=t.h,wt(this,t.C),this.g=t.g,kt(this,Lt(t.a)),this.s=t.s):t&&(n=String(t).match(pt))?(this.i=!!e,_t(this,n[1]||"",!0),this.A=St(n[2]||""),this.h=St(n[3]||"",!0),wt(this,n[4]),this.g=St(n[5]||"",!0),kt(this,n[6]||"",!0),this.s=St(n[7]||"")):(this.i=!!e,this.a=new Pt(null,this.i))}function _t(t,e,n){t.j=n?St(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function kt(t,e,n){e instanceof Pt?(t.a=e,function(t,e){e&&!t.j&&(Nt(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Mt(this,e),Mt(this,n),0<t.length&&(this.h=null,this.a.set(jt(this,n),W(t)),this.g+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=Ct(e,Ot)),t.a=new Pt(e,t.i))}function Et(t){return t instanceof bt?new bt(t):new bt(t,void 0)}function St(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ct(t,e,n){return d(t)?(t=encodeURI(t).replace(e,It),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function It(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ct(e,Tt,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.A)&&t.push(Ct(e,Tt,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.g)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ct(n,"/"==n.charAt(0)?At:xt,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.s)&&t.push("#",Ct(n,Rt)),t.join("")};var Tt=/[#\/\?@]/g,xt=/[#\?:]/g,At=/[#\?]/g,Ot=/[#\?@]/g,Rt=/#/g;function Pt(t,e){this.g=this.a=null,this.h=t||null,this.j=!!e}function Nt(t){t.a||(t.a=new ht,t.g=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Mt(t,e){Nt(t),e=jt(t,e),dt(t.a.g,e)&&(t.h=null,t.g-=t.a.get(e).length,dt((t=t.a).g,e)&&(delete t.g[e],t.h--,t.j++,t.a.length>2*t.h&&ft(t)))}function Dt(t,e){return Nt(t),e=jt(t,e),dt(t.a.g,e)}function Lt(t){var e=new Pt;return e.h=t.h,t.a&&(e.a=new ht(t.a),e.g=t.g),e}function jt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ft(t){this.a=Et(t)}function Ut(t){return t.a.a.get(qt.Pa)||null}function Bt(t,e){e?t.a.a.set(qt.PROVIDER_ID,e):Mt(t.a.a,qt.PROVIDER_ID)}(t=Pt.prototype).add=function(t,e){Nt(this),this.h=null,t=jt(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.g+=1,this},t.clear=function(){this.a=this.h=null,this.g=0},t.forEach=function(t,e){Nt(this),this.a.forEach((function(n,r){F(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.ja=function(){Nt(this);for(var t=this.a.la(),e=this.a.ja(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.la=function(t){Nt(this);var e=[];if(d(t))Dt(this,t)&&(e=G(e,this.a.get(jt(this,t))));else{t=this.a.la();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Nt(this),this.h=null,Dt(this,t=jt(this,t))&&(this.g-=this.a.get(t).length),this.a.set(t,[e]),this.g+=1,this},t.get=function(t,e){return t&&0<(t=this.la(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ja(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.la(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.h=t.join("&")},Ft.prototype.toString=function(){return this.a.toString()};var zt,qt={Pa:"ui_auid",mc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};t:{var Vt=h.navigator;if(Vt){var Ht=Vt.userAgent;if(Ht){zt=Ht;break t}}zt=""}function Gt(t){return-1!=zt.indexOf(t)}function Wt(){return(Gt("Chrome")||Gt("CriOS"))&&!Gt("Edge")}function Kt(t){return Kt[" "](t),t}Kt[" "]=m;var Yt,Zt,Qt=Gt("Opera"),Xt=Gt("Trident")||Gt("MSIE"),Jt=Gt("Edge"),$t=Jt||Xt,te=Gt("Gecko")&&!(-1!=zt.toLowerCase().indexOf("webkit")&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),ee=-1!=zt.toLowerCase().indexOf("webkit")&&!Gt("Edge"),ne=ee&&Gt("Mobile"),re=Gt("Macintosh");function ie(){var t=h.document;return t?t.documentMode:void 0}t:{var oe="",ae=(Zt=zt,te?/rv:([^\);]+)(\)|;)/.exec(Zt):Jt?/Edge\/([\d\.]+)/.exec(Zt):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zt):ee?/WebKit\/(\S+)/.exec(Zt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Zt):void 0);if(ae&&(oe=ae?ae[1]:""),Xt){var se=ie();if(null!=se&&se>parseFloat(oe)){Yt=String(se);break t}}Yt=oe}var ue,ce={};function le(t){return function(t,e){var n=ce;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Y(String(Yt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=nt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||nt(0==a[2].length,0==s[2].length)||nt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var he=h.document;function fe(t,e){this.a=t===pe&&e||"",this.g=de}ue=he&&Xt?ie()||("CSS1Compat"==he.compatMode?parseInt(Yt,10):5):void 0,fe.prototype.ma=!0,fe.prototype.ka=function(){return this.a},fe.prototype.toString=function(){return"Const{"+this.a+"}"};var de={},pe={};function ve(){this.a="",this.h=ge}function me(t){return t instanceof ve&&t.constructor===ve&&t.h===ge?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+y(t)),"type_error:TrustedResourceUrl")}ve.prototype.ma=!0,ve.prototype.ka=function(){return this.a.toString()},ve.prototype.g=function(){return 1},ve.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ge={};function ye(){this.a="",this.h=Ee}function be(t){return t instanceof ye&&t.constructor===ye&&t.h===Ee?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+y(t)),"type_error:SafeUrl")}ye.prototype.ma=!0,ye.prototype.ka=function(){return this.a.toString()},ye.prototype.g=function(){return 1},ye.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var _e=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function we(t){return t instanceof ye?t:(t="object"==typeof t&&t.ma?t.ka():String(t),_e.test(t)||(t="about:invalid#zClosurez"),Se(t))}function ke(t){return t instanceof ye?t:(t="object"==typeof t&&t.ma?t.ka():String(t),_e.test(t)||(t="about:invalid#zClosurez"),Se(t))}var Ee={};function Se(t){var e=new ye;return e.a=t,e}function Ce(){this.a="",this.g=Ie}Se("about:blank"),Ce.prototype.ma=!0;var Ie={};function Te(){this.a="",this.j=Ae,this.h=null}function xe(t){return t instanceof Te&&t.constructor===Te&&t.j===Ae?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+y(t)),"type_error:SafeHtml")}Ce.prototype.ka=function(){return this.a},Ce.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Te.prototype.g=function(){return this.h},Te.prototype.ma=!0,Te.prototype.ka=function(){return this.a.toString()},Te.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ae={};function Oe(t,e){var n=new Te;return n.a=t,n.h=e,n}Oe("<!DOCTYPE html>",0);var Re=Oe("",0);Oe("<br>",0);var Pe,Ne,Me=(Ne=!1,function(){return Ne||(Pe=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=xe(Re),!e.parentElement)}(),Ne=!0),Pe});function De(t,e){e=e instanceof ye?e:ke(e),t.assign(be(e))}function Le(t,e){this.a=f(t)?t:0,this.g=f(e)?e:0}function je(t,e){this.width=t,this.height=e}function Fe(t){return t?new Ye(Ge(t)):O||(O=new Ye)}function Ue(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):ze(document,t,e)}function Be(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var r=e||n;t=r.querySelectorAll&&r.querySelector&&t?r.querySelector(t?"."+t:""):ze(n,t,e)[0]||null}return t||null}function ze(t,e,n){var r;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var i=t.getElementsByClassName(e);return i}if(i=t.getElementsByTagName("*"),e){var o={};for(n=r=0;t=i[n];n++){var a=t.className;"function"==typeof a.split&&q(a.split(/\s+/),e)&&(o[r++]=t)}return o.length=r,o}return i}Le.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Le.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Le.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Le.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(t=je.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var qe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ve(t){return t.scrollingElement?t.scrollingElement:(ee||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function He(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ge(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function We(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(Ge(t).createTextNode(String(e)))}}function Ke(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||d(t.className)&&q(t.className.split(/\s+/),e)})):null}function Ye(t){this.a=t||h.document||document}Ye.prototype.N=function(){return d(void 0)?this.a.getElementById(void 0):void 0};var Ze={Gc:!0},Qe={Ic:!0},Xe={Fc:!0},Je={Hc:!0};function $e(){throw Error("Do not instantiate directly")}function tn(t,e,n,r){if(t=t(e||nn,void 0,n),r=(r||Fe()).a.createElement("DIV"),(t=function(t){if(!k(t))return rt(String(t));if(t instanceof $e){if(t.fa===Ze)return t.content;if(t.fa===Je)return rt(t.content)}return L("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(en),t=Oe(t,null),Me())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=xe(t),1==r.childNodes.length&&1==(t=r.firstChild).nodeType&&(r=t),r}$e.prototype.va=null,$e.prototype.toString=function(){return this.content};var en=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,nn={};function rn(){$e.call(this)}function on(t){return null!=t&&t.fa===Ze?t:t instanceof Te?cn(xe(t).toString(),t.g()):cn(rt(String(String(t))),function(t){if(null!=t)switch(t.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function an(){$e.call(this)}function sn(t,e){this.content=String(t),this.va=null!=e?e:null}function un(t){return new sn(t,void 0)}N(rn,$e),rn.prototype.fa=Ze,N(an,$e),an.prototype.fa=Qe,an.prototype.va=1,N(sn,$e),sn.prototype.fa=Je;var cn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.va=n),t}}(rn),ln=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(an);function hn(t){return(t=String(t))?new sn(t,void 0):""}var fn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.va=n),t):""}}(rn);function dn(t){return null!=t&&t.fa===Ze?String(String(t.content).replace(Sn,"").replace(Cn,"&lt;")).replace(_n,gn):rt(String(t))}function pn(t){return null!=t&&t.fa===Qe?t=String(t).replace(wn,bn):t instanceof ye?t=String(be(t).toString()).replace(wn,bn):(t=String(t),En.test(t)?t=t.replace(wn,bn):(L("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function vn(t){return null!=t&&t.fa===Xe?t=t.content:null==t?t="":t instanceof Ce?t instanceof Ce&&t.constructor===Ce&&t.g===Ie?t=t.a:(L("expected object of type SafeStyle, got '"+t+"' of type "+y(t)),t="type_error:SafeStyle"):(t=String(t),kn.test(t)||(L("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var mn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function gn(t){return mn[t]}var yn={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function bn(t){return yn[t]}var _n=/[\x00\x22\x27\x3c\x3e]/g,wn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,kn=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,En=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Sn=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Cn=/</g;function In(){return un("Enter a valid phone number")}function Tn(){return un("Unable to send password reset code to specified email")}function xn(){return un("Something went wrong. Please try again.")}function An(){return un("This email already exists without any means of sign-in. Please reset the password to recover.")}function On(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return un(e)}function Rn(){return un("Please login again to perform this operation")}function Pn(t,e,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Nn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=xn()}t=un(t).toString()}this.message=t||"",this.credential=n||null}a(Pn,Error),Pn.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Nn="firebaseui/";function Mn(){0!=Dn&&(Ln[this[E]||(this[E]=++S)]=this),this.T=this.T,this.C=this.C}var Dn=0,Ln={};function jn(t,e){t.T?f(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(f(void 0)?T(e,void 0):e))}function Fn(t){t&&"function"==typeof t.m&&t.m()}Mn.prototype.T=!1,Mn.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=Dn)){var t=this[E]||(this[E]=++S);if(0!=Dn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ln[t]}},Mn.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Un=Object.freeze||function(t){return t},Bn=!Xt||9<=Number(ue),zn=Xt&&!le("9"),qn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",m,e),h.removeEventListener("test",m,e)}catch(Pe){}return t}();function Vn(t,e){this.type=t,this.g=this.target=e,this.h=!1,this.qb=!0}function Hn(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(te){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=d(t.pointerType)?t.pointerType:Gn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Vn.prototype.stopPropagation=function(){this.h=!0},Vn.prototype.preventDefault=function(){this.qb=!1},N(Hn,Vn);var Gn=Un({2:"touch",3:"pen",4:"mouse"});Hn.prototype.stopPropagation=function(){Hn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Hn.prototype.preventDefault=function(){Hn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,zn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(Ne){}};var Wn="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function Yn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++Kn,this.sa=this.Ia=!1}function Zn(t){t.sa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Qn(t){this.src=t,this.a={},this.g=0}function Xn(t,e){var n=e.type;n in t.a&&V(t.a[n],e)&&(Zn(e),0==t.a[n].length&&(delete t.a[n],t.g--))}function Jn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.sa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}Qn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.g++);var a=Jn(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Yn(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var $n="closure_lm_"+(1e6*Math.random()|0),tr={};function er(t,e,n,r,i){if(r&&r.once)return rr(t,e,n,r,i);if(b(e)){for(var o=0;o<e.length;o++)er(t,e[o],n,r,i);return null}return n=fr(n),t&&t[Wn]?t.J.add(String(e),n,!1,k(r)?!!r.capture:!!r,i):nr(t,e,n,!1,r,i)}function nr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=k(i)?!!i.capture:!!i,s=lr(t);if(s||(t[$n]=s=new Qn(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=cr,e=Bn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ar(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function rr(t,e,n,r,i){if(b(e)){for(var o=0;o<e.length;o++)rr(t,e[o],n,r,i);return null}return n=fr(n),t&&t[Wn]?t.J.add(String(e),n,!0,k(r)?!!r.capture:!!r,i):nr(t,e,n,!0,r,i)}function ir(t,e,n,r,i){if(b(e))for(var o=0;o<e.length;o++)ir(t,e[o],n,r,i);else r=k(r)?!!r.capture:!!r,n=fr(n),t&&t[Wn]?(t=t.J,(e=String(e).toString())in t.a&&-1<(n=Jn(o=t.a[e],n,r,i))&&(Zn(o[n]),H(o,n),0==o.length&&(delete t.a[e],t.g--))):t&&(t=lr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Jn(e,n,r,i)),(n=-1<t?e[t]:null)&&or(n))}function or(t){if("number"!=typeof t&&t&&!t.sa){var e=t.src;if(e&&e[Wn])Xn(e.J,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ar(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lr(e))?(Xn(n,t),0==n.g&&(n.src=null,e[$n]=null)):Zn(t)}}}function ar(t){return t in tr?tr[t]:tr[t]="on"+t}function sr(t,e,n,r){var i=!0;if((t=lr(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.sa&&(o=ur(o,r),i=i&&!1!==o)}return i}function ur(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&or(t),n.call(r,e)}function cr(t,e){if(t.sa)return!0;if(!Bn){if(!e)t:{e=["window","event"];for(var n=h,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Hn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.g;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.h&&0<=i;i--){e.g=r[i];var o=sr(r[i],t,!0,e);n=n&&o}for(i=0;!e.h&&i<r.length;i++)e.g=r[i],o=sr(r[i],t,!1,e),n=n&&o}return n}return ur(t,new Hn(e,this))}function lr(t){return(t=t[$n])instanceof Qn?t:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function fr(t){return w(t)?t:(t[hr]||(t[hr]=function(e){return t.handleEvent(e)}),t[hr])}function dr(){Mn.call(this),this.J=new Qn(this),this.wb=this,this.Ha=null}function pr(t,e){var n,r=t.Ha;if(r)for(n=[];r;r=r.Ha)n.push(r);if(t=t.wb,r=e.type||e,d(e))e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var i=e;st(e=new Vn(r,t),i)}if(i=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var a=e.g=n[o];i=vr(a,r,!0,e)&&i}if(e.h||(i=vr(a=e.g=t,r,!0,e)&&i,e.h||(i=vr(a,r,!1,e)&&i)),n)for(o=0;!e.h&&o<n.length;o++)i=vr(a=e.g=n[o],r,!1,e)&&i;return i}function vr(t,e,n,r){if(!(e=t.J.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.sa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&Xn(t.J,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.qb}N(dr,Mn),dr.prototype[Wn]=!0,dr.prototype.Za=function(t){this.Ha=t},dr.prototype.removeEventListener=function(t,e,n,r){ir(this,t,e,n,r)},dr.prototype.o=function(){if(dr.K.o.call(this),this.J){var t,e=this.J;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Zn(n[r]);delete e.a[t],e.g--}}this.Ha=null};var mr={},gr=0;function yr(t,e){if(!t)throw Error("Event target element must be provided!");if(t=br(t),mr[t]&&mr[t].length)for(var n=0;n<mr[t].length;n++)pr(mr[t][n],e)}function br(t){return void 0===t.a&&(t.a=gr,gr++),t.a}function _r(t){if(!t)throw Error("Event target element must be provided!");dr.call(this),this.a=t}function wr(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(Ne){return!1}}function kr(t,e){this.h=t,this.j=e,this.g=0,this.a=null}function Er(t,e){t.j(e),100>t.g&&(t.g++,e.next=t.a,t.a=e)}function Sr(){this.g=this.a=null}a(_r,dr),_r.prototype.N=function(){return this.a},_r.prototype.register=function(){var t=br(this.N());mr[t]?q(mr[t],this)||mr[t].push(this):mr[t]=[this]},kr.prototype.get=function(){if(0<this.g){this.g--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var Cr,Ir,Tr=new kr((function(){return new Ar}),(function(t){t.reset()}));function xr(){var t=Nr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.g=null),e.next=null),e}function Ar(){this.next=this.g=this.a=null}function Or(t){h.setTimeout((function(){throw t}),0)}function Rr(t,e){Ir||function(){if(h.Promise&&h.Promise.resolve){var t=h.Promise.resolve(void 0);Ir=function(){t.then(Mr)}}else Ir=function(){var t=Mr;!w(h.setImmediate)||h.Window&&h.Window.prototype&&!Gt("Edge")&&h.Window.prototype.setImmediate==h.setImmediate?(Cr||(Cr=function(){var t=h.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Gt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!Gt("Trident")&&!Gt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(f(n.next)){var t=(n=n.next).gb;n.gb=null,t()}},function(t){r.next={gb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){h.setTimeout(t,0)}}()),Cr(t)):h.setImmediate(t)}}(),Pr||(Ir(),Pr=!0),Nr.add(t,e)}Sr.prototype.add=function(t,e){var n=Tr.get();n.set(t,e),this.g?this.g.next=n:this.a=n,this.g=n},Ar.prototype.set=function(t,e){this.a=t,this.g=e,this.next=null},Ar.prototype.reset=function(){this.next=this.g=this.a=null};var Pr=!1,Nr=new Sr;function Mr(){for(var t;t=xr();){try{t.a.call(t.g)}catch(Ne){Or(Ne)}Er(Tr,t)}Pr=!1}function Dr(t){if(this.a=Lr,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,t!=m)try{var e=this;t.call(void 0,(function(t){Wr(e,jr,t)}),(function(t){if(!(t instanceof Jr))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(n){}Wr(e,Fr,t)}))}catch(Pe){Wr(this,Fr,Pe)}}var Lr=0,jr=2,Fr=3;function Ur(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Ur.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Br=new kr((function(){return new Ur}),(function(t){t.reset()}));function zr(t,e,n){var r=Br.get();return r.s=t,r.g=e,r.j=n,r}function qr(t){if(t instanceof Dr)return t;var e=new Dr(m);return Wr(e,jr,t),e}function Vr(t){return new Dr((function(e,n){n(t)}))}function Hr(t,e){t.g||t.a!=jr&&t.a!=Fr||Kr(t),t.j?t.j.next=e:t.g=e,t.j=e}function Gr(t,e,n,r){var i=zr(null,null,null);return i.a=new Dr((function(t,o){i.s=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.g=n?function(e){try{var i=n.call(r,e);!f(i)&&e instanceof Jr?o(e):t(i)}catch(a){o(a)}}:o})),i.a.h=t,Hr(t,i),i.a}function Wr(t,e,n){if(t.a==Lr){t===n&&(e=Fr,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var r=n,i=t.hc,o=t.ic;if(r instanceof Dr){Hr(r,zr(i||m,o||null,t));var a=!0}else if(wr(r))r.then(i,o,t),a=!0;else{if(k(r))try{var s=r.then;if(w(s)){!function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(r,s,i,o,t),a=!0;break t}}catch(u){o.call(t,u),a=!0;break t}a=!1}}a||(t.A=n,t.a=e,t.h=null,Kr(t),e!=Fr||n instanceof Jr||function(t,e){t.s=!0,Rr((function(){t.s&&Xr.call(null,e)}))}(t,n))}}function Kr(t){t.i||(t.i=!0,Rr(t.Hb,t))}function Yr(t){var e=null;return t.g&&(t.g=(e=t.g).next,e.next=null),t.g||(t.j=null),e}function Zr(t,e,n,r){if(n==Fr&&e.g&&!e.h)for(;t&&t.s;t=t.h)t.s=!1;if(e.a)e.a.h=null,Qr(e,n,r);else try{e.h?e.s.call(e.j):Qr(e,n,r)}catch(i){Xr.call(null,i)}Er(Br,e)}function Qr(t,e,n){e==jr?t.s.call(t.j,n):t.g&&t.g.call(t.j,n)}Dr.prototype.then=function(t,e,n){return Gr(this,w(t)?t:null,w(e)?e:null,n)},Dr.prototype.$goog_Thenable=!0,(t=Dr.prototype).fc=function(t,e){return(t=zr(t,t,e)).h=!0,Hr(this,t),this},t.Ca=function(t,e){return Gr(this,null,t,e)},t.cancel=function(t){this.a==Lr&&Rr((function(){!function t(e,n){if(e.a==Lr)if(e.h){var r=e.h;if(r.g){for(var i=0,o=null,a=null,s=r.g;s&&(s.h||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Lr&&1==i?t(r,n):(a?((i=a).next==r.j&&(r.j=i),i.next=i.next.next):Yr(r),Zr(r,o,Fr,n)))}e.h=null}else Wr(e,Fr,n)}(this,new Jr(t))}),this)},t.hc=function(t){this.a=Lr,Wr(this,jr,t)},t.ic=function(t){this.a=Lr,Wr(this,Fr,t)},t.Hb=function(){for(var t;t=Yr(this);)Zr(this,t,this.a,this.A);this.i=!1};var Xr=Or;function Jr(t){M.call(this,t)}function $r(t,e,n){e||(e={}),n=n||window;var r=t instanceof ye?t:we(void 0!==t.href?t.href:String(t));t=e.target||t.target;var i=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");return(Gt("iPhone")&&!Gt("iPod")&&!Gt("iPad")||Gt("iPad")||Gt("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),r=r instanceof ye?r:ke(r),o.href=be(r),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=be(r).toString(),n&&($t&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rt(e)+'">',null),n.document.write(xe(e)),n.document.close())):(n=n.open(be(r).toString(),t,o))&&e.noopener&&(n.opener=null),n}function ti(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch(t){}return!1}function ei(t){$r(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ni(t,e){if(null==(t=k(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function ri(){return window.location.href}function ii(t){var e=pi;this.s=[],this.T=e,this.O=t||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function oi(t,e,n){t.a=!0,t.h=n,t.j=!e,ci(t)}function ai(t){if(t.a){if(!t.J)throw new li(t);t.J=!1}}function si(t,e,n){t.s.push([e,n,void 0]),t.a&&ci(t)}function ui(t){return z(t.s,(function(t){return w(t[1])}))}function ci(t){if(t.i&&t.a&&ui(t)){var e=t.i,n=di[e];n&&(h.clearTimeout(n.a),delete di[e]),t.i=0}t.g&&(t.g.C--,delete t.g),e=t.h;for(var r=n=!1;t.s.length&&!t.A;){var i=t.s.shift(),o=i[0],a=i[1];if(i=i[2],o=t.j?a:o)try{var s=o.call(i||t.O,e);f(s)&&(t.j=t.j&&(s==e||s instanceof Error),t.h=e=s),(wr(e)||"function"==typeof h.Promise&&e instanceof h.Promise)&&(r=!0,t.A=!0)}catch(u){e=u,t.j=!0,ui(t)||(n=!0)}}t.h=e,r&&(s=T(t.L,t,!0),r=T(t.L,t,!1),e instanceof ii?(si(e,s,r),e.l=!0):e.then(s,r)),n&&(e=new fi(e),di[e.a]=e,t.i=e.a)}function li(){M.call(this)}function hi(){M.call(this)}function fi(t){this.a=h.setTimeout(T(this.h,this),0),this.g=t}N(Jr,M),Jr.prototype.name="cancel",ii.prototype.cancel=function(t){if(this.a)this.h instanceof ii&&this.h.cancel();else{if(this.g){var e=this.g;delete this.g,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(t=new hi(this),ai(this),oi(this,!1,t))}},ii.prototype.L=function(t,e){this.A=!1,oi(this,t,e)},ii.prototype.callback=function(t){ai(this),oi(this,!0,t)},ii.prototype.then=function(t,e,n){var r,i,o=new Dr((function(t,e){r=t,i=e}));return si(this,r,(function(t){t instanceof hi?o.cancel():i(t)})),o.then(t,e,n)},ii.prototype.$goog_Thenable=!0,N(li,M),li.prototype.message="Deferred has already fired",li.prototype.name="AlreadyCalledError",N(hi,M),hi.prototype.message="Deferred was canceled",hi.prototype.name="CanceledError",fi.prototype.h=function(){throw delete di[this.a],this.g};var di={};function pi(){if(this&&this.rb){var t=this.rb;t&&"SCRIPT"==t.tagName&&vi(t,!0,this.sb)}}function vi(t,e,n){null!=n&&h.clearTimeout(n),t.onload=m,t.onerror=m,t.onreadystatechange=m,e&&window.setTimeout((function(){He(t)}),0)}function mi(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function gi(){return h.google&&h.google.accounts&&h.google.accounts.id||null}function yi(t){this.a=t||gi(),this.h=!1,this.g=null}N(mi,M),yi.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},g(yi);var bi=new fe(pe,"https://accounts.google.com/gsi/client");function _i(){this.a=null}function wi(t,e){this.a=t,this.g=e||function(t){throw t}}function ki(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ei(t){this.s=t,this.a=this.h=this.j=this.g=null}function Si(t,e){this.name=t,this.value=e}_i.prototype.load=function(){var t=this;if(this.a)return this.a;var e=function(){var t=bi;t instanceof fe&&t.constructor===fe&&t.g===de?t=t.a:(L("expected object of type Const, got '"+t+"'"),t="type_error:Const");var e=new ve;return e.a=t,e}();return gi()?qr():this.a=function(){var t=null;return new Dr((function(e){"complete"==h.document.readyState?e():(t=function(){e()},rr(window,"load",t))})).Ca((function(e){throw ir(window,"load",t),e}))}().then((function(){if(!gi())return new Dr((function(n,r){var i=setTimeout((function(){t.a=null,r(Error("Network error!"))}),1e4);h.onGoogleLibraryLoad=function(){clearTimeout(i),n()},qr(function(t){var e={},n=e.document||document,r=me(t).toString(),i=document.createElement("SCRIPT"),o={rb:i,sb:void 0},a=new ii(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){vi(i,!0);var t=new mi(1,"Timeout reached for loading script "+r);ai(a),oi(a,!1,t)}),u),o.sb=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(vi(i,e.yc||!1,s),a.callback(null))},i.onerror=function(){vi(i,!0,s);var t=new mi(0,"Error while loading script "+r);ai(a),oi(a,!1,t)},st(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){it(e,(function(e,n){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:qe.hasOwnProperty(n)?t.setAttribute(qe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(i,o),function(t,e){t.src=me(e),null===v&&(v=(e=(e=h.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&p.test(e)?e:""),(e=v)&&t.setAttribute("nonce",e)}(i,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}(e)).then((function(){gi()&&n()})).Ca((function(e){clearTimeout(i),t.a=null,r(e)}))}))}))},g(_i),wi.prototype.confirm=function(t){return qr(this.a.confirm(t)).Ca(this.g)},ki.prototype.a=null,ki.prototype.reset=function(t,e,n,r,i){this.h=r||R(),this.j=t,this.s=e,this.g=n,delete this.a},Si.prototype.toString=function(){return this.name};var Ci=new Si("SEVERE",1e3),Ii=new Si("WARNING",900),Ti=new Si("CONFIG",700);Ei.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.j?e.j:e.g?t(e.g):(L("Root logger has no level set."),null)}(this).value)for(w(e)&&(e=e()),t=new ki(t,String(e),this.s),n&&(t.a=n),n=this;n;){var r=n,i=t;if(r.a)for(var o=0;e=r.a[o];o++)e(i);n=n.g}};var xi={},Ai=null;function Oi(){Ai||(Ai=new Ei(""),xi[""]=Ai,Ai.j=Ti)}function Ri(){this.a=R()}var Pi=null;function Ni(t){this.j=t||"",Pi||(Pi=new Ri),this.s=Pi}function Mi(t){return 10>t?"0"+t:String(t)}function Di(t){Ni.call(this,t)}function Li(){this.s=T(this.h,this),this.a=new Di,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Ri.prototype.set=function(t){this.a=t},Ri.prototype.reset=function(){this.set(R())},Ri.prototype.get=function(){return this.a},Ni.prototype.a=!0,Ni.prototype.g=!0,Ni.prototype.h=!1,N(Di,Ni),Li.prototype.h=function(t){if(!this.j[t.g]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.g){var r=new Date(e.h);n.push("[",Mi(r.getFullYear()-2e3)+Mi(r.getMonth()+1)+Mi(r.getDate())+" "+Mi(r.getHours())+":"+Mi(r.getMinutes())+":"+Mi(r.getSeconds())+"."+Mi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.s.get()),"s] "),n.push("[",e.g,"] "),n.push(e.s),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);Fi&&function(t,e,n,r){t[e]?t[e](n,r||""):t.log(n,r||"")}(Fi,function(t){if(t){if(t.value>=Ci.value)return"error";if(t.value>=Ii.value)return"warn";if(t.value>=Ti.value)return"log"}return"debug"}(t.j),e,t.a)}};var ji,Fi=h.console;function Ui(t,e){ji&&ji.log(Ci,t,e)}ji=function t(e){var n;if(Oi(),!(n=xi[e])){n=new Ei(e);var r=e.lastIndexOf("."),i=e.substr(r+1);(r=t(e.substr(0,r))).h||(r.h={}),r.h[i]=n,n.g=r,xi[e]=n}return n}("firebaseui");var Bi=new Li;if(1!=Bi.g){var zi;Oi();var qi=Bi.s;(zi=Ai).a||(zi.a=[]),zi.a.push(qi),Bi.g=!0}function Vi(t){ji&&ji.log(Ii,t,void 0)}function Hi(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function Gi(t){t=(t.a.cookie||"").split(";");for(var e,n,r=[],i=[],o=0;o<t.length;o++)-1==(e=(n=Y(t[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,e)),i.push(n.substring(e+1)));return{keys:r,values:i}}(t=Hi.prototype).set=function(t,e,n,r,i,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');f(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(R()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+i+r+n+o},t.get=function(t,e){for(var n,r=t+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=Y(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==t)return""}return e},t.ja=function(){return Gi(this).keys},t.la=function(){return Gi(this).values},t.clear=function(){for(var t=Gi(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var Wi=new Hi;function Ki(){}function Yi(t,e,n,r){this.h=null!=t?t:-1,this.g=e||null,this.a=n||null,this.j=!!r}function Zi(t,e){this.g=t,this.a=e||null}function Qi(t){return{email:t.g,credential:t.a&&t.a.toJSON()}}function Xi(t){if(t&&t.email){var e=t.credential&&s.a.auth.AuthCredential.fromJSON(t.credential);return new Zi(t.email,e)}return null}function Ji(t){this.a=t||null}function $i(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);255<i&&(e[n++]=255&i,i>>=8),e[n++]=i}return e}function to(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function eo(t){for(this.i=t,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(no*(this.j+1)),t=0;t<this.g;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.g;t<no*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.g){var n=e,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,co(e),e[0]^=fo[t/this.g][0],e[1]^=fo[t/this.g][1],e[2]^=fo[t/this.g][2],e[3]^=fo[t/this.g][3]}else 6<this.g&&4==t%this.g&&co(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.g][0]^e[0],this.a[t][1]=this.a[t-this.g][1]^e[1],this.a[t][2]=this.a[t-this.g][2]^e[2],this.a[t][3]=this.a[t-this.g][3]^e[3]}}a(Yi,Ki),Yi.prototype.set=function(t,e){Wi.set(t,e,this.h,this.g,this.a,this.j)},Yi.prototype.get=function(t){return Wi.get(t)||null},Yi.prototype.ra=function(t){var e=this.g,n=this.a;Wi.get(t),Wi.set(t,"",0,e,n)};var no=(eo.prototype.A=16)/4;function ro(t,e){for(var n=0;n<no;n++)for(var r=0;4>r;r++)t.h[n][r]=e[4*r+n]}function io(t){for(var e=[],n=0;n<no;n++)for(var r=0;4>r;r++)e[4*r+n]=t.h[n][r];return e}function oo(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]^=t.a[4*e+r][n]}function ao(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]=e[t.h[n][r]]}function so(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][(n+e)%no]}function uo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.s[e][(n+e)%no]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.s[e][n]}function co(t){t[0]=lo[t[0]],t[1]=lo[t[1]],t[2]=lo[t[2]],t[3]=lo[t[3]]}var lo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ho=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],fo=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],po=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],vo=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],mo=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],go=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],yo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],bo=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function _o(t,e){t=new eo(ko(t));for(var n,r=(e=$i(e)).splice(0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(ro(n=t,r),oo(n,0),r=1;r<n.j;++r){ao(n,lo),so(n),o=n.h;for(var a=n.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=po[a[0]]^vo[a[1]]^a[2]^a[3],o[1][s]=a[0]^po[a[1]]^vo[a[2]]^a[3],o[2][s]=a[0]^a[1]^po[a[2]]^vo[a[3]],o[3][s]=vo[a[0]]^a[1]^a[2]^po[a[3]];oo(n,r)}ao(n,lo),so(n),oo(n,n.j),i+=to(io(n)),r=e.splice(0,16)}return i}function wo(t,e){t=new eo(ko(t));for(var n=[],r=0;r<e.length;r+=2)n.push(parseInt(e.substring(r,r+2),16));var i=n.splice(0,16);for(e="";i.length;){for(ro(r=t,i),oo(r,r.j),i=1;i<r.j;++i){uo(r),ao(r,ho),oo(r,r.j-i);for(var o=r.h,a=r.s[0],s=0;4>s;s++)a[0]=o[0][s],a[1]=o[1][s],a[2]=o[2][s],a[3]=o[3][s],o[0][s]=bo[a[0]]^go[a[1]]^yo[a[2]]^mo[a[3]],o[1][s]=mo[a[0]]^bo[a[1]]^go[a[2]]^yo[a[3]],o[2][s]=yo[a[0]]^mo[a[1]]^bo[a[2]]^go[a[3]],o[3][s]=go[a[0]]^yo[a[1]]^mo[a[2]]^bo[a[3]]}if(uo(r),ao(r,ho),oo(r,0),8192>=(r=io(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,K(r,o,o+8192));r=i}e+=r,i=n.splice(0,16)}return e.replace(/(\x00)+$/,"")}function ko(t){for(var e=32-(t=$i(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function Eo(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(b(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),To(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":To(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new So,t,e),e.join("")}function So(){}var Co={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Io=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function To(t,e){e.push('"',t.replace(Io,(function(t){var e=Co[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Co[t]=e),e})),'"')}function xo(t){this.a=t}function Ao(){}function Oo(t){this.a=t}function Ro(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(Ne){return!1}}function Po(){var t=null;try{t=window.localStorage||null}catch(Ne){}this.a=t}function No(){var t=null;try{t=window.sessionStorage||null}catch(Ne){}this.a=t}function Mo(t,e){this.g=t,this.a=e+"::"}xo.prototype.set=function(t,e){f(e)?this.a.set(t,Eo(e)):this.a.ra(t)},xo.prototype.get=function(t){try{var e=this.a.get(t)}catch(Pe){return}if(null!==e)try{return JSON.parse(e)}catch(n){throw"Storage: Invalid value was encountered"}},N(Ao,Ki),Ao.prototype.clear=function(){var t=function(t){if(_(t))return W(t);t=lt(t);var e=[];return function(t,e){if(_(t))try{F(t,e,void 0)}catch(Pe){if(Pe!==ut)throw Pe}else{t=lt(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(n){if(n!==ut)throw n}}}(t,(function(t){e.push(t)})),e}(this.ha(!0)),e=this;F(t,(function(t){e.ra(t)}))},N(Oo,Ao),(t=Oo.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(Pe){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!d(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ra=function(t){this.a.removeItem(t)},t.ha=function(t){var e=0,n=this.a,r=new ct;return r.next=function(){if(e>=n.length)throw ut;var r=n.key(e++);if(t)return r;if(!d(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},N(Po,Oo),N(No,Oo),N(Mo,Ao),Mo.prototype.set=function(t,e){this.g.set(this.a+t,e)},Mo.prototype.get=function(t){return this.g.get(this.a+t)},Mo.prototype.ra=function(t){this.g.ra(this.a+t)},Mo.prototype.ha=function(t){var e=this.g.ha(!0),n=this,r=new ct;return r.next=function(){for(var r=e.next();r.substr(0,n.a.length)!=n.a;)r=e.next();return t?r.substr(n.a.length):n.g.get(r)},r},Ro(new Po);var Do=new No,Lo=new xo(Ro(Do)?new Mo(Do,"firebaseui"):null),jo={name:"pendingEmailCredential",storage:Lo},Fo={name:"redirectStatus",storage:Lo},Uo={name:"redirectUrl",storage:Lo},Bo={name:"emailForSignIn",storage:new xo(new Yi(3600,"/"))},zo={name:"pendingEncryptedCredential",storage:new xo(new Yi(3600,"/"))};function qo(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function Vo(t,e){t.storage.a.ra(e?t.name+":"+e:t.name)}function Ho(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function Go(t){return qo(Uo,t)||null}function Wo(t){return Xi(t=qo(jo,t)||null)}function Ko(t){Vo(jo,t)}function Yo(t,e){Ho(jo,Qi(t),e)}function Zo(t){return(t=qo(Fo,t)||null)&&void 0!==t.tenantId?new Ji(t.tenantId):null}function Qo(){this.W={}}function Xo(t,e,n){if(e.toLowerCase()in t.W)throw Error("Configuration "+e+" has already been defined.");t.W[e.toLowerCase()]=n}function Jo(t,e,n){if(!(e.toLowerCase()in t.W))throw Error("Configuration "+e+" is not defined.");t.W[e.toLowerCase()]=n}function $o(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function ta(){this.g=void 0,this.a={}}function ea(t,e,n,r){for(var i=0;i<e.length;i++){var o=e.charAt(i);t.a[o]||(t.a[o]=new ta),t=t.a[o]}if(r&&void 0!==t.g)throw Error('The collection already contains the key "'+e+'"');t.g=n}function na(t){for(this.a=t,this.g=new ta,t=0;t<this.a.length;t++){var e=this.g.get("+"+this.a[t].b);e?e.push(this.a[t]):this.g.add("+"+this.a[t].b,[this.a[t]])}}function ra(t,e){var n={},r=0;for(void 0!==(t=t.g).g&&(n[r]=t.g);r<e.length;r++){var i=e.charAt(r);if(!(i in t.a))break;void 0!==(t=t.a[i]).g&&(n[r]=t.g)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function ia(t){for(var e=0;e<ua.length;e++)if(ua[e].c===t)return ua[e];return null}function oa(t){t=t.toUpperCase();for(var e=[],n=0;n<ua.length;n++)ua[n].f===t&&e.push(ua[n]);return e}function aa(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<ua.length;n++)ua[n].b==t&&e.push(ua[n]);t=e}else t=oa(t);return t}function sa(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}Qo.prototype.get=function(t){if(!(t.toLowerCase()in this.W))throw Error("Configuration "+t+" is not defined.");return this.W[t.toLowerCase()]},(t=ta.prototype).set=function(t,e){ea(this,t,e,!1)},t.add=function(t,e){ea(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.g:void 0},t.la=function(){var t=[];return function t(e,n){for(var r in void 0!==e.g&&n.push(e.g),e.a)t(e.a[r],n)}(this,t),t},t.ja=function(){var t=[];return function t(e,n,r){for(var i in void 0!==e.g&&r.push(n),e.a)t(e.a[i],n+i,r)}(this,"",t),t},t.clear=function(){this.a={},this.g=void 0};var ua=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];sa(ua);var ca=new na(ua);function la(t,e){this.a=t,this.Aa=e}function ha(t){t=Y(t);var e=ra(ca,t);return 0<e.length?new la("1"==e[0].b?"1-US-0":e[0].c,Y(t.substr(e[0].b.length+1))):null}function fa(t){var e=ia(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.Aa}function da(t,e){for(var n=0;n<t.length;n++)if(!q(pa,t[n])&&(null!==va&&t[n]in va||q(e,t[n])))return t[n];return null}var pa=["emailLink","password","phone"],va={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function ma(){this.a=new Qo,Xo(this.a,"acUiConfig"),Xo(this.a,"autoUpgradeAnonymousUsers"),Xo(this.a,"callbacks"),Xo(this.a,"credentialHelper",Wa),Xo(this.a,"immediateFederatedRedirect",!1),Xo(this.a,"popupMode",!1),Xo(this.a,"privacyPolicyUrl"),Xo(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Xo(this.a,"queryParameterForWidgetMode","mode"),Xo(this.a,"signInFlow"),Xo(this.a,"signInOptions"),Xo(this.a,"signInSuccessUrl"),Xo(this.a,"siteName"),Xo(this.a,"tosUrl"),Xo(this.a,"widgetUrl"),Xo(this.a,"adminRestrictedOperation")}function ga(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!Fa(t)&&Ui('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function ya(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var r=t[n];(r=k(r)?r:{provider:r}).provider&&e.push(r)}return e}function ba(t,e){t=ya(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function _a(t){return ya(t).map((function(t){return t.provider}))}function wa(t,e){t=ka(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function ka(t){return ya(t).map((function(t){if(va[t.provider]||q(Xa,t.provider)){for(var e in t={providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?be(we(t.iconUrl)).toString():null})null===t[e]&&delete t[e];return t}return{providerId:t.provider,S:t.providerName||null,V:t.fullLabel||null,ta:t.buttonColor||null,za:t.iconUrl?be(we(t.iconUrl)).toString():null,Ob:t.loginHintKey||null}}))}function Ea(t){var e=ba(t,s.a.auth.GoogleAuthProvider.PROVIDER_ID);return e&&e.clientId&&function(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return Wa;if((t=t.a.get("credentialHelper"))===Ha)return Wa;for(var e in Ka)if(Ka[e]===t)return Ka[e];return Wa}(t)===Ga&&e.clientId||null}function Sa(t){return!!((t=ba(t,s.a.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.status)}function Ca(t){return!(!(t=t.a.get("adminRestrictedOperation")||null)||!t.status)}function Ia(t,e){return t=(t=ba(t,e))&&t.scopes,Array.isArray(t)?t:[]}function Ta(t,e){return k(t=(t=ba(t,e))&&t.customParameters)?(t=ot(t),e===s.a.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===s.a.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function xa(t){if(!(t=ba(t,s.a.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!Array.isArray(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!Array.isArray(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return ua;if(t=[],e){n={};for(var r=0;r<e.length;r++)for(var i=aa(e[r]),o=0;o<i.length;o++)n[i[o].c]=i[o];for(var a in n)n.hasOwnProperty(a)&&t.push(n[a])}else{for(a={},e=0;e<n.length;e++)for(i=aa(n[e]),r=0;r<i.length;r++)a[i[r].c]=i[r];for(i=0;i<ua.length;i++)null!==a&&ua[i].c in a||t.push(ua[i])}return t}function Aa(t){return $o(t.a,"queryParameterForWidgetMode")}function Oa(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Vi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ei(e)}}return null}function Ra(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Vi("Term of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ei(n)}}return null}function Pa(t){return!(t=ba(t,s.a.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Na(t){return!(!(t=ba(t,s.a.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==s.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Ma(t){var e=!!t.a.get("immediateFederatedRedirect"),n=_a(t);return t=Da(t),e&&1==n.length&&!q(pa,n[0])&&t==Ya}function Da(t){for(var e in t=t.a.get("signInFlow"),Za)if(Za[e]==t)return Za[e];return Ya}function La(t){return Ua(t).signInSuccess||null}function ja(t){return Ua(t).signInSuccessWithAuthResult||null}function Fa(t){return Ua(t).signInFailure||null}function Ua(t){return t.a.get("callbacks")||{}}var Ba,za,qa,Va,Ha="accountchooser.com",Ga="googleyolo",Wa="none",Ka={lc:Ha,oc:Ga,NONE:Wa},Ya="redirect",Za={rc:"popup",sc:Ya},Qa={nc:"callback",RECOVER_EMAIL:"recoverEmail",tc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",uc:"select",vc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Xa=["anonymous"],Ja=["sitekey","tabindex","callback","expired-callback"],$a={};function ts(t,e,n,r){$a[t].apply(null,Array.prototype.slice.call(arguments,1))}function es(t){return t.classList?t.classList:d(t=t.className)&&t.match(/\S+/g)||[]}function ns(t,e){return t.classList?t.classList.contains(e):q(es(t),e)}function rs(t,e){t.classList?t.classList.add(e):ns(t,e)||(t.className+=0<t.className.length?" "+e:e)}function is(t,e){t.classList?t.classList.remove(e):ns(t,e)&&(t.className=U(es(t),(function(t){return t!=e})).join(" "))}function os(t){var e=t.type;switch(d(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,r=0;n=t.options[r];r++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function as(t,e){var n=t.type;switch(d(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,d(e))for(var r=0;n=t.options[r];r++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(d(e)&&(e=[e]),r=0;n=t.options[r];r++)if(n.selected=!1,e)for(var i,o=0;i=e[o];o++)n.value==i&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function ss(t,e,n,r,i,o){if(ee&&!le("525"))return!0;if(re&&i)return us(t);if(i&&!r)return!1;if(!te&&("number"==typeof e&&(e=cs(e)),(!n||re)&&(17==e||18==e||re&&91==e)||re&&16==e&&(r||o)))return!1;if((ee||Jt)&&r&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Xt&&r&&e==t)return!1;switch(t){case 13:return!(te&&(o||i||n&&r));case 27:return!(ee||Jt||te)}return(!te||!(r||i||o))&&us(t)}function us(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(ee||Jt)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return te;default:return!1}}function cs(t){if(te)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(re&&ee)switch(t){case 93:t=91}return t}function ls(t){dr.call(this),this.a=t,er(t,"keydown",this.g,!1,this),er(t,"click",this.h,!1,this)}function hs(t,e){var n=new ds(e);if(pr(t,n)){n=new fs(e);try{pr(t,n)}finally{e.stopPropagation()}}}function fs(t){Hn.call(this,t.a),this.type="action"}function ds(t){Hn.call(this,t.a),this.type="beforeaction"}function ps(t){dr.call(this),this.a=t,t=Xt?"focusout":"blur",this.g=er(this.a,Xt?"focusin":"focus",this,!Xt),this.h=er(this.a,t,this,!Xt)}function vs(t,e){dr.call(this),this.g=t||1,this.a=e||h,this.h=T(this.gc,this),this.j=R()}function ms(t){t.Ka=!1,t.aa&&(t.a.clearTimeout(t.aa),t.aa=null)}function gs(t){Mn.call(this),this.g=t,this.a={}}N(ls,dr),ls.prototype.g=function(t){(13==t.keyCode||ee&&3==t.keyCode)&&hs(this,t)},ls.prototype.h=function(t){hs(this,t)},ls.prototype.o=function(){ls.K.o.call(this),ir(this.a,"keydown",this.g,!1,this),ir(this.a,"click",this.h,!1,this),delete this.a},N(fs,Hn),N(ds,Hn),N(ps,dr),ps.prototype.handleEvent=function(t){var e=new Hn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",pr(this,e)},ps.prototype.o=function(){ps.K.o.call(this),or(this.g),or(this.h),delete this.a},N(vs,dr),(t=vs.prototype).Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var t=R()-this.j;0<t&&t<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-t):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),pr(this,"tick"),this.Ka&&(ms(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=R())},t.o=function(){vs.K.o.call(this),ms(this),delete this.a},N(gs,Mn);var ys=[];function bs(t,e,n,r){b(n)||(n&&(ys[0]=n.toString()),n=ys);for(var i=0;i<n.length;i++){var o=er(e,n[i],r||t.handleEvent,!1,t.g||t);if(!o)break;t.a[o.key]=o}}function _s(t){it(t.a,(function(t,e){this.a.hasOwnProperty(e)&&or(t)}),t),t.a={}}function ws(t){dr.call(this),this.a=null,this.g=t,t=Xt||Jt||ee&&!le("531")&&"TEXTAREA"==t.tagName,this.h=new gs(this),bs(this.h,this.g,t?["keydown","paste","cut","drop","input"]:"input",this)}function ks(t){null!=t.a&&(h.clearTimeout(t.a),t.a=null)}function Es(t){return(t=new Hn(t.a)).type="input",t}function Ss(t,e){dr.call(this),t&&(this.Oa&&As(this),this.qa=t,this.Na=er(this.qa,"keypress",this,e),this.Ya=er(this.qa,"keydown",this.Jb,e,this),this.Oa=er(this.qa,"keyup",this.Kb,e,this))}gs.prototype.o=function(){gs.K.o.call(this),_s(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N(ws,dr),ws.prototype.handleEvent=function(t){if("input"==t.type)Xt&&le(10)&&0==t.keyCode&&0==t.j||(ks(this),pr(this,Es(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(us(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!te;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.g.value:null;Xt&&229==t.keyCode&&(e=null);var n=Es(t);ks(this),this.a=function(t,e){if(w(t))e&&(t=T(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(0)?-1:h.setTimeout(t,0)}((function(){this.a=null,this.g.value!=e&&pr(this,n)}),this)}},ws.prototype.o=function(){ws.K.o.call(this),this.h.m(),ks(this),delete this.g},N(Ss,dr),(t=Ss.prototype).qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Cs={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Is={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ts=!ee||le("525"),xs=re&&te;function As(t){t.Na&&(or(t.Na),or(t.Ya),or(t.Oa),t.Na=null,t.Ya=null,t.Oa=null),t.qa=null,t.R=-1,t.X=-1}function Os(t,e,n,r){Hn.call(this,r),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function Rs(t,e,n,r){this.top=t,this.right=e,this.bottom=n,this.left=r}function Ps(t,e){var n=Ge(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function Ns(t){try{var e=t.getBoundingClientRect()}catch(Pe){return{left:0,top:0,right:0,bottom:0}}return Xt&&t.ownerDocument.body&&(e.left-=(t=t.ownerDocument).documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function Ms(t){var e=Ge(t),n=new Le(0,0),r=e?Ge(e):document;return t==(r=!Xt||9<=Number(ue)||"CSS1Compat"==Fe(r).a.compatMode?r.documentElement:r.body)||(t=Ns(t),e=Ve(r=Fe(e).a),r=r.parentWindow||r.defaultView,e=Xt&&le("10")&&r.pageYOffset!=e.scrollTop?new Le(e.scrollLeft,e.scrollTop):new Le(r.pageXOffset||e.scrollLeft,r.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.g=t.top+e.g),n}(t=Ss.prototype).Jb=function(t){(ee||Jt)&&(17==this.R&&!t.ctrlKey||18==this.R&&!t.altKey||re&&91==this.R&&!t.metaKey)&&(this.X=this.R=-1),-1==this.R&&(t.ctrlKey&&17!=t.keyCode?this.R=17:t.altKey&&18!=t.keyCode?this.R=18:t.metaKey&&91!=t.keyCode&&(this.R=91)),Ts&&!ss(t.keyCode,this.R,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.X=cs(t.keyCode),xs&&(this.Ua=t.altKey))},t.Kb=function(t){this.X=this.R=-1,this.Ua=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if(Xt&&"keypress"==t.type)var r=this.X,i=13!=r&&27!=r?e.keyCode:0;else(ee||Jt)&&"keypress"==t.type?(r=this.X,i=0<=e.charCode&&63232>e.charCode&&us(r)?e.charCode:0):Qt&&!ee?i=us(r=this.X)?e.keyCode:0:("keypress"==t.type?(xs&&(n=this.Ua),e.keyCode==e.charCode?32>e.keyCode?(r=e.keyCode,i=0):(r=this.X,i=e.charCode):(r=e.keyCode||this.X,i=e.charCode||0)):(r=e.keyCode||this.X,i=e.charCode||0),re&&63==i&&224==r&&(r=191));var o=r=cs(r);r?63232<=r&&r in Cs?o=Cs[r]:25==r&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in Is&&(o=Is[e.keyIdentifier]),te&&Ts&&"keypress"==t.type&&!ss(o,this.R,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.R,this.R=o,(e=new Os(o,i,t,e)).altKey=n,pr(this,e))},t.N=function(){return this.qa},t.o=function(){Ss.K.o.call(this),As(this)},N(Os,Hn),Rs.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Rs.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Rs.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Rs.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var Ds={thin:2,medium:4,thick:6};function Ls(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in Ds)t=Ds[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=r,t=+n}return t}function js(){}function Fs(t){dr.call(this),this.s=t||Fe(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Us(t,e){return t.g?Be(e,t.g||t.s.a):null}function Bs(t){return t.L||(t.L=new gs(t)),t.L}function zs(t,e){t.Ea&&F(t.Ea,e,void 0)}function qs(t,e){var n=Ke(t,"firebaseui-textfield");e?(is(t,"firebaseui-input-invalid"),rs(t,"firebaseui-input"),n&&is(n,"firebaseui-textfield-invalid")):(is(t,"firebaseui-input"),rs(t,"firebaseui-input-invalid"),n&&rs(n,"firebaseui-textfield-invalid"))}function Vs(t,e,n){jn(t,x(Fn,e=new ws(e))),bs(Bs(t),e,"input",n)}function Hs(t,e,n){jn(t,x(Fn,e=new Ss(e))),bs(Bs(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function Gs(t,e,n){jn(t,x(Fn,e=new ls(e))),bs(Bs(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function Ws(t){rs(t,"firebaseui-hidden")}function Ks(t,e){e&&We(t,e),is(t,"firebaseui-hidden")}function Ys(t){return!ns(t,"firebaseui-hidden")&&"none"!=t.style.display}function Zs(t){var e=(t=t||{}).email,n=t.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=t.xc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+dn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',cn(r)}function Qs(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+on(t):e+"Next",cn(e+"</button>")}function Xs(){var t=""+Qs({label:hn("Sign In")});return cn(t)}function Js(){var t=""+Qs({label:hn("Save")});return cn(t)}function $s(){var t=""+Qs({label:hn("Continue")});return cn(t)}function tu(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+on(t):e+"Choose password",cn(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function eu(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return cn((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function nu(){return cn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ru(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+on(t):e+"Cancel",cn(e+"</button>")}function iu(t){var e="";return t.F&&t.D&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),cn(e)}function ou(t){var e="";return t.F&&t.D&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),cn(e)}function au(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+on(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',cn(t)}function su(t){var e=t.content;return cn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((t=t.Ab)?" "+dn(t):"")+'">'+on(e)+"</dialog>")}function uu(t){var e=t.message;return cn(su({content:fn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+dn(t.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+on(e)+"</div>")}))}function cu(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,r=0;r<n;r++){var i=t[r];e+='<button type="button" data-listboxid="'+dn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+dn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+on(i.label)+"</div></button>"}return e=""+su({Ab:hn("firebaseui-list-box-dialog"),content:fn(e+"</div>")}),cn(e)}function lu(t){return cn((t=t||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function hu(t,e){return un((t=(t=t||{}).ga).S?t.S:e.hb[t.providerId]?""+e.hb[t.providerId]:t.providerId&&0==t.providerId.indexOf("saml.")||t.providerId&&0==t.providerId.indexOf("oidc.")?t.providerId.substring(5):""+t.providerId)}function fu(t){vu(t,"upgradeElement")}function du(t){vu(t,"downgradeElements")}g(js),js.prototype.a=0,N(Fs,dr),(t=Fs.prototype).Lb=js.Xa(),t.N=function(){return this.g},t.Za=function(t){if(this.Y&&this.Y!=t)throw Error("Method not supported");Fs.K.Za.call(this,t)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(t){if(this.na)throw Error("Component already rendered");this.g||this.kb(),t?t.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,zs(this,(function(t){!t.na&&t.N()&&t.v()}))},t.ya=function(){zs(this,(function(t){t.na&&t.ya()})),this.L&&_s(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),zs(this,(function(t){t.m()})),this.g&&He(this.g),this.Y=this.g=this.oa=this.Ea=null,Fs.K.o.call(this)},t.removeChild=function(t,e){if(t){var n=d(t)?t:t.cb||(t.cb=":"+(t.Lb.a++).toString(36));if(t=this.oa&&n&&(null!==(t=this.oa)&&n in t?t[n]:void 0)||null,n&&t){var r=this.oa;if(n in r&&delete r[n],V(this.Ea,t),e&&(t.ya(),t.g&&He(t.g)),null==(e=t))throw Error("Unable to set parent component");e.Y=null,Fs.K.Za.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},au.a="firebaseui.auth.soy2.element.infoBar",uu.a="firebaseui.auth.soy2.element.progressDialog",cu.a="firebaseui.auth.soy2.element.listBoxDialog",lu.a="firebaseui.auth.soy2.element.busyIndicator";var pu=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function vu(t,e){t&&window.componentHandler&&window.componentHandler[e]&&pu.forEach((function(n){ns(t,n)&&window.componentHandler[e](t),F(Ue(n,t),(function(t){window.componentHandler[e](t)}))}))}function mu(t,e,n){if(gu.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),fu(t),e&&Gs(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&gu.call(this)})),!n){var r=this.N().parentElement||this.N().parentNode;if(r){var i=this;this.da=function(){if(t.open){var e=t.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,a=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,s=t.getBoundingClientRect().width,u=r.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",t.style.left=(e=a+(u-s)/2).toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-s).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function gu(){var t=yu.call(this);t&&(du(t),t.open&&t.close(),He(t),this.da&&window.removeEventListener("resize",this.da))}function yu(){return Be("firebaseui-id-dialog")}function bu(){He(_u.call(this))}function _u(){return Us(this,"firebaseui-id-info-bar")}function wu(){return Us(this,"firebaseui-id-dismiss-info-bar")}var ku={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Eu(t,e,n){for(var r in Vn.call(this,t,e),n)this[r]=n[r]}function Su(t,e,n,r,i){Fs.call(this,n),this.fb=t,this.eb=e,this.Fa=!1,this.Ga=r||null,this.A=this.ca=null,this.Z=ot(ku),st(this.Z,i||{})}function Cu(t){return t.N().parentElement||t.N().parentNode}function Iu(t,e,n){Hs(t,e,(function(){n.focus()}))}function Tu(t,e,n){Hs(t,e,(function(){n()}))}function xu(t,e,n){e=(t=t||{}).Va;var r=t.ia;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Zs(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ru(null):"")+Qs(null)+'</div></div><div class="firebaseui-card-footer">'+(r?ou(n):iu(n))+"</div></form></div>",cn(t)}function Au(t,e,n){return e=(t=t||{}).ia,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Zs(t)+eu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+nu()+'</div><div class="firebaseui-form-actions">'+Xs()+'</div></div><div class="firebaseui-card-footer">'+(e?ou(n):iu(n))+"</div></form></div>",cn(t)}function Ou(t,e,n){var r=(t=t||{}).Tb;e=t.Ta;var i=t.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Zs(t);return r?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+dn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=cn(t)):t="",n=o+t+tu(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ru(null):"")+Js()+'</div></div><div class="firebaseui-card-footer">'+(i?ou(n):iu(n))+"</div></form></div>",cn(n)}function Ru(t,e,n){return e=(t=t||{}).Ta,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Zs(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?ru(null):"")+Qs({label:hn("Send")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(t)}function Pu(t,e,n){e=t.G;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+on(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(r+='<div class="firebaseui-form-actions">'+Qs({label:hn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+iu(n)+"</div></div>",cn(r)}function Nu(t,e,n){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+lu(null)+"</div></div>")}function Mu(t,e,n){return cn('<div class="firebaseui-container firebaseui-id-page-spinner">'+lu({tb:!0})+"</div>")}function Du(){return cn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Lu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+on(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+ru({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function ju(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+cn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ru({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(t)}function Fu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Zs(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Qs(null)+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(t)}function Uu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru({label:hn("Dismiss")})+"</div></div></div>";return cn(t)}function Bu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru({label:hn("Dismiss")})+"</div></div></div>";return cn(t)}function zu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="You\u2019ve already used <strong>"+on(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+eu()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+nu()+'</div><div class="firebaseui-form-actions">'+Xs()+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function qu(t,e,n){var r=t.email;return e="",t=hn(t=""+hu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="You\u2019ve already used <strong>"+on(r)+"</strong>. You can connect your <strong>"+on(t)+"</strong> account with <strong>"+on(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+on(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Xs()+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Vu(t,e,n){e="";var r=""+hu(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+on(r=hn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+on(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$s()+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Hu(t,e,n){var r=t.email;return e="",t=hn(t=""+hu(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="You\u2019ve already used <strong>"+on(r)+"</strong>. Sign in with "+on(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Qs({label:hn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Gu(t,e,n){var r=(t=t||{}).kc;e=t.yb,t=t.Eb;var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return i+=r?r="<strong>"+on(r)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",i+="</p>",e&&(i+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(e="Please contact <strong>"+on(e)+"</strong> for authorization.")+"</p>"),i+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',t&&(i+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),i+='</div><div class="firebaseui-form-actions">'+ru({label:hn("Back")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(i)}function Wu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+on(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Qs({label:hn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function Ku(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+on(t.email)+"</strong></p>"+tu(function(t){function e(){}var n={label:hn("New password")};for(var r in e.prototype=t,t=new e,n)t[r]=n[r];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Js()+"</div></div></form></div>",cn(e)}function Yu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(t)}function Zu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(t)}function Qu(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+on(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></form></div>",cn(n)}function Xu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(t)}function Ju(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(t)}function $u(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(t)}function tc(t){var e=t.G,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="You can now sign in with your new email <strong>"+on(t.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(n)}function ec(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(t)}function nc(t){var e=t.factorId,n=t.phoneNumber;t=t.G;var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(e){case"phone":r+=e="The <strong>"+on(e)+" "+on(n)+"</strong> was removed as a second authentication step.";break;default:r+="The device or app was removed as a second authentication step."}return r+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(t?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></form></div>",cn(r)}function rc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).G?'<div class="firebaseui-form-actions">'+$s()+"</div>":"")+"</div></div>",cn(t)}function ic(t){var e=t.zb;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+on(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=Qs({label:hn("Retry")})),cn(t+"</div></div></div>")}function oc(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+on(t.errorMessage)+"</p></div></div>",cn(t)}function ac(t,e,n){var r=t.Qb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+on(t.jc)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+on(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Qs({label:hn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form></div>",cn(e)}function sc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Sb).length;for(var i=0;i<e;i++){var o={ga:t[i]},a=n,s=(o=o||{}).ga,u=o,c="";switch((u=u||{}).ga.providerId){case"google.com":c+="firebaseui-idp-google";break;case"github.com":c+="firebaseui-idp-github";break;case"facebook.com":c+="firebaseui-idp-facebook";break;case"twitter.com":c+="firebaseui-idp-twitter";break;case"phone":c+="firebaseui-idp-phone";break;case"anonymous":c+="firebaseui-idp-anonymous";break;case"password":c+="firebaseui-idp-password";break;default:c+="firebaseui-idp-generic"}u=(u='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+dn(un(c))+' firebaseui-id-idp-button" data-provider-id="'+dn(s.providerId)+'" style="background-color:')+dn(vn(un((c=(c=(c=o)||{}).ga).ta?c.ta:a.wa[c.providerId]?""+a.wa[c.providerId]:0==c.providerId.indexOf("saml.")?""+a.wa.saml:0==c.providerId.indexOf("oidc.")?""+a.wa.oidc:""+a.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;c=a,c=ln((l=(l=l||{}).ga).za?pn(l.za):c.xa[l.providerId]?pn(c.xa[l.providerId]):0==l.providerId.indexOf("saml.")?pn(c.xa.saml):0==l.providerId.indexOf("oidc.")?pn(c.xa.oidc):pn(c.xa.password)),u=u+dn(pn(c))+'"></span>',"password"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=s.V?on(s.V):s.S?o="Sign in with "+on(hu(o,a)):"Sign in with email",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+on(s.S):u+"Email",u+="</span>"):"phone"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=s.V?on(s.V):s.S?o="Sign in with "+on(hu(o,a)):"Sign in with phone",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+on(s.S):u+"Phone",u+="</span>"):"anonymous"==s.providerId?(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=s.V?on(s.V):s.S?o="Sign in with "+on(hu(o,a)):"Continue as guest",u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',u=s.S?u+on(s.S):u+"Guest",u+="</span>"):(u+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',u+=s.V?on(s.V):c="Sign in with "+on(hu(o,a)),u+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+on(s.S?s.S:hu(o,a))+"</span>"),r+='<li class="firebaseui-list-item">'+(s=cn(u+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ou(n)+"</div></div>",cn(r)}function uc(t,e,n){var r,i=(t=t||{}).Gb,o=t.Va;return e=t.ia,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+dn(null!=(t=(t=t||{}).Aa)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+cn(t))+(r=i?cn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?ru(null):"")+Qs({label:hn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',n=cn((e=n.F&&n.D?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):n=cn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+iu(n),cn(r+n+"</div></form></div>")}function cc(t,e,n){var r="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+on(e=(t=t||{}).phoneNumber)+"</a>",on(e),e=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(r=cn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ru(null)+Qs({label:hn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+iu(n)+"</div></form>",t=cn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),cn(e+(n+t+"</div>"))}function lc(){return cn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function hc(t,e,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.ec).length;for(var i=0;i<e;i++){var o=t[i],a="",s=on(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";a+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+dn(u=hn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+dn(o.tenantId)+'"':"")+'style="background-color:'+dn(vn(o.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+dn(pn(o.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',a+=o.V?on(o.V):o="Sign in to "+on(o.displayName),r+='<li class="firebaseui-list-item">'+(a=cn(a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+s+"</span></button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ou(n)+"</div></div>",cn(r)}function fc(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Zs(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Qs(null)+'</div></div><div class="firebaseui-card-footer">'+ou(n)+"</div></form></div>",cn(t)}function dc(){return Us(this,"firebaseui-id-submit")}function pc(){return Us(this,"firebaseui-id-secondary-link")}function vc(t,e){Gs(this,dc.call(this),(function(e){t(e)}));var n=pc.call(this);n&&e&&Gs(this,n,(function(t){e(t)}))}function mc(){return Us(this,"firebaseui-id-password")}function gc(){return Us(this,"firebaseui-id-password-error")}function yc(){var t=mc.call(this),e=gc.call(this);Vs(this,t,(function(){Ys(e)&&(qs(t,!0),Ws(e))}))}function bc(){var t=mc.call(this),e=gc.call(this);return os(t)?(qs(t,!0),Ws(e),e=!0):(qs(t,!1),Ks(e,un("Enter your password").toString()),e=!1),e?os(t):null}function _c(t,e,n,r,i,o){Su.call(this,zu,{email:t},o,"passwordLinking",{F:r,D:i}),this.w=e,this.H=n}N(Eu,Vn),N(Su,Fs),(t=Su.prototype).kb=function(){var t=tn(this.fb,this.eb,this.Z,this.s);fu(t),this.g=t},t.v=function(){if(Su.K.v.call(this),yr(Cu(this),new Eu("pageEnter",Cu(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var t=this.Z.F;Gs(this,this.bb(),(function(){t()}))}if(this.ab()&&this.Z.D){var e=this.Z.D;Gs(this,this.ab(),(function(){e()}))}},t.ya=function(){yr(Cu(this),new Eu("pageExit",Cu(this),{pageId:this.Ga})),Su.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,du(this.N()),Su.K.o.call(this)},t.I=function(t,e,n,r){function i(){if(o.T)return null;o.Fa=!1,window.clearTimeout(o.ca),o.ca=null,o.A&&(du(o.A),He(o.A),o.A=null)}var o=this;return o.Fa?null:(function(t){t.Fa=!0;var e=ns(t.N(),"firebaseui-use-spinner");t.ca=window.setTimeout((function(){t.N()&&null===t.A&&(t.A=tn(lu,{tb:e},null,t.s),t.N().appendChild(t.A),fu(t.A))}),500)}(o),t.apply(null,e).then(n,r).then(i,i))},A(Su.prototype,{a:function(t){bu.call(this);var e=tn(au,{message:t},null,this.s);this.N().appendChild(e),Gs(this,wu.call(this),(function(){He(e)}))},zc:bu,Bc:_u,Ac:wu,$:function(t,e){t=tn(uu,{Ma:t,message:e},null,this.s),mu.call(this,t)},h:gu,Cb:yu,Dc:function(){return Us(this,"firebaseui-tos")},bb:function(){return Us(this,"firebaseui-tos-link")},ab:function(){return Us(this,"firebaseui-pp-link")},Ec:function(){return Us(this,"firebaseui-tos-list")}}),xu.a="firebaseui.auth.soy2.page.signIn",Au.a="firebaseui.auth.soy2.page.passwordSignIn",Ou.a="firebaseui.auth.soy2.page.passwordSignUp",Ru.a="firebaseui.auth.soy2.page.passwordRecovery",Pu.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Nu.a="firebaseui.auth.soy2.page.callback",Mu.a="firebaseui.auth.soy2.page.spinner",Du.a="firebaseui.auth.soy2.page.blank",Lu.a="firebaseui.auth.soy2.page.emailLinkSignInSent",ju.a="firebaseui.auth.soy2.page.emailNotReceived",Fu.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",Uu.a="firebaseui.auth.soy2.page.differentDeviceError",Bu.a="firebaseui.auth.soy2.page.anonymousUserMismatch",zu.a="firebaseui.auth.soy2.page.passwordLinking",qu.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Vu.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Hu.a="firebaseui.auth.soy2.page.federatedLinking",Gu.a="firebaseui.auth.soy2.page.unauthorizedUser",Wu.a="firebaseui.auth.soy2.page.unsupportedProvider",Ku.a="firebaseui.auth.soy2.page.passwordReset",Yu.a="firebaseui.auth.soy2.page.passwordResetSuccess",Zu.a="firebaseui.auth.soy2.page.passwordResetFailure",Qu.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",Xu.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",Ju.a="firebaseui.auth.soy2.page.emailVerificationSuccess",$u.a="firebaseui.auth.soy2.page.emailVerificationFailure",tc.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",ec.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",nc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",rc.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",ic.a="firebaseui.auth.soy2.page.recoverableError",oc.a="firebaseui.auth.soy2.page.unrecoverableError",ac.a="firebaseui.auth.soy2.page.emailMismatch",sc.a="firebaseui.auth.soy2.page.providerSignIn",uc.a="firebaseui.auth.soy2.page.phoneSignInStart",cc.a="firebaseui.auth.soy2.page.phoneSignInFinish",lc.a="firebaseui.auth.soy2.page.signOut",hc.a="firebaseui.auth.soy2.page.selectTenant",fc.a="firebaseui.auth.soy2.page.providerMatchByEmail",a(_c,Su),_c.prototype.v=function(){this.P(),this.M(this.w,this.H),Tu(this,this.i(),this.w),this.i().focus(),Su.prototype.v.call(this)},_c.prototype.o=function(){this.w=null,Su.prototype.o.call(this)},_c.prototype.j=function(){return os(Us(this,"firebaseui-id-email"))},A(_c.prototype,{i:mc,B:gc,P:yc,u:bc,ea:dc,ba:pc,M:vc});var wc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function kc(){return Us(this,"firebaseui-id-email")}function Ec(){return Us(this,"firebaseui-id-email-error")}function Sc(t){var e=kc.call(this),n=Ec.call(this);Vs(this,e,(function(){Ys(n)&&(qs(e,!0),Ws(n))})),t&&Hs(this,e,(function(){t()}))}function Cc(){return Y(os(kc.call(this))||"")}function Ic(){var t=kc.call(this),e=Ec.call(this),n=os(t)||"";return n?wc.test(n)?(qs(t,!0),Ws(e),e=!0):(qs(t,!1),Ks(e,un("That email address isn't correct").toString()),e=!1):(qs(t,!1),Ks(e,un("Enter your email address to continue").toString()),e=!1),e?Y(os(t)):null}function Tc(t,e,n,r,i,o,a){Su.call(this,Au,{email:n,ia:!!o},a,"passwordSignIn",{F:r,D:i}),this.w=t,this.H=e}function xc(t,e,n,r,i,o){Su.call(this,t,e,r,i||"notice",o),this.i=n||null}function Ac(t,e,n,r,i){xc.call(this,Pu,{email:t,G:!!e},e,i,"passwordRecoveryEmailSent",{F:n,D:r})}function Oc(t,e){xc.call(this,Ju,{G:!!t},t,e,"emailVerificationSuccess")}function Rc(t,e){xc.call(this,$u,{G:!!t},t,e,"emailVerificationFailure")}function Pc(t,e,n){xc.call(this,tc,{email:t,G:!!e},e,n,"verifyAndChangeEmailSuccess")}function Nc(t,e){xc.call(this,ec,{G:!!t},t,e,"verifyAndChangeEmailFailure")}function Mc(t,e){xc.call(this,rc,{G:!!t},t,e,"revertSecondFactorAdditionFailure")}function Dc(t){xc.call(this,lc,void 0,void 0,t,"signOut")}function Lc(t,e){xc.call(this,Yu,{G:!!t},t,e,"passwordResetSuccess")}function jc(t,e){xc.call(this,Zu,{G:!!t},t,e,"passwordResetFailure")}function Fc(t,e){xc.call(this,Xu,{G:!!t},t,e,"emailChangeRevokeFailure")}function Uc(t,e,n){xc.call(this,ic,{errorMessage:t,zb:!!e},e,n,"recoverableError")}function Bc(t,e){xc.call(this,oc,{errorMessage:t},void 0,e,"unrecoverableError")}function zc(t){if("auth/invalid-credential"===t.code&&t.message&&-1!==t.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(t.message&&-1!==t.message.indexOf("HTTP Cloud Function returned an error:")){var e=JSON.parse(t.message.substring(t.message.indexOf("{"),t.message.lastIndexOf("}")+1));return{code:t.code,message:e&&e.error&&e.error.message||t.message}}return t}function qc(t,e,n,r){function i(n){if(!n.name||"cancel"!=n.name){t:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break t}}catch(a){}o=!1}if(o)n=Cu(e),e.m(),Zc(t,n,void 0,un("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=Gc(n)}e.a(o)}}}if(bh(t),r)return Vc(t,n),qr();if(!n.credential)throw Error("No credential found!");if(!ch(t).currentUser&&!n.user)throw Error("User not logged in.");try{var o=function(t,e){return kh(t),mh(t,(function(n){if(t.j&&!t.j.isAnonymous&&ga(wh(t))&&!ch(t).currentUser)return Sh(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return Sh(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Ch(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Sh(t).then((function(){return lh(t).updateCurrentUser(e.user)})).then((function(){return e.user=lh(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(a){return Ui(a.code||a.message,a),e.a(a.code||a.message),qr()}return n=o.then((function(e){Vc(t,e)}),i).then(void 0,i),yh(t,o),qr(n)}function Vc(t,e){if(!e.user)throw Error("No user found");var n=ja(wh(t));if(La(wh(t))&&n&&Vi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=ja(wh(t));var r=Go(hh(t))||void 0;Vo(Uo,hh(t));var i=!1;ti()?(n&&!n(e,r)||(i=!0,De(window.opener.location,Hc(t,r))),n||window.close()):n&&!n(e,r)||(i=!0,De(window.location,Hc(t,r))),i||t.reset()}else{n=e.user,e=e.credential,r=La(wh(t)),i=Go(hh(t))||void 0,Vo(Uo,hh(t));var o=!1;ti()?(r&&!r(n,e,i)||(o=!0,De(window.opener.location,Hc(t,i))),r||window.close()):r&&!r(n,e,i)||(o=!0,De(window.location,Hc(t,i))),o||t.reset()}}function Hc(t,e){if(!(t=e||wh(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function Gc(t){var e={code:t.code},n="";switch((e=e||{}).code){case"auth/email-already-in-use":n+="The email address is already used by another account";break;case"auth/requires-recent-login":n+=Rn();break;case"auth/too-many-requests":n+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":n+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":n+="That email address doesn't match an existing account";break;case"auth/user-token-expired":n+=Rn();break;case"auth/weak-password":n+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":n+="The email and password you entered don't match";break;case"auth/network-request-failed":n+="A network error has occurred";break;case"auth/invalid-phone-number":n+=In();break;case"auth/invalid-verification-code":n+=un("Wrong code. Try again.");break;case"auth/code-expired":n+="This code is no longer valid";break;case"auth/expired-action-code":n+="This code has expired.";break;case"auth/invalid-action-code":n+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=un(n).toString())return e;try{return JSON.parse(t.message),Ui("Internal error: "+t.message,void 0),xn().toString()}catch(r){return t.message}}function Wc(t,e,n,r){function i(){!function(t,e){Ho(Fo,{tenantId:t.a},e)}(new Ji(t.h.tenantId||null),hh(t)),yh(t,e.I(T(t.dc,t),[c],(function(){if("file:"===(window.location&&window.location.protocol))return yh(t,ah(t).then((function(n){e.m(),Vo(Fo,hh(t)),ts("callback",t,u,qr(n))}),o))}),a))}function o(r){if(Vo(Fo,hh(t)),!r.name||"cancel"!=r.name)switch(r=zc(r),r.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a(Gc(r));break;case"auth/admin-restricted-operation":e.m(),Ca(wh(t))?ts("handleUnauthorizedUser",t,u,null,n):ts("callback",t,u,Vr(r));break;default:e.m(),ts("callback",t,u,Vr(r))}}function a(n){Vo(Fo,hh(t)),n.name&&"cancel"==n.name||(Ui("signInWithRedirect: "+n.code,void 0),n=Gc(n),"blank"==e.Ga&&Ma(wh(t))?(e.m(),ts("providerSignIn",t,u,n)):e.a(n))}var u=Cu(e),c=function(t,e,n){var r=va[e]&&s.a.auth[va[e]]?new s.a.auth[va[e]]:0==e.indexOf("saml.")?new s.a.auth.SAMLAuthProvider(e):new s.a.auth.OAuthProvider(e);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Ia(wh(t),e);if(r.addScope)for(var o=0;o<i.length;o++)r.addScope(i[o]);return i=Ta(wh(t),e)||{},n&&(t=e==s.a.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==s.a.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=wa(wh(t),e))&&t.Ob)&&(i[t]=n),r.setCustomParameters&&r.setCustomParameters(i),r}(t,n,r);Da(wh(t))==Ya?i():yh(t,function(t,e){return kh(t),mh(t,(function(n){return n&&!Wo(hh(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Ch(t,e)})):ch(t).signInWithPopup(e)}))}(t,c).then((function(n){e.m(),ts("callback",t,u,qr(n))}),o))}function Kc(t){return 1==(t=_a(wh(t))).length&&t[0]==s.a.auth.EmailAuthProvider.PROVIDER_ID}function Yc(t){return 1==(t=_a(wh(t))).length&&t[0]==s.a.auth.PhoneAuthProvider.PROVIDER_ID}function Zc(t,e,n,r){Kc(t)?r?ts("signIn",t,e,n,r):$c(t,e,n):t&&Yc(t)&&!r?ts("phoneSignInStart",t,e):t&&Ma(wh(t))&&!r?ts("federatedRedirect",t,e,n):ts("providerSignIn",t,e,r,n)}function Qc(t,e,n,r){var i=Cu(e);yh(t,e.I(T(ch(t).fetchSignInMethodsForEmail,ch(t)),[n],(function(o){e.m(),Xc(t,i,o,n,r)}),(function(t){t=Gc(t),e.a(t)})))}function Xc(t,e,n,r,i,o){n.length||Na(wh(t))&&!Na(wh(t))?q(n,s.a.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ts("passwordSignIn",t,e,r,o):1==n.length&&n[0]===s.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Na(wh(t))?ts("sendEmailLinkForSignIn",t,e,r,(function(){ts("signIn",t,e)})):ts("unsupportedProvider",t,e,r):(n=da(n,_a(wh(t))))?(Yo(new Zi(r),hh(t)),ts("federatedSignIn",t,e,r,n,i)):ts("unsupportedProvider",t,e,r):Sa(wh(t))?ts("handleUnauthorizedUser",t,e,r,s.a.auth.EmailAuthProvider.PROVIDER_ID):Na(wh(t))?ts("sendEmailLinkForSignIn",t,e,r,(function(){ts("signIn",t,e)})):ts("passwordSignUp",t,e,r,void 0,void 0,o)}function Jc(t,e,n,r,i,o){var a=Cu(e);yh(t,e.I(T(t.Ib,t),[n,o],(function(){e.m(),ts("emailLinkSignInSent",t,a,n,r,o)}),i))}function $c(t,e,n){n?ts("prefilledEmailSignIn",t,e,n):ts("signIn",t,e)}function tl(){return gt(ri(),"oobCode")}function el(){var t=gt(ri(),"continueUrl");return t?function(){De(window.location,t)}:null}function nl(t,e){Su.call(this,Bu,void 0,e,"anonymousUserMismatch"),this.i=t}function rl(t){Su.call(this,Nu,void 0,t,"callback")}function il(t,e,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=Wo(hh(t)),o=i&&i.g;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var r=Cu(e);yh(t,Sh(t).then((function(){e.m(),ts("emailMismatch",t,r,n)}),(function(t){t.name&&"cancel"==t.name||(t=Gc(t.code),e.a(t))})))}(t,e,r);else{var a=i&&i.a;a?yh(t,n.user.linkWithCredential(a).then((function(n){ol(t,e,r={user:n.user,credential:a,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(n){al(t,e,n)}))):ol(t,e,r)}}else n=Cu(e),e.m(),Ko(hh(t)),Zc(t,n)}function ol(t,e,n){Ko(hh(t)),qc(t,e,n)}function al(t,e,n){var r=Cu(e);Ko(hh(t)),n=Gc(n),e.m(),Zc(t,r,void 0,n)}function sl(t,e,n,r){var i=Cu(e);yh(t,ch(t).fetchSignInMethodsForEmail(n).then((function(o){e.m(),o.length?q(o,s.a.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ts("passwordLinking",t,i,n):1==o.length&&o[0]===s.a.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ts("emailLinkSignInLinking",t,i,n):(o=da(o,_a(wh(t))))?ts("federatedLinking",t,i,n,o,r):(Ko(hh(t)),ts("unsupportedProvider",t,i,n)):(Ko(hh(t)),ts("passwordRecovery",t,i,n,!1,An().toString()))}),(function(n){al(t,e,n)})))}function ul(t,e){Su.call(this,Uu,void 0,e,"differentDeviceError"),this.i=t}function cl(t,e,n,r){Su.call(this,Qu,{email:t,G:!!n},r,"emailChangeRevoke"),this.l=e,this.i=n||null}function ll(){return Us(this,"firebaseui-id-new-password")}function hl(){return Us(this,"firebaseui-id-password-toggle")}function fl(){this.Ra=!this.Ra;var t=hl.call(this),e=ll.call(this);this.Ra?(e.type="text",rs(t,"firebaseui-input-toggle-off"),is(t,"firebaseui-input-toggle-on")):(e.type="password",rs(t,"firebaseui-input-toggle-on"),is(t,"firebaseui-input-toggle-off")),e.focus()}function dl(){return Us(this,"firebaseui-id-new-password-error")}function pl(){this.Ra=!1;var t=ll.call(this);t.type="password";var e=dl.call(this);Vs(this,t,(function(){Ys(e)&&(qs(t,!0),Ws(e))}));var n=hl.call(this);rs(n,"firebaseui-input-toggle-on"),is(n,"firebaseui-input-toggle-off"),function(t,e,n){jn(t,x(Fn,e=new ps(e))),bs(Bs(t),e,"focusin",n)}(this,t,(function(){rs(n,"firebaseui-input-toggle-focus"),is(n,"firebaseui-input-toggle-blur")})),function(t,e,n){jn(t,x(Fn,e=new ps(e))),bs(Bs(t),e,"focusout",n)}(this,t,(function(){rs(n,"firebaseui-input-toggle-blur"),is(n,"firebaseui-input-toggle-focus")})),Gs(this,n,T(fl,this))}function vl(){var t=ll.call(this),e=dl.call(this);return os(t)?(qs(t,!0),Ws(e),e=!0):(qs(t,!1),Ks(e,un("Enter your password").toString()),e=!1),e?os(t):null}function ml(t,e,n){Su.call(this,Ku,{email:t},n,"passwordReset"),this.l=e}function gl(t,e,n,r,i){Su.call(this,nc,{factorId:t,phoneNumber:n||null,G:!!r},i,"revertSecondFactorAdditionSuccess"),this.l=e,this.i=r||null}function yl(t,e,n,r){"auth/weak-password"==(r&&r.code)?(t=Gc(r),qs(n.i(),!1),Ks(n.w(),t),n.i().focus()):(n&&n.m(),(n=new jc).render(e),sh(t,n))}function bl(t,e){try{var n="number"==typeof t.selectionStart}catch(r){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):Xt&&!le("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function _l(t,e,n,r,i,o){Su.call(this,Fu,{email:n},o,"emailLinkSignInConfirmation",{F:r,D:i}),this.l=t,this.u=e}function wl(t,e,n,r,i){Su.call(this,Vu,{ga:t},i,"emailLinkSignInLinkingDifferentDevice",{F:n,D:r}),this.i=e}function kl(t){Su.call(this,Du,void 0,t,"blank")}function El(t,e,n,r,i){var o=new kl,a=new Ft(n),u=a.a.a.get(qt.$a)||"",c=a.a.a.get(qt.Sa)||"",l="1"===a.a.a.get(qt.Qa),h=Ut(a),f=a.a.a.get(qt.PROVIDER_ID)||null;a=a.a.a.get(qt.vb)||null,_h(t,a);var d=!qo(Bo,hh(t)),p=r||function(t,e){var n=null;if(e=qo(Bo,e))try{var r=wo(t,e),i=JSON.parse(r);n=i&&i.email||null}catch(o){}return n}(c,hh(t)),v=(r=function(t,e){var n=null;if(e=qo(zo,e))try{var r=wo(t,e);n=JSON.parse(r)}catch(i){}return Xi(n||null)}(c,hh(t)))&&r.a;f&&v&&v.providerId!==f&&(v=null),o.render(e),sh(t,o),yh(t,o.I((function(){var e=qr(null);e=h&&d||d&&l?Vr(Error("anonymous-user-not-found")):function(t,e){var n=Ut(new Ft(e));return n?(e=new Dr((function(e,r){var i=lh(t).onAuthStateChanged((function(t){i(),t&&t.isAnonymous&&t.uid===n?e(t):r(t&&t.isAnonymous&&t.uid!==n?Error("anonymous-user-mismatch"):Error("anonymous-user-not-found"))}));yh(t,i)})),yh(t,e),e):qr(null)}(t,n).then((function(t){if(f&&!v)throw Error("pending-credential-not-found");return t}));var r=null;return e.then((function(e){return r=e,i?null:ch(t).checkActionCode(u)})).then((function(){return r}))}),[],(function(r){p?function(t,e,n,r,i,o){var a=Cu(e);e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Signing in...").toString());var u=null;i=(o?function(t,e,n,r,i){kh(t);var o=i||null,a=s.a.auth.EmailAuthProvider.credentialWithLink(n,r);return n=o?ch(t).signInWithEmailLink(n,r).then((function(t){return t.user.linkWithCredential(o)})).then((function(){return Sh(t)})).then((function(){return Ch(t,{code:"auth/email-already-in-use"},o)})):ch(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?Ch(t,{code:"auth/email-already-in-use"},a):e.linkWithCredential(a)})),yh(t,n),n}(t,o,n,r,i):function(t,e,n,r){kh(t);var i,o=r||null;return e=ch(t).signInWithEmailLink(e,n).then((function(t){if(i={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){i={user:t.user,credential:o,operationType:i.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){Sh(t)})).then((function(){return lh(t).updateCurrentUser(i.user)})).then((function(){return i.user=lh(t).currentUser,i})),yh(t,e),e}(t,n,r,i)).then((function(n){Vo(zo,hh(t)),Vo(Bo,hh(t)),e.h(),e.$("firebaseui-icon-done",un("Signed in!").toString()),u=setTimeout((function(){e.h(),qc(t,e,n,!0)}),1e3),yh(t,(function(){e&&(e.h(),e.m()),clearTimeout(u)}))}),(function(i){if(e.h(),e.m(),!i.name||"cancel"!=i.name){var o=Gc(i=zc(i));"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(Vo(zo,hh(t)),Vo(Bo,hh(t))):"auth/invalid-email"==i.code?(o=un("The email provided does not match the current sign-in session.").toString(),ts("emailLinkConfirmation",t,a,r,Sl,null,o)):Zc(t,a,n,o)}})),yh(t,i)}(t,o,p,n,v,r):l?(o.m(),ts("differentDeviceError",t,e)):(o.m(),ts("emailLinkConfirmation",t,e,n,Sl))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(o.m(),r&&r.message){case"anonymous-user-not-found":ts("differentDeviceError",t,e);break;case"anonymous-user-mismatch":ts("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":ts("emailLinkNewDeviceLinking",t,e,n,Cl);break;default:r&&(i=Gc(r)),Zc(t,e,void 0,i)}})))}function Sl(t,e,n,r){El(t,e,r,n,!0)}function Cl(t,e,n){El(t,e,n)}function Il(t,e,n,r,i,o){Su.call(this,qu,{email:t,ga:e},o,"emailLinkSignInLinking",{F:r,D:i}),this.i=n}function Tl(t,e,n,r,i,o){Su.call(this,Lu,{email:t},o,"emailLinkSignInSent",{F:r,D:i}),this.u=e,this.i=n}function xl(t,e,n,r,i,o,a){Su.call(this,ac,{jc:t,Qb:e},a,"emailMismatch",{F:i,D:o}),this.l=n,this.i=r}function Al(t,e,n,r,i){Su.call(this,ju,void 0,i,"emailNotReceived",{F:n,D:r}),this.l=t,this.i=e}function Ol(t,e,n,r,i,o){Su.call(this,Hu,{email:t,ga:e},o,"federatedLinking",{F:r,D:i}),this.i=n}function Rl(t,e,n,r,i,o){Su.call(this,Ru,{email:n,Ta:!!e},o,"passwordRecovery",{F:r,D:i}),this.l=t,this.u=e}function Pl(){return Us(this,"firebaseui-id-name")}function Nl(){return Us(this,"firebaseui-id-name-error")}function Ml(t,e,n,r,i,o,a,s,u){Su.call(this,Ou,{email:r,Tb:t,name:i,Ta:!!n,ia:!!s},u,"passwordSignUp",{F:o,D:a}),this.w=e,this.H=n,this.B=t}function Dl(){return Us(this,"firebaseui-id-phone-confirmation-code")}function Ll(){return Us(this,"firebaseui-id-phone-confirmation-code-error")}function jl(){return Us(this,"firebaseui-id-resend-countdown")}function Fl(t,e,n,r,i,o,a,s,u){Su.call(this,cc,{phoneNumber:i},u,"phoneSignInFinish",{F:a,D:s}),this.jb=o,this.i=new vs(1e3),this.B=o,this.P=t,this.l=e,this.H=n,this.M=r}a(Tc,Su),Tc.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Iu(this,this.l(),this.i()),Tu(this,this.i(),this.w),os(this.l())?this.i().focus():this.l().focus(),Su.prototype.v.call(this)},Tc.prototype.o=function(){this.H=this.w=null,Su.prototype.o.call(this)},A(Tc.prototype,{l:kc,U:Ec,P:Sc,M:Cc,j:Ic,i:mc,B:gc,ea:yc,u:bc,ua:dc,pa:pc,ba:vc}),N(xc,Su),xc.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),xc.K.v.call(this)},xc.prototype.o=function(){this.i=null,xc.K.o.call(this)},A(xc.prototype,{l:dc,w:pc,u:vc}),N(Ac,xc),N(Oc,xc),N(Rc,xc),N(Pc,xc),N(Nc,xc),N(Mc,xc),N(Dc,xc),N(Lc,xc),N(jc,xc),N(Fc,xc),N(Uc,xc),N(Bc,xc),a(nl,Su),nl.prototype.v=function(){var t=this;Gs(this,this.l(),(function(){t.i()})),this.l().focus(),Su.prototype.v.call(this)},nl.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(nl.prototype,{l:pc}),$a.anonymousUserMismatch=function(t,e){var n=new nl((function(){n.m(),Zc(t,e)}));n.render(e),sh(t,n)},a(rl,Su),rl.prototype.I=function(t,e,n,r){return t.apply(null,e).then(n,r)},$a.callback=function(t,e,n){var r=new rl;r.render(e),sh(t,r),n=n||ah(t),yh(t,n.then((function(e){il(t,r,e)}),(function(n){if((n=zc(n))&&("auth/account-exists-with-different-credential"==n.code||"auth/email-already-in-use"==n.code)&&n.email&&n.credential)Yo(new Zi(n.email,n.credential),hh(t)),sl(t,r,n.email);else if(n&&"auth/user-cancelled"==n.code){var i=Wo(hh(t)),o=Gc(n);i&&i.a?sl(t,r,i.g,o):i?Qc(t,r,i.g,o):al(t,r,n)}else n&&"auth/credential-already-in-use"==n.code||(n&&"auth/operation-not-supported-in-this-environment"==n.code&&Kc(t)?il(t,r,{user:null,credential:null}):n&&"auth/admin-restricted-operation"==n.code&&Ca(wh(t))?(r.m(),Ko(hh(t)),ts("handleUnauthorizedUser",t,e,null,null)):al(t,r,n))})))},a(ul,Su),ul.prototype.v=function(){var t=this;Gs(this,this.l(),(function(){t.i()})),this.l().focus(),Su.prototype.v.call(this)},ul.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(ul.prototype,{l:pc}),$a.differentDeviceError=function(t,e){var n=new ul((function(){n.m(),Zc(t,e)}));n.render(e),sh(t,n)},a(cl,Su),cl.prototype.v=function(){var t=this;Gs(this,Us(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Su.prototype.v.call(this)},cl.prototype.o=function(){this.l=this.i=null,Su.prototype.o.call(this)},A(cl.prototype,{u:dc,B:pc,w:vc}),a(ml,Su),ml.prototype.v=function(){this.H(),this.B(this.l),Tu(this,this.i(),this.l),this.i().focus(),Su.prototype.v.call(this)},ml.prototype.o=function(){this.l=null,Su.prototype.o.call(this)},A(ml.prototype,{i:ll,w:dl,M:hl,H:pl,u:vl,U:dc,P:pc,B:vc}),a(gl,Su),gl.prototype.v=function(){var t=this;Gs(this,Us(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.w(this.i),this.u().focus()),Su.prototype.v.call(this)},gl.prototype.o=function(){this.l=this.i=null,Su.prototype.o.call(this)},A(gl.prototype,{u:dc,B:pc,w:vc}),$a.passwordReset=function(t,e,n,r){yh(t,ch(t).verifyPasswordResetCode(n).then((function(i){var o=new ml(i,(function(){!function(t,e,n,r,i){var o=n.u();o&&yh(t,n.I(T(ch(t).confirmPasswordReset,ch(t)),[r,o],(function(){n.m();var r=new Lc(i);r.render(e),sh(t,r)}),(function(r){yl(t,e,n,r)})))}(t,e,o,n,r)}));o.render(e),sh(t,o)}),(function(){yl(t,e)})))},$a.emailChangeRevocation=function(t,e,n){var r=null;yh(t,ch(t).checkActionCode(n).then((function(e){return r=e.data.email,ch(t).applyActionCode(n)})).then((function(){!function(t,e,n){var r=new cl(n,(function(){yh(t,r.I(T(ch(t).sendPasswordResetEmail,ch(t)),[n],(function(){r.m(),(r=new Ac(n,void 0,Oa(wh(t)),Ra(wh(t)))).render(e),sh(t,r)}),(function(){r.a(Tn().toString())})))}));r.render(e),sh(t,r)}(t,e,r)}),(function(){var n=new Fc;n.render(e),sh(t,n)})))},$a.emailVerification=function(t,e,n,r){yh(t,ch(t).applyActionCode(n).then((function(){var n=new Oc(r);n.render(e),sh(t,n)}),(function(){var n=new Rc;n.render(e),sh(t,n)})))},$a.revertSecondFactorAddition=function(t,e,n){var r=null,i=null;yh(t,ch(t).checkActionCode(n).then((function(e){return r=e.data.email,i=e.data.multiFactorInfo,ch(t).applyActionCode(n)})).then((function(){!function(t,e,n,r){var i=new gl(r.factorId,(function(){i.I(T(ch(t).sendPasswordResetEmail,ch(t)),[n],(function(){i.m(),(i=new Ac(n,void 0,Oa(wh(t)),Ra(wh(t)))).render(e),sh(t,i)}),(function(){i.a(Tn().toString())}))}),r.phoneNumber);i.render(e),sh(t,i)}(t,e,r,i)}),(function(){var n=new Mc;n.render(e),sh(t,n)})))},$a.verifyAndChangeEmail=function(t,e,n,r){var i=null;yh(t,ch(t).checkActionCode(n).then((function(e){return i=e.data.email,ch(t).applyActionCode(n)})).then((function(){var n=new Pc(i,r);n.render(e),sh(t,n)}),(function(){var n=new Nc;n.render(e),sh(t,n)})))},a(_l,Su),_l.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),bl(this.i(),(this.i().value||"").length),Su.prototype.v.call(this)},_l.prototype.o=function(){this.u=this.l=null,Su.prototype.o.call(this)},A(_l.prototype,{i:kc,M:Ec,w:Sc,H:Cc,j:Ic,U:dc,P:pc,B:vc}),$a.emailLinkConfirmation=function(t,e,n,r,i,o){var a=new _l((function(){var i=a.j();i?(a.m(),r(t,e,i,n)):a.i().focus()}),(function(){a.m(),Zc(t,e,i||void 0)}),i||void 0,Oa(wh(t)),Ra(wh(t)));a.render(e),sh(t,a),o&&a.a(o)},a(wl,Su),wl.prototype.v=function(){this.u(this.i),this.l().focus(),Su.prototype.v.call(this)},wl.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(wl.prototype,{l:dc,u:vc}),$a.emailLinkNewDeviceLinking=function(t,e,n,r){var i=new Ft(n);if(n=i.a.a.get(qt.PROVIDER_ID)||null,Bt(i,null),n){var o=new wl(wa(wh(t),n),(function(){o.m(),r(t,e,i.toString())}),Oa(wh(t)),Ra(wh(t)));o.render(e),sh(t,o)}else Zc(t,e)},a(kl,Su),$a.emailLinkSignInCallback=El,a(Il,Su),Il.prototype.v=function(){this.u(this.i),this.l().focus(),Su.prototype.v.call(this)},Il.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(Il.prototype,{l:dc,u:vc}),$a.emailLinkSignInLinking=function(t,e,n){var r=Wo(hh(t));if(Ko(hh(t)),r){var i=r.a.providerId,o=new Il(n,wa(wh(t),i),(function(){!function(t,e,n,r){var i=Cu(e);Jc(t,e,n,(function(){Zc(t,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=Gc(r);r&&"auth/network-request-failed"==r.code?e.a(o):(e.m(),Zc(t,i,n,o))}}),r)}(t,o,n,r)}),Oa(wh(t)),Ra(wh(t)));o.render(e),sh(t,o)}else Zc(t,e)},a(Tl,Su),Tl.prototype.v=function(){var t=this;Gs(this,this.l(),(function(){t.i()})),Gs(this,Us(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),Su.prototype.v.call(this)},Tl.prototype.o=function(){this.i=this.u=null,Su.prototype.o.call(this)},A(Tl.prototype,{l:pc}),$a.emailLinkSignInSent=function(t,e,n,r,i){var o=new Tl(n,(function(){o.m(),ts("emailNotReceived",t,e,n,r,i)}),(function(){o.m(),r()}),Oa(wh(t)),Ra(wh(t)));o.render(e),sh(t,o)},a(xl,Su),xl.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Su.prototype.v.call(this)},xl.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(xl.prototype,{u:dc,B:pc,w:vc}),$a.emailMismatch=function(t,e,n){var r=Wo(hh(t));if(r){var i=new xl(n.user.email,r.g,(function(){var e=i;Ko(hh(t)),qc(t,e,n)}),(function(){var e=n.credential.providerId,o=Cu(i);i.m(),ts(r.a?"federatedLinking":"federatedSignIn",t,o,r.g,e)}),Oa(wh(t)),Ra(wh(t)));i.render(e),sh(t,i)}else Zc(t,e)},a(Al,Su),Al.prototype.v=function(){var t=this;Gs(this,this.u(),(function(){t.i()})),Gs(this,this.Da(),(function(){t.l()})),this.u().focus(),Su.prototype.v.call(this)},Al.prototype.Da=function(){return Us(this,"firebaseui-id-resend-email-link")},Al.prototype.o=function(){this.i=this.l=null,Su.prototype.o.call(this)},A(Al.prototype,{u:pc}),$a.emailNotReceived=function(t,e,n,r,i){var o=new Al((function(){Jc(t,o,n,r,(function(t){t=Gc(t),o.a(t)}),i)}),(function(){o.m(),Zc(t,e,n)}),Oa(wh(t)),Ra(wh(t)));o.render(e),sh(t,o)},a(Ol,Su),Ol.prototype.v=function(){this.u(this.i),this.l().focus(),Su.prototype.v.call(this)},Ol.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(Ol.prototype,{l:dc,u:vc}),$a.federatedLinking=function(t,e,n,r,i){var o=Wo(hh(t));if(o&&o.a){var a=new Ol(n,wa(wh(t),r),(function(){Wc(t,a,r,n)}),Oa(wh(t)),Ra(wh(t)));a.render(e),sh(t,a),i&&a.a(i)}else Zc(t,e)},$a.federatedRedirect=function(t,e,n){var r=new kl;r.render(e),sh(t,r),Wc(t,r,e=_a(wh(t))[0],n)},$a.federatedSignIn=function(t,e,n,r,i){var o=new Ol(n,wa(wh(t),r),(function(){Wc(t,o,r,n)}),Oa(wh(t)),Ra(wh(t)));o.render(e),sh(t,o),i&&o.a(i)},$a.passwordLinking=function(t,e,n){var r=Wo(hh(t));Ko(hh(t));var i=r&&r.a;if(i){var o=new _c(n,(function(){!function(t,e,n,r){var i=e.u();i?yh(t,e.I(T(t.Xb,t),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return qc(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),yh(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":qs(e.i(),!1),Ks(e.B(),Gc(t));break;case"auth/too-many-requests":e.a(Gc(t));break;default:Ui("signInWithEmailAndPassword: "+t.message,void 0),e.a(Gc(t))}}))):e.i().focus()}(t,o,n,i)}),(function(){o.m(),ts("passwordRecovery",t,e,n)}),Oa(wh(t)),Ra(wh(t)));o.render(e),sh(t,o)}else Zc(t,e)},a(Rl,Su),Rl.prototype.v=function(){this.B(),this.H(this.l,this.u),os(this.i())||this.i().focus(),Tu(this,this.i(),this.l),Su.prototype.v.call(this)},Rl.prototype.o=function(){this.u=this.l=null,Su.prototype.o.call(this)},A(Rl.prototype,{i:kc,w:Ec,B:Sc,M:Cc,j:Ic,U:dc,P:pc,H:vc}),$a.passwordRecovery=function(t,e,n,r,i){var o=new Rl((function(){!function(t,e){var n=e.j();if(n){var r=Cu(e);yh(t,e.I(T(ch(t).sendPasswordResetEmail,ch(t)),[n],(function(){e.m();var i=new Ac(n,(function(){i.m(),Zc(t,r)}),Oa(wh(t)),Ra(wh(t)));i.render(r),sh(t,i)}),(function(t){qs(e.i(),!1),Ks(e.w(),Gc(t))})))}else e.i().focus()}(t,o)}),r?void 0:function(){o.m(),Zc(t,e)},n,Oa(wh(t)),Ra(wh(t)));o.render(e),sh(t,o),i&&o.a(i)},$a.passwordSignIn=function(t,e,n,r){var i=new Tc((function(){!function(t,e){var n=e.j(),r=e.u();if(n)if(r){var i=s.a.auth.EmailAuthProvider.credential(n,r);yh(t,e.I(T(t.bc,t),[n,r],(function(n){return qc(t,e,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":qs(e.l(),!1),Ks(e.U(),Gc(t));break;case"auth/too-many-requests":case"auth/wrong-password":qs(e.i(),!1),Ks(e.B(),Gc(t));break;default:Ui("verifyPassword: "+t.message,void 0),e.a(Gc(t))}})))}else e.i().focus();else e.l().focus()}(t,i)}),(function(){var n=i.M();i.m(),ts("passwordRecovery",t,e,n)}),n,Oa(wh(t)),Ra(wh(t)),r);i.render(e),sh(t,i)},a(Ml,Su),Ml.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Iu(this,this.i(),this.u()),Iu(this,this.u(),this.l())):Iu(this,this.i(),this.l()),this.w&&Tu(this,this.l(),this.w),os(this.i())?this.B&&!os(this.u())?this.u().focus():this.l().focus():this.i().focus(),Su.prototype.v.call(this)},Ml.prototype.o=function(){this.H=this.w=null,Su.prototype.o.call(this)},A(Ml.prototype,{i:kc,U:Ec,ea:Sc,jb:Cc,j:Ic,u:Pl,Cc:Nl,Ja:function(){var t=Pl.call(this),e=Nl.call(this);Vs(this,t,(function(){Ys(e)&&(qs(t,!0),Ws(e))}))},M:function(){var t=Pl.call(this),e=Nl.call(this),n=os(t);return qs(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(Ws(e),e=!0):(Ks(e,un("Enter your account name").toString()),e=!1),e?Y(os(t)):null},l:ll,ba:dl,lb:hl,ua:pl,P:vl,Nb:dc,Mb:pc,pa:vc}),$a.passwordSignUp=function(t,e,n,r,i,o){var a=new Ml(Pa(wh(t)),(function(){!function(t,e){var n=Pa(wh(t)),r=e.j(),i=null;n&&(i=e.M());var o=e.P();if(r){if(n){if(!i)return void e.u().focus();i=rt(i)}if(o){var a=s.a.auth.EmailAuthProvider.credential(r,o);yh(t,e.I(T(t.Yb,t),[r,o],(function(r){var o={user:r.user,credential:a,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then((function(){return qc(t,e,o)})),yh(t,r),r):qc(t,e,o)}),(function(n){if(!n.name||"cancel"!=n.name){var i=zc(n);switch(n=Gc(i),i.code){case"auth/email-already-in-use":return function(t,e,n,r){function i(){var t=Gc(r);qs(e.i(),!1),Ks(e.U(),t),e.i().focus()}var o=ch(t).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=Cu(e),e.m(),ts("passwordRecovery",t,r,n,!1,An().toString()))}),(function(){i()}));return yh(t,o),o}(t,e,r,i);case"auth/too-many-requests":n=un("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":qs(e.l(),!1),Ks(e.ba(),n);break;case"auth/admin-restricted-operation":Ca(wh(t))?(n=Cu(e),e.m(),ts("handleUnauthorizedUser",t,n,r,s.a.auth.EmailAuthProvider.PROVIDER_ID)):e.a(n);break;default:Ui(i="setAccountInfo: "+Eo(i),void 0),e.a(n)}}})))}else e.l().focus()}else e.i().focus()}(t,a)}),i?void 0:function(){a.m(),Zc(t,e)},n,r,Oa(wh(t)),Ra(wh(t)),o);a.render(e),sh(t,a)},a(Fl,Su),Fl.prototype.v=function(){var t=this;this.U(this.jb),er(this.i,"tick",this.w,!1,this),this.i.start(),Gs(this,Us(this,"firebaseui-id-change-phone-number-link"),(function(){t.P()})),Gs(this,this.Da(),(function(){t.M()})),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),Su.prototype.v.call(this)},Fl.prototype.o=function(){this.M=this.H=this.l=this.P=null,ms(this.i),ir(this.i,"tick",this.w),this.i=null,Su.prototype.o.call(this)},Fl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(ms(this.i),ir(this.i,"tick",this.w),this.ua(),this.lb())},A(Fl.prototype,{u:Dl,pa:Ll,Ja:function(t){var e=Dl.call(this),n=Ll.call(this);Vs(this,e,(function(){Ys(n)&&(qs(e,!0),Ws(n))})),t&&Hs(this,e,(function(){t()}))},ba:function(){var t=Y(os(Dl.call(this))||"");return/^\d{6}$/.test(t)?t:null},Fb:jl,U:function(t){We(jl.call(this),un("Resend code in "+(9<t?"0:":"0:0")+t).toString())},ua:function(){Ws(this.Fb())},Da:function(){return Us(this,"firebaseui-id-resend-link")},lb:function(){Ks(this.Da())},Nb:dc,Mb:pc,ea:vc}),$a.phoneSignInFinish=function(t,e,n,r,i,o){var a=new Fl((function(){a.m(),ts("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,r){function i(t){e.u().focus(),qs(e.u(),!1),Ks(e.pa(),t)}var o=e.ba();o?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),yh(t,e.I(T(r.confirm,r),[o],(function(n){e.h(),e.$("firebaseui-icon-done",un("Verified!").toString());var r=setTimeout((function(){e.h(),e.m();var r={user:lh(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};qc(t,e,r,!0)}),1e3);yh(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)e.h();else{var o=zc(r);switch(r=Gc(o),o.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":o=Cu(e),e.h(),e.m(),ts("phoneSignInStart",t,o,n,r);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),i(r);break;default:e.h(),e.a(r)}}})))):i(un("Wrong code. Try again.").toString())}(t,a,n,i)}),(function(){a.m(),Zc(t,e)}),(function(){a.m(),ts("phoneSignInStart",t,e,n)}),fa(n),r,Oa(wh(t)),Ra(wh(t)));a.render(e),sh(t,a),o&&a.a(o)};var Ul=!(Xt||Gt("Safari")&&!(Wt()||Gt("Coast")||Gt("Opera")||Gt("Edge")||Gt("Firefox")||Gt("FxiOS")||Gt("Silk")||Gt("Android")));function Bl(t,e){return/-[a-z]/.test(e)?null:Ul&&t.dataset?!Gt("Android")||Wt()||Gt("Firefox")||Gt("FxiOS")||Gt("Opera")||Gt("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function zl(t,e,n){var r=this;t=tn(cu,{items:t},null,this.s),mu.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(Bl(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||Ve(document))||Ve(document),r=Ms(t),i=Ms(n);if(!Xt||9<=Number(ue)){a=Ps(n,"borderLeftWidth");var o=Ps(n,"borderRightWidth");s=Ps(n,"borderTopWidth"),u=Ps(n,"borderBottomWidth"),o=new Rs(parseFloat(s),parseFloat(o),parseFloat(u),parseFloat(a))}else{var a=Ls(n,"borderLeft");o=Ls(n,"borderRight");var s=Ls(n,"borderTop"),u=Ls(n,"borderBottom");o=new Rs(s,o,u,a)}n==Ve(document)?(a=r.a-n.scrollLeft,r=r.g-n.scrollTop,!Xt||10<=Number(ue)||(a+=o.left,r+=o.top)):(a=r.a-i.a-o.left,r=r.g-i.g-o.top),i=t.offsetWidth,o=t.offsetHeight,s=ee&&!i&&!o,t=f(i)&&!s||!t.getBoundingClientRect?new je(i,o):new je((t=Ns(t)).right-t.left,t.bottom-t.top),i=n.clientHeight-t.height,o=n.scrollLeft,s=n.scrollTop,n=new Le(o+=Math.min(a,Math.max(a-(n.clientWidth-t.width),0)),s+=Math.min(r,Math.max(r-i,0))),e.scrollLeft=n.a,e.scrollTop=n.g}(n,t)),Gs(this,t,(function(t){(t=(t=Ke(t.target,"firebaseui-id-list-box-dialog-button"))&&Bl(t,"listboxid"))&&(gu.call(r),e(t))}))}function ql(){return Us(this,"firebaseui-id-phone-number")}function Vl(){return Us(this,"firebaseui-id-country-selector")}function Hl(){return Us(this,"firebaseui-id-phone-number-error")}function Gl(t,e){var n,r=t.a,i=Wl("1-US-0",r);if(!(n=e&&Wl(e,r)?e:i?"1-US-0":0<r.length?r[0].c:null))throw Error("No available default country");Zl.call(this,n,t)}function Wl(t,e){return!(!(t=ia(t))||!q(e,t))}function Kl(t){return"firebaseui-flag-"+t.f}function Yl(t){var e=this;zl.call(this,function(t){return t.map((function(t){return{id:t.c,Ma:"firebaseui-flag "+Kl(t),label:t.name+" \u200e+"+t.b}}))}(t.a),(function(n){Zl.call(e,n,t,!0),e.O().focus()}),this.Ba)}function Zl(t,e,n){var r=ia(t);r&&(n&&(e=ra(e,n=Y(os(ql.call(this))||""))).length&&e[0].b!=r.b&&(n="+"+r.b+n.substr(e[0].b.length+1),as(ql.call(this),n)),e=ia(this.Ba),this.Ba=t,t=Us(this,"firebaseui-id-country-selector-flag"),e&&is(t,Kl(e)),rs(t,Kl(r)),We(Us(this,"firebaseui-id-country-selector-code"),"\u200e+"+r.b))}function Ql(t,e,n,r,i,o,a,s,u,c){Su.call(this,uc,{Gb:e,Aa:u||null,Va:!!n,ia:!!o},c,"phoneSignInStart",{F:r,D:i}),this.H=s||null,this.M=e,this.l=t,this.w=n||null,this.pa=a||null}function Xl(t,e,n,r){try{var i=e.U(qa)}catch(o){return}i?Ba?(e.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",un("Verifying...").toString()),yh(t,e.I(T(t.cc,t),[fa(i),n],(function(n){var r=Cu(e);e.$("firebaseui-icon-done",un("Code sent!").toString());var o=setTimeout((function(){e.h(),e.m(),ts("phoneSignInFinish",t,r,i,15,n)}),1e3);yh(t,(function(){e&&e.h(),clearTimeout(o)}))}),(function(n){if(e.h(),!n.name||"cancel"!=n.name){grecaptcha.reset(Va),Ba=null;var r=n&&n.message||"";if(n.code)switch(n.code){case"auth/too-many-requests":r=un("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.O().focus(),void Ks(e.B(),In().toString());case"auth/admin-restricted-operation":if(Ca(wh(t)))return n=Cu(e),e.m(),void ts("handleUnauthorizedUser",t,n,fa(i),s.a.auth.PhoneAuthProvider.PROVIDER_ID);r=Gc(n);break;default:r=Gc(n)}e.a(r)}})))):za?Ks(e.u(),un("Solve the reCAPTCHA").toString()):!za&&r&&e.i().click():(e.O().focus(),Ks(e.B(),In().toString()))}function Jl(t,e,n,r,i){Su.call(this,sc,{Sb:e},i,"providerSignIn",{F:n,D:r}),this.i=t}function $l(t,e,n,r,i,o,a){Su.call(this,xu,{email:n,Va:!!e,ia:!!o},a,"signIn",{F:r,D:i}),this.i=t,this.u=e}function th(t,e,n,r,i,o,a){Su.call(this,Gu,{kc:t,yb:n,Eb:!!r},a,"unauthorizedUser",{F:i,D:o}),this.l=e,this.i=r}function eh(t,e,n,r,i,o){Su.call(this,Wu,{email:t},o,"unsupportedProvider",{F:r,D:i}),this.l=e,this.i=n}function nh(t,e){this.$=!1;var n=oh(e);if(ih[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');ih[n]=this,this.a=t,this.u=null,this.Y=!1,rh(this.a),this.h=s.a.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),(t=t.emulatorConfig)&&this.h.useEmulator(t.protocol+"://"+t.host+(null===(n=t.port)?"":":"+n),t.options),rh(this.h),this.h.setPersistence&&this.h.setPersistence(s.a.auth.Auth.Persistence.SESSION),this.oa=e,this.ca=new ma,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=yi.Xa(),this.j=this.C=null,this.da=this.A=!1}function rh(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}a(Ql,Su),Ql.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Iu(this,this.O(),this.i()),Tu(this,this.i(),this.l),this.O().focus(),bl(this.O(),(this.O().value||"").length),Su.prototype.v.call(this)},Ql.prototype.o=function(){this.w=this.l=null,Su.prototype.o.call(this)},A(Ql.prototype,{Cb:yu,O:ql,B:Hl,ea:function(t,e,n){var r=this,i=ql.call(this),o=Vl.call(this),a=Hl.call(this),s=t||ca,u=s.a;if(0==u.length)throw Error("No available countries provided.");Gl.call(r,s,e),Gs(this,o,(function(){Yl.call(r,s)})),Vs(this,i,(function(){Ys(a)&&(qs(i,!0),Ws(a));var t=Y(os(i)||""),e=ia(this.Ba),n=ra(s,t);t=Wl("1-US-0",u),n.length&&n[0].b!=e.b&&Zl.call(r,"1"==(e=n[0]).b&&t?"1-US-0":e.c,s)})),n&&Hs(this,i,(function(){n()}))},U:function(t){var e=Y(os(ql.call(this))||""),n=(t=t||ca).a,r=ra(ca,e);if(r.length&&!q(n,r[0]))throw as(ql.call(this)),ql.call(this).focus(),Ks(Hl.call(this),un("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=ia(this.Ba),r.length&&r[0].b!=n.b&&Zl.call(this,r[0].c,t),r.length&&(e=e.substr(r[0].b.length+1)),e?new la(this.Ba,e):null},Ja:Vl,ba:function(){return Us(this,"firebaseui-recaptcha-container")},u:function(){return Us(this,"firebaseui-id-recaptcha-error")},i:dc,ua:pc,P:vc}),$a.phoneSignInStart=function(t,e,n,r){var i=function(t){var e=null;if(ya(t).forEach((function(t){t.provider==s.a.auth.PhoneAuthProvider.PROVIDER_ID&&k(t.recaptchaParameters)&&!Array.isArray(t.recaptchaParameters)&&(e=ot(t.recaptchaParameters))})),e){var n=[];Ja.forEach((function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&Vi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(wh(t))||{};Ba=null,za=!(i&&"invisible"===i.size);var o=Yc(t),a=function(t){var e=(t=ba(t,s.a.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&oa(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=ha(t.loginHint)),e&&e[0]||n&&ia(n.a)||null}(wh(t)),u=o?function(t){var e=null;return(t=ba(t,s.a.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=ha(t.loginHint)),t&&t.defaultNationalNumber||e&&e.Aa||null}(wh(t)):null;a=n&&n.a||a&&a.c||null,n=n&&n.Aa||u,(u=xa(wh(t)))&&sa(u),qa=u?new na(xa(wh(t))):ca;var c=new Ql((function(e){Xl(t,c,l,!(!e||!e.keyCode))}),za,o?null:function(){l.clear(),c.m(),Zc(t,e)},Oa(wh(t)),Ra(wh(t)),o,qa,a,n);c.render(e),sh(t,c),r&&c.a(r),i.callback=function(e){c.u()&&Ws(c.u()),Ba=e,za||Xl(t,c,l)},i["expired-callback"]=function(){Ba=null};var l=new s.a.auth.RecaptchaVerifier(za?c.ba():c.i(),i,lh(t).app);yh(t,c.I(T(l.render,l),[],(function(t){Va=t}),(function(n){n.name&&"cancel"==n.name||(n=Gc(n),c.m(),Zc(t,e,void 0,n))})))},$a.prefilledEmailSignIn=function(t,e,n){var r=new kl;r.render(e),sh(t,r),yh(t,r.I(T(ch(t).fetchSignInMethodsForEmail,ch(t)),[n],(function(i){r.m();var o=!(!Kc(t)||!fh(t));Xc(t,e,i,n,void 0,o)}),(function(i){i=Gc(i),r.m(),ts("signIn",t,e,n,i)})))},a(Jl,Su),Jl.prototype.v=function(){this.l(this.i),Su.prototype.v.call(this)},Jl.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(Jl.prototype,{l:function(t){function e(e){t(e)}for(var n=this.g?Ue("firebaseui-id-idp-button",this.g||this.s.a):[],r=0;r<n.length;r++){var i=n[r];Gs(this,i,x(e,Bl(i,"providerId")))}}}),$a.providerSignIn=function(t,e,n,r){var i=new Jl((function(n){n==s.a.auth.EmailAuthProvider.PROVIDER_ID?(i.m(),$c(t,e,r)):n==s.a.auth.PhoneAuthProvider.PROVIDER_ID?(i.m(),ts("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){yh(t,e.I(T(t.$b,t),[],(function(n){return e.m(),qc(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Ui("ContinueAsGuest: "+t.code,void 0),t=Gc(t),e.a(t))})))}(t,i):Wc(t,i,n,r),kh(t),t.l.cancel()}),ka(wh(t)),Oa(wh(t)),Ra(wh(t)));i.render(e),sh(t,i),n&&i.a(n),function(t){kh(t);try{(function t(e,n,r){return e.a&&n?(e.h=!0,new Dr((function(t){e.g=t,e.a.initialize({client_id:n,callback:t,auto_select:!r}),e.a.prompt()}))):qr(n?_i.Xa().load().then((function(){return e.a=gi(),t(e,n,r)})).Ca((function(){return null})):null)})(t.l,Ea(wh(t)),function(t){var e;return kh(t),(e=t.Z)||(e=!(!(t=Ta(t=wh(t),s.a.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.g&&function(t,e,n){if(n&&n.credential&&n.clientId===Ea(wh(t))){if(Ia(wh(t),s.a.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var r=JSON.parse(atob(n.credential.split(".")[1])).email}catch(i){}return Wc(t,e,s.a.auth.GoogleAuthProvider.PROVIDER_ID,r),qr(!0)}return i=s.a.auth.GoogleAuthProvider.credential(n.credential),o=!1,i=e.I(T(t.ac,t),[i],(function(n){var r=Cu(e);e.m(),ts("callback",t,r,qr(n)),o=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=Cu(e);e.m(),ts("callback",t,r,Vr(n))}else n&&"auth/admin-restricted-operation"==n.code&&Ca(wh(t))?(n=Cu(e),e.m(),ts("handleUnauthorizedUser",t,n,null,s.a.auth.GoogleAuthProvider.PROVIDER_ID)):(n=Gc(n),e.a(n))})),yh(t,i),i.then((function(){return o}),(function(){return!1}))}var i,o;return n&&e.a(un("The selected credential for the authentication provider is not supported!").toString()),qr(!1)}(t,t.g,e)}))}catch(e){}}(t)},$a.sendEmailLinkForSignIn=function(t,e,n,r){var i=new rl;i.render(e),sh(t,i),Jc(t,i,n,r,(function(r){i.m(),r&&"auth/admin-restricted-operation"==r.code&&Ca(wh(t))?ts("handleUnauthorizedUser",t,e,n,s.a.auth.EmailAuthProvider.PROVIDER_ID):(r=Gc(r),ts("signIn",t,e,n,r))}))},a($l,Su),$l.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),bl(this.l(),(this.l().value||"").length),Su.prototype.v.call(this)},$l.prototype.o=function(){this.u=this.i=null,Su.prototype.o.call(this)},A($l.prototype,{l:kc,M:Ec,w:Sc,H:Cc,j:Ic,U:dc,P:pc,B:vc}),$a.signIn=function(t,e,n,r){var i=Kc(t),o=new $l((function(){var e=o,n=e.j()||"";n&&Qc(t,e,n)}),i?null:function(){o.m(),Zc(t,e,n)},n,Oa(wh(t)),Ra(wh(t)),i);o.render(e),sh(t,o),r&&o.a(r)},a(th,Su),th.prototype.v=function(){var t=this,e=Us(this,"firebaseui-id-unauthorized-user-help-link");this.i&&e&&Gs(this,e,(function(){t.i()})),Gs(this,this.u(),(function(){t.l()})),this.u().focus(),Su.prototype.v.call(this)},th.prototype.o=function(){this.i=this.l=null,Su.prototype.o.call(this)},A(th.prototype,{u:pc}),$a.handleUnauthorizedUser=function(t,e,n,r){function i(){Zc(t,e)}r===s.a.auth.EmailAuthProvider.PROVIDER_ID?i=function(){$c(t,e)}:r===s.a.auth.PhoneAuthProvider.PROVIDER_ID&&(i=function(){ts("phoneSignInStart",t,e)});var o=null,a=null;r===s.a.auth.EmailAuthProvider.PROVIDER_ID&&Sa(wh(t))?(o=function(t){return(t=ba(t,s.a.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp&&t.disableSignUp.adminEmail||null}(wh(t)),a=function(t){if((t=ba(t,s.a.auth.EmailAuthProvider.PROVIDER_ID))&&t.disableSignUp){var e=t.disableSignUp.helpLink||null;if(e&&"string"==typeof e)return function(){ei(e)}}return null}(wh(t))):Ca(wh(t))&&(o=function(t){return(t=t.a.get("adminRestrictedOperation"))&&t.adminEmail?t.adminEmail:null}(wh(t)),a=function(t){if(t=t.a.get("adminRestrictedOperation")||null){var e=t.helpLink||null;if(e&&"string"==typeof e)return function(){ei(e)}}return null}(wh(t)));var u=new th(n,(function(){u.m(),i()}),o,a,Oa(wh(t)),Ra(wh(t)));u.render(e),sh(t,u)},a(eh,Su),eh.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),Su.prototype.v.call(this)},eh.prototype.o=function(){this.i=this.l=null,Su.prototype.o.call(this)},A(eh.prototype,{u:dc,B:pc,w:vc}),$a.unsupportedProvider=function(t,e,n){var r=new eh(n,(function(){r.m(),ts("passwordRecovery",t,e,n)}),(function(){r.m(),Zc(t,e,n)}),Oa(wh(t)),Ra(wh(t)));r.render(e),sh(t,r)};var ih={};function oh(t){return t||"[DEFAULT]"}function ah(t){return kh(t),t.i||(t.i=mh(t,(function(e){return e&&!Wo(hh(t))?qr(lh(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return Ch(t,e)}))):qr(ch(t).getRedirectResult().then((function(e){return ga(wh(t))&&!e.user&&t.j&&!t.j.isAnonymous?lh(t).getRedirectResult():e})))}))),t.i}function sh(t,e){kh(t),t.g=e}var uh=null;function ch(t){return kh(t),t.h}function lh(t){return kh(t),t.a}function hh(t){return kh(t),t.oa}function fh(t){return kh(t),t.O?t.O.emailHint:void 0}function dh(t){return"signIn"===((t=new Ft(t)).a.a.get(qt.ub)||null)&&!!t.a.a.get(qt.$a)}function ph(t,e,n,r){kh(t),void 0!==t.a.languageCode&&(t.u=t.a.languageCode);var i="en".replace(/_/g,"-");t.a.languageCode=i,t.h.languageCode=i,t.Y=!0,void 0!==t.a.tenantId&&(t.h.tenantId=t.a.tenantId),t.ib(n),t.O=r||null;var o=h.document;t.C?t.C.then((function(){"complete"==o.readyState?vh(t,e):rr(window,"load",(function(){vh(t,e)}))})):"complete"==o.readyState?vh(t,e):rr(window,"load",(function(){vh(t,e)}))}function vh(t,e){var n=ni(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),uh){var r=uh;kh(r),Wo(hh(r))&&Vi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),uh.reset()}if(uh=t,t.T=n,function(t,e){t.L=null,t.J=new _r(e),t.J.register(),er(t.J,"pageEnter",(function(e){if(t.L!=(e=e&&e.pageId)){var n=wh(t);(n=Ua(n).uiChanged||null)&&n(t.L,e),t.L=e}}))}(t,n),Ro(new Po)&&Ro(new No)){e=ni(e,"Could not find the FirebaseUI widget element on the page."),n=(n=gt(n=ri(),r=$o(wh(t).a,"queryParameterForSignInSuccessUrl")))?be(we(n)).toString():null;t:{r=ri();var i=Aa(wh(t));for(o in r=gt(r,i)||"",Qa)if(Qa[o].toLowerCase()==r.toLowerCase()){var o=Qa[o];break t}o="callback"}switch(o){case"callback":n&&(o=hh(t),Ho(Uo,n,o)),t.nb()?ts("callback",t,e):Zc(t,e,fh(t));break;case"resetPassword":ts("passwordReset",t,e,tl(),el());break;case"recoverEmail":ts("emailChangeRevocation",t,e,tl());break;case"revertSecondFactorAddition":ts("revertSecondFactorAddition",t,e,tl());break;case"verifyEmail":ts("emailVerification",t,e,tl(),el());break;case"verifyAndChangeEmail":ts("verifyAndChangeEmail",t,e,tl(),el());break;case"signIn":ts("emailLinkSignInCallback",t,e,ri()),Eh();break;case"select":n&&(o=hh(t),Ho(Uo,n,o)),Zc(t,e);break;default:throw Error("Unhandled widget operation.")}(e=Ua(e=wh(t)).uiShown||null)&&e()}else e=ni(e,"Could not find the FirebaseUI widget element on the page."),(o=new Bc(un("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),sh(t,o);e=t.g&&"blank"==t.g.Ga&&Ma(wh(t)),Zo(hh(t))&&!e&&(_h(t,(e=Zo(hh(t))).a),Vo(Fo,hh(t)))}function mh(t,e){if(t.A)return e(gh(t));if(yh(t,(function(){t.A=!1})),ga(wh(t))){var n=new Dr((function(n){yh(t,t.a.onAuthStateChanged((function(r){t.j=r,t.A||(t.A=!0,n(e(gh(t))))})))}));return yh(t,n),n}return t.A=!0,e(null)}function gh(t){return kh(t),ga(wh(t))&&t.j&&t.j.isAnonymous?t.j:null}function yh(t,e){if(kh(t),e){t.s.push(e);var n=function(){!function(t,e){!function(t,e){for(var n=d(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&H(t,r)}))}(t.s,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function bh(t){void 0!==t.a.languageCode&&t.Y&&(t.Y=!1,t.a.languageCode=t.u)}function _h(t,e){t.a.tenantId=e,t.h.tenantId=e}function wh(t){return kh(t),t.ca}function kh(t){if(t.$)throw Error("AuthUI instance is deleted!")}function Eh(){var t=ri();if(dh(t)){for(var e in t=new Ft(t),qt)qt.hasOwnProperty(e)&&Mt(t.a.a,qt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"},h.history&&h.history.replaceState&&h.history.replaceState(e,h.document.title,t.toString())}}function Sh(t){return kh(t),ch(t).signOut()}function Ch(t,e,n){if(kh(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var r=Fa(wh(t));return qr().then((function(){return r(new Pn("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.g&&(t.g.m(),t.g=null),e}))}return Vr(e)}function Ih(t,e,n,r){Su.call(this,fc,void 0,r,"providerMatchByEmail",{F:e,D:n}),this.i=t}function Th(t,e,n,r,i){Su.call(this,hc,{ec:e},i,"selectTenant",{F:n,D:r}),this.i=t}function xh(t){Su.call(this,Mu,void 0,t,"spinner")}function Ah(t){for(var e in this.a=new Qo,Xo(this.a,"authDomain"),Xo(this.a,"displayMode",Lh),Xo(this.a,"tenants"),Xo(this.a,"callbacks"),Xo(this.a,"tosUrl"),Xo(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{Jo(this.a,e,t[e])}catch(Pe){Ui('Invalid config: "'+e+'"',void 0)}}function Oh(t){return t.a.get("callbacks")||{}}function Rh(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Vi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){ei(e)}}return null}function Ph(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Vi("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){ei(n)}}return null}function Nh(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(Fh))throw Error("Invalid tenant configuration!")}function Mh(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(t=t[e]||t[Fh]))return Ui("Invalid tenant configuration: "+e+" is not configured!",void 0),r;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)r.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&r.push(t.provider):r.push(t.provider)}else Ui(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),r}(t=nh.prototype).nb=function(){return kh(this),!!Zo(hh(this))||dh(ri())},t.start=function(t,e){ph(this,t,e)},t.Db=function(){kh(this),this.Z=!0},t.reset=function(){kh(this);var t=this;this.T&&this.T.removeAttribute("lang"),this.J&&function(t){var e=br(t.N());mr[e]&&mr[e].length&&(function(t,e){t:{for(var n=t.length,r=d(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}0<=e&&H(t,e)}(mr[e],(function(e){return e==t})),mr[e].length||delete mr[e])}(this.J),bh(this),this.O=null,Eh(),Vo(Fo,hh(this)),kh(this),this.l.cancel(),this.i=qr({user:null,credential:null}),uh==this&&(uh=null),this.T=null;for(var e=0;e<this.s.length;e++)"function"==typeof this.s[e]?this.s[e]():this.s[e].cancel&&this.s[e].cancel();this.s=[],Ko(hh(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Sh(this).then((function(){t.C=null}),(function(){t.C=null})))},t.ib=function(t){kh(this);var e,n=this.ca;for(e in t)try{Jo(n.a,e,t[e])}catch(r){Ui('Invalid config: "'+e+'"',void 0)}ne&&Jo(n.a,"popupMode",!1),xa(n),!this.da&&La(wh(this))&&(Vi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},t.Wb=function(){kh(this);var t=wh(this),e=$o(t.a,"widgetUrl");t=Aa(t);for(var n,r=e.search(mt),i=0,o=[];0<=(n=vt(e,i,t,r));)o.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);o.push(e.substr(i)),e=o.join("").replace(yt,"$1"),(t+=r="="+encodeURIComponent("select"))?(0>(r=e.indexOf("#"))&&(r=e.length),0>(i=e.indexOf("?"))||i>r?(i=r,n=""):n=e.substring(i+1,r),r=(e=[e.substr(0,i),n,e.substr(r)])[1],e[1]=t?r?r+"&"+t:t:r,r=e[0]+(e[1]?"?"+e[1]:"")+e[2]):r=e,wh(this).a.get("popupMode")?(r=r||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||r.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=$r(r,t))&&t.focus()):De(window.location,r)},t.Wa=function(){var t=this;return kh(this),this.h.app.delete().then((function(){var e=oh(hh(t));delete ih[e],t.reset(),t.$=!0}))},t.Ib=function(t,e){kh(this);var n=this,r=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Na(wh(this)))return Vr(Error("Email link sign-in should be enabled to trigger email sending."));var i=function(t){if(Na(t)){var e={url:ri(),handleCodeInApp:!0};(t=ba(t,s.a.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&st(e,t.emailLinkSignIn()),t=e.url;var n=ri();n instanceof bt||(n=Et(n)),t instanceof bt||(t=Et(t));var r=n;n=new bt(r);var i=!!t.j;i?_t(n,t.j):i=!!t.A,i?n.A=t.A:i=!!t.h,i?n.h=t.h:i=null!=t.C;var o=t.g;if(i)wt(n,t.C);else if(i=!!t.g)if("/"!=o.charAt(0)&&(r.h&&!r.g?o="/"+o:-1!=(r=n.g.lastIndexOf("/"))&&(o=n.g.substr(0,r+1)+o)),".."==o||"."==o)o="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var a=[],u=0;u<o.length;){var c=o[u++];"."==c?r&&u==o.length&&a.push(""):".."==c?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&u==o.length&&a.push("")):(a.push(c),r=!0)}o=a.join("/")}return i?n.g=o:i=""!==t.a.toString(),i?kt(n,Lt(t.a)):i=!!t.s,i&&(n.s=t.s),e.url=n.toString(),e}return null}(wh(this)),o=new Ft(i.url);return function(t,e){e?t.a.a.set(qt.Sa,e):Mt(t.a.a,qt.Sa)}(o,r),e&&e.a&&(function(t,e,n){Ho(zo,_o(t,JSON.stringify(Qi(e))),n)}(r,e,hh(this)),Bt(o,e.a.providerId)),function(t,e){null!==e?t.a.a.set(qt.Qa,e?"1":"0"):Mt(t.a.a,qt.Qa)}(o,function(t){return!(!(t=ba(t,s.a.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(wh(this))),mh(this,(function(e){return e&&((e=e.uid)?o.a.a.set(qt.Pa,e):Mt(o.a.a,qt.Pa)),i.url=o.toString(),ch(n).sendSignInLinkToEmail(t,i)})).then((function(){var e=hh(n),i={};i.email=t,Ho(Bo,_o(r,JSON.stringify(i)),e)}),(function(t){throw Vo(zo,hh(n)),Vo(Bo,hh(n)),t}))},t.bc=function(t,e){kh(this);var n=this;return ch(this).signInWithEmailAndPassword(t,e).then((function(r){return mh(n,(function(i){return i?Sh(n).then((function(){return Ch(n,{code:"auth/email-already-in-use"},s.a.auth.EmailAuthProvider.credential(t,e))})):r}))}))},t.Yb=function(t,e){kh(this);var n=this;return mh(this,(function(r){if(r){var i=s.a.auth.EmailAuthProvider.credential(t,e);return r.linkWithCredential(i)}return ch(n).createUserWithEmailAndPassword(t,e)}))},t.ac=function(t){kh(this);var e=this;return mh(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return Ch(e,n,t)})):ch(e).signInWithCredential(t)}))},t.dc=function(t){kh(this);var e=this,n=this.i;return this.i=null,mh(this,(function(n){return n&&!Wo(hh(e))?n.linkWithRedirect(t):ch(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},t.cc=function(t,e){kh(this);var n=this;return mh(this,(function(r){return r?r.linkWithPhoneNumber(t,e).then((function(t){return new wi(t,(function(t){if("auth/credential-already-in-use"==t.code)return Ch(n,t);throw t}))})):lh(n).signInWithPhoneNumber(t,e).then((function(t){return new wi(t)}))}))},t.$b=function(){return kh(this),lh(this).signInAnonymously()},t.Xb=function(t,e){return kh(this),ch(this).signInWithEmailAndPassword(t,e)},a(Ih,Su),Ih.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),bl(this.l(),(this.l().value||"").length),Su.prototype.v.call(this)},Ih.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},A(Ih.prototype,{l:kc,H:Ec,u:Sc,B:Cc,j:Ic,M:dc,w:vc}),a(Th,Su),Th.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var r=t.g?Ue("firebaseui-id-tenant-selection-button",t.g||t.s.a):[],i=0;i<r.length;i++){var o=r[i];Gs(t,o,x(n,Bl(o,"tenantId")))}}(this,this.i),Su.prototype.v.call(this)},Th.prototype.o=function(){this.i=null,Su.prototype.o.call(this)},a(xh,Su);var Dh=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Lh="optionFirst",jh={qc:Lh,pc:"identifierFirst"},Fh="*";function Uh(t,e){var n=this;this.s=ni(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new Ah(e[t])})),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(t){this.ob=t||null},enumerable:!1})}function Bh(t){t.j&&t.j.reset(),t.mb(),t.g&&t.g.m()}(t=Uh.prototype).Ub=function(t,e){var n=this;Bh(this);var r=t.apiKey;return new Dr((function(t,i){if(n.a.hasOwnProperty(r)){var o=Oh(n.a[r]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),jh)if(jh[e]===t)return jh[e];return Lh}(n.a[r])===Lh){var a=[];e.forEach((function(t){t=t||"_";var e=n.a[r].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[Fh])?t={tenantId:"_"!==t?t:null,V:e.fullLabel||null,displayName:e.displayName,za:e.iconUrl,ta:e.buttonColor}:(Ui("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&a.push(t)}));var s=function(e){e={tenantId:e,providerIds:Mh(n.a[r],e||"_")},t(e)};if(1===a.length)return void s(a[0].tenantId);n.g=new Th((function(t){Bh(n),o&&o(),s(t)}),a,Rh(n.a[r]),Ph(n.a[r]))}else n.g=new Ih((function(){var i=n.g.j();if(i){for(var a=0;a<e.length;a++){var s=Mh(n.a[r],e[a]||"_",i);if(0!==s.length)return i={tenantId:e[a],providerIds:s,email:i},Bh(n),o&&o(),void t(i)}n.g.a(On({code:"no-matching-tenant-for-email"}).toString())}}),Rh(n.a[r]),Ph(n.a[r]));n.g.render(n.s),(i=Oh(n.a[r]).selectTenantUiShown||null)&&i()}else{var u=Error("Invalid project configuration: API key is invalid!");u.code="invalid-configuration",n.pb(u),i(u)}}))},t.Pb=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;Nh(this.a[t],e||"_");try{this.i=s.a.app(n).auth()}catch(i){var r=this.a[t].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(t=s.a.initializeApp({apiKey:t,authDomain:r},n)).auth().tenantId=e,this.i=t.auth()}return this.i},t.Zb=function(t,e){var n=this;return new Dr((function(r,i){function o(e,r){n.j=new nh(t),ph(n.j,n.s,e,r)}var a=t.app.options.apiKey;n.a.hasOwnProperty(a)||i(Error("Invalid project configuration: API key is invalid!"));var s=function(t,e,n){return t=function(t,e){var n=Dh,r=void 0===r?{}:r;return Nh(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[Fh],n,r)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return n.includes("string"==typeof t?t:t.provider)})),t.signInOptions=e),t}(n.a[a],t.tenantId||"_",e&&e.providerIds);Bh(n),i={signInSuccessWithAuthResult:function(t){return r(t),!1}};var u,c=Oh(n.a[a]).signInUiShown||null,l=!1;i.uiChanged=function(e,r){null===e&&"callback"===r?((e=Be("firebaseui-id-page-callback",n.s))&&Ws(e),n.h=new xh,n.h.render(n.s)):l||null===e&&"spinner"===r||"blank"===r||(n.h&&(n.h.m(),n.h=null),l=!0,c&&c(t.tenantId))},s.callbacks=i,s.credentialHelper="none",e&&e.email&&(u={emailHint:e.email}),n.j?n.j.Wa().then((function(){o(s,u)})):o(s,u)}))},t.reset=function(){var t=this;return qr().then((function(){t.j&&t.j.Wa()})).then((function(){t.j=null,Bh(t)}))},t.Vb=function(){var t=this;this.h||this.A||(this.A=window.setTimeout((function(){Bh(t),t.h=new xh,t.g=t.h,t.h.render(t.s),t.A=null}),500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Bh(this),this.g=new Dc,this.g.render(this.s),qr()},t.pb=function(t){var e,n=this,r=On({code:t.code}).toString()||t.message;Bh(this),t.retry&&"function"==typeof t.retry&&(e=function(){n.reset(),t.retry()}),this.g=new Uc(r,e),this.g.render(this.s)},t.Rb=function(t){var e=this;return qr().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(Nh(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=Oh(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},P("firebaseui.auth.FirebaseUiHandler",Uh),P("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Uh.prototype.Ub),P("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Uh.prototype.Pb),P("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Uh.prototype.Zb),P("firebaseui.auth.FirebaseUiHandler.prototype.reset",Uh.prototype.reset),P("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Uh.prototype.Vb),P("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Uh.prototype.mb),P("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Uh.prototype.Bb),P("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Uh.prototype.pb),P("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Uh.prototype.Rb),P("firebaseui.auth.AuthUI",nh),P("firebaseui.auth.AuthUI.getInstance",(function(t){return t=oh(t),ih[t]?ih[t]:null})),P("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",nh.prototype.Db),P("firebaseui.auth.AuthUI.prototype.start",nh.prototype.start),P("firebaseui.auth.AuthUI.prototype.setConfig",nh.prototype.ib),P("firebaseui.auth.AuthUI.prototype.signIn",nh.prototype.Wb),P("firebaseui.auth.AuthUI.prototype.reset",nh.prototype.reset),P("firebaseui.auth.AuthUI.prototype.delete",nh.prototype.Wa),P("firebaseui.auth.AuthUI.prototype.isPendingRedirect",nh.prototype.nb),P("firebaseui.auth.AuthUIError",Pn),P("firebaseui.auth.AuthUIError.prototype.toJSON",Pn.prototype.toJSON),P("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",Ha),P("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Ga),P("firebaseui.auth.CredentialHelper.NONE",Wa),P("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Dr.prototype.catch=Dr.prototype.Ca,Dr.prototype.finally=Dr.prototype.fc}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window)}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=c.a);var l=firebaseui.auth,h=n("8Y7J"),f=n("Z2Br");n.d(e,"a",(function(){return p}));var d,p=((d=function(){function t(e){_classCallCheck(this,t),this.firebaseService=e,this.firebaseAuth=this.firebaseService.firebase.auth(),this.FirebaseAuthUI=l.AuthUI,this.defaultUiConfig={signInSuccessUrl:"#/auth-success",callbacks:{},signInOptions:[this.firebaseService.firebase.auth.GoogleAuthProvider.PROVIDER_ID,this.firebaseService.firebase.auth.GithubAuthProvider.PROVIDER_ID]},this.user$=new r.a(void 0),this.authLoading$=this.user$.pipe(Object(o.a)((function(t){return void 0===t}))),this.canLogin$=this.user$.pipe(Object(o.a)((function(t){return null===t})))}return _createClass(t,[{key:"getUser$",value:function(){var t=this;return this.firebaseAuth.onAuthStateChanged((function(e){if(null!==e){var n=Object.assign(new a,{uid:e.uid,displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,photoURL:e.photoURL});t.user$.next(n)}else t.user$.next(null)})),this.user$}},{key:"getFirebaseAuthUI",value:function(){return l.AuthUI.getInstance()||new this.FirebaseAuthUI(this.firebaseAuth)}},{key:"renderLogin",value:function(t){return this.getFirebaseAuthUI().start(t,Object.assign({},this.defaultUiConfig)),this.user$.asObservable()}},{key:"signOut",value:function(){return Object(i.a)(this.firebaseAuth.signOut())}}]),t}()).ngInjectableDef=h.Rb({factory:function(){return new d(h.Sb(f.a))},token:d,providedIn:"root"}),d)},"v/ix":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.enable=t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){function e(t,n,r,a){var s;return _classCallCheck(this,e),(s=_callSuper(this,e,[t]))._tapNext=i.a,s._tapError=i.a,s._tapComplete=i.a,s._tapError=r||i.a,s._tapComplete=a||i.a,Object(o.a)(n)?(s._context=_assertThisInitialized(s),s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||i.a,s._tapError=n.error||i.a,s._tapComplete=n.complete||i.a),s}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),e}(r.a)},xpxz:function(t,e,r){"use strict";var i=r("mrSG"),o=r("LvDl"),a=r("Cfvw"),s=r("HDdC"),u=r("XNiG"),c=r("lJxs"),l=r("8Y7J"),h=r("Z2Br"),f=r("zIRd"),d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function v(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Pd){o(Pd)}}function s(t){try{u(r.throw(t))}catch(Pd){o(Pd)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function m(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(Pd){s=[6,Pd],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function g(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var y=r("qOnz"),b=r("q/0M"),_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function w(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var k,E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},S=S||{},C=E||self;function I(){}function T(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function x(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var A="closure_uid_"+(1e9*Math.random()>>>0),O=0;function R(t,e,n){return t.call.apply(t.bind,arguments)}function P(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function N(t,e,n){return(N=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:P).apply(null,arguments)}function M(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function D(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function L(){this.s=this.s,this.o=this.o}var j={};L.prototype.s=!1,L.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,A)&&t[A]||(t[A]=++O)}(this);delete j[t]}},L.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function B(t){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function q(t){return/^[\s\xa0]*$/.test(t)}var V,H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function G(t,e){return-1!=t.indexOf(e)}function W(t,e){return t<e?-1:t>e?1:0}t:{var K=C.navigator;if(K){var Y=K.userAgent;if(Y){V=Y;break t}}V=""}function Z(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Q(t){var e={};for(var n in t)e[n]=t[n];return e}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<X.length;o++)n=X[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $(t){return $[" "](t),t}$[" "]=I;var tt,et,nt=G(V,"Opera"),rt=G(V,"Trident")||G(V,"MSIE"),it=G(V,"Edge"),ot=it||rt,at=G(V,"Gecko")&&!(G(V.toLowerCase(),"webkit")&&!G(V,"Edge"))&&!(G(V,"Trident")||G(V,"MSIE"))&&!G(V,"Edge"),st=G(V.toLowerCase(),"webkit")&&!G(V,"Edge");function ut(){var t=C.document;return t?t.documentMode:void 0}t:{var ct="",lt=(et=V,at?/rv:([^\);]+)(\)|;)/.exec(et):it?/Edge\/([\d\.]+)/.exec(et):rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(et):st?/WebKit\/(\S+)/.exec(et):nt?/(?:Version)[ \/]?(\S+)/.exec(et):void 0);if(lt&&(ct=lt?lt[1]:""),rt){var ht=ut();if(null!=ht&&ht>parseFloat(ct)){tt=String(ht);break t}}tt=ct}var ft={},dt=C.document&&rt&&(ut()||parseInt(tt,10))||void 0,pt=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{C.addEventListener("test",I,e),C.removeEventListener("test",I,e)}catch(n){}return t}();function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function mt(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(at){t:{try{$(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mt.Z.h.call(this)}}vt.prototype.h=function(){this.defaultPrevented=!0},D(mt,vt);var gt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function _t(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++bt,this.ca=this.fa=!1}function wt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function kt(t){this.src=t,this.g={},this.h=0}function Et(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=F(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(wt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function St(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}kt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=St(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new _t(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Ct="closure_lm_"+(1e6*Math.random()|0),It={};function Tt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Mt(r),e&&e[yt]?e.O(n,r,x(i)?!!i.capture:!!i,o):xt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Tt(t,e[o],n,r,i);return null}return n=Mt(n),t&&t[yt]?t.N(e,n,x(r)?!!r.capture:!!r,i):xt(t,e,n,!1,r,i)}function xt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=x(i)?!!i.capture:!!i,s=Pt(t);if(s||(t[Ct]=s=new kt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Rt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ot(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function At(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[yt])Et(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ot(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pt(e))?(Et(n,t),0==n.h&&(n.src=null,e[Ct]=null)):wt(t)}}}function Ot(t){return t in It?It[t]:It[t]="on"+t}function Rt(t,e){if(t.ca)t=!0;else{e=new mt(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&At(t),t=n.call(r,e)}return t}function Pt(t){return(t=t[Ct])instanceof kt?t:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(t){return"function"==typeof t?t:(t[Nt]||(t[Nt]=function(e){return t.handleEvent(e)}),t[Nt])}function Dt(){L.call(this),this.i=new kt(this),this.P=this,this.I=null}function Lt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new vt(e,t);else if(e instanceof vt)e.target=e.target||t;else{var i=e;J(e=new vt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=jt(a,r,!0,e)&&i}if(i=jt(a=e.g=t,r,!0,e)&&i,i=jt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=jt(a=e.g=n[o],r,!1,e)&&i}function jt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Et(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}D(Dt,L),Dt.prototype[yt]=!0,Dt.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=x(i)?!!i.capture:!!i,r=Mt(r),e&&e[yt]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=St(a=e.g[n],r,i,o))&&(wt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[n],e.h--))):e&&(e=Pt(e))&&(n=e.g[n.toString()],e=-1,n&&(e=St(n,r,i,o)),(r=-1<e?n[e]:null)&&At(r))}(this,t,e,n,r)},Dt.prototype.M=function(){if(Dt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wt(n[r]);delete e.g[t],e.h--}}this.I=null},Dt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ft=C.JSON.stringify;function Ut(){var t=Kt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Bt,zt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=qt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),qt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new Vt}),(function(t){return t.reset()})),Vt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ht(t){C.setTimeout((function(){throw t}),0)}function Gt(t,e){Bt||function(){var t=C.Promise.resolve(void 0);Bt=function(){t.then(Yt)}}(),Wt||(Bt(),Wt=!0),Kt.add(t,e)}var Wt=!1,Kt=new zt;function Yt(){for(var t;t=Ut();){try{t.h.call(t.g)}catch(n){Ht(n)}var e=qt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wt=!1}function Zt(t,e){Dt.call(this),this.h=t||1,this.g=e||C,this.j=N(this.kb,this),this.l=Date.now()}function Qt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Xt(t,e,n){if("function"==typeof t)n&&(t=N(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=N(t.handleEvent,t)}return 2147483647<Number(e)?-1:C.setTimeout(t,e||0)}function Jt(t){t.g=Xt((function(){t.g=null,t.i&&(t.i=!1,Jt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}D(Zt,Dt),(k=Zt.prototype).da=!1,k.S=null,k.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lt(this,"tick"),this.da&&(Qt(this),this.start()))}},k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.M=function(){Zt.Z.M.call(this),Qt(this),delete this.g};var $t=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Jt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(L);function te(t){L.call(this),this.h=t,this.g={}}D(te,L);var ee=[];function ne(t,e,n,r){Array.isArray(n)||(n&&(ee[0]=n.toString()),n=ee);for(var i=0;i<n.length;i++){var o=Tt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function re(t){Z(t.g,(function(t,e){this.g.hasOwnProperty(e)&&At(t)}),t),t.g={}}function ie(){this.g=!0}function oe(t,e,r,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var i=r[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<o.length;s++)o[s]=""}}}return Ft(r)}catch(n){return e}}(t,r)+(i?" "+i:"")}))}te.prototype.M=function(){te.Z.M.call(this),re(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ie.prototype.Aa=function(){this.g=!1},ie.prototype.info=function(){};var ae={},se=null;function ue(){return se=se||new Dt}function ce(t){vt.call(this,ae.Ma,t)}function le(t){var e=ue();Lt(e,new ce(e,t))}function he(t,e){vt.call(this,ae.STAT_EVENT,t),this.stat=e}function fe(t){var e=ue();Lt(e,new he(e,t))}function de(t,e){vt.call(this,ae.Na,t),this.size=e}function pe(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return C.setTimeout((function(){t()}),e)}ae.Ma="serverreachability",D(ce,vt),ae.STAT_EVENT="statevent",D(he,vt),ae.Na="timingevent",D(de,vt);var ve={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},me={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ge(){}function ye(){}ge.prototype.h=null;var be,_e={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function we(){vt.call(this,"d")}function ke(){vt.call(this,"c")}function Ee(){}function Se(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new te(this),this.P=Ie,this.W=new Zt(t=ot?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}D(we,vt),D(ke,vt),D(Ee,ge),Ee.prototype.g=function(){return new XMLHttpRequest},Ee.prototype.i=function(){return{}},be=new Ee;var Ie=45e3,Te={},xe={};function Ae(t,e,n){t.K=1,t.v=Je(We(e)),t.s=n,t.U=!0,Oe(t,null)}function Oe(t,e){t.F=Date.now(),Me(t),t.A=We(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),fn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Ce,t.g=dr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new $t(N(t.Ia,t,t.g),t.O)),ne(t.V,t.g,"readystatechange",t.gb),e=t.H?Q(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),le(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Re(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Pe(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ne(t,n))==xe){4==e&&(t.o=4,fe(14),i=!1),oe(t.j,t.m,null,"[Incomplete Response]");break}if(r==Te){t.o=4,fe(15),oe(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}oe(t.j,t.m,r,null),Ue(t,r)}Re(t)&&r!=xe&&r!=Te&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fe(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),or(e),e.L=!0,fe(11))):(oe(t.j,t.m,n,"[Invalid Chunked Response]"),Fe(t),je(t))}function Ne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?xe:(n=Number(e.substring(n,r)),isNaN(n)?Te:(r+=1)+n>e.length?xe:(e=e.substr(r,n),t.C=r+n,e))}function Me(t){t.Y=Date.now()+t.P,De(t,t.P)}function De(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=pe(N(t.eb,t),e)}function Le(t){t.B&&(C.clearTimeout(t.B),t.B=null)}function je(t){0==t.l.G||t.I||ur(t.l,t)}function Fe(t){Le(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Qt(t.W),re(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ue(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||bn(n.i,t)))if(n.I=t.N,!t.J&&bn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;sr(n),Qn(n)}ir(n),fe(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pe(N(n.ab,n),6e3));if(1>=yn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else lr(n,11)}else if((t.J||n.g==t)&&sr(n),!q(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(G(l,"spdy")||G(l,"quic")||G(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(_n(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Xe(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=fr(r,r.H?r.la:null,r.W),d.J){wn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Le(p),Me(p)),r.g=d}else rr(r);0<n.l.length&&$n(n)}else"stop"!=o[0]&&"close"!=o[0]||lr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?lr(n,7):Zn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}le(4)}catch(o){}}function Be(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(T(t)||"string"==typeof t)U(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(T(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(T(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ze(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ze)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ve(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ve(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(k=Se.prototype).setTimeout=function(t){this.P=t},k.gb=function(t){t=t.target;var e=this.L;e&&3==Hn(t)?e.l():this.Ia(t)},k.Ia=function(t){try{if(t==this.g)t:{var e=Hn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||ot||this.g&&(this.h.h||this.g.ga()||Gn(this.g)))){this.I||4!=e||7==n||le(8==n||0>=r?3:2),Le(this);var i=this.g.ba();this.N=i;e:if(Re(this)){var o=Gn(this.g);t="";var a=o.length,s=4==Hn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fe(this),je(this);var u="";break e}this.h.i=new C.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,fe(12),Fe(this),je(this);break t}oe(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ue(this,i)}this.U?(Pe(this,e,u),ot&&this.i&&3==e&&(ne(this.V,this.W,"tick",this.fb),this.W.start())):(oe(this.j,this.m,u,null),Ue(this,u)),4==e&&Fe(this),this.i&&!this.I&&(4==e?ur(this.l,this):(this.i=!1,Me(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,fe(12)):(this.o=0,fe(13)),Fe(this),je(this)}}}catch(e){}},k.fb=function(){if(this.g){var t=Hn(this.g),e=this.g.ga();this.C<e.length&&(Le(this),Pe(this,t,e),this.i&&4!=t&&Me(this))}},k.cancel=function(){this.I=!0,Fe(this)},k.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(le(3),fe(17)),Fe(this),this.o=2,je(this)):De(this,this.Y-t)},(k=ze.prototype).R=function(){qe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},k.T=function(){return qe(this),this.g.concat()},k.get=function(t,e){return Ve(this.h,t)?this.h[t]:e},k.set=function(t,e){Ve(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},k.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var He=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ge(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ge){this.g=void 0!==e?e:t.g,Ke(this,t.j),this.s=t.s,Ye(this,t.i),Ze(this,t.m),this.l=t.l,e=t.h;var n=new un;n.i=e.i,e.g&&(n.g=new ze(e.g),n.h=e.h),Qe(this,n),this.o=t.o}else t&&(n=String(t).match(He))?(this.g=!!e,Ke(this,n[1]||"",!0),this.s=$e(n[2]||""),Ye(this,n[3]||"",!0),Ze(this,n[4]),this.l=$e(n[5]||"",!0),Qe(this,n[6]||"",!0),this.o=$e(n[7]||"")):(this.g=!!e,this.h=new un(null,this.g))}function We(t){return new Ge(t)}function Ke(t,e,n){t.j=n?$e(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ye(t,e,n){t.i=n?$e(e,!0):e}function Ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Qe(t,e,n){e instanceof un?(t.h=e,function(t,e){e&&!t.j&&(cn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ln(this,e),fn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=tn(e,an)),t.h=new un(e,t.g))}function Xe(t,e,n){t.h.set(e,n)}function Je(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $e(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,en),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function en(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ge.prototype.toString=function(){var t=[],e=this.j;e&&t.push(tn(e,nn,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(tn(e,nn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(tn(n,"/"==n.charAt(0)?on:rn,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",tn(n,sn)),t.join("")};var nn=/[#\/\?@]/g,rn=/[#\?:]/g,on=/[#\?]/g,an=/[#\?@]/g,sn=/#/g;function un(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function cn(t){t.g||(t.g=new ze,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ln(t,e){cn(t),e=dn(t,e),Ve(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ve((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&qe(t)))}function hn(t,e){return cn(t),e=dn(t,e),Ve(t.g.h,e)}function fn(t,e,n){ln(t,e),0<n.length&&(t.i=null,t.g.set(dn(t,e),z(n)),t.h+=n.length)}function dn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(k=un.prototype).add=function(t,e){cn(this),this.i=null,t=dn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){cn(this),this.g.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},k.T=function(){cn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},k.R=function(t){cn(this);var e=[];if("string"==typeof t)hn(this,t)&&(e=B(e,this.g.get(dn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=B(e,t[n])}return e},k.set=function(t,e){return cn(this),this.i=null,hn(this,t=dn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var pn=function(t,e){this.h=t,this.g=e};function vn(t){this.l=t||mn,t=C.PerformanceNavigationTiming?0<(t=C.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(C.g&&C.g.Ea&&C.g.Ea()&&C.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mn=10;function gn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function yn(t){return t.h?1:t.g?t.g.size:0}function bn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function _n(t,e){t.g?t.g.add(e):t.h=e}function wn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function kn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=w(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return z(t.i)}function En(){}function Sn(){this.g=new En}function Cn(t,e,n){var r=n||"";try{Be(t,(function(t,n){var i=t;x(t)&&(i=Ft(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Pd){throw e.push(r+"type="+encodeURIComponent("_badmap")),Pd}}function In(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Tn(t){this.l=t.$b||null,this.j=t.ib||!1}function xn(t,e){Dt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=An,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vn.prototype.cancel=function(){var t,e;if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=w(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},En.prototype.stringify=function(t){return C.JSON.stringify(t,void 0)},En.prototype.parse=function(t){return C.JSON.parse(t,void 0)},D(Tn,ge),Tn.prototype.g=function(){return new xn(this.l,this.j)},Tn.prototype.i=function(t){return function(){return t}}({}),D(xn,Dt);var An=0;function On(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Rn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pn(t)}function Pn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=xn.prototype).open=function(t,e){if(this.readyState!=An)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pn(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||C).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rn(this)),this.readyState=An},k.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==C.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},k.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rn(this):Pn(this),3==this.readyState&&On(this)}},k.Ua=function(t){this.g&&(this.response=this.responseText=t,Rn(this))},k.Ta=function(t){this.g&&(this.response=t,Rn(this))},k.ha=function(){this.g&&Rn(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Nn=C.JSON.parse;function Mn(t){Dt.call(this),this.headers=new ze,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dn,this.K=this.L=!1}D(Mn,Dt);var Dn="",Ln=/^https?$/i,jn=["POST","PUT"];function Fn(t){return"content-type"==t.toLowerCase()}function Un(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Bn(t),qn(t)}function Bn(t){t.D||(t.D=!0,Lt(t,"complete"),Lt(t,"error"))}function zn(t){if(t.h&&void 0!==S&&(!t.C[1]||4!=Hn(t)||2!=t.ba()))if(t.v&&4==Hn(t))Xt(t.Fa,0,t);else if(Lt(t,"readystatechange"),4==Hn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(He)[1]||null;if(!o&&C.self&&C.self.location){var a=C.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ln.test(o?o.toLowerCase():"")}e=i}if(e)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var s=2<Hn(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",Bn(t)}}finally{qn(t)}}}function qn(t,e){if(t.g){Vn(t);var n=t.g,r=t.C[0]?I:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch(Pd){}}}function Vn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(C.clearTimeout(t.A),t.A=null)}function Hn(t){return t.g?t.g.readyState:0}function Gn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Dn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Z(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Xe(t,e,n))}function Kn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Yn(t){this.za=0,this.l=[],this.h=new ie,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kn("baseRetryDelayMs",5e3,t),this.$a=Kn("retryDelaySeedMs",1e4,t),this.Ya=Kn("forwardChannelMaxRetries",2,t),this.ra=Kn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new vn(t&&t.concurrentRequestLimit),this.Ca=new Sn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Zn(t){if(Xn(t),3==t.G){var e=t.V++,n=We(t.F);Xe(n,"SID",t.J),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),er(t,n),(e=new Se(t,t.h,e,void 0)).K=2,e.v=Je(We(n)),n=!1,C.navigator&&C.navigator.sendBeacon&&(n=C.navigator.sendBeacon(e.v.toString(),"")),!n&&C.Image&&((new Image).src=e.v,n=!0),n||(e.g=dr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Me(e)}hr(t)}function Qn(t){t.g&&(or(t),t.g.cancel(),t.g=null)}function Xn(t){Qn(t),t.u&&(C.clearTimeout(t.u),t.u=null),sr(t),t.i.cancel(),t.m&&("number"==typeof t.m&&C.clearTimeout(t.m),t.m=null)}function Jn(t,e){t.l.push(new pn(t.Za++,e)),3==t.G&&$n(t)}function $n(t){gn(t.i)||t.m||(t.m=!0,Gt(t.Ha,t),t.C=0)}function tr(t,e){var n;n=e?e.m:t.V++;var r=We(t.F);Xe(r,"SID",t.J),Xe(r,"RID",n),Xe(r,"AID",t.U),er(t,r),t.o&&t.s&&Wn(r,t.o,t.s),n=new Se(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=nr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),_n(t.i,n),Ae(n,r,e)}function er(t,e){t.j&&Be({},(function(t,n){Xe(e,n,t)}))}function nr(t,e,n){n=Math.min(t.l.length,n);var r=t.j?N(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Cn(l,a,"req"+c+"_")}catch(Gr){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function rr(t){t.g||t.u||(t.Y=1,Gt(t.Ga,t),t.A=0)}function ir(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=pe(N(t.Ga,t),cr(t,t.A)),t.A++,0))}function or(t){null!=t.B&&(C.clearTimeout(t.B),t.B=null)}function ar(t){t.g=new Se(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=We(t.oa);Xe(e,"RID","rpc"),Xe(e,"SID",t.J),Xe(e,"CI",t.N?"0":"1"),Xe(e,"AID",t.U),er(t,e),Xe(e,"TYPE","xmlhttp"),t.o&&t.s&&Wn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Je(We(e)),n.s=null,n.U=!0,Oe(n,t)}function sr(t){null!=t.v&&(C.clearTimeout(t.v),t.v=null)}function ur(t,e){var n=null;if(t.g==e){sr(t),or(t),t.g=null;var r=2}else{if(!bn(t.i,e))return;n=e.D,wn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Lt(r=ue(),new de(r,n,e,i)),$n(t)}else rr(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(yn(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=pe(N(t.Ha,t,e),cr(t,t.C)),t.C++,0)))}(t,e)||2==r&&ir(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:lr(t,5);break;case 4:lr(t,10);break;case 3:lr(t,6);break;default:lr(t,2)}}function cr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function lr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=N(t.jb,t);n||(n=new Ge("//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||Ke(n,"https"),Je(n)),function(t,e){var n=new ie;if(C.Image){var r=new Image;r.onload=M(In,n,r,"TestLoadImage: loaded",!0,e),r.onerror=M(In,n,r,"TestLoadImage: error",!1,e),r.onabort=M(In,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=M(In,n,r,"TestLoadImage: timeout",!1,e),C.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else fe(2);t.G=0,t.j&&t.j.va(e),hr(t),Xn(t)}function hr(t){t.G=0,t.I=-1,t.j&&(0==kn(t.i).length&&0==t.l.length||(t.i.i.length=0,z(t.l),t.l.length=0),t.j.ua())}function fr(t,e,n){var r=function(t){return t instanceof Ge?We(t):new Ge(t,void 0)}(n);if(""!=r.i)e&&Ye(r,e+"."+r.i),Ze(r,r.m);else{var i=C.location;r=function(t,e,n,r){var i=new Ge(null,void 0);return t&&Ke(i,t),e&&Ye(i,e),n&&Ze(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Z(t.aa,(function(t,e){Xe(r,e,t)})),n=t.sa,(e=t.D)&&n&&Xe(r,e,n),Xe(r,"VER",t.ma),er(t,r),r}function dr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mn(n&&t.Ba&&!t.qa?new Tn({ib:!0}):t.qa)).L=t.H,e}function pr(){}function vr(){if(rt&&!(10<=Number(dt)))throw Error("Environmental error: no available transport.")}function mr(t,e){Dt.call(this),this.g=new Yn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!q(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!q(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new br(this)}function gr(t){we.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function yr(){ke.call(this),this.status=1}function br(t){this.g=t}(k=Mn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():be.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:be),this.g.onreadystatechange=N(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Un(this,o)}t=n||"";var i=new ze(this.headers);r&&Be(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Fn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=C.FormData&&t instanceof C.FormData,!(0<=F(jn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vn(this),0<this.B&&((this.K=function(t){return rt&&function(){return t=ft,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=H(String(tt)).split("."),n=H("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=W(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||W(0==o[2].length,0==a[2].length)||W(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=N(this.pa,this)):this.A=Xt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Un(this,o)}},k.pa=function(){void 0!==S&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),qn(this))},k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qn(this,!0)),Mn.Z.M.call(this)},k.Fa=function(){this.s||(this.F||this.v||this.l?zn(this):this.cb())},k.cb=function(){zn(this)},k.ba=function(){try{return 2<Hn(this)?this.g.status:-1}catch(et){return-1}},k.ga=function(){try{return this.g?this.g.responseText:""}catch(et){return""}},k.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Nn(e)}},k.Da=function(){return this.m},k.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=Yn.prototype).ma=8,k.G=1,k.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},k.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Se(this,this.h,t,void 0),n=this.s;if(this.P&&(n?J(n=Q(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=nr(this,e,r),Xe(i=We(this.F),"RID",t),Xe(i,"CVER",22),this.D&&Xe(i,"X-HTTP-Session-Id",this.D),er(this,i),this.o&&n&&Wn(i,this.o,n),_n(this.i,e),this.Ra&&Xe(i,"TYPE","init"),this.ja?(Xe(i,"$req",r),Xe(i,"SID","null"),e.$=!0,Ae(e,i,null)):Ae(e,i,r),this.G=2}}else 3==this.G&&(t?tr(this,t):0==this.l.length||gn(this.i)||tr(this))},k.Ga=function(){if(this.u=null,ar(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=pe(N(this.bb,this),t)}},k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fe(10),Qn(this),ar(this))},k.ab=function(){null!=this.v&&(this.v=null,Qn(this),ir(this),fe(19))},k.jb=function(t){t?(this.h.info("Successfully pinged google.com"),fe(2)):(this.h.info("Failed to ping google.com"),fe(1))},(k=pr.prototype).xa=function(){},k.wa=function(){},k.va=function(){},k.ua=function(){},k.Oa=function(){},vr.prototype.g=function(t,e){return new mr(t,e)},D(mr,Dt),mr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Gt(N(t.hb,t,e))),fe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=fr(t,null,t.W),$n(t)},mr.prototype.close=function(){Zn(this.g)},mr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Jn(this.g,e)}else this.v?((e={}).__data__=Ft(t),Jn(this.g,e)):Jn(this.g,t)},mr.prototype.M=function(){this.g.j=null,delete this.j,Zn(this.g),delete this.g,mr.Z.M.call(this)},D(gr,we),D(yr,ke),D(br,pr),br.prototype.xa=function(){Lt(this.g,"a")},br.prototype.wa=function(t){Lt(this.g,new gr(t))},br.prototype.va=function(t){Lt(this.g,new yr(t))},br.prototype.ua=function(){Lt(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,mr.prototype.send=mr.prototype.u,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,me.COMPLETE="complete",ye.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",Dt.prototype.listen=Dt.prototype.N,Mn.prototype.listenOnce=Mn.prototype.O,Mn.prototype.getLastError=Mn.prototype.La,Mn.prototype.getLastErrorCode=Mn.prototype.Da,Mn.prototype.getStatus=Mn.prototype.ba,Mn.prototype.getResponseJson=Mn.prototype.Qa,Mn.prototype.getResponseText=Mn.prototype.ga,Mn.prototype.send=Mn.prototype.ea;var _r=ve,wr=me,kr=ae,Er=Tn,Sr=ye,Cr=Mn,Ir=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ir.o=-1;var Tr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return p(e,t),e}(Error),Ar=new b.b("@firebase/firestore");function Or(){return Ar.logLevel}function Rr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ar.logLevel<=b.a.DEBUG){var r=e.map(Mr);Ar.debug.apply(Ar,g(["Firestore (8.10.1): "+t],r))}}function Pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ar.logLevel<=b.a.ERROR){var r=e.map(Mr);Ar.error.apply(Ar,g(["Firestore (8.10.1): "+t],r))}}function Nr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ar.logLevel<=b.a.WARN){var r=e.map(Mr);Ar.warn.apply(Ar,g(["Firestore (8.10.1): "+t],r))}}function Mr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Pd){return t}}function Dr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Pr(e),new Error(e)}function Lr(t,e){t||Dr()}function jr(t,e){return t}function Fr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ur=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Fr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Br(t,e){return t<e?-1:t>e?1:0}function zr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function qr(t){return t+"\0"}var Vr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xr(Tr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xr(Tr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xr(Tr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xr(Tr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Br(this.nanoseconds,t.nanoseconds):Br(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Hr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Vr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Gr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Yr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Dr(),void 0===n?n=t.length-e:n>t.length-e&&Dr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new xr(Tr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Yr),Qr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Qr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new xr(Tr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new xr(Tr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xr(Tr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new xr(Tr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Yr),Jr=function(){function t(t){this.fields=t,t.sort(Xr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return zr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),$r=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Br(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();$r.EMPTY_BYTE_STRING=new $r("");var ti=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Lr(!!t),"string"==typeof t){var e=0,n=ti.exec(t);if(Lr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ni(t.seconds),nanos:ni(t.nanos)}}function ni(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ri(t){return"string"==typeof t?$r.fromBase64String(t):$r.fromUint8Array(t)}function ii(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oi(t){var e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Vr(e.seconds,e.nanos)}function ai(t){return null==t}function si(t){return 0===t&&1/t==-1/0}function ui(t){return"number"==typeof t&&Number.isInteger(t)&&!si(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ci=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Zr.fromString(e))},t.fromName=function(e){return new t(Zr.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Zr.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Zr.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Zr(e.slice()))},t}();function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ii(t)?4:10:Dr()}function hi(t,e){var n=li(t);if(n!==li(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oi(t).isEqual(oi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ei(t.timestampValue),r=ei(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ri(t.bytesValue).isEqual(ri(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ni(t.geoPointValue.latitude)===ni(e.geoPointValue.latitude)&&ni(t.geoPointValue.longitude)===ni(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ni(t.integerValue)===ni(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ni(t.doubleValue),r=ni(e.doubleValue);return n===r?si(n)===si(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return zr(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Gr(n)!==Gr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hi(n[i],r[i])))return!1;return!0}(t,e);default:return Dr()}}function fi(t,e){return void 0!==(t.values||[]).find((function(t){return hi(t,e)}))}function di(t,e){var n=li(t),r=li(e);if(n!==r)return Br(n,r);switch(n){case 0:return 0;case 1:return Br(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ni(t.integerValue||t.doubleValue),r=ni(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return pi(t.timestampValue,e.timestampValue);case 4:return pi(oi(t),oi(e));case 5:return Br(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ri(t),r=ri(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Br(n[i],r[i]);if(0!==o)return o}return Br(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Br(ni(t.latitude),ni(e.latitude));return 0!==n?n:Br(ni(t.longitude),ni(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=di(n[i],r[i]);if(o)return o}return Br(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Br(r[a],o[a]);if(0!==s)return s;var u=di(n[r[a]],i[o[a]]);if(0!==u)return u}return Br(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Dr()}}function pi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Br(t,e);var n=ei(t),r=ei(e),i=Br(n.seconds,r.seconds);return 0!==i?i:Br(n.nanos,r.nanos)}function vi(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ei(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ri(e.bytesValue).toBase64():"referenceValue"in e?ci.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Dr();var n}(t)}function mi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function gi(t){return!!t&&"integerValue"in t}function yi(t){return!!t&&"arrayValue"in t}function bi(t){return!!t&&"nullValue"in t}function _i(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wi(t){return!!t&&"mapValue"in t}function ki(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=ki(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ki(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Ei=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!wi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ki(e)},t.prototype.setAll=function(t){var e=this,n=Xr.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=ki(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());wi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return hi(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];wi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Wr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(ki(this.value))},t}();function Si(t){var e=[];return Wr(t.fields,(function(t,n){var r=new Xr([t]);if(wi(n)){var i=Si(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new Jr(e)}var Ci=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Hr.min(),Ei.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ei.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ei.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ii=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ti(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ii(t,e,n,r,i,o,a)}function xi(t){var e=jr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+vi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),ai(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=zi(e.startAt)),e.endAt&&(n+="|ub:",n+=zi(e.endAt)),e.h=n}return e.h}function Ai(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!hi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gi(t.startAt,e.startAt)&&Gi(t.endAt,e.endAt)}function Oi(t){return ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ri=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return p(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Pi(t,n,r):"array-contains"===n?new Li(t,r):"in"===n?new ji(t,r):"not-in"===n?new Fi(t,r):"array-contains-any"===n?new Ui(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ni(t,n):new Mi(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(di(e,this.value)):null!==e&&li(this.value)===li(e)&&this.m(di(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Dr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Pi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ci.fromName(r.referenceValue),i}return p(e,t),e.prototype.matches=function(t){var e=ci.comparator(t.key,this.key);return this.m(e)},e}(Ri),Ni=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Di(0,n),r}return p(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ri),Mi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Di(0,n),r}return p(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ri);function Di(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ci.fromName(t.referenceValue)}))}var Li=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return p(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return yi(e)&&fi(e.arrayValue,this.value)},e}(Ri),ji=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return p(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&fi(this.value.arrayValue,e)},e}(Ri),Fi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return p(e,t),e.prototype.matches=function(t){if(fi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!fi(this.value.arrayValue,e)},e}(Ri),Ui=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return p(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!yi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return fi(e.value.arrayValue,t)}))},e}(Ri),Bi=function(t,e){this.position=t,this.before=e};function zi(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return vi(t)})).join(",")}var qi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?ci.comparator(ci.fromName(a.referenceValue),n.key):di(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}var Wi=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Ki(t,e,n,r,i,o,a,s){return new Wi(t,e,n,r,i,o,a,s)}function Yi(t){return new Wi(t)}function Zi(t){return!ai(t.limit)&&"F"===t.limitType}function Qi(t){return!ai(t.limit)&&"L"===t.limitType}function Xi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ji(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function $i(t){return null!==t.collectionGroup}function to(t){var e=jr(t);if(null===e.p){e.p=[];var n=Ji(e),r=Xi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qi(n)),e.p.push(new qi(Xr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qi(Xr.keyField(),u))}}}return e.p}function eo(t){var e=jr(t);if(!e.T)if("F"===e.limitType)e.T=Ti(e.path,e.collectionGroup,to(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=to(e);r<i.length;r++){var o=i[r];n.push(new qi(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Bi(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Bi(e.startAt.position,!e.startAt.before):null;e.T=Ti(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function no(t,e,n){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ro(t,e){return Ai(eo(t),eo(e))&&t.limitType===e.limitType}function io(t){return xi(eo(t))+"|lt:"+t.limitType}function oo(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+vi(e.value);var e})).join(", ")+"]"),ai(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+zi(t.startAt)),t.endAt&&(e+=", endAt: "+zi(t.endAt)),"Target("+e+")"}(eo(t))+"; limitType="+t.limitType+")"}function ao(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ci.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hi(t.startAt,to(t),e)||t.endAt&&Hi(t.endAt,to(t),e))}(t,e)}function so(t){return function(e,n){for(var r=!1,i=0,o=to(t);i<o.length;i++){var a=o[i],s=uo(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function uo(t,e,n){var r=t.field.isKeyField()?ci.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?di(r,i):Dr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dr()}}function co(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:si(e)?"-0":e}}function lo(t){return{integerValue:""+t}}function ho(t,e){return ui(e)?lo(e):co(t,e)}var fo=function(){this._=void 0};function po(t,e,n){return t instanceof go?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof yo?bo(t,e):t instanceof _o?wo(t,e):function(t,e){var n=mo(t,e),r=Eo(n)+Eo(t.A);return gi(n)&&gi(t.A)?lo(r):co(t.R,r)}(t,e)}function vo(t,e,n){return t instanceof yo?bo(t,e):t instanceof _o?wo(t,e):n}function mo(t,e){return t instanceof ko?gi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e}(fo),yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return p(e,t),e}(fo);function bo(t,e){for(var n=So(e),r=function(t){n.some((function(e){return hi(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _o=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return p(e,t),e}(fo);function wo(t,e){for(var n=So(e),r=function(t){n=n.filter((function(e){return!hi(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ko=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return p(e,t),e}(fo);function Eo(t){return ni(t.integerValue||t.doubleValue)}function So(t){return yi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Co=function(t,e){this.field=t,this.transform=e},Io=function(t,e){this.version=t,this.transformResults=e},To=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function xo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Ao=function(){};function Oo(t,e,n){t instanceof Do?function(t,e,n){var r=t.value.clone(),i=Fo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Lo?function(t,e,n){if(xo(t.precondition,e)){var r=Fo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(jo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Ro(t,e,n){t instanceof Do?function(t,e,n){if(xo(t.precondition,e)){var r=t.value.clone(),i=Uo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Mo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Lo?function(t,e,n){if(xo(t.precondition,e)){var r=Uo(t.fieldTransforms,n,e),i=e.data;i.setAll(jo(t)),i.setAll(r),e.convertToFoundDocument(Mo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){xo(t.precondition,e)&&e.convertToNoDocument(Hr.min())}(t,e)}function Po(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=mo(o.transform,a||null);null!=s&&(null==n&&(n=Ei.empty()),n.set(o.field,s))}return n||null}function No(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&zr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof yo&&e instanceof yo||t instanceof _o&&e instanceof _o?zr(t.elements,e.elements,hi):t instanceof ko&&e instanceof ko?hi(t.A,e.A):t instanceof go&&e instanceof go}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Mo(t){return t.isFoundDocument()?t.version:Hr.min()}var Do=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return p(e,t),e}(Ao),Lo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return p(e,t),e}(Ao);function jo(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Fo(t,e,n){var r=new Map;Lr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,vo(a,s,n[i]))}return r}function Uo(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,po(s,u,e))}return r}var Bo,zo,qo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return p(e,t),e}(Ao),Vo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return p(e,t),e}(Ao),Ho=function(t){this.count=t};function Go(t){switch(t){case Tr.OK:return Dr();case Tr.CANCELLED:case Tr.UNKNOWN:case Tr.DEADLINE_EXCEEDED:case Tr.RESOURCE_EXHAUSTED:case Tr.INTERNAL:case Tr.UNAVAILABLE:case Tr.UNAUTHENTICATED:return!1;case Tr.INVALID_ARGUMENT:case Tr.NOT_FOUND:case Tr.ALREADY_EXISTS:case Tr.PERMISSION_DENIED:case Tr.FAILED_PRECONDITION:case Tr.ABORTED:case Tr.OUT_OF_RANGE:case Tr.UNIMPLEMENTED:case Tr.DATA_LOSS:return!0;default:return Dr()}}function Wo(t){if(void 0===t)return Pr("GRPC error has no .code"),Tr.UNKNOWN;switch(t){case Bo.OK:return Tr.OK;case Bo.CANCELLED:return Tr.CANCELLED;case Bo.UNKNOWN:return Tr.UNKNOWN;case Bo.DEADLINE_EXCEEDED:return Tr.DEADLINE_EXCEEDED;case Bo.RESOURCE_EXHAUSTED:return Tr.RESOURCE_EXHAUSTED;case Bo.INTERNAL:return Tr.INTERNAL;case Bo.UNAVAILABLE:return Tr.UNAVAILABLE;case Bo.UNAUTHENTICATED:return Tr.UNAUTHENTICATED;case Bo.INVALID_ARGUMENT:return Tr.INVALID_ARGUMENT;case Bo.NOT_FOUND:return Tr.NOT_FOUND;case Bo.ALREADY_EXISTS:return Tr.ALREADY_EXISTS;case Bo.PERMISSION_DENIED:return Tr.PERMISSION_DENIED;case Bo.FAILED_PRECONDITION:return Tr.FAILED_PRECONDITION;case Bo.ABORTED:return Tr.ABORTED;case Bo.OUT_OF_RANGE:return Tr.OUT_OF_RANGE;case Bo.UNIMPLEMENTED:return Tr.UNIMPLEMENTED;case Bo.DATA_LOSS:return Tr.DATA_LOSS;default:return Dr()}}(zo=Bo||(Bo={}))[zo.OK=0]="OK",zo[zo.CANCELLED=1]="CANCELLED",zo[zo.UNKNOWN=2]="UNKNOWN",zo[zo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zo[zo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zo[zo.NOT_FOUND=5]="NOT_FOUND",zo[zo.ALREADY_EXISTS=6]="ALREADY_EXISTS",zo[zo.PERMISSION_DENIED=7]="PERMISSION_DENIED",zo[zo.UNAUTHENTICATED=16]="UNAUTHENTICATED",zo[zo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zo[zo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zo[zo.ABORTED=10]="ABORTED",zo[zo.OUT_OF_RANGE=11]="OUT_OF_RANGE",zo[zo.UNIMPLEMENTED=12]="UNIMPLEMENTED",zo[zo.INTERNAL=13]="INTERNAL",zo[zo.UNAVAILABLE=14]="UNAVAILABLE",zo[zo.DATA_LOSS=15]="DATA_LOSS";var Ko=function(){function t(t,e){this.comparator=t,this.root=e||Zo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Yo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Yo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Yo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Yo(this.root,t,this.comparator,!0)},t}(),Yo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Zo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Dr();if(this.right.isRed())throw Dr();var t=this.left.check();if(t!==this.right.check())throw Dr();return t+(this.isRed()?0:1)},t}();Zo.EMPTY=null,Zo.RED=!0,Zo.BLACK=!1,Zo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Dr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Zo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Qo=function(){function t(t){this.comparator=t,this.data=new Ko(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Xo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Xo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Xo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Jo=new Ko(ci.comparator);function $o(){return Jo}var ta=new Ko(ci.comparator);function ea(){return ta}var na=new Ko(ci.comparator);function ra(){return na}var ia=new Qo(ci.comparator);function oa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ia,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var aa=new Qo(Br);function sa(){return aa}var ua=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Hr.min(),r,sa(),$o(),oa())},t}(),ca=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t($r.EMPTY_BYTE_STRING,n,oa(),oa(),oa())},t}(),la=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ha=function(t,e){this.targetId=t,this.V=e},fa=function(t,e,n,r){void 0===n&&(n=$r.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},da=function(){function t(){this.S=0,this.D=ma(),this.C=$r.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=oa(),e=oa(),n=oa();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Dr()}})),new ca(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=ma()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),pa=function(){function t(t){this.W=t,this.G=new Map,this.H=$o(),this.J=va(),this.Y=new Qo(Br)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Dr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Oi(i))if(0===n){var o=new ci(i.path);this.tt(e,o,Ci.newNoDocument(o,Hr.min()))}else Lr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Oi(o.target)){var a=new ci(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ci.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=oa();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ua(t,n,this.Y,this.H,r);return this.H=$o(),this.J=va(),this.Y=new Qo(Br),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new da,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Qo(Br),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Rr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new da),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function va(){return new Ko(ci.comparator)}function ma(){return new Ko(ci.comparator)}var ga={asc:"ASCENDING",desc:"DESCENDING"},ya={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ba=function(t,e){this.databaseId=t,this.I=e};function _a(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function wa(t,e){return t.I?e.toBase64():e.toUint8Array()}function ka(t,e){return _a(t,e.toTimestamp())}function Ea(t){return Lr(!!t),Hr.fromTimestamp(function(t){var e=ei(t);return new Vr(e.seconds,e.nanos)}(t))}function Sa(t,e){return function(t){return new Zr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ca(t){var e=Zr.fromString(t);return Lr(Ya(e)),e}function Ia(t,e){return Sa(t.databaseId,e.path)}function Ta(t,e){var n=Ca(e);if(n.get(1)!==t.databaseId.projectId)throw new xr(Tr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xr(Tr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ci(Ra(n))}function xa(t,e){return Sa(t.databaseId,e)}function Aa(t){var e=Ca(t);return 4===e.length?Zr.emptyPath():Ra(e)}function Oa(t){return new Zr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ra(t){return Lr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Pa(t,e,n){return{name:Ia(t,e),fields:n.value.mapValue.fields}}function Na(t,e,n){var r=Ta(t,e.name),i=Ea(e.updateTime),o=new Ei({mapValue:{fields:e.fields}}),a=Ci.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ma(t,e){var n;if(e instanceof Do)n={update:Pa(t,e.key,e.value)};else if(e instanceof qo)n={delete:Ia(t,e.key)};else if(e instanceof Lo)n={update:Pa(t,e.key,e.data),updateMask:Ka(e.fieldMask)};else{if(!(e instanceof Vo))return Dr();n={verify:Ia(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof go)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _o)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ko)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Dr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ka(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Dr()}(t,e.precondition)),n}function Da(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?To.updateTime(Ea(t.updateTime)):void 0!==t.exists?To.exists(t.exists):To.none()}(e.currentDocument):To.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Lr("REQUEST_TIME"===e.setToServerValue),n=new go):"appendMissingElements"in e?n=new yo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new _o(e.removeAllFromArray.values||[]):"increment"in e?n=new ko(t,e.increment):Dr();var r=Xr.fromServerFormat(e.fieldPath);return new Co(r,n)}(t,e)})):[];if(e.update){var i=Ta(t,e.update.name),o=new Ei({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Jr((t.fieldPaths||[]).map((function(t){return Xr.fromServerFormat(t)})))}(e.updateMask);return new Lo(i,o,a,n,r)}return new Do(i,o,n,r)}if(e.delete){var s=Ta(t,e.delete);return new qo(s,n)}if(e.verify){var u=Ta(t,e.verify);return new Vo(u,n)}return Dr()}function La(t,e){return{documents:[xa(t,e.path)]}}function ja(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=xa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xa(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(_i(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NAN"}};if(bi(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_i(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NAN"}};if(bi(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(t.field),op:qa(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Va(t.field),direction:za(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||ai(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Ua(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ua(e.endAt)),n}function Fa(t){var e=Aa(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Lr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Wa(e)]:void 0!==e.fieldFilter?[Ga(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Dr():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new qi(Ha(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ai(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ba(n.startAt));var l=null;return n.endAt&&(l=Ba(n.endAt)),Ki(e,i,s,a,u,"F",c,l)}function Ua(t){return{before:t.before,values:t.position}}function Ba(t){return new Bi(t.values||[],!!t.before)}function za(t){return ga[t]}function qa(t){return ya[t]}function Va(t){return{fieldPath:t.canonicalString()}}function Ha(t){return Xr.fromServerFormat(t.fieldPath)}function Ga(t){return Ri.create(Ha(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Dr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Wa(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ha(t.unaryFilter.field);return Ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ha(t.unaryFilter.field);return Ri.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ha(t.unaryFilter.field);return Ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ha(t.unaryFilter.field);return Ri.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Dr()}}function Ka(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ya(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Za(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Xa(e)),e=Qa(t.get(n),e);return Xa(e)}function Qa(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Xa(t){return t+"\x01\x01"}function Ja(t){var e=t.length;if(Lr(e>=2),2===e)return Lr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Zr.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Dr(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Dr()}o=a+2}return new Zr(r)}var $a=function(t,e){this.seconds=t,this.nanoseconds=e},ts=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ts.store="owner",ts.key="owner";var es=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};es.store="mutationQueues",es.keyPath="userId";var ns=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ns.store="mutations",ns.keyPath="batchId",ns.userMutationsIndex="userMutationsIndex",ns.userMutationsKeyPath=["userId","batchId"];var rs=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Za(e)]},t.key=function(t,e,n){return[t,Za(e),n]},t}();rs.store="documentMutations",rs.PLACEHOLDER=new rs;var is=function(t,e){this.path=t,this.readTime=e},os=function(t,e){this.path=t,this.version=e},as=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};as.store="remoteDocuments",as.readTimeIndex="readTimeIndex",as.readTimeIndexPath="readTime",as.collectionReadTimeIndex="collectionReadTimeIndex",as.collectionReadTimeIndexPath=["parentPath","readTime"];var ss=function(t){this.byteSize=t};ss.store="remoteDocumentGlobal",ss.key="remoteDocumentGlobalKey";var us=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};us.store="targets",us.keyPath="targetId",us.queryTargetsIndexName="queryTargetsIndex",us.queryTargetsKeyPath=["canonicalId","targetId"];var cs=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cs.store="targetDocuments",cs.keyPath=["targetId","path"],cs.documentTargetsIndex="documentTargetsIndex",cs.documentTargetsKeyPath=["path","targetId"];var ls=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ls.key="targetGlobalKey",ls.store="targetGlobal";var hs=function(t,e){this.collectionId=t,this.parent=e};hs.store="collectionParents",hs.keyPath=["collectionId","parent"];var fs=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};fs.store="clientMetadata",fs.keyPath="clientId";var ds=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ds.store="bundles",ds.keyPath="bundleId";var ps=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ps.store="namedQueries",ps.keyPath="name";var vs=g(g([],g(g([],g(g([],g(g([],[es.store,ns.store,rs.store,as.store,us.store,ts.store,ls.store,cs.store]),[fs.store])),[ss.store])),[hs.store])),[ds.store,ps.store]),ms="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gs=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ys=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},bs=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Dr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),_s=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new ys,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Es(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=xs(e.target.error);n.ft.reject(new Es(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Es(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Rr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Cs(e)},t}(),ws=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(y.j)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Rr("SimpleDb","Removing database:",t),Is(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(y.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return v(this,void 0,void 0,(function(){var e,n=this;return m(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Rr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Es(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new xr(Tr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Es(t,n))},i.onupgradeneeded=function(t){Rr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Rr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,a,s,u;return m(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return m(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=_s.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),bs.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Rr("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ks=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Is(this.Pt.delete())},t}(),Es=function(t){function e(e,n){var r=this;return(r=t.call(this,Tr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return p(e,t),e}(xr);function Ss(t){return"IndexedDbTransactionError"===t.name}var Cs=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Rr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Rr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Is(n)},t.prototype.add=function(t){return Rr("SimpleDb","ADD",this.store.name,t,t),Is(this.store.add(t))},t.prototype.get=function(t){var e=this;return Is(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Rr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Rr("SimpleDb","DELETE",this.store.name,t),Is(this.store.delete(t))},t.prototype.count=function(){return Rr("SimpleDb","COUNT",this.store.name),Is(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Rr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new bs((function(n,r){e.onerror=function(t){var e=xs(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new bs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ks(i),a=e(i.primaryKey,i.value,o);if(a instanceof bs){var s=a.catch((function(t){return o.done(),bs.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return bs.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Is(t){return new bs((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=xs(t.target.error);n(e)}}))}var Ts=!1;function xs(t){var e=ws._t(Object(y.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new xr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ts||(Ts=!0,setTimeout((function(){throw r}),0)),r}}return t}var As=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return p(e,t),e}(gs);function Os(t,e){var n=jr(t);return ws.It(n.Mt,e)}var Rs=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Oo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Ro(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Ro(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Hr.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),oa())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&zr(this.mutations,t.mutations,(function(t,e){return No(t,e)}))&&zr(this.baseMutations,t.baseMutations,(function(t,e){return No(t,e)}))},t}(),Ps=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Lr(e.mutations.length===r.length);for(var i=ra(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ns=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Hr.min()),void 0===o&&(o=Hr.min()),void 0===a&&(a=$r.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ms=function(t){this.Lt=t};function Ds(t,e){if(e.document)return Na(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ci.fromSegments(e.noDocument.path),r=Bs(e.noDocument.readTime),i=Ci.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ci.fromSegments(e.unknownDocument.path);return r=Bs(e.unknownDocument.version),Ci.newUnknownDocument(o,r)}return Dr()}function Ls(t,e,n){var r=js(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ia(t,e.key),fields:e.data.value.mapValue.fields,updateTime:_a(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new as(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Us(e.version);return a=e.hasCommittedMutations,new as(null,new is(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Us(e.version);return new as(new os(c,l),null,null,!0,r,i)}return Dr()}function js(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fs(t){var e=new Vr(t[0],t[1]);return Hr.fromTimestamp(e)}function Us(t){var e=t.toTimestamp();return new $a(e.seconds,e.nanoseconds)}function Bs(t){var e=new Vr(t.seconds,t.nanoseconds);return Hr.fromTimestamp(e)}function zs(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Da(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Da(t.Lt,e)})),o=Vr.fromMillis(e.localWriteTimeMs);return new Rs(e.batchId,o,n,i)}function qs(t){var e,n,r=Bs(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Bs(t.lastLimboFreeSnapshotVersion):Hr.min();return void 0!==t.query.documents?(Lr(1===(n=t.query).documents.length),e=eo(Yi(Aa(n.documents[0])))):e=function(t){return eo(Fa(t))}(t.query),new Ns(e,t.targetId,0,t.lastListenSequenceNumber,r,i,$r.fromBase64String(t.resumeToken))}function Vs(t,e){var n,r=Us(e.snapshotVersion),i=Us(e.lastLimboFreeSnapshotVersion);n=Oi(e.target)?La(t.Lt,e.target):ja(t.Lt,e.target);var o=e.resumeToken.toBase64();return new us(e.targetId,xi(e.target),r,o,e.sequenceNumber,i,n)}function Hs(t){var e=Fa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?no(e,e.limit,"L"):e}var Gs=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ws(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Bs(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ws(t).put({bundleId:(n=e).id,createTime:Us(Ea(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ks(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Hs(e.bundledQuery),readTime:Bs(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Ks(t).put(function(t){return{name:t.name,readTime:Us(Ea(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ws(t){return Os(t,ds.store)}function Ks(t){return Os(t,ps.store)}var Ys=function(){function t(){this.Bt=new Zs}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),bs.resolve()},t.prototype.getCollectionParents=function(t,e){return bs.resolve(this.Bt.getEntries(e))},t}(),Zs=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Qo(Zr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Qo(Zr.comparator)).toArray()},t}(),Qs=function(){function t(){this.qt=new Zs}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Za(i)};return Xs(t).put(o)}return bs.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[qr(e),""],!1,!0);return Xs(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ja(o.parent))}return n}))},t}();function Xs(t){return Os(t,hs.store)}var Js={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$s=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function tu(t,e,n){var r=t.store(ns.store),i=t.store(rs.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Lr(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=rs.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return bs.waitFor(o).next((function(){return c}))}function eu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Dr();e=t.noDocument}return JSON.stringify(e).length}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);var nu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Lr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(t).$t({index:ns.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ou(t),a=iu(t);return a.add({}).next((function(s){Lr("number"==typeof s);for(var u=new Rs(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ma(t.Lt,e)})),i=n.mutations.map((function(e){return Ma(t.Lt,e)}));return new ns(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Qo((function(t,e){return Br(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=rs.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,rs.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),bs.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return iu(t).get(e).next((function(t){return t?(Lr(t.userId===n.userId),zs(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?bs.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return iu(t).$t({index:ns.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Lr(e.batchId>=r),o=zs(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return iu(t).$t({index:ns.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(t).Nt(ns.userMutationsIndex,n).next((function(t){return t.map((function(t){return zs(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=rs.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ou(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[2],c=Ja(r[1]);if(s===n.userId&&e.path.isEqual(c))return iu(t).get(u).next((function(t){if(!t)throw Dr();Lr(t.userId===n.userId),o.push(zs(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Qo(Br),i=[];return e.forEach((function(e){var o=rs.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=ou(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[2],u=Ja(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),bs.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=rs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Qo(Br);return ou(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[2],c=Ja(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(iu(t).get(e).next((function(t){if(null===t)throw Dr();Lr(t.userId===n.userId),r.push(zs(n.R,t))})))})),bs.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return tu(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),bs.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return bs.resolve();var r=IDBKeyRange.lowerBound(rs.prefixForUser(e.userId)),i=[];return ou(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ja(t[1]);i.push(o)}else r.done()})).next((function(){Lr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ru(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return au(t).get(this.userId).next((function(t){return t||new es(e.userId,-1,"")}))},t}();function ru(t,e,n){var r=rs.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ou(t).$t({range:o,Ft:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function iu(t){return Os(t,ns.store)}function ou(t){return Os(t,rs.store)}function au(t){return Os(t,es.store)}var su=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),uu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new su(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Hr.fromTimestamp(new Vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return cu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Lr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return cu(t).$t((function(a,s){var u=qs(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return bs.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return cu(t).$t((function(t,n){var r=qs(n);e(r)}))},t.prototype.Xt=function(t){return lu(t).get(ls.key).next((function(t){return Lr(null!==t),t}))},t.prototype.Zt=function(t,e){return lu(t).put(ls.key,e)},t.prototype.te=function(t,e){return cu(t).put(Vs(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=xi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cu(t).$t({range:r,index:us.queryTargetsIndexName},(function(t,n,r){var o=qs(n);Ai(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=hu(t);return e.forEach((function(e){var a=Za(e.path);i.push(o.put(new cs(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),bs.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=hu(t);return bs.forEach(e,(function(e){var o=Za(e.path);return bs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=hu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hu(t),i=oa();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Ja(t[1]),o=new ci(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Za(e.path),r=IDBKeyRange.bound([n],[qr(n)],!1,!0),i=0;return hu(t).$t({index:cs.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return cu(t).get(e).next((function(t){return t?qs(t):null}))},t}();function cu(t){return Os(t,us.store)}function lu(t){return Os(t,ls.store)}function hu(t){return Os(t,cs.store)}function fu(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){if(t.code!==Tr.FAILED_PRECONDITION||t.message!==ms)throw t;return Rr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function du(t,e){var n=t[1],r=e[1],i=Br(t[0],e[0]);return 0===i?Br(n,r):i}var pu=function(){function t(t){this.ne=t,this.buffer=new Qo(du),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();du(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Rr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return v(e,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ss(e=n.sent())?(Rr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,fu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),mu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return bs.resolve(Ir.o);var r=new pu(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Rr("LruGarbageCollector","Garbage collection skipped; disabled"),bs.resolve(Js)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Rr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Js):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Rr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Or()<=b.a.DEBUG&&Rr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),bs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),gu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new mu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return yu(t,n)},t.prototype.removeReference=function(t,e,n){return yu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return yu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return au(t).Ot((function(r){return ru(t,r,e).next((function(t){return t&&(n=!0),bs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),hu(t).delete([0,Za(a.path)])}))}));i.push(u)}})).next((function(){return bs.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return yu(t,e)},t.prototype.we=function(t,e){var n,r=hu(t),i=Ir.o;return r.$t({index:cs.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Ir.o&&e(new ci(Ja(n)),i),i=a,n=o):i=Ir.o})).next((function(){i!==Ir.o&&e(new ci(Ja(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function yu(t,e){return hu(t).put(function(t,e){return new cs(0,Za(t.path),e)}(e,t.currentSequenceNumber))}var bu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Wr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Kr(this.inner)},t}(),_u=function(){function t(){this.changes=new bu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Hr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ci.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?bs.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Su(t).put(Cu(e),n)},t.prototype.removeEntry=function(t,e){var n=Su(t),r=Cu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Su(t).get(Cu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Su(t).get(Cu(e)).next((function(t){return{document:n.ye(e,t),size:eu(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=$o();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=$o(),i=new Ko(ci.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,eu(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return bs.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Su(t).$t({range:r},(function(t,e,r){for(var a=ci.fromSegments(t);o&&ci.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=$o(),o=e.path.length+1,a={};if(n.isEqual(Hr.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=js(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=as.collectionReadTimeIndex}return Su(t).$t(a,(function(t,n,a){if(t.length===o){var s=Ds(r.R,n);e.path.isPrefixOf(s.key.path)?ao(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new ku(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Eu(t).get(ss.key).next((function(t){return Lr(!!t),t}))},t.prototype.me=function(t,e){return Eu(t).put(ss.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ds(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Hr.min()))return n}return Ci.newInvalidDocument(t)},t}(),ku=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new bu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return p(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Qo((function(t,e){return Br(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Ls(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=eu(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Ls(e.Ie.R,Ci.newNoDocument(o,Hr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),bs.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(_u);function Eu(t){return Os(t,ss.store)}function Su(t){return Os(t,as.store)}function Cu(t){return t.path.toArray()}var Iu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Lr(n<r&&n>=0&&r<=11);var o=new _s("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ts.store)}(t),function(t){t.createObjectStore(es.store,{keyPath:es.keyPath}),t.createObjectStore(ns.store,{keyPath:ns.keyPath,autoIncrement:!0}).createIndex(ns.userMutationsIndex,ns.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rs.store)}(t),Tu(t),function(t){t.createObjectStore(as.store)}(t));var a=bs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(cs.store),t.deleteObjectStore(us.store),t.deleteObjectStore(ls.store)}(t),Tu(t)),a=a.next((function(){return function(t){var e=t.store(ls.store),n=new ls(0,0,Hr.min().toTimestamp(),0);return e.put(ls.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ns.store).Nt().next((function(n){t.deleteObjectStore(ns.store),t.createObjectStore(ns.store,{keyPath:ns.keyPath,autoIncrement:!0}).createIndex(ns.userMutationsIndex,ns.userMutationsKeyPath,{unique:!0});var r=e.store(ns.store),i=n.map((function(t){return r.put(t)}));return bs.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(fs.store,{keyPath:fs.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(ss.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(as.store);e.createIndex(as.readTimeIndex,as.readTimeIndexPath,{unique:!1}),e.createIndex(as.collectionReadTimeIndex,as.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(ds.store,{keyPath:ds.keyPath})}(t),function(t){t.createObjectStore(ps.store,{keyPath:ps.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(as.store).$t((function(t,n){e+=eu(n)})).next((function(){var n=new ss(e);return t.store(ss.store).put(ss.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(es.store),r=t.store(ns.store);return n.Nt().next((function(n){return bs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ns.userMutationsIndex,i).next((function(r){return bs.forEach(r,(function(r){Lr(r.userId===n.userId);var i=zs(e.R,r);return tu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(cs.store),n=t.store(as.store);return t.store(ls.store).get(ls.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Zr(n),a=function(t){return[0,Za(t)]}(o);r.push(e.get(a).next((function(n){return n?bs.resolve():function(n){return e.put(new cs(0,Za(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return bs.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(hs.store,{keyPath:hs.keyPath});var n=e.store(hs.store),r=new Zs,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Za(i)})}};return e.store(as.store).$t({Ft:!0},(function(t,e){var n=new Zr(t);return i(n.popLast())})).next((function(){return e.store(rs.store).$t({Ft:!0},(function(t,e){var n=Ja(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(us.store);return n.$t((function(t,r){var i=qs(r),o=Vs(e.R,i);return n.put(o)}))},t}();function Tu(t){t.createObjectStore(cs.store,{keyPath:cs.keyPath}).createIndex(cs.documentTargetsIndex,cs.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(us.store,{keyPath:us.keyPath}).createIndex(us.queryTargetsIndexName,us.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ls.store)}var xu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Au=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new xr(Tr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gu(this,i),this.Le=n+"main",this.R=new Ms(u),this.Be=new ws(this.Le,11,new Iu(this.R)),this.qe=new uu(this.referenceDelegate,this.R),this.Ut=new Qs,this.Ue=function(t,e){return new wu(t,e)}(this.R,this.Ut),this.Ke=new Gs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new xr(Tr.FAILED_PRECONDITION,xu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Ir(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return v(e,void 0,void 0,(function(){return m(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return v(e,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return v(e,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ru(e).put(new fs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Ss(e))return Rr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Rr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Ou(t).get(ts.key).next((function(t){return bs.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ru(t).delete(this.clientId)},t.prototype.nn=function(){return v(this,void 0,void 0,(function(){var t,e,n,r=this;return m(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Os(t,fs.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return bs.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?bs.resolve(!0):Ou(t).get(ts.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new xr(Tr.FAILED_PRECONDITION,xu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ru(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Rr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return v(this,void 0,void 0,(function(){var t=this;return m(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ts.store,fs.store],(function(e){var n=new As(e,Ir.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ru(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return nu.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Rr("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",vs,(function(o){return r=new As(o,i.Ne?i.Ne.next():Ir.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Pr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new xr(Tr.FAILED_PRECONDITION,ms);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Ou(t).get(ts.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new xr(Tr.FAILED_PRECONDITION,xu)}))},t.prototype.Ze=function(t){var e=new ts(this.clientId,this.allowTabSynchronization,Date.now());return Ou(t).put(ts.key,e)},t.yt=function(){return ws.yt()},t.prototype.Xe=function(t){var e=this,n=Ou(t);return n.get(ts.key).next((function(t){return e.tn(t)?(Rr("IndexedDbPersistence","Releasing primary lease."),n.delete(ts.key)):bs.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Pr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(y.r)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Rr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Pr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Pr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ou(t){return Os(t,ts.store)}function Ru(t){return Os(t,fs.store)}function Pu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Nu=function(t,e){this.progress=t,this.wn=e},Mu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ci.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):$i(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ci(e)).next((function(t){var e=ea();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ea();return this.Ut.getCollectionParents(t,i).next((function(a){return bs.forEach(a,(function(a){var s=function(t,e){return new Wi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ci.newInvalidDocument(c),r=r.insert(c,l)),Ro(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){ao(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=oa(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Lo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Du=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=oa(),i=oa(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Lu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Hr.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(Zi(e)||Qi(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Or()<=b.a.DEBUG&&Rr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),oo(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Qo(so(t));return e.forEach((function(e,r){ao(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Or()<=b.a.DEBUG&&Rr("QueryEngine","Using full collection scan to execute query:",oo(e)),this.Sn.getDocumentsMatchingQuery(t,e,Hr.min())},t}(),ju=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Ko(Br),this.Fn=new bu((function(t){return xi(t)}),Ai),this.$n=Hr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Mu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Fu(t,e,n,r){return new ju(t,e,n,r)}function Uu(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o;return m(this,(function(a){switch(a.label){case 0:return n=jr(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Mu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=oa(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,m=p.mutations;v<m.length;v++)a=a.add(m[v].key)}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Bu(t,e){var n=jr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=bs.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Lr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function zu(t){var e=jr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function qu(t,e){var n=jr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Lr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=$o();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Vu(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Hr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return bs.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function Vu(t,e,n,r,i){var o=oa();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=$o();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Hr.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Rr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Hu(t,e){var n=jr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Gu(t,e){var n=jr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?bs.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Ns(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Wu(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,a;return m(this,(function(s){switch(s.label){case 0:r=jr(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Ss(a=s.sent()))throw a;return Rr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function Ku(t,e,n){var r=jr(t),i=Hr.min(),o=oa();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=jr(t),i=r.Fn.get(n);return void 0!==i?bs.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,eo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Hr.min(),n?o:oa())})).next((function(t){return{documents:t,Bn:o}}))}))}function Yu(t,e){var n=jr(t),r=jr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Zu(t){var e=jr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=jr(t),i=$o(),o=js(n),a=Su(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:as.readTimeIndex,range:s},(function(t,e){var n=Ds(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Fs(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Qu(t){return v(this,void 0,void 0,(function(){var e;return m(this,(function(n){return[2,(e=jr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Su(t),n=Hr.min();return e.$t({index:as.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Fs(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Xu(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return m(this,(function(p){switch(p.label){case 0:for(i=jr(t),o=oa(),a=$o(),s=ra(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Gu(i,function(t){return eo(Yi(Zr.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Vu(t,f,a,Hr.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Ju(t,e,n){return void 0===n&&(n=oa()),v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:return[4,Gu(t,eo(Hs(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=jr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Ea(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken($r.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var $u=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return bs.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ea(n.createTime)}),bs.resolve()},t.prototype.getNamedQuery=function(t,e){return bs.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Hs(t.bundledQuery),readTime:Ea(t.readTime)}}(e)),bs.resolve()},t}(),tc=function(){function t(){this.Wn=new Qo(ec.Gn),this.zn=new Qo(ec.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new ec(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new ec(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ci(new Zr([])),r=new ec(n,t),i=new ec(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ci(new Zr([])),n=new ec(e,t),r=new ec(e,t+1),i=oa();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new ec(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),ec=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ci.comparator(t.key,e.key)||Br(t.ns,e.ns)},t.Hn=function(t,e){return Br(t.ns,e.ns)||ci.comparator(t.key,e.key)},t}(),nc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Qo(ec.Gn)}return t.prototype.checkEmpty=function(t){return bs.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Rs(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new ec(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return bs.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return bs.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return bs.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return bs.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return bs.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new ec(e,0),i=new ec(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),bs.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Qo(Br);return e.forEach((function(t){var e=new ec(t,0),i=new ec(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),bs.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ci.isDocumentKey(i)||(i=i.child(""));var o=new ec(new ci(i),0),a=new Qo(Br);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),bs.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Lr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return bs.forEach(e.mutations,(function(i){var o=new ec(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new ec(e,0),r=this.rs.firstAfterOrEqual(n);return bs.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return bs.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),rc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ko(ci.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return bs.resolve(n?n.document.clone():Ci.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=$o();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ci.newInvalidDocument(t))})),bs.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=$o(),i=new ci(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||ao(e,u)&&(r=r.insert(u.key,u.clone()))}return bs.resolve(r)},t.prototype.fs=function(t,e){return bs.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ic(this)},t.prototype.getSize=function(t){return bs.resolve(this.size)},t}(),ic=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return p(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),bs.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(_u),oc=function(){function t(t){this.persistence=t,this.ds=new bu((function(t){return xi(t)}),Ai),this.lastRemoteSnapshotVersion=Hr.min(),this.highestTargetId=0,this.ws=0,this._s=new tc,this.targetCount=0,this.ys=su.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),bs.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return bs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return bs.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),bs.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),bs.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new su(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,bs.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),bs.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,bs.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),bs.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return bs.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return bs.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),bs.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),bs.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),bs.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return bs.resolve(n)},t.prototype.containsKey=function(t,e){return bs.resolve(this._s.containsKey(e))},t}(),ac=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ir(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new oc(this),this.Ut=new Ys,this.Ue=function(t,e){return new rc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Ms(e),this.Ke=new $u(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new nc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Rr("MemoryPersistence","Starting transaction:",t);var i=new sc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return bs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),sc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return p(e,t),e}(gs),uc=function(){function t(t){this.persistence=t,this.As=new tc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Dr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),bs.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),bs.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),bs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bs.forEach(this.vs,(function(r){var i=ci.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return bs.or([function(){return bs.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),cc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function lc(t,e){return"firestore_clients_"+t+"_"+e}function hc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function fc(t,e){return"firestore_targets_"+t+"_"+e}cc.UNAUTHENTICATED=new cc(null),cc.GOOGLE_CREDENTIALS=new cc("google-credentials-uid"),cc.FIRST_PARTY=new cc("first-party-uid"),cc.MOCK_USER=new cc("mock-user");var dc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xr(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Pr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Pr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=sa(),a=0;i&&a<r.activeTargetIds.length;++a)i=ui(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Pr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),mc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Pr("SharedClientState","Failed to parse online state: "+e),null)},t}(),gc=function(){function t(){this.activeTargetIds=sa()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),yc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ko(Br),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=lc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new gc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return v(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return m(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(lc(this.persistenceKey,r)))&&(o=vc.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(fc(this.persistenceKey,t));if(n){var r=pc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(fc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Rr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Rr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Rr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Rr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return v(e,void 0,void 0,(function(){var t,e,r,i,o,a;return m(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=Ir.o;if(null!=t)try{var n=JSON.parse(t);Lr("number"==typeof n),e=n}catch(t){Pr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ir.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new dc(this.currentUser,t,e,n),i=hc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=hc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=fc(this.persistenceKey,t),i=new pc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return vc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return dc.Vs(new cc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return pc.Vs(r,e)},t.prototype.js=function(t){return mc.Vs(t)},t.prototype.ii=function(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Rr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=sa();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),bc=function(){function t(){this.li=new gc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new gc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),_c=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Rr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Rr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),kc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ec=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Sc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return p(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new Cr;a.listenOnce(wr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case _r.NO_ERROR:var e=a.getResponseJson();Rr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case _r.TIMEOUT:Rr("Connection",'RPC "'+t+'" timed out'),o(new xr(Tr.DEADLINE_EXCEEDED,"Request time out"));break;case _r.HTTP_ERROR:var n=a.getStatus();if(Rr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Tr).indexOf(e)>=0?e:Tr.UNKNOWN}(r.status);o(new xr(s,r.message))}else o(new xr(Tr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new xr(Tr.UNAVAILABLE,"Connection failed."));break;default:Dr()}}finally{Rr("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new vr,i=ue(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Er({})),this.ki(o.initMessageHeaders,e),Object(y.o)()||Object(y.q)()||Object(y.m)()||Object(y.n)()||Object(y.s)()||Object(y.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Rr("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Ec({Ei:function(t){c?Rr("Connection","Not sending because WebChannel is closed:",t):(u||(Rr("Connection","Opening WebChannel transport."),s.open(),u=!0),Rr("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,Sr.EventType.OPEN,(function(){c||Rr("Connection","WebChannel transport opened.")})),h(s,Sr.EventType.CLOSE,(function(){c||(c=!0,Rr("Connection","WebChannel transport closed"),l.Vi())})),h(s,Sr.EventType.ERROR,(function(t){c||(c=!0,Nr("Connection","WebChannel transport errored:",t),l.Vi(new xr(Tr.UNAVAILABLE,"The operation could not be completed")))})),h(s,Sr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Lr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Rr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Bo[t];if(void 0!==e)return Wo(e)}(i),a=r.message;void 0===o&&(o=Tr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new xr(o,a)),s.close()}else Rr("Connection","WebChannel received:",n),l.Si(n)}})),h(i,kr.STAT_EVENT,(function(t){10===t.stat?Rr("Connection","Detected buffering proxy"):11===t.stat&&Rr("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Rr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return Rr("RestConnection","Received: ",t),t}),(function(e){throw Nr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+kc[t]},t}());function Cc(){return"undefined"!=typeof window?window:null}function Ic(){return"undefined"!=typeof document?document:null}function Tc(t){return new ba(t,!0)}var xc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Rr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ac=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new xc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return v(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return v(this,void 0,void 0,(function(){return m(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return v(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Tr.RESOURCE_EXHAUSTED?(Pr(e.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Tr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new xr(Tr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return v(t,void 0,void 0,(function(){return m(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Rr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Rr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Oc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return p(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Dr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Lr(void 0===e||"string"==typeof e),$r.fromBase64String(e||"")):(Lr(void 0===e||e instanceof Uint8Array),$r.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Tr.UNKNOWN:Wo(t.code);return new xr(e,t.message||"")}(s);n=new fa(r,i,o,a||null)}else if("documentChange"in e){i=Ta(t,(r=e.documentChange).document.name),o=Ea(r.document.updateTime);var s=new Ei({mapValue:{fields:r.document.fields}}),u=(a=Ci.newFoundDocument(i,o,s),r.targetIds||[]);n=new la(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=Ta(t,(r=e.documentDelete).document),o=r.readTime?Ea(r.readTime):Hr.min(),s=Ci.newNoDocument(i,o),n=new la([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Ta(t,(r=e.documentRemove).document),n=new la([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Dr();var c=e.filter;i=new Ho(r=c.count||0),n=new ha(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Hr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Hr.min():e.readTime?Ea(e.readTime):Hr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Oa(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Oi(r)?{documents:La(t,r)}:{query:ja(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=wa(t,e.resumeToken):e.snapshotVersion.compareTo(Hr.min())>0&&(n.readTime=_a(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Oa(this.R),e.removeTarget=t,this.cr(e)},e}(Ac),Rc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return p(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Lr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Lr(void 0!==e),t.map((function(t){return function(t,e){var n=Ea(t.updateTime?t.updateTime:e);return n.isEqual(Hr.min())&&(n=Ea(e)),new Io(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ea(t.commitTime);return this.listener.Tr(n,e)}return Lr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Oa(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ma(e.R,t)}))};this.cr(n)},e}(Ac),Pc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return p(e,t),e.prototype.br=function(){if(this.Rr)throw new xr(Tr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Tr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xr(Tr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Tr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new xr(Tr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Nc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Pr(e),this.Vr=!1):Rr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Mc=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return v(o,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return Vc(this)?(Rr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return v(this,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return(e=jr(t)).Or.add(4),[4,Lc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Dc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Nc(n,r)};function Dc(t){return v(this,void 0,void 0,(function(){var e,n;return m(this,(function(r){switch(r.label){case 0:if(!Vc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Lc(t){return v(this,void 0,void 0,(function(){var e,n;return m(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jc(t,e){var n=jr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),qc(n)?zc(n):il(n).er()&&Uc(n,e))}function Fc(t,e){var n=jr(t),r=il(n);n.$r.delete(e),r.er()&&Bc(n,e),0===n.$r.size&&(r.er()?r.ir():Vc(n)&&n.Br.set("Unknown"))}function Uc(t,e){t.qr.U(e.targetId),il(t).mr(e)}function Bc(t,e){t.qr.U(e),il(t).yr(e)}function zc(t){t.qr=new pa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),il(t).start(),t.Br.Sr()}function qc(t){return Vc(t)&&!il(t).tr()&&t.$r.size>0}function Vc(t){return 0===jr(t).Or.size}function Hc(t){t.qr=void 0}function Gc(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){return t.$r.forEach((function(e,n){Uc(t,e)})),[2]}))}))}function Wc(t,e){return v(this,void 0,void 0,(function(){return m(this,(function(n){return Hc(t),qc(t)?(t.Br.Nr(e),zc(t)):t.Br.set("Unknown"),[2]}))}))}function Kc(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o;return m(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof fa&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o;return m(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Rr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Yc(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof la?t.qr.X(e):e instanceof ha?t.qr.rt(e):t.qr.et(e),n.isEqual(Hr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,zu(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken($r.EMPTY_BYTE_STRING,n.snapshotVersion)),Bc(t,e);var r=new Ns(n.target,e,1,n.sequenceNumber);Uc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Rr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Yc(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Yc(t,e,n){return v(this,void 0,void 0,(function(){var r=this;return m(this,(function(i){switch(i.label){case 0:if(!Ss(e))throw e;return t.Or.add(1),[4,Lc(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return zu(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return v(r,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return Rr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Dc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Zc(t,e){return e().catch((function(n){return Yc(t,n,e)}))}function Qc(t){return v(this,void 0,void 0,(function(){var e,n,r,i,o;return m(this,(function(a){switch(a.label){case 0:e=jr(t),n=ol(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Vc(t)&&t.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Hu(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=ol(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Yc(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Xc(e)&&Jc(e),[2]}}))}))}function Xc(t){return Vc(t)&&!ol(t).tr()&&t.Fr.length>0}function Jc(t){ol(t).start()}function $c(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){return ol(t).Ar(),[2]}))}))}function tl(t){return v(this,void 0,void 0,(function(){var e,n,r;return m(this,(function(i){for(e=ol(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function el(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Ps.from(r,e,n),[4,Zc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Qc(t)];case 2:return o.sent(),[2]}}))}))}function nl(t,e){return v(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return e&&ol(t).pr?[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return Go(r=e.code)&&r!==Tr.ABORTED?(n=t.Fr.shift(),ol(t).sr(),[4,Zc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Qc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Xc(t)&&Jc(t),[2]}}))}))}function rl(t,e){return v(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:return n=jr(t),e?(n.Or.delete(2),[4,Dc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Lc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function il(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=jr(t);return r.br(),new Oc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Gc.bind(null,t),Ri:Wc.bind(null,t),_r:Kc.bind(null,t)}),t.Mr.push((function(n){return v(e,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qc(t)?zc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function ol(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=jr(t);return r.br(),new Rc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:$c.bind(null,t),Ri:nl.bind(null,t),Ir:tl.bind(null,t),Tr:el.bind(null,t)}),t.Mr.push((function(n){return v(e,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Qc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Rr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var al=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xr(Tr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function sl(t,e){if(Pr("AsyncQueue",e+": "+t),Ss(t))return new xr(Tr.UNAVAILABLE,e+": "+t);throw t}var ul=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ci.comparator(e.key,n.key)}:function(t,e){return ci.comparator(t.key,e.key)},this.keyedMap=ea(),this.sortedSet=new Ko(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),cl=function(){function t(){this.Qr=new Ko(ci.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Dr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ll=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ul.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ro(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),hl=function(){this.Wr=void 0,this.listeners=[]},fl=function(){this.queries=new bu((function(t){return io(t)}),ro),this.onlineState="Unknown",this.Gr=new Set};function dl(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return m(this,(function(c){switch(c.label){case 0:if(n=jr(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new hl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=sl(s,"Initialization of query '"+oo(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&gl(n),[2]}}))}))}function pl(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,a;return m(this,(function(s){return n=jr(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function vl(t,e){for(var n=jr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&gl(n)}function ml(t,e,n){var r=jr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function gl(t){t.Gr.forEach((function(t){t.next()}))}var yl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ll(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),bl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),_l=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ta(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Na(this.R,t.document,!1):Ci.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Ea(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new _l(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||oa()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return v(this,void 0,void 0,(function(){var t,e,n,r,i;return m(this,(function(o){switch(o.label){case 0:return[4,Xu(this.localStore,new _l(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Ju(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Nu(Object.assign({},this.progress),t))]}}))}))}}();var wl=function(t){this.key=t},kl=function(t){this.key=t},El=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=oa(),this.mutatedKeys=oa(),this.lo=so(t),this.fo=new ul(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new cl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Zi(this.query)&&i.size===this.query.limit?i.last():null,c=Qi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=ao(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Zi(this.query)||Qi(this.query))for(;a.size>this.query.limit;){var l=Zi(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new ll(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=oa(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new kl(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new wl(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=oa();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ll.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Sl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Cl=function(t){this.key=t,this.bo=!1},Il=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new bu((function(t){return io(t)}),ro),this.Vo=new Map,this.So=new Set,this.Do=new Ko(ci.comparator),this.Co=new Map,this.No=new tc,this.xo={},this.ko=new Map,this.Fo=su.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Tl(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,a;return m(this,(function(s){switch(s.label){case 0:return n=nh(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Gu(n.localStore,eo(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,xl(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&jc(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function xl(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,a,s,u,c;return m(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,a;return m(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Ku(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(zl(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Ku(t.localStore,e,!0)];case 1:return i=l.sent(),o=new El(e,i.Bn),a=o._o(i.documents),s=ca.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),zl(t,n,u.To),c=new Sl(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Al(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:return n=jr(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!ro(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Wu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Fc(n.remoteStore,r.targetId),Ul(n,r.targetId)})).catch(fu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ul(n,r.targetId),[4,Wu(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ol(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,a;return m(this,(function(s){switch(s.label){case 0:r=rh(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=jr(t),i=Vr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),oa());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Po(c,n.get(c.key));null!=l&&a.push(new Lo(c.key,l,Si(l.value.mapValue),To.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ko(Br)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hl(r,i.changes)];case 3:return s.sent(),[4,Qc(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=sl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Rl(t,e){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:n=jr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Lr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Lr(r.bo):t.removedDocuments.size>0&&(Lr(r.bo),r.bo=!1))})),[4,Hl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,fu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Pl(t,e,n){var r=jr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=jr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&gl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Nl(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,a,s,u;return m(this,(function(c){switch(c.label){case 0:return(r=jr(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Ko(ci.comparator)).insert(o,Ci.newNoDocument(o,Hr.min())),s=oa().add(o),u=new ua(Hr.min(),new Map,new Qo(Br),a,s),[4,Rl(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Vl(r),[3,4];case 2:return[4,Wu(r.localStore,e,!1).then((function(){return Ul(r,e,n)})).catch(fu)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ml(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:n=jr(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Bu(n.localStore,e)];case 2:return i=o.sent(),Fl(n,r,null),jl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hl(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,fu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dl(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:r=jr(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=jr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Lr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Fl(r,e,n),jl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hl(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,fu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ll(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,a;return m(this,(function(s){switch(s.label){case 0:Vc((n=jr(t)).remoteStore)||Rr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=jr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=sl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function jl(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function Fl(t,e,n){var r=jr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ul(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Bl(t,e)}))}function Bl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Fc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Vl(t))}function zl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof wl?(t.No.addReference(o.key,e),ql(t,o)):o instanceof kl?(Rr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Bl(t,o.key)):Dr()}}function ql(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Rr("SyncEngine","New document in limbo: "+n),t.So.add(r),Vl(t))}function Vl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ci(Zr.fromString(e)),r=t.Fo.next();t.Co.set(r,new Cl(n)),t.Do=t.Do.insert(n,r),jc(t.remoteStore,new Ns(eo(Yi(n.path)),r,2,Ir.o))}}function Hl(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,a;return m(this,(function(s){switch(s.label){case 0:return r=jr(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.Oo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Du.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return m(this,(function(l){switch(l.label){case 0:n=jr(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return bs.forEach(e,(function(e){return bs.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return bs.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Ss(r=l.sent()))throw r;return Rr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.kn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Gl(t,e){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return(n=jr(t)).currentUser.isEqual(e)?[3,3]:(Rr("SyncEngine","User change. New user:",e.toKey()),[4,Uu(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new xr(Tr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wl(t,e){var n=jr(t),r=n.Co.get(e);if(r&&r.bo)return oa().add(r.key);var i=oa(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function Kl(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:return[4,Ku((n=jr(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&zl(n,e.targetId,i.To),i)]}}))}))}function Yl(t){return v(this,void 0,void 0,(function(){var e;return m(this,(function(n){return[2,Zu((e=jr(t)).localStore).then((function(t){return Hl(e,t)}))]}))}))}function Zl(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o;return m(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=jr(t),r=jr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):bs.resolve(null)}))}))}((i=jr(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Qc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fl(i,e,r||null),jl(i,e),function(t,e){jr(jr(t)._n).Gt(e)}(i.localStore,e)):Dr(),a.label=4;case 4:return[4,Hl(i,o)];case 5:return a.sent(),[3,7];case 6:Rr("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Ql(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return m(this,(function(c){switch(c.label){case 0:return nh(n=jr(t)),rh(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Xl(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,rl(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)jc(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then((function(){return Ul(n,e),Wu(n.localStore,e,!0)})),Fc(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Xl(n,s)];case 5:return c.sent(),function(t){var e=jr(t);e.Co.forEach((function(t,n){Fc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Ko(ci.comparator)}(n),n.$o=!1,[4,rl(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Xl(t,e,n){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return m(this,(function(v){switch(v.label){case 0:n=jr(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Gu(n.localStore,eo(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Kl(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Yu(n.localStore,s)];case 8:return p=v.sent(),[4,Gu(n.localStore,p)];case 9:return u=v.sent(),[4,xl(n,Jl(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Jl(t){return Ki(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $l(t){var e=jr(t);return jr(jr(e.localStore).persistence).fn()}function th(t,e,n,r){return v(this,void 0,void 0,(function(){var i,o,a;return m(this,(function(s){switch(s.label){case 0:return(i=jr(t)).$o?(Rr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Zu(i.localStore)];case 3:return o=s.sent(),a=ua.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hl(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Wu(i.localStore,e,!0)];case 6:return s.sent(),Ul(i,e,r),[3,8];case 7:Dr(),s.label=8;case 8:return[2]}}))}))}function eh(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return m(this,(function(f){switch(f.label){case 0:if(!(r=nh(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Rr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Yu(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Gu(r.localStore,s)];case 3:return u=f.sent(),[4,xl(r,Jl(s),u.targetId,!1)];case 4:f.sent(),jc(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return m(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Wu(r.localStore,t,!1).then((function(){Fc(r.remoteStore,t),Ul(r,t)})).catch(fu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function nh(t){var e=jr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nl.bind(null,e),e.vo._r=vl.bind(null,e.eventManager),e.vo.Mo=ml.bind(null,e.eventManager),e}function rh(t){var e=jr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ml.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dl.bind(null,e),e}var ih=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return this.R=Tc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Fu(this.persistence,new Lu,t.initialUser,this.R)},t.prototype.qo=function(t){return new ac(uc.bs,this.R)},t.prototype.Bo=function(t){return new bc},t.prototype.terminate=function(){return v(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return p(e,t),e.prototype.initialize=function(e){return v(this,void 0,void 0,(function(){var n=this;return m(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Qu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,rh(this.Qo.syncEngine)];case 4:return r.sent(),[4,Qc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Fu(this.persistence,new Lu,t.initialUser,this.R)},e.prototype.Uo=function(t){return new vu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Pu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new Au(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Cc(),Ic(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new bc},e}(ih),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return p(e,t),e.prototype.initialize=function(e){return v(this,void 0,void 0,(function(){var n,r=this;return m(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof yc?(this.sharedClientState.syncEngine={ui:Zl.bind(null,n),ai:th.bind(null,n),hi:eh.bind(null,n),fn:$l.bind(null,n),ci:Yl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return v(r,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,Ql(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Cc();if(!yc.yt(e))throw new xr(Tr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new yc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(oh),sh=function(){function t(){}return t.prototype.initialize=function(t,e){return v(this,void 0,void 0,(function(){var n=this;return m(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Pl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gl.bind(null,this.syncEngine),[4,rl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new fl},t.prototype.createDatastore=function(t){var e=Tc(t.databaseInfo.databaseId),n=new Sc(t.databaseInfo);return function(t,e,n){return new Pc(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Pl(a.syncEngine,t,0)},o=wc.yt()?new wc:new _c,new Mc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Il(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return v(this,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return e=jr(t),Rr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Lc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),uh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ch=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new ys,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return v(this,void 0,void 0,(function(){return m(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return v(this,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return v(this,void 0,void 0,(function(){var t,e,n,r;return m(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new bl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return v(this,void 0,void 0,(function(){var t,e;return m(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return v(this,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return v(this,void 0,void 0,(function(){var t,e;return m(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return v(this,void 0,void 0,(function(){var e,n=this;return m(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new xr(Tr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i,o,a,s;return m(this,(function(u){switch(u.label){case 0:return n=jr(t),r=Oa(n.R)+"/documents",i={documents:e.map((function(t){return Ia(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Lr(!!e.found);var n=Ta(t,e.found.name),r=Ea(e.found.updateTime),i=new Ei({mapValue:{fields:e.found.fields}});return Ci.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Lr(!!e.missing),Lr(!!e.readTime);var n=Ta(t,e.missing),r=Ea(e.readTime);return Ci.newNoDocument(n,r)}(t,e):Dr()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Lr(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new qo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return v(this,void 0,void 0,(function(){var t,e=this;return m(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ci.fromPath(n);e.mutations.push(new Vo(r,e.precondition(r)))})),[4,function(t,e){return v(this,void 0,void 0,(function(){var n,r,i;return m(this,(function(o){switch(o.label){case 0:return n=jr(t),r=Oa(n.R)+"/documents",i={writes:e.map((function(t){return Ma(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Dr();e=Hr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new xr(Tr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?To.updateTime(e):To.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Hr.min()))throw new xr(Tr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return To.updateTime(e)}return To.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),lh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new xc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return v(t,void 0,void 0,(function(){var t,e,n=this;return m(this,(function(r){return t=new ch(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ai(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Go(e)}return!1},t}(),hh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=cc.UNAUTHENTICATED,this.clientId=Ur.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return v(r,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return Rr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return v(this,void 0,void 0,(function(){return m(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new xr(Tr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return v(t,void 0,void 0,(function(){var t,n;return m(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=sl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function fh(t,e){return v(this,void 0,void 0,(function(){var n,r,i=this;return m(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Rr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return v(i,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Uu(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function dh(t,e){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ph(t)];case 1:return n=i.sent(),Rr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return v(this,void 0,void 0,(function(){var n,r;return m(this,(function(i){switch(i.label){case 0:return(n=jr(t)).asyncQueue.verifyOperationInProgress(),Rr("RemoteStore","RemoteStore received new credentials"),r=Vc(n),n.Or.add(3),[4,Lc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Dc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function ph(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Rr("FirestoreClient","Using default OfflineComponentProvider"),[4,fh(t,new ih)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function vh(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Rr("FirestoreClient","Using default OnlineComponentProvider"),[4,dh(t,new sh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function mh(t){return ph(t).then((function(t){return t.persistence}))}function gh(t){return ph(t).then((function(t){return t.localStore}))}function yh(t){return vh(t).then((function(t){return t.remoteStore}))}function bh(t){return vh(t).then((function(t){return t.syncEngine}))}function _h(t){return v(this,void 0,void 0,(function(){var e,n;return m(this,(function(r){switch(r.label){case 0:return[4,vh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Tl.bind(null,e.syncEngine),n.onUnlisten=Al.bind(null,e.syncEngine),n)]}}))}))}function wh(t,e,n){var r=this;void 0===n&&(n={});var i=new ys;return t.asyncQueue.enqueueAndForget((function(){return v(r,void 0,void 0,(function(){var r;return m(this,(function(o){switch(o.label){case 0:return r=function(t){function e(e,n,r,i,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n,r,i){var o=new uh({next:function(o){e.enqueueAndForget((function(){return pl(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new xr(Tr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new xr(Tr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new yl(Yi(n.path),o,{includeMetadataChanges:!0,so:!0});return dl(t,a)})),[4,_h(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function kh(t,e,n){var r=this;void 0===n&&(n={});var i=new ys;return t.asyncQueue.enqueueAndForget((function(){return v(r,void 0,void 0,(function(){var r;return m(this,(function(o){switch(o.label){case 0:return r=function(t){function e(e,n,r,i,o){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n,r,i){var o=new uh({next:function(n){e.enqueueAndForget((function(){return pl(t,a)})),n.fromCache&&"server"===r.source?i.reject(new xr(Tr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new yl(n,o,{includeMetadataChanges:!0,so:!0});return dl(t,a)})),[4,_h(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Eh=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Sh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ch=new Map,Ih=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Th=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(cc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),xh=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ah=function(){function t(t){var e=this;this.currentUser=cc.UNAUTHENTICATED,this.oc=new ys,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Rr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Rr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Rr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Lr("string"==typeof n.accessToken),new Ih(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return v(n,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Lr(null===t||"string"==typeof t),new cc(t)},t}(),Oh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=cc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Rh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Oh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(cc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ph(t,e,n){if(!n)throw new xr(Tr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Nh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xr(Tr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Mh(t,e,n,r){if(!0===e&&!0===r)throw new xr(Tr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dh(t){if(!ci.isDocumentKey(t))throw new xr(Tr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Lh(t){if(ci.isDocumentKey(t))throw new xr(Tr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function jh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Dr()}function Fh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xr(Tr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jh(t);throw new xr(Tr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Uh(t,e){if(e<=0)throw new xr(Tr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Bh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xr(Tr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xr(Tr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Mh("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),zh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bh({}),this._settingsFrozen=!1,t instanceof Sh?(this._databaseId=t,this._credentials=new Th):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xr(Tr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(t.options.projectId)}(t),this._credentials=new Ah(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new xr(Tr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new xr(Tr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Th;switch(t.type){case"gapi":var e=t.client;return Lr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Rh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xr(Tr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Ch.get(this))&&(Rr("ComponentProvider","Removing Datastore"),Ch.delete(this),t.terminate()),Promise.resolve();var t},t}(),qh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Yi(r))||this)._path=r,i.type="collection",i}return p(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new qh(this.firestore,null,new ci(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Vh);function Gh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(y.i)(t),Ph("collection","path",e),t instanceof zh)return Lh(n=Zr.fromString.apply(Zr,g([e],r))),new Hh(t,null,n);if(!(t instanceof qh||t instanceof Hh))throw new xr(Tr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lh(n=Zr.fromString.apply(Zr,g([t.path],r)).child(Zr.fromString(e))),new Hh(t.firestore,null,n)}function Wh(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(y.i)(t),1===arguments.length&&(e=Ur.u()),Ph("doc","path",e),t instanceof zh)return Dh(n=Zr.fromString.apply(Zr,g([e],r))),new qh(t,null,new ci(n));if(!(t instanceof qh||t instanceof Hh))throw new xr(Tr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dh(n=t._path.child(Zr.fromString.apply(Zr,g([e],r)))),new qh(t.firestore,t instanceof Hh?t.converter:null,new ci(n))}function Kh(t,e){return t=Object(y.i)(t),e=Object(y.i)(e),(t instanceof qh||t instanceof Hh)&&(e instanceof qh||e instanceof Hh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Yh(t,e){return t=Object(y.i)(t),e=Object(y.i)(e),t instanceof Vh&&e instanceof Vh&&t.firestore===e.firestore&&ro(t._query,e._query)&&t.converter===e.converter}var Zh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new xc(this,"async_queue_retry"),this.Ic=function(){var e=Ic();e&&Rr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Ic();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Ic();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ys;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return v(this,void 0,void 0,(function(){var t,e=this;return m(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ss(t=n.sent()))throw t;return Rr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=al.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Dr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return v(this,void 0,void 0,(function(){var t;return m(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Qh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ys,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Xh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Zh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return p(e,t),e.prototype._terminate=function(){return this._firestoreClient||$h(this),this._firestoreClient.terminate()},e}(zh);function Jh(t){return t._firestoreClient||$h(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $h(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Eh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new hh(t._credentials,t._queue,r)}function tf(t,e,n){var r=this,i=new ys;return t.asyncQueue.enqueue((function(){return v(r,void 0,void 0,(function(){var r;return m(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fh(t,n)];case 1:return o.sent(),[4,dh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Tr.FAILED_PRECONDITION||t.code===Tr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ef(t){if(t._initialized||t._terminated)throw new xr(Tr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new xr(Tr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),rf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t($r.fromBase64String(e))}catch(e){throw new xr(Tr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($r.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),of=function(t){this._methodName=t},af=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new xr(Tr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xr(Tr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Br(this._lat,t._lat)||Br(this._long,t._long)},t}(),sf=/^__.*__$/,uf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Lo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Do(t,this.data,e,this.fieldTransforms)},t}(),cf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Lo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function lf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dr()}}var hf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Rf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(lf(this.Nc)&&sf.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ff=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Tc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new hf({Nc:t,methodName:e,qc:n,path:Xr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function df(t){var e=t._freezeSettings(),n=Tc(t._databaseId);return new ff(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Tf("Data must be an object, but it was:",a,r);var s,u,c=Cf(r,a);if(o.merge)s=new Jr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=xf(e,f[h],n);if(!a.contains(d))throw new xr(Tr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Pf(l,d)||l.push(d)}s=new Jr(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new uf(new Ei(c),s,u)}var vf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(of);function mf(t,e,n){return new hf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype._toFieldTransform=function(t){return new Co(t.path,new go)},e.prototype.isEqual=function(t){return t instanceof e},e}(of),yf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return p(e,t),e.prototype._toFieldTransform=function(t){var e=mf(this,t,!0),n=this.Kc.map((function(t){return Sf(t,e)})),r=new yo(n);return new Co(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(of),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return p(e,t),e.prototype._toFieldTransform=function(t){var e=mf(this,t,!0),n=this.Kc.map((function(t){return Sf(t,e)})),r=new _o(n);return new Co(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(of),_f=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return p(e,t),e.prototype._toFieldTransform=function(t){var e=new ko(t.R,ho(t.R,this.Qc));return new Co(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(of);function wf(t,e,n,r){var i=t.Uc(1,e,n);Tf("Data must be an object, but it was:",i,r);var o=[],a=Ei.empty();Wr(r,(function(t,r){var s=Of(e,t,n);r=Object(y.i)(r);var u=i.Oc(s);if(r instanceof vf)o.push(s);else{var c=Sf(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Jr(o);return new cf(a,s,i.fieldTransforms)}function kf(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[xf(e,r,n)],u=[i];if(o.length%2!=0)throw new xr(Tr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(xf(e,o[c])),u.push(o[c+1]);for(var l=[],h=Ei.empty(),f=s.length-1;f>=0;--f)if(!Pf(l,s[f])){var d=s[f],p=u[f];p=Object(y.i)(p);var v=a.Oc(d);if(p instanceof vf)l.push(d);else{var m=Sf(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new Jr(l);return new cf(h,g,a.fieldTransforms)}function Ef(t,e,n,r){return void 0===r&&(r=!1),Sf(n,t.Uc(r?4:3,e))}function Sf(t,e){if(If(t=Object(y.i)(t)))return Tf("Unsupported field value:",e,t),Cf(t,e);if(t instanceof of)return function(t,e){if(!lf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Sf(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(y.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ho(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vr.fromDate(t);return{timestampValue:_a(e.R,n)}}if(t instanceof Vr)return n=new Vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:_a(e.R,n)};if(t instanceof af)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rf)return{bytesValue:wa(e.R,t._byteString)};if(t instanceof qh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Sa(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+jh(t))}(t,e)}function Cf(t,e){var n={};return Kr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(function(t,r){var i=Sf(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function If(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vr||t instanceof af||t instanceof rf||t instanceof qh||t instanceof of)}function Tf(t,e,n){if(!If(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=jh(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function xf(t,e,n){if((e=Object(y.i)(e))instanceof nf)return e._internalPath;if("string"==typeof e)return Of(t,e);throw Rf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Af=new RegExp("[~\\*/\\[\\]]");function Of(t,e,n){if(e.search(Af)>=0)throw Rf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(nf.bind.apply(nf,g([void 0],e.split(".")))))._internalPath}catch(Pd){throw Rf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rf(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new xr(Tr.INVALID_ARGUMENT,(s+=". ")+t+u)}function Pf(t,e){return t.some((function(t){return t.isEqual(e)}))}var Nf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Mf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Df("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Nf);function Df(t,e){return"string"==typeof e?Of(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}var Lf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),jf=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return p(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Df("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Nf),Ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(jf),Uf=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Lf(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Ff(n._firestore,n._userDataWriter,r.key,r,new Lf(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xr(Tr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Ff(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Lf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ff(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Lf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Bf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Bf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dr()}}function zf(t,e){return t instanceof jf&&e instanceof jf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Uf&&e instanceof Uf&&t._firestore===e._firestore&&Yh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function qf(t){if(Qi(t)&&0===t.explicitOrderBy.length)throw new xr(Tr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vf=function(){};function Hf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Gf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return p(e,t),e.prototype._apply=function(t){var e=df(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xr(Tr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Jf(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Xf(r,t,l[c]));s={arrayValue:{values:u}}}else s=Xf(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jf(a,o),s=Ef(n,"where",a,"in"===o||"not-in"===o);var h=Ri.create(i,o,s);return function(t,e){if(e.g()){var n=Ji(t);if(null!==n&&!n.isEqual(e.field))throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Xi(t);null!==r&&$f(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new xr(Tr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Vh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Vf),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return p(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qi(e,n);return function(t,e){if(null===Xi(t)){var n=Ji(t);null!==n&&$f(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Vh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Wi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Vf),Kf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return p(e,t),e.prototype._apply=function(t){return new Vh(t.firestore,t.converter,no(t._query,this.Hc,this.Jc))},e}(Vf),Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return p(e,t),e.prototype._apply=function(t){var e=Qf(t,this.type,this.Yc,this.Xc);return new Vh(t.firestore,t.converter,function(t,e){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Vf),Zf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return p(e,t),e.prototype._apply=function(t){var e=Qf(t,this.type,this.Yc,this.Xc);return new Vh(t.firestore,t.converter,function(t,e){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Vf);function Qf(t,e,n,r){if(n[0]=Object(y.i)(n[0]),n[0]instanceof Nf)return function(t,e,n,r,i){if(!r)throw new xr(Tr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=to(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(mi(e,r.key));else{var c=r.data.field(u.field);if(ii(c))throw new xr(Tr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Bi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=df(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new xr(Tr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!$i(t)&&-1!==c.indexOf("/"))throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Zr.fromString(c));if(!ci.isDocumentKey(l))throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ci(l);s.push(mi(e,h))}else{var f=Ef(n,r,c);s.push(f)}}return new Bi(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Xf(t,e,n){if("string"==typeof(n=Object(y.i)(n))){if(""===n)throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$i(e)&&-1!==n.indexOf("/"))throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Zr.fromString(n));if(!ci.isDocumentKey(r))throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return mi(t,new ci(r))}if(n instanceof qh)return mi(t,n._key);throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+jh(n)+".")}function Jf(t,e){if(!Array.isArray(t)||0===t.length)throw new xr(Tr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new xr(Tr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function $f(t,e,n){if(!n.isEqual(e))throw new xr(Tr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var td=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),li(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ni(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ri(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Dr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Wr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new af(ni(t.latitude),ni(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return ii(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(oi(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=ei(t);return new Vr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Zr.fromString(t);Lr(Ya(n));var r=new Sh(n.get(1),n.get(3)),i=new ci(n.popFirst(5));return r.isEqual(e)||Pr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ed(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return p(e,t),e.prototype.convertBytes=function(t){return new rf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(td),rd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=df(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=id(t,this._firestore),i=ed(r.converter,e,n),o=pf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,To.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=id(t,this._firestore);return o="string"==typeof(e=Object(y.i)(e))||e instanceof nf?kf(this._dataReader,"WriteBatch.update",a._key,e,n,r):wf(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,To.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=id(t,this._firestore);return this._mutations=this._mutations.concat(new qo(e._key,To.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new xr(Tr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function id(t,e){if((t=Object(y.i)(t)).firestore!==e)throw new xr(Tr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var od=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return p(e,t),e.prototype.convertBytes=function(t){return new rf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(td);function ad(t,e,n){t=Fh(t,qh);var r=Fh(t.firestore,Xh),i=ed(t.converter,e,n);return cd(r,[pf(df(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,To.none())])}function sd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Fh(t,qh);var o=Fh(t.firestore,Xh),a=df(o);return cd(o,[("string"==typeof(e=Object(y.i)(e))||e instanceof nf?kf(a,"updateDoc",t._key,e,n,r):wf(a,"updateDoc",t._key,e)).toMutation(t._key,To.exists(!0))])}function ud(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(y.i)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Qh(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Qh(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof qh)c=Fh(t.firestore,Xh),l=Yi(t._key.path),u={next:function(e){i[s]&&i[s](ld(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Fh(t,Vh);c=Fh(d.firestore,Xh),l=d._query;var p=new od(c);u={next:function(t){i[s]&&i[s](new Uf(c,p,d,t))},error:i[s+1],complete:i[s+2]},qf(t._query)}return function(t,e,n,r){var i=this,o=new uh(r),a=new yl(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return v(i,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return e=dl,[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return v(i,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return e=pl,[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Jh(c),l,h,u)}function cd(t,e){return function(t,e){var n=this,r=new ys;return t.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return n=Ol,[4,bh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Jh(t),e)}function ld(t,e,n){var r=n.docs.get(e._key),i=new od(t);return new jf(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}var hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return p(e,t),e.prototype.get=function(e){var n=this,r=id(e,this._firestore),i=new od(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new jf(n._firestore,i,r._key,t._document,new Lf(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=df(t)}return t.prototype.get=function(t){var e=this,n=id(t,this._firestore),r=new nd(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Dr();var i=t[0];if(i.isFoundDocument())return new Nf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Nf(e._firestore,r,n._key,null,n.converter);throw Dr()}))},t.prototype.set=function(t,e,n){var r=id(t,this._firestore),i=ed(r.converter,e,n),o=pf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=id(t,this._firestore);return o="string"==typeof(e=Object(y.i)(e))||e instanceof nf?kf(this._dataReader,"Transaction.update",a._key,e,n,r):wf(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=id(t,this._firestore);return this._transaction.delete(e._key),this},t}());function fd(){if("undefined"==typeof Uint8Array)throw new xr(Tr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dd(){if("undefined"==typeof atob)throw new xr(Tr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return dd(),new t(rf.fromBase64String(e))},t.fromUint8Array=function(e){return fd(),new t(rf.fromUint8Array(e))},t.prototype.toBase64=function(){return dd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return fd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),vd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ef(t=Fh(t,Xh));var n=Jh(t),r=t._freezeSettings(),i=new sh;return tf(n,i,new oh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ef(t=Fh(t,Xh));var e=Jh(t),n=t._freezeSettings(),r=new sh;return tf(e,r,new ah(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new xr(Tr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ys;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return v(e,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return v(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return ws.yt()?[4,ws.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Pu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),md=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Sh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Nr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=Fh(t,zh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Nr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=cc.MOCK_USER;else{a=Object(y.e)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new xr(Tr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new cc(u)}t._credentials=new xh(new Ih(a,s))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return v(e,void 0,void 0,(function(){var e,n;return m(this,(function(r){switch(r.label){case 0:return[4,mh(t)];case 1:return e=r.sent(),[4,yh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=jr(t);return e.Or.delete(0),Dc(e)}(n))]}}))}))}))}(Jh(Fh(this._delegate,Xh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return v(e,void 0,void 0,(function(){var e,n;return m(this,(function(r){switch(r.label){case 0:return[4,mh(t)];case 1:return e=r.sent(),[4,yh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return v(this,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return(e=jr(t)).Or.add(0),[4,Lc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Jh(Fh(this._delegate,Xh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Mh("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ys;return t.asyncQueue.enqueueAndForget((function(){return v(e,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return e=Ll,[4,bh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Jh(Fh(this._delegate,Xh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new uh(e);return t.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return e=function(t,e){jr(t).Gr.add(e),e.next()},[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return e=function(t,e){jr(t).Gr.delete(e)},[4,_h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Jh(t=Fh(t,Xh)),Qh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new xr(Tr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Od(this,Gh(this._delegate,t))}catch(t){throw kd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new wd(this,Wh(this._delegate,t))}catch(t){throw kd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Td(this,function(t,e){if(t=Fh(t,zh),Ph("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xr(Tr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vh(t,null,function(t){return new Wi(Zr.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw kd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new ys;return t.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return[4,function(t){return vh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new lh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Jh(t),(function(n){return e(new hd(t,n))}))}(this._delegate,(function(n){return t(new yd(e,n))}))},t.prototype.batch=function(){var t=this;return Jh(this._delegate),new bd(new rd(this._delegate,(function(e){return cd(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new xr(Tr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new xr(Tr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),gd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return p(e,t),e.prototype.convertBytes=function(t){return new pd(new rf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return wd.eu(e,this.firestore,null)},e}(td),yd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gd(t)}return t.prototype.get=function(t){var e=this,n=Rd(t);return this._delegate.get(n).then((function(t){return new Cd(e._firestore,new jf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Rd(t);return n?(Nh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Rd(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,g([a,e,n],i)),this},t.prototype.delete=function(t){var e=Rd(t);return this._delegate.delete(e),this},t}(),bd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Rd(t);return n?(Nh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Rd(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,g([a,e,n],i)),this},t.prototype.delete=function(t){var e=Rd(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),_d=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Ff(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Id(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new gd(e),n),i.set(n,o)),o},t}();_d.su=new WeakMap;var wd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gd(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new xr(Tr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new qh(n._delegate,r,new ci(e)))},t.eu=function(e,n,r){return new t(n,new qh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Od(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Od(this.firestore,Gh(this._delegate,t))}catch(t){throw kd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(y.i)(t))instanceof qh&&Kh(this._delegate,t)},t.prototype.set=function(t,e){e=Nh("DocumentReference.set",e);try{return e?ad(this._delegate,t,e):ad(this._delegate,t)}catch(t){throw kd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sd(this._delegate,t):sd.apply(void 0,g([this._delegate,t,e],n))}catch(t){throw kd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return cd(Fh((t=this._delegate).firestore,Xh),[new qo(t._key,To.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ed(e),i=Sd(e,(function(e){return new Cd(t.firestore,new jf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return ud(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Fh(t,qh);var e=Fh(t.firestore,Xh),n=Jh(e),r=new od(e);return function(t,e){var n=this,r=new ys;return t.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return v(this,void 0,void 0,(function(){var r,i;return m(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=jr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new xr(Tr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=sl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,gh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new jf(e,r,t._key,n,new Lf(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Fh(t,qh);var e=Fh(t.firestore,Xh);return wh(Jh(e),t._key,{source:"server"}).then((function(n){return ld(e,t,n)}))}(this._delegate):function(t){t=Fh(t,qh);var e=Fh(t.firestore,Xh);return wh(Jh(e),t._key).then((function(n){return ld(e,t,n)}))}(this._delegate)).then((function(t){return new Cd(e.firestore,new jf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?_d.nu(this.firestore,e):null))},t}();function kd(t,e,n){return t.message=t.message.replace(e,n),t}function Ed(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Qh(r))return r}return{}}function Sd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Qh(t[0])?t[0]:Qh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Cd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new wd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return zf(this._delegate,t._delegate)},t}(),Id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Cd),Td=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Hf(this._delegate,function(t,e,n){var r=e,i=Df("where",t);return new Gf(i,r,n)}(e,n,r)))}catch(e){throw kd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Hf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Df("orderBy",t);return new Wf(r,n)}(e,n)))}catch(e){throw kd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Uh("limit",t),new Kf("limit",t,"F")}(e)))}catch(e){throw kd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Uh("limitToLast",t),new Kf("limitToLast",t,"L")}(e)))}catch(e){throw kd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yf("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw kd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yf("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw kd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zf("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw kd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zf("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw kd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Yh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Fh(t,Vh);var e=Fh(t.firestore,Xh),n=Jh(e),r=new od(e);return function(t,e){var n=this,r=new ys;return t.asyncQueue.enqueueAndForget((function(){return v(n,void 0,void 0,(function(){var n;return m(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return v(this,void 0,void 0,(function(){var r,i,o,a,s;return m(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ku(t,e,!0)];case 1:return s=u.sent(),r=new El(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=sl(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,gh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Uf(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Fh(t,Vh);var e=Fh(t.firestore,Xh),n=Jh(e),r=new od(e);return kh(n,t._query,{source:"server"}).then((function(n){return new Uf(e,r,t,n)}))}(this._delegate):function(t){t=Fh(t,Vh);var e=Fh(t.firestore,Xh),n=Jh(e),r=new od(e);return qf(t._query),kh(n,t._query).then((function(n){return new Uf(e,r,t,n)}))}(this._delegate)).then((function(t){return new Ad(e.firestore,new Uf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ed(e),i=Sd(e,(function(e){return new Ad(t.firestore,new Uf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return ud(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?_d.nu(this.firestore,e):null))},t}(),xd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Id(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Ad=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Td(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Id(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new xd(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Id(n._firestore,r))}))},t.prototype.isEqual=function(t){return zf(this._delegate,t._delegate)},t}(),Od=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return p(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new wd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new wd(this.firestore,void 0===t?Wh(this._delegate):Wh(this._delegate,t))}catch(t){throw kd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Fh(t.firestore,Xh),r=Wh(t),i=ed(t.converter,e);return cd(n,[pf(df(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,To.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new wd(e.firestore,t)}))},e.prototype.isEqual=function(t){return Kh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?_d.nu(this.firestore,t):null))},e}(Td);function Rd(t){return Fh(t,qh)}var Pd,Nd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(nf.bind.apply(nf,g([void 0],t)))}return t.documentId=function(){return new t(Xr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(y.i)(t))instanceof nf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Md=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new gf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new vf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new _f("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Dd=r("/6Yf"),Ld={Firestore:md,GeoPoint:af,Timestamp:Vr,Blob:pd,Transaction:yd,WriteBatch:bd,DocumentReference:wd,DocumentSnapshot:Cd,Query:Td,QueryDocumentSnapshot:Id,QuerySnapshot:Ad,CollectionReference:Od,FieldPath:Nd,FieldValue:Md,setLogLevel:function(t){Ar.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Dd.a("firestore",(function(t){return function(t,e){return new md(t,new Xh(t,e),new vd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ld)))})(Pd=f.a),Pd.registerVersion("@firebase/firestore","2.4.1"),r.d(e,"a",(function(){return Ud}));var jd,Fd=r("dAlA"),Ud=((jd=function(){function t(e){_classCallCheck(this,t),this.firebaseService=e,this.db=this.firebaseService.firebase.firestore(),this.firestoreTimestamp=this.firebaseService.firebase.firestore.FieldValue.serverTimestamp}return _createClass(t,[{key:"createImageSource",value:function(t){var e=this.firestoreTimestamp(),n={userId:t.uid,createdAt:e,updatedAt:e};return Object(a.a)(this.db.collection("imageSources").add(n))}},{key:"createImageStream",value:function(t){var e=this.firestoreTimestamp(),n={userId:t.uid,createdAt:e,updatedAt:e};return Object(a.a)(this.db.collection("imageStreams").add(n))}},{key:"updateUser",value:function(t){var e=this.db.doc("users/"+t.uid).set(Object.assign({},t));return Object(a.a)(e).pipe(Object(c.a)((function(){return t})))}},{key:"unregisterFile",value:function(t){return i.a(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.db.doc("uploads/"+t),e.next=3,n.delete();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"insertUploadDoc",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uploads";return i.a(this,void 0,void 0,_regeneratorRuntime().mark((function n(){var r;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.firestoreTimestamp(),t.createdAt=r,t.updatedAt=r,n.next=5,this.db.collection(e).add(t);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"registerFileUploaded",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uploads";return i.a(this,void 0,void 0,_regeneratorRuntime().mark((function r(){var i;return _regeneratorRuntime().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=this.db.doc("".concat(n,"/").concat(t)),r.next=3,i.update({isUploaded:!0,uploadMeta:e});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"getUploadedFiles$",value:function(t){var e=this;return s.a.create((function(n){return e.db.collection("uploads").where("userId","==",t.uid).orderBy("updatedAt","desc").onSnapshot(n)})).pipe(Object(c.a)((function(t){return t.docs.map((function(t){return Object.assign({},t.data(),{id:t.id})}))})))}},{key:"getFilesForSource$",value:function(t){var e=this;return s.a.create((function(n){return e.db.collection("uploads").where("sourceId","==",t).orderBy("updatedAt","desc").onSnapshot(n)})).pipe(Object(c.a)((function(t){return t.docs.map((function(t){return Object.assign({},t.data(),{id:t.id})}))})))}},{key:"getFilesForStream$",value:function(t){var e=this;return s.a.create((function(n){return e.db.collection("uploads").where("sourceId","==",t).orderBy("updatedAt","desc").onSnapshot(n)})).pipe(Object(c.a)((function(t){return t.docs.map((function(t){return Object.assign({},t.data(),{id:t.id})}))})))}},{key:"getNearbyUploads$",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DRIVE",n={WALK:7*Math.pow(10,12),BIKE:7*Math.pow(10,12)*5,DRIVE:7*Math.pow(10,12)*5*40},r=Fd(n[e]),i=Fd(t.s2Id),a=[Object(o.padStart)(i.minus(r).toString(),22,"0"),Object(o.padStart)(i.add(r).toString(),22,"0")],s=this.db.collection("uploads").where("locationData.s2Id",">=",a[0]).where("locationData.s2Id","<=",a[1]),c=new u.a;return s.onSnapshot((function(t){var e=t.docs.map((function(t){return Object.assign({},t.data(),{id:t.id})}));c.next(e)})),c}},{key:"query",value:function(t){var e=this;return s.a.create((function(n){return t(e.db).onSnapshot(n)})).pipe(Object(c.a)((function(t){return t.docs.map((function(t){return Object.assign({},t.data(),{id:t.id})}))})))}},{key:"queryDoc",value:function(t){var e=this;return s.a.create((function(n){return t(e.db).onSnapshot(n)})).pipe(Object(c.a)((function(t){return Object.assign({},t.data(),{id:t.id})})))}}]),t}()).ngInjectableDef=l.Rb({factory:function(){return new jd(l.Sb(h.a))},token:jd,providedIn:"root"}),jd)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(t))}},yLV6:function(t,e,n){var r;!function(i,o,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function g(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var y=g((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),b=g((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function k(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function E(t,e){return void 0===t?e:t}function S(t,e,n){m(x(e),(function(e){t.addEventListener(e,n,!1)}))}function C(t,e,n){m(x(e),(function(e){t.removeEventListener(e,n,!1)}))}function I(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function x(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function R(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];A(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:e)in t)return r;o++}}var N=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var D="ontouchstart"in i,L=void 0!==P(i,"PointerEvent"),j=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],U=["clientX","clientY"];function B(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){k(t.options.enable,[t])&&n.handler(e)},this.init()}function z(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=q(e)),i>1&&!n.firstMultiple?n.firstMultiple=q(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=V(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=K(s,u),e.distance=W(s,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=G(e.deltaX,e.deltaY);var c,l,h=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=a?(c=a.pointers,W((l=r)[0],l[1],U)/W(c[0],c[1],U)):1,e.rotation=a?function(t,e){return K(e[1],e[0],U)+K(t[1],t[0],U)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=H(s,u,c);r=l.x,i=l.y,n=f(l.x)>f(l.y)?l.x:l.y,o=G(u,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var p=t.element;I(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function q(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:V(e),deltaX:t.deltaX,deltaY:t.deltaY}}function V(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function G(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function W(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function K(t,e,n){return n||(n=F),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(M(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function Z(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}_(Z,B,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=$,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(J="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,B,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Q[r],o=X[t.pointerType]||t.pointerType,a="touch"==o,s=A(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function rt(t,e){var n=O(t.touches),r=O(t.changedTouches);return 12&e&&(n=R(n.concat(r),"identifier",!0)),[n,r]}_(nt,B,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function at(t,e){var n=O(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=O(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return I(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[R(o.concat(s),"identifier",!0),s]:void 0}function st(){B.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new Z(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}_(ot,B,{handler:function(t){var e=it[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),_(st,B,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ut.call(this,e,n);else if(r&&lt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=P(l.style,"touchAction"),ft=void 0!==ht,dt=function(){if(!ft)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function vt(t){this.options=u({},this.defaults,t||{}),this.id=N++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function gt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){vt.apply(this,arguments)}function _t(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function kt(){vt.apply(this,arguments),this._timer=null,this._input=null}function Et(){bt.apply(this,arguments)}function St(){bt.apply(this,arguments)}function Ct(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function It(t,e){return(e=e||{}).recognizers=E(e.recognizers,It.defaults.preset),new Tt(t,e)}function Tt(t,e){var n;this.options=u({},It.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:j?ot:D?st:Z))(n,z),this.touchAction=new pt(this,this.options.touchAction),xt(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function xt(t,e){var n,r=t.element;r.style&&(m(t.options.cssProps,(function(i,o){n=P(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&dt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(T(t,"none"))return"none";var e=T(t,"pan-x"),n=T(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":T(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=T(r,"none")&&!dt.none,o=T(r,"pan-y")&&!dt["pan-y"],a=T(r,"pan-x")&&!dt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},vt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+mt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!k(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(bt,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),_(_t,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=gt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),_(kt,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(Et,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(St,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=gt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Ct,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||W(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),It.VERSION="2.0.7",It.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Et,{enable:!1}],[wt,{enable:!1},["rotate"]],[St,{direction:6}],[_t,{direction:6},["swipe"]],[Ct],[Ct,{event:"doubletap",taps:2},["tap"]],[kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Tt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(x(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(x(t),(function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&xt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(It,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Tt,Input:B,TouchAction:pt,TouchInput:ot,MouseInput:Z,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:vt,AttrRecognizer:bt,Tap:Ct,Pan:_t,Swipe:St,Pinch:wt,Rotate:Et,Press:kt,on:S,off:C,each:m,merge:b,extend:y,assign:u,inherit:_,bindFn:w,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=It,void 0===(r=(function(){return It}).call(e,n,e,t))||(t.exports=r)}(window,document)},yXDX:function(t,e,n){var r;!function(){var i=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function a(t){t&&t.blur&&t!==document.body&&t.blur()}function s(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function u(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function c(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]});else{var e,n=!1,r=(function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}).bind(this),i=function(i){if(i.target===t){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,i)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}a(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(l){}if(r)for(var i=0;i<r.length;++i){var o=r[i],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(l){}if(a&&s(a,t)){var u=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(u&&"auto"!==u||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(t){return!("absolute"!==window.getComputedStyle(t).position||"auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom||l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,r=0;e=t.removedNodes[r];++r)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),a(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(t){return!(this.pendingDialogStack.length>=(this.zIndexHigh_-this.zIndexLow_)/2-1||(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var d=f.get;f.get=function(){return u(this)?"dialog":d.call(this)};var p=f.set;f.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):p.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",(function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&u(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}}),!1);var v=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!u(this))return v.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(u(e)){t.preventDefault();var n=o(e);if(n){var r=l.formSubmitter;r&&r.form===e?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n("B9Yq")?void 0===(r=(function(){return l}).call(e,n,e,t))||(t.exports=r):"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var i,o,a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.b("app","Firebase",c),h=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.g)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.d)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.h)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.h)(e,t)},createSubscribe:a.f,ErrorFactory:a.b,deepExtend:a.h}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.k)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.p)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var y,b=p;(y=b).INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),y.registerVersion("@firebase/app","0.6.30",void 0),y.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");n("yLV6");var i=_createClass((function t(){_classCallCheck(this,t)})),o=n("iInd"),a=n("pLZG"),s=n("lJxs"),u=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.route=e,this.router=n,this.pathsWithNoNav=["photos","image-sources","pp","pp/pp-test-app"],this.navVisible$=this.router.events.pipe(Object(a.a)((function(t){return t instanceof o.d})),Object(s.a)((function(t){r.router.url.split("/").slice(1);for(var e=0;e<r.pathsWithNoNav.length;e++){var n=r.pathsWithNoNav[e].split("/"),i=r.router.url.split("/").slice(1);if(r.urlContainedBy(n,i))return!1}return!0})))}return _createClass(t,[{key:"getRouteUrl",value:function(t,e){for(var n=[];e>=0&&t.firstChild;)(t=t.firstChild).url.value[0]&&n.push(t.url.value[0].path),e--;return n.join("/")}},{key:"urlContainedBy",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}]),t}(),c=n("pMnS"),l=n("SVse"),h=r.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;color:#202124;background-color:#fff}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:flex;background-color:#3f4038;color:#fcfcf9;height:2.5rem}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .page-title-container[_ngcontent-%COMP%]{flex:0 0 auto;padding:.5rem 1.25rem;font-size:1.25rem;display:flex;align-items:center}@media only screen and (max-width:550px){[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .page-title-container[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{flex:1 1 0;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:0 3rem}@media only screen and (max-width:550px){[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]{margin:0 .25rem;justify-content:center}}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:0 1 auto;background-color:#3f4038;color:#fcfcf9;width:8rem;padding:.5rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;margin:0 .25rem;border-radius:4px 4px 0 0}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .top-nav[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]   .nav-items-container[_ngcontent-%COMP%]   .nav-item[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}"]],data:{}});function f(t){return r.Nb(0,[(t()(),r.sb(0,0,null,null,29,"div",[["class","top-nav"]],null,null,null,null,null)),(t()(),r.sb(1,0,null,null,2,"div",[["class","page-title-container"]],null,null,null,null,null)),(t()(),r.sb(2,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Lb(-1,null,["David's Page"])),(t()(),r.sb(4,0,null,null,25,"div",[["class","right-section"]],null,null,null,null,null)),(t()(),r.sb(5,0,null,null,24,"div",[["class","nav-items-container"]],null,null,null,null,null)),(t()(),r.sb(6,0,null,null,7,"div",[["class","nav-item"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,7).onClick()&&i),i}),null,null)),r.rb(7,16384,[[1,4]],0,o.m,[o.l,o.a,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.Eb(8,1),r.rb(9,1720320,null,2,o.n,[o.l,r.k,r.C,[2,o.m],[2,o.o]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Jb(603979776,1,{links:1}),r.Jb(603979776,2,{linksWithHrefs:1}),r.Eb(12,1),(t()(),r.Lb(-1,null,["Corona"])),(t()(),r.sb(14,0,null,null,7,"div",[["class","nav-item"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,15).onClick()&&i),i}),null,null)),r.rb(15,16384,[[3,4]],0,o.m,[o.l,o.a,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.Eb(16,1),r.rb(17,1720320,null,2,o.n,[o.l,r.k,r.C,[2,o.m],[2,o.o]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Jb(603979776,3,{links:1}),r.Jb(603979776,4,{linksWithHrefs:1}),r.Eb(20,1),(t()(),r.Lb(-1,null,["Projects"])),(t()(),r.sb(22,0,null,null,7,"div",[["class","nav-item"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Db(t,23).onClick()&&i),i}),null,null)),r.rb(23,16384,[[5,4]],0,o.m,[o.l,o.a,[8,null],r.C,r.k],{routerLink:[0,"routerLink"]},null),r.Eb(24,1),r.rb(25,1720320,null,2,o.n,[o.l,r.k,r.C,[2,o.m],[2,o.o]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Jb(603979776,5,{links:1}),r.Jb(603979776,6,{linksWithHrefs:1}),r.Eb(28,1),(t()(),r.Lb(-1,null,["About Me"]))],(function(t,e){var n=t(e,8,0,"/corona");t(e,7,0,n);var r=t(e,12,0,"active");t(e,9,0,r);var i=t(e,16,0,"/portfolio");t(e,15,0,i);var o=t(e,20,0,"active");t(e,17,0,o);var a=t(e,24,0,"/about-me");t(e,23,0,a);var s=t(e,28,0,"active");t(e,25,0,s)}),null)}function d(t){return r.Nb(0,[(t()(),r.hb(16777216,null,null,2,null,f)),r.rb(1,16384,null,0,l.m,[r.O,r.L],{ngIf:[0,"ngIf"]},null),r.Fb(131072,l.b,[r.h]),(t()(),r.sb(3,0,null,null,2,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),r.sb(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.rb(5,212992,null,0,o.q,[o.b,r.O,r.j,[8,null],r.h],null,null)],(function(t,e){var n=e.component;t(e,1,0,r.Mb(e,1,0,r.Db(e,2).transform(n.navVisible$))),t(e,5,0)}),null)}var p=r.ob("app-root",u,(function(t){return r.Nb(0,[(t()(),r.sb(0,0,null,null,1,"app-root",[],null,null,null,d,h)),r.rb(1,49152,null,0,u,[o.a,o.l],null,null)],null,null)}),{},{},[]),v=n("cUpR"),m=n("fDlF"),g=n("omvX"),y=n("GS7A"),b=n("7bNT"),_=n("DQLy"),w=n("Z2Br"),k=n("xpxz"),E=n("trGy"),S=n("7sJY"),C=n("GrFz"),I=n("QmNs"),T=n("YDhq"),x=n("cxyc"),A=n("7F6a"),O=function(){return n.e(26).then(n.bind(null,"HPGo")).then((function(t){return t.AboutMeModuleNgFactory}))},R=function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(10),n.e(12),n.e(0),n.e(19)]).then(n.bind(null,"j4bZ")).then((function(t){return t.PortfolioModuleNgFactory}))},P=function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(6),n.e(13),n.e(10)]).then(n.bind(null,"PJKU")).then((function(t){return t.CoronaModuleNgFactory}))},N=function(){return Promise.all([n.e(2),n.e(6),n.e(43)]).then(n.bind(null,"zK4c")).then((function(t){return t.PoeModuleNgFactory}))},M=function(){return n.e(8).then(n.bind(null,"DSOO")).then((function(t){return t.PhotoGalleryModuleNgFactory}))},D=function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,"ynwI")).then((function(t){return t.MlAppModuleNgFactory}))},L=function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(7),n.e(0),n.e(24)]).then(n.bind(null,"8oDX")).then((function(t){return t.ImageSourcesModuleNgFactory}))},j=function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"xy0U")).then((function(t){return t.PicturePiperModuleNgFactory}))},F=function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"XiDn")).then((function(t){return t.PpTestAppModuleNgFactory}))},U=_createClass((function t(){_classCallCheck(this,t)})),B=n("BaDc"),z=r.pb(i,[u],(function(t){return r.Ab([r.Bb(512,r.j,r.ab,[[8,[c.a,p]],[3,r.j],r.v]),r.Bb(5120,r.s,r.mb,[[3,r.s]]),r.Bb(4608,l.o,l.n,[r.s,[2,l.A]]),r.Bb(5120,r.ib,r.nb,[r.x]),r.Bb(5120,r.c,r.jb,[]),r.Bb(5120,r.q,r.kb,[]),r.Bb(5120,r.r,r.lb,[]),r.Bb(4608,v.b,v.k,[l.d]),r.Bb(6144,r.F,null,[v.b]),r.Bb(4608,v.e,v.g,[]),r.Bb(5120,v.c,(function(t,e,n,r,i,o,a,s){return[new v.i(t,e,n),new v.n(r),new v.m(i,o,a,s)]}),[l.d,r.x,r.z,l.d,l.d,v.e,r.bb,[2,v.f]]),r.Bb(4608,v.d,v.d,[v.c,r.x]),r.Bb(135680,v.l,v.l,[l.d]),r.Bb(4608,v.j,v.j,[v.d,v.l,r.c]),r.Bb(4608,m.a,m.e,[]),r.Bb(5120,m.c,g.e,[]),r.Bb(4608,m.b,g.d,[l.d,m.a,m.c]),r.Bb(5120,r.D,g.f,[v.j,m.b,r.x]),r.Bb(6144,v.o,null,[v.l]),r.Bb(4608,r.M,r.M,[r.x]),r.Bb(4608,y.b,g.c,[r.D,l.d]),r.Bb(5120,o.a,o.z,[o.l]),r.Bb(4608,o.e,o.e,[]),r.Bb(6144,o.g,null,[o.e]),r.Bb(135680,o.r,o.r,[o.l,r.u,r.i,r.p,o.g]),r.Bb(4608,o.f,o.f,[]),r.Bb(5120,o.E,o.w,[o.l,l.u,o.h]),r.Bb(5120,o.i,o.C,[o.A]),r.Bb(5120,r.b,(function(t){return[t]}),[o.i]),r.Bb(4608,b.a,b.a,[_.k]),r.Bb(4608,w.a,w.a,[]),r.Bb(4608,k.a,k.a,[w.a]),r.Bb(4608,E.a,E.a,[w.a]),r.Bb(4608,S.a,S.a,[b.a,k.a,E.a]),r.Bb(4608,C.a,C.a,[w.a]),r.Bb(4608,I.a,I.a,[w.a]),r.Bb(4608,T.a,T.a,[]),r.Bb(4608,x.a,x.a,[]),r.Bb(4608,A.a,A.a,[C.a,k.a]),r.Bb(1073742336,l.c,l.c,[]),r.Bb(1024,r.l,v.p,[]),r.Bb(1024,r.w,(function(){return[o.v()]}),[]),r.Bb(512,o.A,o.A,[r.p]),r.Bb(1024,r.d,(function(t,e){return[v.q(t),o.B(e)]}),[[2,r.w],o.A]),r.Bb(512,r.e,r.e,[[2,r.d]]),r.Bb(131584,r.g,r.g,[r.x,r.bb,r.p,r.l,r.j,r.e]),r.Bb(1073742336,r.f,r.f,[r.g]),r.Bb(1073742336,v.a,v.a,[[3,v.a]]),r.Bb(1073742336,g.b,g.b,[]),r.Bb(1024,o.u,o.x,[[3,o.l]]),r.Bb(512,o.t,o.c,[]),r.Bb(512,o.b,o.b,[]),r.Bb(512,l.j,l.f,[l.t,[2,l.a]]),r.Bb(512,l.i,l.i,[l.j,l.t]),r.Bb(512,r.i,r.i,[]),r.Bb(512,r.u,r.J,[r.i,[2,r.K]]),r.Bb(1024,o.j,(function(){return[[{path:"about-me",loadChildren:O},{path:"portfolio",loadChildren:R},{path:"corona",loadChildren:P},{path:"poe",loadChildren:N},{path:"photos",loadChildren:M},{path:"ml-app",loadChildren:D},{path:"image-sources",loadChildren:L},{path:"pp",loadChildren:j},{path:"pp-test-app",loadChildren:F},{path:"",pathMatch:"full",redirectTo:"portfolio"}]]}),[]),r.Bb(256,o.h,{useHash:!0,preloadingStrategy:o.e},[]),r.Bb(1024,o.l,o.y,[r.g,o.t,o.b,l.i,r.p,r.u,r.i,o.j,o.h,[2,o.s],[2,o.k]]),r.Bb(1073742336,o.p,o.p,[[2,o.u],[2,o.l]]),r.Bb(1073742336,U,U,[]),r.Bb(131584,_.a,_.a,[]),r.Bb(2048,_.h,null,[_.a]),r.Bb(256,_.J,void 0,[]),r.Bb(1024,_.d,_.Y,[_.J]),r.Bb(256,_.L,{auth:B.a},[]),r.Bb(2048,_.M,null,[_.L]),r.Bb(1024,_.c,_.V,[r.p,_.L,_.M]),r.Bb(256,_.K,_.s,[]),r.Bb(256,_.S,void 0,[]),r.Bb(1024,_.r,_.G,[_.S]),r.Bb(1024,_.T,_.C,[_.r]),r.Bb(1024,_.e,(function(t,e,n){return[_.E(t),_.D(e),_.F(n)]}),[_.T,_.T,_.T]),r.Bb(256,_.q,[],[]),r.Bb(1024,_.R,_.Z,[_.e,_.q]),r.Bb(1024,_.f,_.x,[_.K,_.R]),r.Bb(131584,_.g,_.g,[_.h,_.d,_.c,_.f]),r.Bb(2048,_.i,null,[_.g]),r.Bb(131584,_.k,_.k,[]),r.Bb(131584,_.l,_.l,[_.a,_.i,_.k,_.d]),r.Bb(2048,_.m,null,[_.l]),r.Bb(512,_.n,_.n,[_.m,_.a,_.g]),r.Bb(1024,_.I,_.ab,[[3,_.n]]),r.Bb(1024,_.U,(function(t){return[_.H(t)]}),[_.T]),r.Bb(1073742336,_.p,_.p,[_.a,_.i,_.k,_.n,[2,_.I],[2,_.U]]),r.Bb(256,b.b,b.i,[]),r.Bb(512,b.c,b.c,[r.l,b.b]),r.Bb(131584,b.f,b.f,[b.c,_.n]),r.Bb(256,b.n,[[S.a]],[]),r.Bb(1024,b.g,(function(){return[[]]}),[]),r.Bb(1024,b.o,b.k,[r.p,b.n,b.g]),r.Bb(1024,b.m,b.l,[[3,b.f],[4,b.n]]),r.Bb(1073742336,b.e,b.e,[b.c,b.f,_.n,b.o,[2,_.p],[2,_.o],[2,b.m]]),r.Bb(1073742336,i,i,[]),r.Bb(256,r.Z,!0,[]),r.Bb(256,g.a,"NoopAnimations",[])])}));Object(r.S)(),v.h().bootstrapModuleFactory(z).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new a(e,n))}}var a=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.observables,this.project))}}]),t}(),s=function(t){function e(t,n,r){var o;_classCallCheck(this,e),(o=_callSuper(this,e,[t])).observables=n,o.project=r,o.toRespond=[];var a=n.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var c=n[u];o.add(Object(i.a)(_assertThisInitialized(o),c,c,u))}return o}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(r.a)}},[[0,4]]]);