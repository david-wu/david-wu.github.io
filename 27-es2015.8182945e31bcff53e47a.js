(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{UTLn:function(n,l,o){"use strict";o.r(l);var t=o("8Y7J"),e=o("DQLy"),a=o("611t"),i=o("J0zk");class c{constructor(n){this.store=n,this.zoomLevel=3,this.viewingLocationPicker=!0,this.defaultLoc=a.a.fromLatLong(37.803,-122.271),this.nearByUploads$=this.store.pipe(Object(e.B)(i.c)),this.userLocation$=this.store.pipe(Object(e.B)(i.d))}ngOnInit(){this.store.dispatch(i.a.setNearbyImagesVisible({payload:!0}))}ngOnDestroy(){this.store.dispatch(i.a.setNearbyImagesVisible({payload:!1}))}onLocationChange(n){this.store.dispatch(i.a.setUserLocation({payload:n}))}onUseMyLocation(){this.store.dispatch(i.a.requestUserLocation())}}class u{}class s{}var r=o("pMnS"),b=o("iInd"),h=t.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}"]],data:{}});function g(n){return t.Nb(0,[(n()(),t.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.rb(1,212992,null,0,b.q,[b.b,t.O,t.j,[8,null],t.h],null,null)],(function(n,l){n(l,1,0)}),null)}function d(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-near-me",[],null,null,null,g,h)),t.rb(1,49152,null,0,u,[],null,null)],null,null)}var p=t.ob("dwu-near-me",u,d,{},{},[]),m=o("LvDl");class C{constructor(){this.locationChange=new t.m,this.debouncedLocationChange=Object(m.debounce)(()=>{this.locationChange.emit(this.location)},100)}ngOnChanges(n){n.location&&this.setMapCenter()}ngOnInit(){this.setMapCenter()}setMapCenter(){const n={lat:this.location.latitude,lng:this.location.longitude};if(this.map){const l=this.map.getCenter();l.lat()===n.lat&&l.lng()===n.lng||this.map.setCenter(n)}else this.map=new window.google.maps.Map(this.mapContainerEl.nativeElement,{zoom:13,center:n,disableDefaultUI:!0}),this.map.addListener("center_changed",()=>{const n=this.map.getCenter();this.location=a.a.fromLatLong(n.lat(),n.lng()),this.debouncedLocationChange()}),this.locationChange.emit(this.location)}}var f=t.qb({encapsulation:0,styles:[[".map-container[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function M(n){return t.Nb(0,[t.Jb(402653184,1,{mapContainerEl:0}),(n()(),t.sb(1,0,[[1,0],["mapContainerEl",1]],null,0,"div",[["class","map-container"]],null,null,null,null,null))],null,null)}class L{constructor(){this.locationChange=new t.m,this.useMyLocation=new t.m}onUseMyLocation(){this.useMyLocation.emit()}onLocationChange(n){this.location=n,this.locationChange.emit(n)}}var O=t.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{position:relative;display:block}.map-container[_ngcontent-%COMP%]{height:100%;width:100%}.use-my-location-button[_ngcontent-%COMP%]{position:absolute;top:.25rem;left:.25rem}.cross-hairs[_ngcontent-%COMP%]{position:absolute;height:24px;opacity:.8;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]],data:{}});function v(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-location-viewer",[],null,[[null,"locationChange"]],(function(n,l,o){var t=!0;return"locationChange"===l&&(t=!1!==n.component.onLocationChange(o)&&t),t}),M,f)),t.rb(1,638976,null,0,C,[],{location:[0,"location"]},{locationChange:"locationChange"}),(n()(),t.sb(2,0,null,null,1,"button",[["class","use-my-location-button"]],null,[[null,"click"]],(function(n,l,o){var t=!0;return"click"===l&&(t=!1!==n.component.onUseMyLocation()&&t),t}),null,null)),(n()(),t.Lb(-1,null,[" Use my location\n"])),(n()(),t.sb(4,0,null,null,2,"div",[["class","cross-hairs"]],null,null,null,null,null)),(n()(),t.sb(5,0,null,null,1,"div",[["class","material-icons"]],null,null,null,null,null)),(n()(),t.Lb(-1,null,[" center_focus_weak "]))],(function(n,l){n(l,1,0,l.component.location)}),null)}var w=o("SVse"),P=o("ZGeo"),_=o("bMre"),y=o("ozdi"),k=o("Xjb1"),z=t.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   dwu-location-picker[_ngcontent-%COMP%]{flex:0 0 auto;height:40%;width:100%}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;justify-content:space-between}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]{flex:1 1 0;height:28px}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]{display:inline-block;height:28px;padding:.125rem;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[_ngcontent-%COMP%]{background-color:#eae6da;border-radius:.125rem}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   dwu-zoom-level-picker[_ngcontent-%COMP%]{flex:0 0 auto;display:block;margin-right:.25rem}[_nghost-%COMP%]   dwu-image-grid[_ngcontent-%COMP%]{flex:1 1 0}"]],data:{}});function B(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"dwu-location-picker",[],null,[[null,"useMyLocation"],[null,"locationChange"]],(function(n,l,o){var t=!0,e=n.component;return"useMyLocation"===l&&(t=!1!==e.onUseMyLocation()&&t),"locationChange"===l&&(t=!1!==e.onLocationChange(o)&&t),t}),v,O)),t.rb(1,49152,null,0,L,[],{location:[0,"location"]},{locationChange:"locationChange",useMyLocation:"useMyLocation"}),t.Fb(131072,w.b,[t.h])],(function(n,l){var o=l.component;n(l,1,0,t.Mb(l,1,0,t.Db(l,2).transform(o.userLocation$))||o.defaultLoc)}),null)}function x(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"dwu-image-grid",[],null,null,null,P.b,P.a)),t.rb(1,573440,null,0,_.a,[],{files:[0,"files"],zoomLevel:[1,"zoomLevel"]},null),t.Fb(131072,w.b,[t.h])],(function(n,l){var o=l.component;n(l,1,0,t.Mb(l,1,0,t.Db(l,2).transform(o.nearByUploads$)),o.zoomLevel)}),null)}function I(n){return t.Nb(0,[(n()(),t.Lb(-1,null,[" noLocationSelectedTemplate\n"]))],null,null)}function N(n){return t.Nb(0,[(n()(),t.hb(16777216,null,null,1,null,B)),t.rb(1,16384,null,0,w.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.sb(2,0,null,null,6,"div",[["class","toolbar"]],null,null,null,null,null)),(n()(),t.sb(3,0,null,null,3,"div",[["class","left-toolbar"]],null,null,null,null,null)),(n()(),t.sb(4,0,null,null,2,"div",[["class","world-icon-container"]],null,[[null,"click"]],(function(n,l,o){var t=!0,e=n.component;return"click"===l&&(t=0!=(e.viewingLocationPicker=!e.viewingLocationPicker)&&t),t}),null,null)),(n()(),t.sb(5,0,null,null,1,"span",[["class","material-icons world-icon"]],[[2,"active",null]],null,null,null,null)),(n()(),t.Lb(-1,null,["public"])),(n()(),t.sb(7,0,null,null,1,"dwu-zoom-level-picker",[],null,[[null,"zoomLevelChange"]],(function(n,l,o){var t=!0;return"zoomLevelChange"===l&&(t=!1!==(n.component.zoomLevel=o)&&t),t}),y.b,y.a)),t.rb(8,49152,null,0,k.a,[],{zoomLevel:[0,"zoomLevel"]},{zoomLevelChange:"zoomLevelChange"}),(n()(),t.hb(16777216,null,null,2,null,x)),t.rb(10,16384,null,0,w.m,[t.O,t.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),t.Fb(131072,w.b,[t.h]),(n()(),t.hb(0,[["noLocationSelectedTemplate",2]],null,0,null,I))],(function(n,l){var o=l.component;n(l,1,0,o.viewingLocationPicker),n(l,8,0,o.zoomLevel),n(l,10,0,t.Mb(l,10,0,t.Db(l,11).transform(o.userLocation$)),t.Db(l,12))}),(function(n,l){n(l,5,0,l.component.viewingLocationPicker)}))}function U(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-near-me-grid",[],null,null,null,N,z)),t.rb(1,245760,null,0,c,[e.n],null,null)],(function(n,l){n(l,1,0)}),null)}var j=t.ob("dwu-near-me-grid",c,U,{},{},[]),D=o("uaM9"),E=o("ypqk"),q=o("SxHE"),F=o("IP0z"),J=o("/HVE"),S=o("hOhj"),T=o("Oo1w"),$=o("Tyz4");class V{}var A=o("R7F0");o.d(l,"NearMeModuleNgFactory",(function(){return H}));var H=t.pb(s,[],(function(n){return t.Ab([t.Bb(512,t.j,t.ab,[[8,[r.a,p,j]],[3,t.j],t.v]),t.Bb(4608,w.o,w.n,[t.s,[2,w.A]]),t.Bb(1073742336,w.c,w.c,[]),t.Bb(1073742336,D.a,D.a,[]),t.Bb(1073742336,E.a,E.a,[]),t.Bb(1073742336,q.a,q.a,[]),t.Bb(1073742336,F.a,F.a,[]),t.Bb(1073742336,J.b,J.b,[]),t.Bb(1073742336,S.h,S.h,[]),t.Bb(1073742336,T.a,T.a,[]),t.Bb(1073742336,$.a,$.a,[]),t.Bb(1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),t.Bb(1073742336,V,V,[]),t.Bb(1073742336,A.a,A.a,[]),t.Bb(1073742336,s,s,[]),t.Bb(1024,b.j,(function(){return[[{path:"",component:u,children:[{path:"grid",component:c},{path:"",redirectTo:"grid",pathMatch:"full"}]}]]}),[])])}))}}]);