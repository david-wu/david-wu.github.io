function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,c,u=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return u}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"5a0h":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Cfvw"),o=function(){function e(t,n,r,o){_classCallCheck(this,e),this.firestore=t,this.storage=n,this.imageProcessing=r,this.exifService=o}return _createClass(e,[{key:"getImagesForClassifier$",value:function(e){return this.firestore.query((function(t){return t.collection("ppUploads").where("imageClassifierId","==",e).orderBy("updatedAt","desc")}))}},{key:"getFilesForSource$",value:function(e){return this.firestore.query((function(t){return t.collection("ppUploads").where("sourceId","==",e).orderBy("updatedAt","desc")}))}},{key:"getResourceList$",value:function(e,t){return this.firestore.query((function(n){return n.collection(t.path).where("userId","==",e.uid).orderBy("updatedAt","desc")}))}},{key:"getResourceDoc$",value:function(e,t){return this.firestore.queryDoc((function(e){return e.doc(t.path)}))}},{key:"patchResourceDoc",value:function(e,t,n){return Object(r.a)(this.firestore.db.doc(t.path).update(n))}},{key:"createResourceDoc",value:function(e,t,n){var o=this.firestore.firestoreTimestamp(),i={userId:e.uid,createdAt:o,updatedAt:o};return Object(r.a)(this.firestore.db.collection(t.path).add(i))}},{key:"getImageSources$",value:function(e){return this.firestore.query((function(t){return t.collection("imageSources").where("userId","==",e.uid).orderBy("updatedAt","desc")}))}},{key:"getImageStreams$",value:function(e){return this.firestore.query((function(t){return t.collection("imageStreams").where("userId","==",e.uid).orderBy("updatedAt","desc")}))}}]),e}()},ISaB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("8Y7J"),o=function(){function e(){_classCallCheck(this,e),this.str="",this.strChange=new r.m,this.placeholder="Enter Text..",this.isEditing=!1,this.editStr=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.stringInput.nativeElement.addEventListener("keydown",(function(t){t&&13===t.keyCode&&e.onSaveEdit()})),this.stringInput.nativeElement.addEventListener("blur",(function(){e.str===e.editStr&&e.onCancelEdit()}))}},{key:"onEdit",value:function(){var e=this;this.editStr=this.str||"",this.isEditing=!0,setTimeout((function(){return e.stringInput.nativeElement.select()}))}},{key:"onCancelEdit",value:function(){this.isEditing=!1}},{key:"onSaveEdit",value:function(){this.str!==this.editStr&&(this.str=this.editStr,this.strChange.emit(this.editStr)),this.isEditing=!1}},{key:"onStrChange",value:function(e){this.editStr=e}},{key:"preventBlur",value:function(e){e.preventDefault()}}]),e}()},J0zk:function(e,t,n){"use strict";var r=n("qfsr");n.d(t,"a",(function(){return r.a})),n("dNPo"),n("NSPv");var o=n("qDRf");n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return o.c})),n.d(t,"d",(function(){return o.e})),n("S9X5")},UnLV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=_createClass((function e(){_classCallCheck(this,e)}))},Xjb1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("8Y7J"),o=function(){function e(){_classCallCheck(this,e),this.zoomLevelChange=new r.m,this.minZoomLevel=1,this.maxZoomLevel=6}return _createClass(e,[{key:"zoomIn",value:function(){this.zoomLevel=Math.max(this.minZoomLevel,this.zoomLevel-1),this.zoomLevelChange.emit(this.zoomLevel)}},{key:"zoomOut",value:function(){this.zoomLevel=Math.min(this.maxZoomLevel,this.zoomLevel+1),this.zoomLevelChange.emit(this.zoomLevel)}}]),e}()},Yg9u:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=_createClass((function e(){_classCallCheck(this,e)}))},c5wv:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=_createClass((function e(){_classCallCheck(this,e)}))},dW0t:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("7bNT"),o=n("DQLy"),i=n("LRne"),c=n("eIep"),u=n("JIr8"),s=n("zp1y"),l=n("5+tZ"),a=n("lJxs"),d=n("yLDM"),b=n("rUW/"),p=n("YZbJ"),f=_createClass((function e(t,n,f){var g=this;_classCallCheck(this,e),this.store$=t,this.actions$=n,this.ppService=f,this.addVisibleResourceList$=Object(r.h)((function(){return g.actions$.pipe(Object(r.j)(d.a.addVisibleResourceList),Object(s.a)(g.store$.pipe(Object(o.B)(p.d)),g.store$.pipe(Object(o.B)(b.c))),Object(l.a)((function(e){var t=_slicedToArray(e,3),n=t[0],r=t[1],o=t[2],c=n.resource;return 1===o[c.path]?g.ppService.getResourceList$(r,c).pipe(Object(a.a)((function(e){return d.a.setResourceList({resource:c,list:e})}))):Object(i.a)(d.a.setResourceList({resource:"null",list:[]}))})))})),this.addVisibleResourceDoc$=Object(r.h)((function(){return g.actions$.pipe(Object(r.j)(d.a.addVisibleResourceDoc),Object(s.a)(g.store$.pipe(Object(o.B)(p.d)),g.store$.pipe(Object(o.B)(b.b))),Object(l.a)((function(e){var t=_slicedToArray(e,3),n=t[0],r=t[1],o=t[2],c=n.resource;return 1===o[c.path]?g.ppService.getResourceDoc$(r,c).pipe(Object(a.a)((function(e){return d.a.setResourceDoc({resource:c,doc:e})}))):Object(i.a)(d.a.setResourceDoc({resource:"null",doc:void 0}))})))})),this.patchResourceDoc$=Object(r.h)((function(){return g.actions$.pipe(Object(r.j)(d.a.patchResourceDoc),Object(s.a)(g.store$.pipe(Object(o.B)(p.d))),Object(l.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],o=n.resource;return g.ppService.patchResourceDoc(r,o,n.patch).pipe(Object(a.a)((function(e){return d.a.patchResourceSuccess({resource:o})})))})))})),this.createResourceDoc$=Object(r.h)((function(){return g.actions$.pipe(Object(r.j)(d.a.createResourceDoc),Object(s.a)(g.store$.pipe(Object(o.B)(p.d))),Object(c.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],o=n.resource,c=n.patch;return r?g.ppService.createResourceDoc(r,o,c).pipe(Object(a.a)((function(e){return d.a.createResourceDocSuccess({resource:o.path})})),Object(u.a)((function(e){return Object(i.a)(d.a.createResourceDocFailure({resource:o.path}))}))):Object(i.a)(d.a.createResourceDocFailure({resource:o.path}))})))}))}))},dYoV:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("DQLy"),o=n("yLDM"),i=n("iKuT"),c=Object(r.w)(i.a,Object(r.z)(o.a.addVisibleResourceList,(function(e,t){var n=e.visibleResourceListCounts[t.resource.path];return Object.assign({},e,{visibleResourceListCounts:Object.assign({},e.visibleResourceListCounts,_defineProperty({},t.resource.path,n?n+1:1))})})),Object(r.z)(o.a.removeVisibleResourceList,(function(e,t){var n=e.visibleResourceListCounts[t.resource.path];return Object.assign({},e,{visibleResourceListCounts:Object.assign({},e.visibleResourceListCounts,_defineProperty({},t.resource.path,n?n-1:0))})})),Object(r.z)(o.a.setResourceList,(function(e,t){return Object.assign({},e,{resourceLists:Object.assign({},e.resourceLists,_defineProperty({},t.resource.path,t.list))})})),Object(r.z)(o.a.addVisibleResourceDoc,(function(e,t){var n=e.visibleResourceDocCounts[t.resource.path];return Object.assign({},e,{visibleResourceDocCounts:Object.assign({},e.visibleResourceDocCounts,_defineProperty({},t.resource.path,n?n+1:1))})})),Object(r.z)(o.a.removeVisibleResourceDoc,(function(e,t){var n=e.visibleResourceDocCounts[t.resource.path];return Object.assign({},e,{visibleResourceDocCounts:Object.assign({},e.visibleResourceDocCounts,_defineProperty({},t.resource.path,n?n-1:0))})})),Object(r.z)(o.a.setResourceDoc,(function(e,t){return Object.assign({},e,{resourceDocs:Object.assign({},e.resourceLists,_defineProperty({},t.resource.path,t.doc))})})));function u(e,t){return c(e,t)}},iKuT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={visibleResourceListCounts:{},resourceLists:{},resourceListsLoading:{},visibleResourceDocCounts:{},resourceDocs:{},resourceDocsLoading:{}}},ma4j:function(e,t,n){"use strict";var r=n("8Y7J"),o=n("s7LF");n("ISaB"),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var i=r.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:inline-block;margin-left:-.625rem;margin-top:-.25rem}.string-container[_ngcontent-%COMP%]{height:auto;padding:.25rem 0 .25rem .5rem;display:flex;align-items:center;border-radius:.25rem;border:.125rem solid transparent;cursor:pointer}.string-container.editing[_ngcontent-%COMP%], .string-container[_ngcontent-%COMP%]:hover{border-radius:.25rem;border:.125rem solid #8a9a5b}.string-container.editing[_ngcontent-%COMP%]{cursor:default}.string-container[_ngcontent-%COMP%]   .string-text-input-container[_ngcontent-%COMP%]{position:relative;height:100%;flex:0 1 auto}.string-container[_ngcontent-%COMP%]   .string-text-input-container[_ngcontent-%COMP%]   .string-text.space-maker[_ngcontent-%COMP%]{visibility:hidden}.string-container[_ngcontent-%COMP%]   .string-text-input-container[_ngcontent-%COMP%]   .string-text-input[_ngcontent-%COMP%]{border:none;outline:0;font-size:100%;padding:0;overflow:hidden;position:absolute;width:100%;height:100%}.string-container[_ngcontent-%COMP%]   .string-text[_ngcontent-%COMP%]{flex:0 1 auto;text-overflow:ellipsis;overflow:hidden}.string-container[_ngcontent-%COMP%]   .string-text.is-placeholder[_ngcontent-%COMP%]{opacity:.5}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;padding-left:.5rem;padding-right:.25rem}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{height:auto;border:none;padding:.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button.pale[_ngcontent-%COMP%]{opacity:.5}.string-container[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]   .control-icon[_ngcontent-%COMP%]{font-size:calc(100% - 3px)}.hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function c(e){return r.Nb(0,[r.Jb(402653184,1,{stringInput:0}),r.Jb(402653184,2,{editEl:0}),(e()(),r.sb(2,0,null,null,16,"div",[["class","string-container editing"]],[[2,"hidden",null]],null,null,null,null)),(e()(),r.sb(3,0,null,null,8,"div",[["class","string-text-input-container"]],null,null,null,null,null)),(e()(),r.sb(4,0,[[1,0],["stringInput",1]],null,5,"input",[["autofocus",""],["class","string-text-input"],["spellcheck","false"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0,i=e.component;return"input"===t&&(o=!1!==r.Db(e,5)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==r.Db(e,5).onTouched()&&o),"compositionstart"===t&&(o=!1!==r.Db(e,5)._compositionStart()&&o),"compositionend"===t&&(o=!1!==r.Db(e,5)._compositionEnd(n.target.value)&&o),"ngModelChange"===t&&(o=!1!==i.onStrChange(n)&&o),o}),null,null)),r.rb(5,16384,null,0,o.d,[r.C,r.k,[2,o.a]],null,null),r.Ib(1024,null,o.i,(function(e){return[e]}),[o.d]),r.rb(7,671744,null,0,o.m,[[8,null],[8,null],[8,null],[6,o.i]],{model:[0,"model"]},{update:"ngModelChange"}),r.Ib(2048,null,o.j,null,[o.m]),r.rb(9,16384,null,0,o.k,[[4,o.j]],null,null),(e()(),r.sb(10,0,null,null,1,"div",[["class","string-text space-maker"]],null,null,null,null,null)),(e()(),r.Lb(11,null,["",""])),(e()(),r.sb(12,0,null,null,6,"div",[["class","control-buttons"]],null,null,null,null,null)),(e()(),r.sb(13,0,null,null,2,"div",[["class","control-button"]],null,[[null,"click"],[null,"mousedown"]],(function(e,t,n){var r=!0,o=e.component;return"click"===t&&(r=!1!==o.onSaveEdit()&&r),"mousedown"===t&&(r=!1!==o.preventBlur(n)&&r),r}),null,null)),(e()(),r.sb(14,0,null,null,1,"span",[["class","material-icons control-icon"]],null,null,null,null,null)),(e()(),r.Lb(-1,null,[" save "])),(e()(),r.sb(16,0,null,null,2,"div",[["class","control-button"]],null,[[null,"click"],[null,"mousedown"]],(function(e,t,n){var r=!0,o=e.component;return"click"===t&&(r=!1!==o.onCancelEdit()&&r),"mousedown"===t&&(r=!1!==o.preventBlur(n)&&r),r}),null,null)),(e()(),r.sb(17,0,null,null,1,"span",[["class","material-icons control-icon"]],null,null,null,null,null)),(e()(),r.Lb(-1,null,[" cancel "])),(e()(),r.sb(19,0,null,null,6,"div",[["class","string-container"]],[[2,"hidden",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onEdit()&&r),r}),null,null)),(e()(),r.sb(20,0,null,null,1,"div",[["class","string-text"]],[[2,"is-placeholder",null]],null,null,null,null)),(e()(),r.Lb(21,null,["",""])),(e()(),r.sb(22,0,null,null,3,"div",[["class","control-buttons"]],null,null,null,null,null)),(e()(),r.sb(23,0,null,null,2,"div",[["class","control-button pale"]],null,null,null,null,null)),(e()(),r.sb(24,0,null,null,1,"span",[["class","material-icons control-icon"]],null,null,null,null,null)),(e()(),r.Lb(-1,null,[" create "]))],(function(e,t){e(t,7,0,t.component.editStr)}),(function(e,t){var n=t.component;e(t,2,0,!n.isEditing),e(t,4,0,n.placeholder,r.Db(t,9).ngClassUntouched,r.Db(t,9).ngClassTouched,r.Db(t,9).ngClassPristine,r.Db(t,9).ngClassDirty,r.Db(t,9).ngClassValid,r.Db(t,9).ngClassInvalid,r.Db(t,9).ngClassPending),e(t,11,0,n.editStr||n.placeholder),e(t,19,0,n.isEditing),e(t,20,0,!n.str),e(t,21,0,n.str||n.placeholder)}))}},ozdi:function(e,t,n){"use strict";var r=n("8Y7J");n("Xjb1"),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o=r.qb({encapsulation:0,styles:[[".zoom-icons[_ngcontent-%COMP%]{height:28px}.zoom-icons[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]{padding:.125rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.zoom-icons[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]:hover{opacity:.8}.zoom-icons[_ngcontent-%COMP%]   .zoom-icon.disabled[_ngcontent-%COMP%]{cursor:default;opacity:.25}"]],data:{}});function i(e){return r.Nb(2,[(e()(),r.sb(0,0,null,null,4,"div",[["class","zoom-icons"]],null,null,null,null,null)),(e()(),r.sb(1,0,null,null,1,"i",[["class","material-icons zoom-icon"]],[[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.zoomIn()&&r),r}),null,null)),(e()(),r.Lb(-1,null,[" zoom_in "])),(e()(),r.sb(3,0,null,null,1,"i",[["class","material-icons zoom-icon"]],[[2,"disabled",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.zoomOut()&&r),r}),null,null)),(e()(),r.Lb(-1,null,[" zoom_out "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.zoomLevel<=n.minZoomLevel),e(t,3,0,n.zoomLevel>=n.maxZoomLevel)}))}},"rUW/":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("DQLy"),o=Object(r.v)("picturePiper"),i=Object(r.y)(o,(function(e){return e.visibleResourceListCounts})),c=Object(r.y)(o,(function(e){return e.resourceLists})),u=(Object(r.y)(o,(function(e){return e.resourceListsLoading})),Object(r.y)(o,(function(e){return e.visibleResourceDocCounts})));Object(r.y)(o,(function(e){return e.resourceDocs})),Object(r.y)(o,(function(e){return e.resourceDocsLoading}))},yLDM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("DQLy"),o=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.CATEGORY="[PICTURE_PIPER]",e.addVisibleResourceList=Object(r.u)(e.CATEGORY+" ADD_VISIBLE_RESOURCE_LIST",Object(r.A)()),e.removeVisibleResourceList=Object(r.u)(e.CATEGORY+" REMOVE_VISIBLE_RESOURCE_LIST",Object(r.A)()),e.setResourceList=Object(r.u)(e.CATEGORY+" SET_RESOURCE_LIST",Object(r.A)()),e.addVisibleResourceDoc=Object(r.u)(e.CATEGORY+" ADD_VISIBLE_RESOURCE_DOC",Object(r.A)()),e.removeVisibleResourceDoc=Object(r.u)(e.CATEGORY+" REMOVE_VISIBLE_RESOURCE_DOC",Object(r.A)()),e.setResourceDoc=Object(r.u)(e.CATEGORY+" SET_RESOURCE_DOC",Object(r.A)()),e.createResourceDoc=Object(r.u)(e.CATEGORY+" CREATE_RESOURCE_DOC",Object(r.A)()),e.createResourceDocSuccess=Object(r.u)(e.CATEGORY+" CREATE_RESOURCE_DOC_SUCCESS",Object(r.A)()),e.createResourceDocFailure=Object(r.u)(e.CATEGORY+" CREATE_RESOURCE_DOC_FAILURE",Object(r.A)()),e.patchResourceDoc=Object(r.u)(e.CATEGORY+" PATCH_RESOURCE_DOC",Object(r.A)()),e.patchResourceSuccess=Object(r.u)(e.CATEGORY+" PATCH_RESOURCE_SUCCESS",Object(r.A)()),e}()}}]);