function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,_toPropertyKey(e.key),e)}}function _createClass(n,l,t){return l&&_defineProperties(n.prototype,l),t&&_defineProperties(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function _toPropertyKey(n){var l=_toPrimitive(n,"string");return"symbol"==typeof l?l:String(l)}function _toPrimitive(n,l){if("object"!=typeof n||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,l||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(n)}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{UTLn:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),o=t("DQLy"),a=t("611t"),i=t("J0zk"),c=function(){function n(l){_classCallCheck(this,n),this.store=l,this.zoomLevel=3,this.viewingLocationPicker=!0,this.defaultLoc=a.a.fromLatLong(37.803,-122.271),this.nearByUploads$=this.store.pipe(Object(o.B)(i.c)),this.userLocation$=this.store.pipe(Object(o.B)(i.d))}return _createClass(n,[{key:"ngOnInit",value:function(){this.store.dispatch(i.a.setNearbyImagesVisible({payload:!0}))}},{key:"ngOnDestroy",value:function(){this.store.dispatch(i.a.setNearbyImagesVisible({payload:!1}))}},{key:"onLocationChange",value:function(n){this.store.dispatch(i.a.setUserLocation({payload:n}))}},{key:"onUseMyLocation",value:function(){this.store.dispatch(i.a.requestUserLocation())}}]),n}(),u=_createClass((function n(){_classCallCheck(this,n)})),r=_createClass((function n(){_classCallCheck(this,n)})),s=t("pMnS"),b=t("iInd"),h=e.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}"]],data:{}});function g(n){return e.Nb(0,[(n()(),e.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.rb(1,212992,null,0,b.q,[b.b,e.O,e.j,[8,null],e.h],null,null)],(function(n,l){n(l,1,0)}),null)}var f=e.ob("dwu-near-me",u,(function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"dwu-near-me",[],null,null,null,g,h)),e.rb(1,49152,null,0,u,[],null,null)],null,null)}),{},{},[]),d=t("LvDl"),p=function(){function n(){var l=this;_classCallCheck(this,n),this.locationChange=new e.m,this.debouncedLocationChange=Object(d.debounce)((function(){l.locationChange.emit(l.location)}),100)}return _createClass(n,[{key:"ngOnChanges",value:function(n){n.location&&this.setMapCenter()}},{key:"ngOnInit",value:function(){this.setMapCenter()}},{key:"setMapCenter",value:function(){var n=this,l={lat:this.location.latitude,lng:this.location.longitude};if(this.map){var t=this.map.getCenter();t.lat()===l.lat&&t.lng()===l.lng||this.map.setCenter(l)}else this.map=new window.google.maps.Map(this.mapContainerEl.nativeElement,{zoom:13,center:l,disableDefaultUI:!0}),this.map.addListener("center_changed",(function(){var l=n.map.getCenter();n.location=a.a.fromLatLong(l.lat(),l.lng()),n.debouncedLocationChange()})),this.locationChange.emit(this.location)}}]),n}(),C=e.qb({encapsulation:0,styles:[[".map-container[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function m(n){return e.Nb(0,[e.Jb(402653184,1,{mapContainerEl:0}),(n()(),e.sb(1,0,[[1,0],["mapContainerEl",1]],null,0,"div",[["class","map-container"]],null,null,null,null,null))],null,null)}var v=function(){function n(){_classCallCheck(this,n),this.locationChange=new e.m,this.useMyLocation=new e.m}return _createClass(n,[{key:"onUseMyLocation",value:function(){this.useMyLocation.emit()}},{key:"onLocationChange",value:function(n){this.location=n,this.locationChange.emit(n)}}]),n}(),_=e.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{position:relative;display:block}.map-container[_ngcontent-%COMP%]{height:100%;width:100%}.use-my-location-button[_ngcontent-%COMP%]{position:absolute;top:.25rem;left:.25rem}.cross-hairs[_ngcontent-%COMP%]{position:absolute;height:24px;opacity:.8;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]],data:{}});function M(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"dwu-location-viewer",[],null,[[null,"locationChange"]],(function(n,l,t){var e=!0;return"locationChange"===l&&(e=!1!==n.component.onLocationChange(t)&&e),e}),m,C)),e.rb(1,638976,null,0,p,[],{location:[0,"location"]},{locationChange:"locationChange"}),(n()(),e.sb(2,0,null,null,1,"button",[["class","use-my-location-button"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onUseMyLocation()&&e),e}),null,null)),(n()(),e.Lb(-1,null,[" Use my location\n"])),(n()(),e.sb(4,0,null,null,2,"div",[["class","cross-hairs"]],null,null,null,null,null)),(n()(),e.sb(5,0,null,null,1,"div",[["class","material-icons"]],null,null,null,null,null)),(n()(),e.Lb(-1,null,[" center_focus_weak "]))],(function(n,l){n(l,1,0,l.component.location)}),null)}var y=t("SVse"),P=t("ZGeo"),O=t("bMre"),w=t("ozdi"),L=t("Xjb1"),k=e.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   dwu-location-picker[_ngcontent-%COMP%]{flex:0 0 auto;height:40%;width:100%}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;justify-content:space-between}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]{flex:1 1 0;height:28px}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]{display:inline-block;height:28px;padding:.125rem;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[_ngcontent-%COMP%]{background-color:#eae6da;border-radius:.125rem}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   dwu-zoom-level-picker[_ngcontent-%COMP%]{flex:0 0 auto;display:block;margin-right:.25rem}[_nghost-%COMP%]   dwu-image-grid[_ngcontent-%COMP%]{flex:1 1 0}"]],data:{}});function z(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,"dwu-location-picker",[],null,[[null,"useMyLocation"],[null,"locationChange"]],(function(n,l,t){var e=!0,o=n.component;return"useMyLocation"===l&&(e=!1!==o.onUseMyLocation()&&e),"locationChange"===l&&(e=!1!==o.onLocationChange(t)&&e),e}),M,_)),e.rb(1,49152,null,0,v,[],{location:[0,"location"]},{locationChange:"locationChange",useMyLocation:"useMyLocation"}),e.Fb(131072,y.b,[e.h])],(function(n,l){var t=l.component;n(l,1,0,e.Mb(l,1,0,e.Db(l,2).transform(t.userLocation$))||t.defaultLoc)}),null)}function B(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,2,"dwu-image-grid",[],null,null,null,P.b,P.a)),e.rb(1,573440,null,0,O.a,[],{files:[0,"files"],zoomLevel:[1,"zoomLevel"]},null),e.Fb(131072,y.b,[e.h])],(function(n,l){var t=l.component;n(l,1,0,e.Mb(l,1,0,e.Db(l,2).transform(t.nearByUploads$)),t.zoomLevel)}),null)}function j(n){return e.Nb(0,[(n()(),e.Lb(-1,null,[" noLocationSelectedTemplate\n"]))],null,null)}function x(n){return e.Nb(0,[(n()(),e.hb(16777216,null,null,1,null,z)),e.rb(1,16384,null,0,y.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(2,0,null,null,6,"div",[["class","toolbar"]],null,null,null,null,null)),(n()(),e.sb(3,0,null,null,3,"div",[["class","left-toolbar"]],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,2,"div",[["class","world-icon-container"]],null,[[null,"click"]],(function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=0!=(o.viewingLocationPicker=!o.viewingLocationPicker)&&e),e}),null,null)),(n()(),e.sb(5,0,null,null,1,"span",[["class","material-icons world-icon"]],[[2,"active",null]],null,null,null,null)),(n()(),e.Lb(-1,null,["public"])),(n()(),e.sb(7,0,null,null,1,"dwu-zoom-level-picker",[],null,[[null,"zoomLevelChange"]],(function(n,l,t){var e=!0;return"zoomLevelChange"===l&&(e=!1!==(n.component.zoomLevel=t)&&e),e}),w.b,w.a)),e.rb(8,49152,null,0,L.a,[],{zoomLevel:[0,"zoomLevel"]},{zoomLevelChange:"zoomLevelChange"}),(n()(),e.hb(16777216,null,null,2,null,B)),e.rb(10,16384,null,0,y.m,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.Fb(131072,y.b,[e.h]),(n()(),e.hb(0,[["noLocationSelectedTemplate",2]],null,0,null,j))],(function(n,l){var t=l.component;n(l,1,0,t.viewingLocationPicker),n(l,8,0,t.zoomLevel),n(l,10,0,e.Mb(l,10,0,e.Db(l,11).transform(t.userLocation$)),e.Db(l,12))}),(function(n,l){n(l,5,0,l.component.viewingLocationPicker)}))}var N=e.ob("dwu-near-me-grid",c,(function(n){return e.Nb(0,[(n()(),e.sb(0,0,null,null,1,"dwu-near-me-grid",[],null,null,null,x,k)),e.rb(1,245760,null,0,c,[o.n],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),I=t("uaM9"),U=t("ypqk"),E=t("SxHE"),D=t("IP0z"),S=t("/HVE"),q=t("hOhj"),T=t("Oo1w"),F=t("Tyz4"),J=_createClass((function n(){_classCallCheck(this,n)})),$=t("R7F0");t.d(l,"NearMeModuleNgFactory",(function(){return V}));var V=e.pb(r,[],(function(n){return e.Ab([e.Bb(512,e.j,e.ab,[[8,[s.a,f,N]],[3,e.j],e.v]),e.Bb(4608,y.o,y.n,[e.s,[2,y.A]]),e.Bb(1073742336,y.c,y.c,[]),e.Bb(1073742336,I.a,I.a,[]),e.Bb(1073742336,U.a,U.a,[]),e.Bb(1073742336,E.a,E.a,[]),e.Bb(1073742336,D.a,D.a,[]),e.Bb(1073742336,S.b,S.b,[]),e.Bb(1073742336,q.h,q.h,[]),e.Bb(1073742336,T.a,T.a,[]),e.Bb(1073742336,F.a,F.a,[]),e.Bb(1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),e.Bb(1073742336,J,J,[]),e.Bb(1073742336,$.a,$.a,[]),e.Bb(1073742336,r,r,[]),e.Bb(1024,b.j,(function(){return[[{path:"",component:u,children:[{path:"grid",component:c},{path:"",redirectTo:"grid",pathMatch:"full"}]}]]}),[])])}))}}]);